//==============================================================================
#define RandomRegisterSpawn 0
//==============================================================================
#if RandomRegisterSpawn == 1
new Float:SpawnRegCoords[][4] = {
	{1154.0265,-1770.2565,16.5938,359.4563},
	{-1968.6251,114.6537,27.6875,358.9739},
	{2848.4736,1290.9468,11.3906,88.0695}
};
#endif
//==============================================================================
#pragma warning disable 214
#pragma warning disable 219
#pragma warning disable 239
//==============================================================================
/*

	Обновления до открытия:
	
	    1. Изменение интерфейса инвентаря;
	    2. Изменение интерфейса крафта;
	    3. Изменение интерфейса логотипа;
	    4. Изменение интерфейса спидометра;
	    5. Изменение интерфейса захватов;
	    6. Изменение интерфейса использования анимаций;
	    7. Удаление работы "Водитель трамвая";
	    8. Создание работы "Уборщик пляжа";
	    9. Создание работы "Работник зоопарка";
		10. Создание работы "Волонтер";
		11. Изменение анимации на работе дворника и добавление объекта метлы;
		12. Изменение анимации на работе садовника и добавление объекта лейки;
		13. Создание системы подсказок;
		14. Создание помощи на каждой первоначальной работе;
		15. Создание системы автоматических остановок;
		16. Изменение системы квестов;
		17. Изменение системы ежедневных заданий;
		18. Изменение системы достижений;
		19. Изменение системы навыков;
		20. Изменение системы транспорта;
		21. Создание системы начисления денежных средств на работах после выхода, вылета из игры или смерти;
		22. Создание системы появления на месте выхода из игры;
		23. Добавление всего необходимого в базе данных;
		24. Добавление новых интерьеров и экстерьеров;
		25. Добавление новых интерьеров и экстерьеров;
		26. Настройка экономической состовляющей;
		27. Запрет на регистрацию с ПК;
		28. Возможность включения и выключения доната;
		29. Добавить /bus | /atm;
		30. Настройка Google Authenticator и E-Mail;
		31. Сократить кол-во машин в автосалоне ЛС;
		32. Система депозитов;
		33. Система пенсий;
		34. Возможность приобретения вертолетов и самолетов;

	Что необходимо сделать после открытия?
	
		1. Доделать крафт скинов.

*/
//==============================================================================
#include <a_samp>
#include <a_mysql>
#include <a_http>
#include <nex-ac_ru.lang>
#include <nex-ac>
#include <sscanf2>
#include <zcmd>
#include <mxdate>
#include <foreach>
#include <streamer>
#include <md5>
#include <AntiVehicleSpawn>
#include <TOTP>
#include <timerfix>
#include <Pawn.RakNet>
/*#include <rakcheat>*/
#include <zvehcomp>
//==============================================================================
#include "../library/defines.inc"
//==============================================================================
#include "../library/forwards.inc"
//==============================================================================
#if defined MAX_PLAYERS
#undef MAX_PLAYERS
#define MAX_PLAYERS	1000
#endif
#if MAX_VEHICLES
#undef MAX_VEHICLES
#define MAX_VEHICLES 1500
#endif
//==============================================================================
static MessageInfractions[MAX_PLAYERS];
//==============================================================================
static const MaxPassengers[27] =
{
	0x10331113, 0x11311131, 0x11331313, 0x80133301,
	0x1381F110, 0x10311103, 0x10001F10, 0x11113311,
	0x13113311, 0x31101100, 0x30001301, 0x11031311,
	0x11111331, 0x10013111, 0x01131100, 0x11111110,
	0x11100031, 0x11130221, 0x33113311, 0x11111101,
	0x33101133, 0x101001F0, 0x03133111, 0xFF11113F,
	0x13330111, 0xFF131111, 0x0000FF3F
};
//==============================================================================
#include "../library/variables.inc"
//==============================================================================
#include "../library/durak.inc"
//==============================================================================
#include "../library/accessories.inc"
//==============================================================================
#include "../library/events.inc"
//==============================================================================
#include "../library/anticheat.inc"
//==============================================================================
#include "../library/inventory.inc"
//==============================================================================
#include "../library/craft.inc"
//==============================================================================
#include "../library/market.inc"
//==============================================================================
#include "../library/functions.inc"
//==============================================================================
#include "../library/objects.inc"
//==============================================================================
/*#include "../library/antigm.pwn"*/
//==============================================================================
#include "../library/publics.inc"
//==============================================================================
main() { }
//==============================================================================
public OnGameModeInit()
{
    AntiDeAmx();
	GetServerVarAsString("bind", BindIP, sizeof(BindIP));
	mysql_log(ERROR | WARNING);
	// Подключение к базам данных;
	/*if(!strcmp(BindIP, "host", true))
	{*/
	    /*serverid = 0;*/
    SendRconCommand("hostname "#NAME_HOST);
    //SendRconCommand("password 112233");
	mysql = mysql_connect("host", "user", "pass", "db"); // Пароль от ПУ: PwkIcO1k;OW2c_jk
	//}
	if(mysql_errno(mysql) != 0) return print("Error connecting to mysql!"), GameModeExit();
	mysql_set_charset("cp1251", mysql);
	mysql_message("SET NAMES 'cp1251'");
	// Настройки сервера;
	ManualVehicleEngineAndLights();
	EnableStuntBonusForAll(0);
	/*ShowPlayerMarkers(2);*/
	DisableInteriorEnterExits();
    LimitPlayerMarkerRadius(20.0);
	SetNameTagDrawDistance(20.0);
	SendRconCommand("mapname "#NAME_MAP);
	SetGameModeText(NAME_GAMEMODE);
	gettime(ghour, gminute, gsecond);
	SetWorldTime(ghour);
	SetWeather(10);
	DefaultTime = ghour;
	DefaultWeather = 10;
	SetGravity(0.010);
	// Прорисовка объектов;
	Streamer_VisibleItems(STREAMER_TYPE_OBJECT, 900);
	/*// Общее кол-во аккаунтов для мониторинга;
    mysql_format(mysql, request, sizeof(request), "SELECT COUNT(LAST_INSERT_ID()) AS `allcount` FROM "TABLE_ACCOUNT" WHERE 1");
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "dd", -1, 27);*/
	// Загрузки;
	LoadTextDraws();
	LoadTimers();
	LoadObjects();
	LoadOthers();
	LoadMySQL();
    LoadInventoryTextDraw();
    LoadCraftTextDraw();
	// Остальное;
	LastVehicle = CreateVehicle(542, 0, 0, 0, 0, 0, 0, 0);
	DestroyVehicle(LastVehicle);
	return 1;
}
//==============================================================================
#include "../library/loading.inc"
//==============================================================================
public OnGameModeExit()
{
	print("============ [ Game Mode EXIT - START ] ============");
	KillTimer(Timer1Seconds);
	KillTimer(Timer1Minutes);
	KillTimer(Timer10Minutes);
	UnloadContent();
	print("============= [ Game Mode EXIT - END ] =============");
	mysql_close();
	return 1;
}
//==============================================================================
public OnPlayerConnect(playerid)
{
	if(playerid == INVALID_PLAYER_ID) return Kick(playerid);
	/*CheckPlayersOnline++;*/
    OnPlayerResetStats(playerid);
	new playername[32];
	GetPlayerName(playerid, playername, 32);
	format(PlayerInfo[playerid][pName], MAX_PLAYER_NAME, playername);
	if(IsLoginInvalid(playername)) return OnCheatDetected(playerid, "", 0, 51);
	if(!IsPlayerMobile(playerid))
    {
        new nick_name[32];
        format(nick_name, sizeof(nick_name), "%s[PC]", PlayerInfo[playerid][pName]);
        SetPlayerName(playerid, nick_name);
    }
    if(strfind(playername, "[PC]", true) != -1)
    {
        SendMes(playerid, COLOR_LRED, "Вы не можете авторизоваться с этим никнеймом.");
        SendMes(playerid, COLOR_LRED, "Измените его в файлах игры: settings.ini > name = Name_Surname");
        SetTimerEx("OnPlayerKick", 60, false, "d", playerid);
    }
	new pip[16], pip2[16], count = 0;
	GetPlayerIp(playerid, pip, sizeof(pip));
	foreach(new i:Player)
	{
		if(playerid == i) continue;
 		if(!IsPlayerConnected(i)) continue;
		GetPlayerIp(i, pip2, sizeof(pip));
		if(!strcmp(pip, pip2, true)) count++;
	}
	if(count >= 5) return KickWithMessage(playerid, COLOR_DARKORANGE, "Более пяти подключений с одного IP запрещены. Введите (/q)");

	#if defined __anti_godmode
	antigm_OnPlayerConnect(playerid);
	#endif

	#if defined __anti_teleport
	ResetTeleVars(playerid);
	#endif

	ResetPlayerWeapon(playerid);
	CheckBanList(playerid);
	CreateTextDraws(playerid);
	RemoveBuild(playerid);
    LoadPlayerInventoryTextDraw(playerid);
    ClearPlayerInventoryTextDraw(playerid);
    LoadPlayerCraftTextDraw(playerid);
    ClearPlayerCraftTextDraw(playerid);
	for(new i = 1; i <= TOTALGZ; i++) GangZoneShowForPlayer(playerid, GZInfo[i][id], GetGangZoneColor(i));
	SetPlayerColor(playerid, COLOR_GREY);
	format(strings, sizeof(strings), "[A] Игрок %s [%d] зашел на сервер", playername, playerid);
	SendAdminMessage(COLOR_GREY, strings, 1);
    count_player++;
    if(count_player > max_online) max_online = count_player;
    new ORM:ormid = PlayerInfo[playerid][ORMID] = orm_create(TABLE_ACCOUNT);
	orm_addvar_int(ormid, PlayerInfo[playerid][pID], "id");
	orm_addvar_string(ormid, PlayerInfo[playerid][pName], MAX_PLAYER_NAME+1, "name");
	orm_addvar_string(ormid, PlayerInfo[playerid][pPassword], 128, "password");
	orm_addvar_string(ormid, PlayerInfo[playerid][pEmail], 32, "mail");
	orm_addvar_int(ormid, PlayerInfo[playerid][pVIP], "vip");
	orm_addvar_int(ormid, PlayerInfo[playerid][pAdmin], "admin");
	orm_addvar_string(ormid, PlayerInfo[playerid][pAdminPassword], 64, "adminpassword");
	orm_addvar_int(ormid, PlayerInfo[playerid][pAdminAnswer], "adminanswer");
	orm_addvar_int(ormid, PlayerInfo[playerid][pSupport], "support");
	orm_addvar_int(ormid, PlayerInfo[playerid][pLevel], "level");
	orm_addvar_int(ormid, PlayerInfo[playerid][pExp], "exp");
	orm_addvar_int(ormid, PlayerInfo[playerid][pLaw], "law");
	orm_addvar_int(ormid, PlayerInfo[playerid][pCash], "cash");
	orm_addvar_int(ormid, PlayerInfo[playerid][pBank], "bank");
	orm_addvar_int(ormid, PlayerInfo[playerid][pBankDeposit], "bankdeposit");
	orm_addvar_int(ormid, PlayerInfo[playerid][pBankDepositLimitPut], "bankdepositlimitput");
	orm_addvar_int(ormid, PlayerInfo[playerid][pBankDepositLimitTake], "bankdepositlimittake");
	orm_addvar_int(ormid, PlayerInfo[playerid][pBankPension], "bankpension");
	orm_addvar_int(ormid, PlayerInfo[playerid][pBankPensionStatus], "bankpensionstatus");
	orm_addvar_int(ormid, PlayerInfo[playerid][pPayLimit], "paylimit");
	orm_addvar_int(ormid, PlayerInfo[playerid][pBankLimit], "banklimit");
	orm_addvar_int(ormid, PlayerInfo[playerid][pSex], "sex");
	orm_addvar_int(ormid, PlayerInfo[playerid][pSkin], "skin");
	orm_addvar_int(ormid, PlayerInfo[playerid][pFracSkin], "fracskin");
	orm_addvar_int(ormid, PlayerInfo[playerid][pFracWarn], "fracwarn");
	orm_addvar_int(ormid, PlayerInfo[playerid][pLeader], "leader");
	orm_addvar_int(ormid, PlayerInfo[playerid][pMember], "member");
	orm_addvar_int(ormid, PlayerInfo[playerid][pRank], "rank");
	orm_addvar_int(ormid, PlayerInfo[playerid][pHouse], "house");
	orm_addvar_int(ormid, PlayerInfo[playerid][pBiz], "biz");
	orm_addvar_int(ormid, PlayerInfo[playerid][pFarm], "farm");
	orm_addvar_int(ormid, PlayerInfo[playerid][pService], "service");
	orm_addvar_int(ormid, PlayerInfo[playerid][pOpeningCode], "openingcode");
	orm_addvar_int(ormid, PlayerInfo[playerid][pOpeningServer], "openingserver");
	orm_addvar_string(ormid, PlayerInfo[playerid][pDatas], 256, "data");
	orm_addvar_string(ormid, PlayerInfo[playerid][pQuestLines], 16, "questline");
	orm_addvar_string(ormid, PlayerInfo[playerid][pQuestInfos], 256, "questinfo");
	orm_addvar_string(ormid, PlayerInfo[playerid][pTasks], 256, "task");
	orm_addvar_string(ormid, PlayerInfo[playerid][pTaskUses], 32, "taskuse");
	orm_addvar_string(ormid, PlayerInfo[playerid][pAchievements], 256, "achievement");
	orm_addvar_string(ormid, PlayerInfo[playerid][pJobSkills], 256, "jobskill");
	orm_addvar_string(ormid, PlayerInfo[playerid][pJobSkillProgresss], 256, "jobskillprogress");
	orm_addvar_string(ormid, PlayerInfo[playerid][pJobSkillAccessoriess], 256, "jobskillaccessories");
	orm_addvar_int(ormid, PlayerInfo[playerid][pQuestSelect], "questselect");
	orm_addvar_int(ormid, PlayerInfo[playerid][pQuestProgress], "questprogress");
	orm_addvar_int(ormid, PlayerInfo[playerid][pBonusTime], "bonustime");
	orm_addvar_int(ormid, PlayerInfo[playerid][pBonusDays], "bonusdays");
	orm_addvar_int(ormid, PlayerInfo[playerid][pBonusToday], "bonustoday");
	orm_addvar_int(ormid, PlayerInfo[playerid][pUpdateMoneyStatus], "updatemoneystatus");
	orm_addvar_int(ormid, PlayerInfo[playerid][pUpdateMoneyTime], "updatemoneytime");
	orm_addvar_int(ormid, PlayerInfo[playerid][pFarmRank], "farmrank");
	orm_addvar_int(ormid, PlayerInfo[playerid][pFarmIDx], "farmidx");
	orm_addvar_int(ormid, PlayerInfo[playerid][pFarmSlot], "farmslot");
	orm_addvar_int(ormid, PlayerInfo[playerid][pServiceRank], "servicerank");
	orm_addvar_int(ormid, PlayerInfo[playerid][pServiceIDx], "serviceidx");
	orm_addvar_int(ormid, PlayerInfo[playerid][pServiceSlot], "serviceslot");
	orm_addvar_int(ormid, PlayerInfo[playerid][pHotel], "hotel");
	orm_addvar_int(ormid, PlayerInfo[playerid][pHotelID], "hotelid");
	orm_addvar_int(ormid, PlayerInfo[playerid][pHotelRooms], "hotelrooms");
	orm_addvar_int(ormid, PlayerInfo[playerid][pPhone], "phone");
	orm_addvar_int(ormid, PlayerInfo[playerid][pPhoneBook], "phonebook");
	orm_addvar_int(ormid, PlayerInfo[playerid][pPhoneNumber], "phonenumber");
	orm_addvar_int(ormid, PlayerInfo[playerid][pPhoneBalance], "phonebalance");
	orm_addvar_int(ormid, PlayerInfo[playerid][pFamily], "family");
	orm_addvar_int(ormid, PlayerInfo[playerid][pFamilyRank], "familyrank");
	/*orm_addvar_int(ormid, PlayerInfo[playerid][pGiftCount], "giftcount");*/
	orm_addvar_int(ormid, PlayerInfo[playerid][pWarns], "warns");
	orm_addvar_int(ormid, PlayerInfo[playerid][pBans], "bans");
	orm_addvar_int(ormid, PlayerInfo[playerid][pNews], "news");
	orm_addvar_int(ormid, PlayerInfo[playerid][pMute], "mute");
	orm_addvar_int(ormid, PlayerInfo[playerid][pPick], "pick");
	orm_addvar_int(ormid, PlayerInfo[playerid][pDuty], "duty");
	orm_addvar_float(ormid, PlayerInfo[playerid][pHealth], "health");
	orm_addvar_int(ormid, PlayerInfo[playerid][pSatiety], "satiety");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][0], "inventory_items_0");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][1], "inventory_items_1");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][2], "inventory_items_2");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][3], "inventory_items_3");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][4], "inventory_items_4");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][5], "inventory_items_5");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][6], "inventory_items_6");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][7], "inventory_items_7");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][8], "inventory_items_8");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][9], "inventory_items_9");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][10], "inventory_items_10");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][11], "inventory_items_11");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][12], "inventory_items_12");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][13], "inventory_items_13");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][14], "inventory_items_14");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][15], "inventory_items_15");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][16], "inventory_items_16");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][17], "inventory_items_17");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][18], "inventory_items_18");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][19], "inventory_items_19");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][20], "inventory_items_20");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][21], "inventory_items_21");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][22], "inventory_items_22");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][23], "inventory_items_23");
	orm_addvar_int(ormid, PlayerInfo[playerid][pInventoryItems][24], "inventory_items_24");
	orm_addvar_string(ormid, BinderInfo[playerid][0], 144, "binder_info_0");
	orm_addvar_string(ormid, BinderInfo[playerid][1], 144, "binder_info_1");
	orm_addvar_string(ormid, BinderInfo[playerid][2], 144, "binder_info_2");
	orm_addvar_string(ormid, BinderInfo[playerid][3], 144, "binder_info_3");
	orm_addvar_string(ormid, BinderInfo[playerid][4], 144, "binder_info_4");
	orm_addvar_string(ormid, BinderInfo[playerid][5], 144, "binder_info_5");
	orm_addvar_string(ormid, BinderInfo[playerid][6], 144, "binder_info_6");
	orm_addvar_string(ormid, BinderInfo[playerid][7], 144, "binder_info_7");
	orm_addvar_string(ormid, BinderInfo[playerid][8], 144, "binder_info_8");
	orm_addvar_string(ormid, BinderInfo[playerid][9], 144, "binder_info_9");
	orm_addvar_string(ormid, BinderInfo[playerid][10], 144, "binder_info_10");
	orm_addvar_string(ormid, BinderInfo[playerid][11], 144, "binder_info_11");
	orm_addvar_string(ormid, BinderInfo[playerid][12], 144, "binder_info_12");
	orm_addvar_string(ormid, BinderInfo[playerid][13], 144, "binder_info_13");
	orm_addvar_string(ormid, BinderInfo[playerid][14], 144, "binder_info_14");
	orm_addvar_string(ormid, BinderInfo[playerid][15], 144, "binder_info_15");
	orm_addvar_string(ormid, BinderInfo[playerid][16], 144, "binder_info_16");
	orm_addvar_string(ormid, BinderInfo[playerid][17], 144, "binder_info_17");
	orm_addvar_string(ormid, BinderInfo[playerid][18], 144, "binder_info_18");
	orm_addvar_string(ormid, BinderInfo[playerid][19], 144, "binder_info_19");
	orm_addvar_int(ormid, PlayerInfo[playerid][pTOPExp], "topexp");
	orm_addvar_int(ormid, PlayerInfo[playerid][pTOPSalary], "topsalary");
	orm_addvar_int(ormid, PlayerInfo[playerid][pTOPTask], "toptask");
	orm_addvar_int(ormid, PlayerInfo[playerid][pTOPQuest], "topquest");
	orm_addvar_int(ormid, PlayerInfo[playerid][pTOPAchievement], "topachievement");
	orm_addvar_int(ormid, PlayerInfo[playerid][pTime], "time");
	orm_addvar_int(ormid, PlayerInfo[playerid][pTimeToday], "timetoday");
	orm_addvar_int(ormid, PlayerInfo[playerid][pTimeYesterday], "timeyesterday");
	orm_addvar_int(ormid, PlayerInfo[playerid][pAFKToday], "afktoday");
	orm_addvar_int(ormid, PlayerInfo[playerid][pAFKYesterday], "afkyesterday");
	orm_addvar_int(ormid, PlayerInfo[playerid][pMedicalCard], "medicalcard");
	orm_addvar_int(ormid, PlayerInfo[playerid][pAddictionLimit], "addictionlimit");
	orm_addvar_int(ormid, PlayerInfo[playerid][pJob], "job");
	orm_addvar_int(ormid, PlayerInfo[playerid][pJail], "jail");
	orm_addvar_int(ormid, PlayerInfo[playerid][pJailTime], "jailtime");
	orm_addvar_int(ormid, PlayerInfo[playerid][pHospital], "hospital");
	orm_addvar_int(ormid, PlayerInfo[playerid][pWanted], "wanted");
	orm_addvar_string(ormid, PlayerInfo[playerid][pMarried], 32, "married");
	orm_addvar_int(ormid, PlayerInfo[playerid][pPayCheck], "paycheck");
	orm_addvar_int(ormid, PlayerInfo[playerid][pSpawnChange], "spawnchange");
	/*orm_addvar_int(ormid, PlayerInfo[playerid][pForce], "force");
	orm_addvar_int(ormid, PlayerInfo[playerid][pForceProgress], "forceprogress");
	orm_addvar_int(ormid, PlayerInfo[playerid][pStyleStyde], "stylestyde");
	orm_addvar_int(ormid, PlayerInfo[playerid][pStyleProgress], "styleprogress");
	orm_addvar_string(ormid, PlayerInfo[playerid][pStyles], 32, "styles");*/
	orm_addvar_int(ormid, PlayerInfo[playerid][pWarn], "warn");
	orm_addvar_string(ormid, PlayerInfo[playerid][pWarnReason], 32, "warnreason");
	orm_addvar_int(ormid, PlayerInfo[playerid][pWarnTime], "warntime");
	orm_addvar_int(ormid, PlayerInfo[playerid][pDonateMoney], "donate");
	orm_addvar_int(ormid, PlayerInfo[playerid][pDonateTotal], "donatetotal");
	orm_addvar_string(ormid, PlayerInfo[playerid][pReferral], 32, "referral");
	orm_addvar_int(ormid, PlayerInfo[playerid][pReferralCount], "referralcount");
	orm_addvar_int(ormid, PlayerInfo[playerid][pReferralMoney], "referralmoney");
	orm_addvar_string(ormid, PlayerInfo[playerid][pPromocode], 32, "promocode");
	orm_addvar_string(ormid, PlayerInfo[playerid][pAccessoriess], 128, "accessories");
	orm_addvar_string(ormid, PlayerInfo[playerid][pAccessoriesUses], 128, "accessoriesuse");
	orm_addvar_string(ormid, PlayerInfo[playerid][pLics], 16, "lic");
	/*orm_addvar_string(ormid, PlayerInfo[playerid][pSkills], 32, "skill");*/
	orm_addvar_string(ormid, PlayerInfo[playerid][pGuns], 64, "guns");
	orm_addvar_string(ormid, PlayerInfo[playerid][pWeapons], 128, "weapons");
	orm_addvar_string(ormid, PlayerInfo[playerid][pDiseases], 32, "disease");
	orm_addvar_string(ormid, PlayerInfo[playerid][pTexts], 20, "text");
	orm_addvar_string(ormid, PlayerInfo[playerid][pAdminSettings], 64, "adminsettings");
	orm_addvar_string(ormid, PlayerInfo[playerid][pAdminDatas], 64, "admindata");
	orm_addvar_string(ormid, PlayerInfo[playerid][pAddictionInfos], 32, "addictiondata");
	orm_addvar_string(ormid, PlayerInfo[playerid][pChatSettings], 64, "chatsettings");
	orm_addvar_string(ormid, PlayerInfo[playerid][pInterfaceSettings], 32, "interfacesettings");
	orm_addvar_string(ormid, PlayerInfo[playerid][pBlackFractions], 128, "blackfraction");
	orm_addvar_string(ormid, PlayerInfo[playerid][pRespawnPoss], 64, "respawn_pos");
	orm_addvar_int(ormid, PlayerInfo[playerid][pRespawnInterior], "respawn_int");
	orm_addvar_int(ormid, PlayerInfo[playerid][pRespawnWorld], "respawn_virtual");
	orm_addvar_int(ormid, PlayerInfo[playerid][pRespawnUseHouse], "respawn_use_house");
	orm_addvar_int(ormid, PlayerInfo[playerid][pRespawnUseHotel], "respawn_use_hotel");
	orm_addvar_int(ormid, PlayerInfo[playerid][pRespawnUseHotelRooms], "respawn_use_hotelrooms");
	orm_addvar_int(ormid, PlayerInfo[playerid][pRespawnUseBiz], "respawn_use_biz");
	orm_addvar_int(ormid, PlayerInfo[playerid][pRespawnTime], "respawn_time");
	orm_addvar_int(ormid, PlayerInfo[playerid][pRespawnWeather], "respawn_weather");
	orm_addvar_int(ormid, PlayerInfo[playerid][pTest], "test");
	orm_addvar_string(ormid, PlayerInfo[playerid][pIP], 16, "ip");
	orm_addvar_string(ormid, PlayerInfo[playerid][pLastIP], 16, "lastip");
	orm_addvar_string(ormid, PlayerInfo[playerid][pLastCon], 16, "lastcon");
	orm_addvar_string(ormid, PlayerInfo[playerid][pRegIP], 16, "regip");
	orm_addvar_string(ormid, PlayerInfo[playerid][pRegData], 16, "datareg");
	orm_addvar_int(ormid, PlayerInfo[playerid][pGoogleStatus], "otp_status");
	orm_addvar_int(ormid, PlayerInfo[playerid][pGoogleType], "otp_auth_type");
	orm_addvar_string(ormid, PlayerInfo[playerid][pGoogle], 32, "otp_token");
	orm_addvar_string(ormid, PlayerInfo[playerid][pGoogleReservs], 64, "otp_reserve_codes");
	orm_setkey(ormid, "name");
	orm_select(ormid, "OnPlayerLoadData", "d", playerid);
	return 1;
}
//==============================================================================
stock GetString(string_1[], string_2[]) return (strcmp(string_1, string_2) == 0 && strlen(string_1) != 0 && strlen(string_2) != 0);
//==============================================================================
const ClientJoin = 25;
enum E_CLIENT_STRUCT
{
    iVersion, // INT32
    byteMod, // UINT8
    byteNicknameLen, // UINT8
    NickName[MAX_PLAYER_NAME], // char
    uiClientChallengeResponse, // UINT32
    byteAuthKeyLen, // UINT8
    auth_key[64], // char
    iClientVerLen, // UINT8
    ClientVersion[12] // char
};
IRPC:ClientJoin(playerid, BitStream:bs)
{
    if(playerid == -1 || playerid < 0 || playerid > 1000) return 1;
    new client_data[E_CLIENT_STRUCT];
    BS_ReadValue(
        bs,
        PR_INT32, client_data[iVersion],
        PR_UINT8, client_data[byteMod],
        PR_UINT8, client_data[byteNicknameLen],
        PR_STRING, client_data[NickName], client_data[byteNicknameLen],
        PR_UINT32, client_data[uiClientChallengeResponse],
        PR_UINT8, client_data[byteAuthKeyLen],
        PR_STRING, client_data[auth_key], client_data[byteAuthKeyLen],
        PR_UINT8, client_data[iClientVerLen],
        PR_STRING, client_data[ClientVersion], client_data[iClientVerLen]
    );

    MobileActual[playerid] = 0;

    IsMobile[playerid] = GetString(client_data[auth_key], "10B3D2B1317ADD02CC1F680BC500A8BC0FD7AD42CE7") ? true : false;

    if(GetString(client_data[auth_key], "10B3D2B1317ADD02CC1F680BC500A8BC0FD7AD42CE7")) MobileActual[playerid] = 1;
    return 1;
}

//==============================================================================
IsPlayerMobile(playerid)
{
    if(!IsPlayerConnected(playerid)) return 1;
    return _:IsMobile[playerid];
}
//==============================================================================
/*IsPlayerMobileActual(playerid) return MobileActual[playerid];*/
//==============================================================================
public OnPlayerDisconnect(playerid, reason)
{
	if(PlayerLogged[playerid] != 0) SetPlayerInt(PlayerInfo[playerid][pID], "IsOnline", 0);
    count_player--;
	/*CheckPlayersOnline--;*/
	if(PlayerInfo[playerid][pInterfaceSetting][4] == 1)
	{
		for(new i = 0; i < 11; i++) TextDrawHideForPlayer(playerid, ServerLogo[i]);
	}
	if(PlayerInfo[playerid][pInterfaceSetting][5] == 1)
	{
		for(new i = 0; i < 31; i++) PlayerTextDrawHide(playerid, Speedometer[playerid][i]);
	}
	for(new i = 0; i < 4; i++) TextDrawHideForPlayer(playerid, ClothesMain[i]);
	for(new i = 0; i < 6; i++) TextDrawHideForPlayer(playerid, ClothesButton[i]);
	for(new i = 0; i < 2; i++) PlayerTextDrawHide(playerid, ClothesInfo[playerid][i]);
	if(GetPVarInt(playerid, "CUFFED") && GetPVarInt(playerid, "PlayerCuffed") && PlayerInfo[playerid][pJail] == 0)
	{
	    ResetPlayerWeapon(playerid);
		ResetPlayerWeaponBase(playerid);
		PlayerInfo[playerid][pJail] = random(2) + 1;
		PlayerInfo[playerid][pJailTime] = 900 * PlayerInfo[playerid][pWanted];
		PlayerInfo[playerid][pWanted] = 0;
		SetPlayerWantedLevel(playerid, 0);
		if(PursiutTime[playerid] > 0) ClearPursiut(playerid);
		format(strings, sizeof(strings), "%s выш(-ла/-ел) при аресте, срок заключения был увеличен.", PlayerInfo[playerid][pName]);
		SCMTAEx(COLOR_YELLOW, strings, 6);
	}
	if(PlayerInfo[playerid][pDiceTable] != -1) ExitDice(playerid);
	if(PlayerInfo[playerid][pSlotMachine] != -1) ExitSlotMachine(playerid);
	PlayerTextDrawDestroy(playerid, PlayerDice[playerid]);
    Durak_LeaveTable(playerid);
	for(new aidx = 5; aidx < 10; aidx++) if(IsPlayerAttachedObjectSlotUsed(playerid, aidx)) RemovePlayerAttachedObject(playerid, aidx);
	if(GetPVarInt(playerid, "Kick") != 0) KillTimer(GetPVarInt(playerid, "Kick"));
	if(TimerWant[playerid] != 0) KillTimer(TimerWant[playerid]);
 	if(PlayerInfo[playerid][pVehicle] != 0)
    {
        new vehicleid = PlayerInfo[playerid][pVehicle];
		SaveVehicle(vehicleid);
	    SaveVehicleDetails(vehicleid);
		DestroyVehicleEx(vehicleid);
		PlayerInfo[playerid][pVehicle] = 0;
		PlayerInfo[playerid][pVehicleIDx] = 0;
		TOTALVEH--;
    }
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0 || GetPlayerState(i) != PLAYER_STATE_SPECTATING || SpectatePlayer[i] != playerid) continue;
		StopPlayerSpectate(i);
	}
	/*if(GetPVarType(playerid, "PlacedBB") != 0)
	{
		if(IsValidDynamicObject(GetPVarInt(playerid, "PlacedBB"))) DestroyDynamicObject(GetPVarInt(playerid, "PlacedBB"));
		if(IsValidDynamic3DTextLabel(Text3D:GetPVarInt(playerid, "BBLabel"))) DestroyDynamic3DTextLabel(Text3D:GetPVarInt(playerid, "BBLabel"));
		if(GetPVarType(playerid, "BBArea") != 0)
		{
			foreach(new i:Player)
			{
				if(IsPlayerInDynamicArea(i, GetPVarInt(playerid, "BBArea"))) StopAudioStreamForPlayer(i);
			}
		}
	}*/
	if(PlayerLogged[playerid] == 1)
	{
		new data[32];
		getdate(years, months, days);
		format(data, 32, "%02d.%02d.%04d", days, months, years);
		if(GetPVarInt(playerid, "DiffIps") == 0) format(PlayerInfo[playerid][pLastIP], 16, PlayerInfo[playerid][pIP]);
		format(PlayerInfo[playerid][pLastCon], 16, data);
	}
	if(PlayerSpawned[playerid] == 0) ResetPlayerWeaponBase(playerid);
	CancelSelectTextDraw(playerid);
	if(TaxiPassenger[playerid] != INVALID_PLAYER_ID)
	{
	    new passenger = TaxiPassenger[playerid];
		if(IsPlayerInVehicle(passenger, GetPVarInt(playerid, "RentTaxi")) && GetPlayerState(passenger) == 3)
		{
		    new salary = 50;
		    if(TaxiTime[playerid] < gettime()) salary = 600 + random(1200);
		    else if(TaxiTime[playerid]-60 < gettime()) salary = 300 + random(600);
		    else if(TaxiTime[playerid]-90 < gettime()) salary = 150 + random(300);
			if(TaxiTime[playerid] < gettime() || TaxiTime[playerid]-60 < gettime() || TaxiTime[playerid]-90 < gettime())
			{
				if(LastTaxiID[playerid] != passenger)
				{
					CheckQuest(playerid, 6);
					CheckTask(playerid, 27);
					CheckJobSkill(playerid, 13);
					CheckAchievement(playerid, 13);
				}
				LastTaxiID[playerid] = passenger;
			}
			new reason_money = salary + GetPlayerMoneyJobSkill(playerid, salary, 13);
			if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
			PlayerInfo[playerid][pPayCheck] += reason_money;
			PlayerInfo[playerid][pTOPSalary] += reason_money;
			SendMes(playerid, COLOR_MAIN, "Вы вышли из такси.");
			SendMes(passenger, COLOR_MAIN, "Водитель вышел из машины.");
			TaxiPassenger[playerid] = INVALID_PLAYER_ID;
			TaxiDriver[passenger] = INVALID_PLAYER_ID;
			SendMes(playerid, COLOR_MAIN, "Заработная плата будет начислена в конце часа.");
		}
		else
		{
	    	TaxiTime[playerid] = 0;
		    TaxiPassenger[playerid] = INVALID_PLAYER_ID;
			TaxiDriver[passenger] = INVALID_PLAYER_ID;
		}
	}
	if(TaxiDriver[playerid] != INVALID_PLAYER_ID)
	{
		new driver = TaxiDriver[playerid];
		if(IsPlayerInVehicle(driver, GetPVarInt(driver, "RentTaxi")) && GetPlayerState(driver) == 2)
		{
		    new salary = 50;
		    if(TaxiTime[driver] < gettime()) salary = 600 + random(1200);
		    else if(TaxiTime[driver]-60 < gettime()) salary = 300 + random(600);
		    else if(TaxiTime[driver]-90 < gettime()) salary = 150 + random(300);
		    if(TaxiTime[driver] < gettime() || TaxiTime[driver]-60 < gettime() || TaxiTime[driver]-90 < gettime())
			{
				if(LastTaxiID[driver] != playerid)
				{
					CheckQuest(driver, 6);
					CheckTask(driver, 27);
					CheckJobSkill(driver, 13);
					CheckAchievement(driver, 13);
				}
				LastTaxiID[driver] = playerid;
			}
			new reason_money = salary + GetPlayerMoneyJobSkill(driver, salary, 13);
			if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
			PlayerInfo[driver][pPayCheck] += reason_money;
			PlayerInfo[driver][pTOPSalary] += reason_money;
			SendMes(playerid, COLOR_MAIN, "Вы вышли из такси.");
			SendMes(driver, COLOR_MAIN, "Пассажир вышел из игры.");
			TaxiDriver[playerid] = INVALID_PLAYER_ID;
			TaxiPassenger[driver] = INVALID_PLAYER_ID;
			SendMes(driver, COLOR_MAIN, "Заработная плата будет начислена в конце часа.");
		}
		else
		{
	    	TaxiTime[driver] = 0;
		    TaxiPassenger[driver] = INVALID_PLAYER_ID;
			TaxiDriver[playerid] = INVALID_PLAYER_ID;
		}
	}
	if(GetPVarInt(playerid, "TaxiJob") > 0) LeaveFromTaxi(playerid);
	if(GetPVarInt(playerid, "BusJob") > 0) LeaveFromBus(playerid);
	if(GetPVarInt(playerid, "MehJob") > 0) LeaveFromMechanic(playerid);
	if(GetPVarInt(playerid, "ProductJob") > 0) LeaveFromProduct(playerid);
	if(GetPVarInt(playerid, "PilotJob") > 0) LeaveFromPilot(playerid);
	if(PizzaboyStatus[playerid] == true) LeaveFromPizzaboy(playerid);
	if(PostmanStatus[playerid] == true) LeaveFromPostman(playerid);
	if(FlowersboyStatus[playerid] == true) LeaveFromFlowersboy(playerid);
	if(RoadmanStatus[playerid] == true) LeaveFromRoadman(playerid);
	if(CollectorStatus[playerid] == true) LeaveFromCollector(playerid);
	if(TaxStatus[playerid] == true) LeaveFromTax(playerid);
	if(FireStatus[playerid] == true) LeaveFromFire(playerid);
	if(TruckerStatus[playerid] == true) LeaveFromTruck(playerid);
	if(GoldMinerStatus[playerid] == true) LeaveFromGoldMiner(playerid);
	if(DrugMakerStatus[playerid] == true) LeaveFromDrugMaker(playerid);
	if(ConstructionStatus[playerid] == true) LeaveFromConstruction(playerid);
	if(JanitorStatus[playerid] == true) LeaveFromJanitor(playerid);
	if(GardenerStatus[playerid] == true) LeaveFromGardener(playerid);
	if(TrainmanStatus[playerid] == true) LeaveFromTrainman(playerid);
	if(CleanerStatus[playerid] == true) LeaveFromCleaner(playerid);
	if(ZooWorkerStatus[playerid] == true) LeaveFromZooWorker(playerid);
	if(VolunteerStatus[playerid] == true) LeaveFromVolunteer(playerid);
	if(FarmDuty[playerid] > 0 && FarmWorking[playerid] != -1) LeaveFromFarm(playerid, FarmWorking[playerid]);
	if(ServiceDuty[playerid] > 0 && ServiceWorking[playerid] != -1) LeaveFromService(playerid, ServiceWorking[playerid]);
	if(DisguiseInfo[playerid]) LeaveFromDisguise(playerid);
	if(GetPVarInt(playerid, "CasinoOffered") != -1)
	{
	    new scdplayerid = GetPVarInt(playerid, "CasinoOffered");
	    if(GetPVarInt(scdplayerid, "CasinoOffer") != playerid) return 1;
	    if(GetPVarInt(playerid, "CasinoOffered") != scdplayerid) return 1;
	    SendMes(scdplayerid, COLOR_MAIN, "Игрок которому Вы предложили сыграть в кости вышел из игры.");
		SetPVarInt(playerid, "CasinoOffered", -1), DeletePVar(playerid, "CasinoRate");
		SetPVarInt(scdplayerid, "CasinoOffer", -1), DeletePVar(scdplayerid, "CasinoRate");
	}
	if(GetPVarInt(playerid, "CasinoOffer") != -1)
	{
	    new scdplayerid = GetPVarInt(playerid, "CasinoOffer");
	    if(GetPVarInt(scdplayerid, "CasinoOffered") != playerid) return 1;
	    if(GetPVarInt(playerid, "CasinoOffer") != scdplayerid) return 1;
	    SendMes(scdplayerid, COLOR_MAIN, "Игрок который Вам предложил сыграть в кости вышел из игры.");
		SetPVarInt(playerid, "CasinoOffer", -1), DeletePVar(playerid, "CasinoRate");
		SetPVarInt(scdplayerid, "CasinoOffered", -1), DeletePVar(scdplayerid, "CasinoRate");
	}
	if(ArendsCar[playerid] && VehInfo[ArendsCar[playerid]][vFraction] == V_RENT_VEHICLE)
	{
		new vehicleid = ArendsCar[playerid];
	    SetVehicleToRespawn(vehicleid);
	    DeletePVar(playerid, "RentVehicle");
		ArendsCar[playerid] = 0;
	}
	if(RegisterRace[playerid])
	{
		RegisterRace[playerid] = 0;
		for(new i = 0; i < MAX_RACE_PLAYERS; i++) if(RacePlayers[i] == playerid) RacePlayers[i] = INVALID_PLAYER_ID, DestroyVehicle(RaceVehicles[i]);
	}
	if(RegisterDerby[playerid])
	{
		RegisterDerby[playerid] = 0;
		for(new i = 0; i < MAX_DERBY_PLAYERS; i++) if(DerbyPlayers[i] == playerid) DerbyPlayers[i] = INVALID_PLAYER_ID, DestroyVehicle(DerbyVehicles[i]);
	}
    if(RegisterPaintBall[playerid])
	{
	    ResetPlayerWeapon(playerid);
		ResetPlayerWeaponBase(playerid);
        if(PaintBallLeaderID == playerid)
		{
			PaintBallLeaderID = INVALID_PLAYER_ID, PaintBallLeaderKills = 0;
			format(strings, sizeof(strings), "NO LEADER");
			TextDrawSetString(PaintBallLeaderInfo[0], strings);
			format(strings, sizeof(strings), "RANK: 0 / KILLS: 0");
			TextDrawSetString(PaintBallLeaderInfo[1], strings);
	    }
		RegisterPaintBall[playerid] = 0;
		PaintBallWeaponID[playerid] = 0, PaintBallRank[playerid] = 0;
    	for(new i = 0; i < MAX_PAINTBALL_PLAYERS; i++) if(PaintBallPlayers[i] == playerid) PaintBallPlayers[i] = INVALID_PLAYER_ID;
	}
	if(InjectionShow[playerid] == true)
	{
		/*Delete3DTextLabel(InjectionText[playerid]);*/
		InjectionInfo[playerid] = 0;
		InjectionShow[playerid] = false;
	}
	if(Pursued[playerid] != -1)
	{
		SendMes(Pursued[playerid], COLOR_MAIN, "Преследование окончено.");
		ClearPursiut(Pursued[playerid]);
	}
	if(PlayerInfo[playerid][pHospital]) LeaveFromHospital(playerid);
	if(PursiutTime[playerid] > 0 && PlayerLogged[playerid] == 1 && PlayerInfo[playerid][pJail] == 0)
	{
		ClearPursiut(playerid);
	    ResetPlayerWeapon(playerid);
		ResetPlayerWeaponBase(playerid);
		PlayerInfo[playerid][pJail] = random(2) + 1;
		PlayerInfo[playerid][pJailTime] = 900 * PlayerInfo[playerid][pWanted];
		PlayerInfo[playerid][pWanted] = 0;
		SetPlayerWantedLevel(playerid, 0);
		DeletePVar(playerid, "CUFFED");
		DeletePVar(playerid, "PlayerCuffed");
		format(strings, sizeof(strings), "%s выш(-ла/-ел) при погоне, срок заключения был увеличен.", PlayerInfo[playerid][pName]);
		SCMTAEx(COLOR_YELLOW, strings, 6);
	}
	if(Patrul[playerid] != -1)
	{
		Patrolled[Patrul[playerid]] = -1;
	}
	if(Patrolled[playerid] != -1)
	{
		DisablePlayerRaceCheckpoint(Patrolled[playerid]);
		format(strings, sizeof(strings), "Преступник {"#DC_WHITE"}%s [%d]{"#DC_MAIN"} вышел с игры, патруль автоматически отключен.", PlayerInfo[playerid][pName], playerid);
		SendMes(Patrolled[playerid], COLOR_MAIN, strings);
		Patrul[Patrolled[playerid]] = -1;
		Patrolled[playerid] = -1;
	}
	if(UseDuel[playerid] == true)
	{
		if(EnemyDuelID[playerid] != INVALID_PLAYER_ID)
		{
		    ResetPlayerWeapon(playerid);
			ResetPlayerWeaponBase(playerid);
		    new scdplayerid = EnemyDuelID[playerid];
		    ResetPlayerWeapon(scdplayerid);
			ResetPlayerWeaponBase(scdplayerid);
			SetHealth(scdplayerid, 100);
			SetArmour(scdplayerid, 0);
			ServerMoney(scdplayerid, "Победа в дуэли", RateDuel[playerid], 0);
		    SetPlayerPos(scdplayerid, 2443.2434,-1973.6610,13.5469);
			SetPlayerFacingAngle(scdplayerid, 271.6581);
			SetPlayerInterior(scdplayerid, 0);
			SetPlayerVirtualWorld(scdplayerid, 0);
			UseDuel[scdplayerid] = false;
			EnemyDuelID[scdplayerid] = INVALID_PLAYER_ID;
			RateDuel[scdplayerid] = 0;
		}
	}
	/*for(new i = 0; i < MAX_PLAYER_BREAK; i++)
	{
	    if(Break[playerid][i] > 0)
	    {
	        if(IsValidDynamicObject(Break[playerid][i])) DestroyDynamicObject(Break[playerid][i]);
			Delete3DTextLabel(Break3DText[playerid][i]);
			Break[playerid][i] = 0;
	    }
	}*/
	if(GetPVarInt(playerid, "report_id_to_answer"))
	{
		aReportInfo[GetPVarInt(playerid, "report_id_to_answer")][rIsTooked] = false;
	}
	if(GetPVarInt(playerid, "report_id"))
	{
		new report_id = GetPVarInt(playerid, "report_id");

		aReportInfo[report_id][rIsTooked] = false;
		aReportInfo[report_id][rID] = report_id;
		aReportInfo[report_id][rPlayerID] = -1;
		aReportInfo[report_id][rText][0] = EOS;
		aReportInfo[report_id][rWhenWroted_Time] = -1;
		aReportInfo[report_id][rWhenWroted_Text][0] = EOS;
		totaladminreports--;
	}
	if(GetPVarInt(playerid, "advert_id_to_sending"))
	{
		AdvertInfo[GetPVarInt(playerid, "advert_id_to_sending")][aIsTooked] = false;
	}
	/*if(PlayerInfo[playerid][pFamily]) Delete3DTextLabel(FamiliesPlayerText[playerid]);*/
    DestroyPlayerInventoryTextDraw(playerid);
    DestroyPlayerCraftTextDraw(playerid);
    OnPlayerLeaveFromMarket(playerid);
    OnPlayerSavePosition(playerid);
	OnPlayerSaveAccount(playerid);
	orm_destroy(PlayerInfo[playerid][ORMID]);
	return 1;
}
//==============================================================================
public OnPlayerRequestClass(playerid, classid)
{
	PlayerSpawned[playerid] = 0;
	if(PlayerLogged[playerid] == 1)
	{
		SetSpawnInfo(playerid, 255, PlayerInfo[playerid][pSkin], 0, 0, 0, 1.0, -1, -1, -1, -1, -1, -1);
		return SpawnPlayer(playerid);
	}
	return 1;
}
//==============================================================================
public OnPlayerSpawn(playerid)
{
	if(PlayerLogged[playerid] == 0) return Kick(playerid);
	SetTimerEx("OnPlayerAttachedAccessories", 3000, false, "i", playerid);
	PlayerPlaySound(playerid, 1184, 0.0, 0.0, 0.0);
	SetPVarInt(playerid, "K_Times", 0);
 	/*SetPlayerSkills(playerid);*/
	if(PlayerInfo[playerid][pHealth] < 40) PlayerInfo[playerid][pHealth] = 40;
	SetHealth(playerid, PlayerInfo[playerid][pHealth]);
	if(PlayerInfo[playerid][pAdmin] > 1) SetHealth(playerid, 100);
	PlayerSpawned[playerid] = 1;
	//gHasArmour[playerid] = 0;
	PlayerInfo[playerid][pPosX] = 0.0;
	PlayerInfo[playerid][pPosY] = 0.0;
	PlayerInfo[playerid][pPosZ] = 0.0;

	#if defined __anti_godmode
	antigm_OnPlayerSpawn(playerid);
	#endif

	#if defined __anti_teleport
	ResetSpawnVars(playerid);
	#endif

	GunCheckTime[playerid] = 5;
	SetMoney(playerid, PlayerInfo[playerid][pCash]);
	ResetPlayerWeapon(playerid);
	LoadPlayerWeapon(playerid);
    SetPlayerArmedWeapon(playerid, 0);
	SetPlayerScore(playerid, PlayerInfo[playerid][pLevel]);

    Durak_LeaveTable(playerid);
	
	if(RegisterPaintBall[playerid] == 2)
	{
	    new idx;
    	for(new i = 0; i < MAX_PAINTBALL_PLAYERS; i++)
		{
			if(PaintBallPlayers[i] == playerid)
			{
				FreezePlayer(PaintBallPlayers[i], 1000);
				idx = random(35);
				SetPlayerPos(PaintBallPlayers[i], PaintBallPlayersCoord[EventMap][idx][0], PaintBallPlayersCoord[EventMap][idx][1], PaintBallPlayersCoord[EventMap][idx][2]+0.1);
				SetPlayerFacingAngle(PaintBallPlayers[i], PaintBallPlayersCoord[EventMap][idx][3]);
				if(EventMap == 2) SetPlayerInterior(PaintBallPlayers[i], 10);
				else SetPlayerInterior(PaintBallPlayers[i], 0);
				SetPlayerVirtualWorld(PaintBallPlayers[i], 500);
				PlayerInfo[PaintBallPlayers[i]][pHealth] = 100;
				SetHealth(PaintBallPlayers[i], 100.0);
				SetPlayerColor(PaintBallPlayers[i], COLOR_RED);
				/*SetPlayerSkillsEx(PaintBallPlayers[i]);*/
				PaintBallWeaponID[PaintBallPlayers[i]] = PaintBallWeapon[PaintBallRank[PaintBallPlayers[i]]];
				GiveWeapon(PaintBallPlayers[i], PaintBallWeaponID[PaintBallPlayers[i]], 99999);
				return 1;
			}
		}
    }
	if(PlayerInfo[playerid][pWanted] > 0) SetPlayerWantedLevel(playerid, PlayerInfo[playerid][pWanted]);
	/*if(PlayerInfo[playerid][pStyle][0]) SetPlayerFightingStyle(playerid, PlayerInfo[playerid][pStyle][0]);
	else SetPlayerFightingStyle(playerid, 4);*/
	if(PlayerLogged[playerid] == 0) KickWithMessage(playerid, COLOR_DARKORANGE, "Вы отменили авторизаци. Введите (/q)");
	if(PlayerInfo[playerid][pDuty] > 0 || IsACriminal(playerid))
	{
	    if(PlayerInfo[playerid][pFracSkin] == 0) PlayerInfo[playerid][pDuty] = 0;
	    else
	    {
			SetPlayerSkin(playerid, PlayerInfo[playerid][pFracSkin]);
			SetPlayerTeamColor(playerid);
		}
	}
	else SetPlayerSkin(playerid, PlayerInfo[playerid][pSkin]), SetPlayerColor(playerid, F_NONE_COLOR);
	if(PlayerInfo[playerid][pSpawnChange] != 0 && PlayerInfo[playerid][pSpawnChange] != 1 && PlayerInfo[playerid][pSpawnChange] != 2 && PlayerInfo[playerid][pSpawnChange] != 3 && PlayerInfo[playerid][pSpawnChange] != 4 && PlayerInfo[playerid][pSpawnChange] != 5 && PlayerInfo[playerid][pHouse] != 0) PlayerInfo[playerid][pSpawnChange] = 0;
	else if(PlayerInfo[playerid][pSpawnChange] == 1 && PlayerInfo[playerid][pHouse] == 0) PlayerInfo[playerid][pSpawnChange] = 0;
	else if(PlayerInfo[playerid][pSpawnChange] == 2 && PlayerInfo[playerid][pHotelID] == 0) PlayerInfo[playerid][pSpawnChange] = 0;
	else if(PlayerInfo[playerid][pSpawnChange] == 3 && PlayerInfo[playerid][pMember] == 0) PlayerInfo[playerid][pSpawnChange] = 0;
	else if(PlayerInfo[playerid][pSpawnChange] == 3 && FracInfo[PlayerInfo[playerid][pMember]][fSpawn] == 0) PlayerInfo[playerid][pSpawnChange] = 0;
	else if(PlayerInfo[playerid][pSpawnChange] == 4)
	{
		new f = PlayerInfo[playerid][pFamily], h = FamiliesInfo[f][fHouse], hs = FamiliesInfo[f][fHouseStatus];
		if(f == 0 || h == 0 || hs == 0) PlayerInfo[playerid][pSpawnChange] = 0;
	}
	if(PlayerInfo[playerid][pRespawnStatus] == true)
	{
	    if(PlayerInfo[playerid][pRespawnPos][0] == 0.0 || PlayerInfo[playerid][pRespawnPos][1] == 0.0 || PlayerInfo[playerid][pRespawnPos][2] == 0.0)
	    {
		    SendMes(playerid, COLOR_DARKORANGE, "Не удалось считать последнее место появление, Вы отправлены на стандартное место появления.");
	        PlayerInfo[playerid][pRespawnStatus] = false;
	    }
	}
	if(InjectionShow[playerid] == true)
	{
		/*Delete3DTextLabel(InjectionText[playerid]);*/
		InjectionInfo[playerid] = 0;
		InjectionShow[playerid] = false;
	}
	if(RobberyFuelingIDx[playerid])
	{
	    if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
		RobberyFuelingIDx[playerid] = 0;
		RobberyFuelingTime[playerid] = 0;
		RobberyFuelingLiters[playerid] = 0;
		SendMes(playerid, COLOR_MAIN, "Вы провалили ограбление.");
	}
	if(RobberyBankIDx[playerid])
	{
	    if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
		RobberyBankIDx[playerid] = 0;
		RobberyBankTime[playerid] = 0;
		RobberyBankMoney[playerid] = 0;
		SendMes(playerid, COLOR_MAIN, "Вы провалили ограбление.");
	}
	if(RobberyBankItems[playerid][3])
	{
	    RobberyBankItems[playerid][3] = 0;
		SendMes(playerid, COLOR_MAIN, "Вы потеряли лазер.");
	}
	if(FollowPlayer[playerid] != MAX_PLAYERS-1) ResetFollowToPlayer(playerid, FollowPlayer[playerid]);
    SetPlayerTime(playerid, DefaultTime, 0);
    SetPlayerWeather(playerid, DefaultWeather);
	if(ClothesRound[playerid] == 1)
	{
		ChangePlayerSkin(playerid);
		SetHealth(playerid, 100.00);
		SelectCharPlace[playerid] = 0;
		SetPlayerSkin(playerid, RegSkinsInfo[PlayerInfo[playerid][pSex]-1][0]);
		return 1;
	}
	else if(ClothesRound[playerid] == 2)
	{
		ChangePlayerSkin(playerid);
        new	skinID, skinPrice;
		for(new x; x < sizeof(SkinsInfo); x ++)
		{
			skinID = GetSkinID(PlayerInfo[playerid][pSex], x);
			skinPrice = GetSkinPrice(x);
			if(skinID == 0) continue;
			else SetPlayerSkin(playerid, skinID);
			format(strings, sizeof(strings), "%d", skinPrice);
			PlayerTextDrawSetString(playerid, ClothesInfo[playerid][1], strings);
			break;
		}
		return 1;
	}
	else if(ClothesRound[playerid] == 3)
	{
		ChangePlayerSkin(playerid);
		SelectCharPlace[playerid] = 0;
		new acoords = GetPVarInt(playerid, "AccessoriesCoords"), ainfo = GetPVarInt(playerid, "AccessoriesInfo");
		for(new i = 0; i < MAX_ACCESSORIES; i++)
		{
			if(AccessoriesInfo[i][aType] != ainfo) continue;
			SelectCharPlace[playerid] = i;
			break;
		}
		new idx = SelectCharPlace[playerid], slot = AccessoriesInfo[idx][aSlot], model = AccessoriesInfo[idx][aModel], bone = AccessoriesInfo[idx][aBone], skin = GetPlayerSkin(playerid);
		new
			Float:fOffsetX = AccessoriesCoords[acoords][skin][0], Float:fOffsetY = AccessoriesCoords[acoords][skin][1], Float:fOffsetZ = AccessoriesCoords[acoords][skin][2],
			Float:fRotX = AccessoriesCoords[acoords][skin][3], Float:fRotY = AccessoriesCoords[acoords][skin][4], Float:fRotZ = AccessoriesCoords[acoords][skin][5],
			Float:fScaleX = AccessoriesCoords[acoords][skin][6], Float:fScaleY = AccessoriesCoords[acoords][skin][7], Float:fScaleZ = AccessoriesCoords[acoords][skin][8];
		SetPlayerAttachedObject(playerid, slot, model, bone, fOffsetX, fOffsetY, fOffsetZ, fRotX, fRotY, fRotZ, fScaleX, fScaleY, fScaleZ);
		SetPlayerVirtualWorld(playerid, playerid+1);
		SetPlayerInterior(playerid, 14);
		SetPlayerPos(playerid, 258.1908, -39.5689, 1002.0234);
		SetPlayerFacingAngle(playerid, 179.0350);
		SetPlayerCameraPos(playerid, 258.208282, -40.385292, 1002.638854);
		SetPlayerCameraLookAt(playerid, 258.201477, -35.385459, 1002.679382);
		ApplyAnimation(playerid, "DEALER", "DEALER_IDLE", 4.1, 1, 1, 1, 1, 1);
		SetPlayerControl(playerid, false);
		format(strings, sizeof(strings), "%d", AccessoriesInfo[idx][aPrice]);
		PlayerTextDrawSetString(playerid, ClothesInfo[playerid][1], strings);
		return 1;
	}
	else if(GetPVarInt(playerid, "ArrestSpawn") == 1)
	{
		switch(random(4))
		{
		    case 0: SetPlayerPos(playerid, -677.0667+random(2),-2714.2983+random(2),1022.6334), SetPlayerFacingAngle(playerid, 271.3859);
		    case 1: SetPlayerPos(playerid, -677.0667+random(2),-2718.2883+random(2),1022.6334), SetPlayerFacingAngle(playerid, 271.3859);
		    case 2: SetPlayerPos(playerid, -677.0667+random(2),-2722.2983+random(2),1022.6334), SetPlayerFacingAngle(playerid, 271.3859);
		    case 3: SetPlayerPos(playerid, -677.0667+random(2),-2726.2983+random(2),1022.6334), SetPlayerFacingAngle(playerid, 271.3859);
			default: SetPlayerPos(playerid, -677.0667+random(2),-2714.2983+random(2),1022.6334), SetPlayerFacingAngle(playerid, 271.3859);
		}
		PlayerInfo[playerid][pJail] = random(2) + 1;
		SetPlayerInterior(playerid, 1);
		SetPlayerVirtualWorld(playerid, PlayerInfo[playerid][pJail]);
		PlayerInfo[playerid][pJailTime] = 600*PlayerInfo[playerid][pWanted];
		SetPVarInt(playerid, "CUFFED", 0);
		SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
		if(IsPlayerAttachedObjectSlotUsed(playerid, 3)) RemovePlayerAttachedObject(playerid, 3);
		DeletePVar(playerid, "PlayerCuffed");
		SetPlayerWantedLevel(playerid, 0);
		PlayerInfo[playerid][pWanted] = 0;
		SetPVarInt(playerid, "ArrestSpawn", 0);
		PlayerInfo[playerid][pHospital] = 0;
		return 1;
	}
	else if(UseDuel[playerid] == true)
	{
	    SetHealth(playerid, 100.0);
		SetPlayerPos(playerid, 2443.2434,-1973.6610,13.5469);
		SetPlayerFacingAngle(playerid, 271.6581);
		SetPlayerInterior(playerid, 0);
		SetPlayerVirtualWorld(playerid, 0);
		UseDuel[playerid] = false;
		RateDuel[playerid] = 0;
		return 1;
	}
	else if(PlayerInfo[playerid][pJail] != 0 && GetPVarInt(playerid, "ReconOn") != 1)
	{
		if(PlayerInfo[playerid][pJail] <= 3)
		{
			switch(random(4))
			{
			    case 0: SetPlayerPos(playerid, -677.0667+random(2),-2714.2983+random(2),1022.6334), SetPlayerFacingAngle(playerid, 271.3859);
			    case 1: SetPlayerPos(playerid, -677.0667+random(2),-2718.2883+random(2),1022.6334), SetPlayerFacingAngle(playerid, 271.3859);
			    case 2: SetPlayerPos(playerid, -677.0667+random(2),-2722.2983+random(2),1022.6334), SetPlayerFacingAngle(playerid, 271.3859);
			    case 3: SetPlayerPos(playerid, -677.0667+random(2),-2726.2983+random(2),1022.6334), SetPlayerFacingAngle(playerid, 271.3859);
				default: SetPlayerPos(playerid, -677.0667+random(2),-2714.2983+random(2),1022.6334), SetPlayerFacingAngle(playerid, 271.3859);
			}
			SetPlayerInterior(playerid, 1);
			SetPlayerVirtualWorld(playerid, PlayerInfo[playerid][pJail]);
		}
		else
		{
			SetPlayerPos(playerid, 133.1564+random(2),-1972.6246+random(2),3051.3154), SetPlayerFacingAngle(playerid, 315.5429);
			SetPlayerInterior(playerid, 1);
			SetPlayerVirtualWorld(playerid, PlayerInfo[playerid][pJail]);
		}
		return 1;
	}
	else if(PlayerInfo[playerid][pHospital] != 0 && PlayerInfo[playerid][pJail] == 0 && GetPVarInt(playerid, "ReconOn") != 1)
	{
		switch(random(2))
		{
		    case 0: SetPlayerPos(playerid, -2950.6948+random(2),1093.9619+random(2),1013.1192), SetPlayerFacingAngle(playerid, 90.0000);
		    case 1: SetPlayerPos(playerid, -2960.0642+random(2),1064.9352+random(2),1013.1192), SetPlayerFacingAngle(playerid, 0.0000);
		    default: SetPlayerPos(playerid, -2950.6948+random(2),1093.9619+random(2),1013.1192), SetPlayerFacingAngle(playerid, 90.0000);
		}
	    SetPlayerTime(playerid, 12, 0);
	    SetPlayerWeather(playerid, 8);
	    PlayerInfo[playerid][pRespawnTime] = 12;
	    PlayerInfo[playerid][pRespawnWeather] = 8;
		SetPlayerInterior(playerid, 1);
		SetPlayerVirtualWorld(playerid, 1);
		return 1;
	}
	// Респавн на вокзале;
	else if(PlayerInfo[playerid][pSpawnChange] == 0 && PlayerInfo[playerid][pRespawnStatus] == false && GetPVarInt(playerid, "ReconOn") != 1)
	{
  		if(PlayerInfo[playerid][pLevel] >= 1 && PlayerInfo[playerid][pLevel] <= 3)
  		{
  		    #if RandomRegisterSpawn == 1
			new idx = random(3);
			SetPlayerPos(playerid, SpawnRegCoords[idx][0]+random(2), SpawnRegCoords[idx][1]+random(2), SpawnRegCoords[idx][2]);
			SetPlayerFacingAngle(playerid, SpawnRegCoords[idx][3]);
			SetPlayerInterior(playerid, 0);
			SetPlayerVirtualWorld(playerid, 0);
			SetCameraBehindPlayer(playerid);
			#else
		    SetPlayerPos(playerid, 1154.0265+random(2),-1770.2565+random(2),16.5938);
			SetPlayerFacingAngle(playerid, 359.4563);
			SetPlayerInterior(playerid, 0);
			SetPlayerVirtualWorld(playerid, 0);
			SetCameraBehindPlayer(playerid);
			#endif
		}
		else if(PlayerInfo[playerid][pLevel] >= 4 && PlayerInfo[playerid][pLevel] <= 6)
		{
			SetPlayerPos(playerid, -1968.6251+random(2),114.6537+random(2),27.6875);
			SetPlayerFacingAngle(playerid, 358.9739);
			SetPlayerInterior(playerid, 0);
			SetPlayerVirtualWorld(playerid, 0);
			SetCameraBehindPlayer(playerid);
		}
		else if(PlayerInfo[playerid][pLevel] >= 7)
		{
			SetPlayerPos(playerid, 2848.4736+random(2),1290.9468+random(2),11.3906);
			SetPlayerFacingAngle(playerid, 88.0695);
			SetPlayerInterior(playerid, 0);
			SetPlayerVirtualWorld(playerid, 0);
			SetCameraBehindPlayer(playerid);
		}
		return 1;
	}
	// Респавн в доме;
	else if(PlayerInfo[playerid][pSpawnChange] == 1 && PlayerInfo[playerid][pRespawnStatus] == false && GetPVarInt(playerid, "ReconOn") != 1 && PlayerInfo[playerid][pHouse] != 0)
	{
		new i = PlayerInfo[playerid][pHouse];
		SetPVarInt(playerid, "UseHouse", i);
		SetPlayerPos(playerid, HouseInfo[i][hSpawnX], HouseInfo[i][hSpawnY], HouseInfo[i][hSpawnZ]);
		SetPlayerFacingAngle(playerid, HouseInfo[i][hSpawnR]);
		SetPlayerInterior(playerid, HouseInfo[i][hInterior]);
		SetPlayerVirtualWorld(playerid, HouseInfo[i][hWorld]);
		SetTimerEx("OnPlayerStopPickup", 3000, 0, "i", playerid);
		SetPVarInt(playerid, "PickupEntered", 1);
		FreezePlayer(playerid, 1000);
		return 1;
	}
	// Респавн в отеле;
	else if(PlayerInfo[playerid][pSpawnChange] == 2 && PlayerInfo[playerid][pRespawnStatus] == false && GetPVarInt(playerid, "ReconOn") != 1 && PlayerInfo[playerid][pHotelID] != 0)
	{
		new hotelid = PlayerInfo[playerid][pHotelID], roomid = PlayerInfo[playerid][pHotelRooms];
		SetPlayerPos(playerid, 2198.4780, -1160.3774, 1029.7969);
		SetPlayerFacingAngle(playerid, 358.3456);
		SetPlayerInterior(playerid, HotelInfo[hotelid][hInterior]);
		SetPlayerVirtualWorld(playerid, hotelid * 12 + roomid);
		SetPVarInt(playerid, "UseHotel", hotelid), SetPVarInt(playerid, "UseHotelRooms", roomid);
		return 1;
	}
	// Респавн на базе фракции;
	else if(PlayerInfo[playerid][pSpawnChange] == 3 && PlayerInfo[playerid][pRespawnStatus] == false && GetPVarInt(playerid, "ReconOn") != 1)
	{
		new f = PlayerInfo[playerid][pMember];
		SetPlayerPos(playerid, FracInfo[f][fRespaPosX], FracInfo[f][fRespaPosY], FracInfo[f][fRespaPosZ]);
		SetPlayerInterior(playerid, FracInfo[f][fRespaInt]);
		SetPlayerVirtualWorld(playerid, FracInfo[f][fRespaWorld]);
		FreezePlayer(playerid, 2000);
		return 1;
	}
	// Респавн в семейном доме;
	else if(PlayerInfo[playerid][pSpawnChange] == 4 && PlayerInfo[playerid][pRespawnStatus] == false && GetPVarInt(playerid, "ReconOn") != 1)
	{
		new f = PlayerInfo[playerid][pFamily], h = FamiliesInfo[f][fHouse];
		SetPVarInt(playerid, "UseHouse", h);
		SetPlayerPos(playerid, HouseInfo[h][hSpawnX], HouseInfo[h][hSpawnY], HouseInfo[h][hSpawnZ]);
		SetPlayerFacingAngle(playerid, HouseInfo[h][hSpawnR]);
		SetPlayerInterior(playerid, HouseInfo[h][hInterior]);
		SetPlayerVirtualWorld(playerid, HouseInfo[h][hWorld]);
		SetTimerEx("OnPlayerStopPickup", 3000, 0, "i", playerid);
		SetPVarInt(playerid, "PickupEntered", h);
		FreezePlayer(playerid, 1000);
		return 1;
	}
	// Респавн на месте выхода;
	else if(PlayerInfo[playerid][pRespawnStatus] == true)
	{
	    if(PlayerInfo[playerid][pRespawnTime] != 100 && PlayerInfo[playerid][pRespawnWeather] != 100)
	    {
		    SetPlayerTime(playerid, PlayerInfo[playerid][pRespawnTime], 0);
			SetPlayerWeather(playerid, PlayerInfo[playerid][pRespawnWeather]);
	    }
		SetPlayerPos(playerid, PlayerInfo[playerid][pRespawnPos][0], PlayerInfo[playerid][pRespawnPos][1], PlayerInfo[playerid][pRespawnPos][2]);
		SetPlayerFacingAngle(playerid, PlayerInfo[playerid][pRespawnPos][3]);
		SetPlayerInterior(playerid, PlayerInfo[playerid][pRespawnInterior]);
		SetPlayerVirtualWorld(playerid, PlayerInfo[playerid][pRespawnWorld]);
		SetPVarInt(playerid, "UseHouse", PlayerInfo[playerid][pRespawnUseHouse]);
		SetPVarInt(playerid, "UseHotel", PlayerInfo[playerid][pRespawnUseHotel]);
		SetPVarInt(playerid, "UseHotelRooms", PlayerInfo[playerid][pRespawnUseHotelRooms]);
		SetPVarInt(playerid, "UseBiz", PlayerInfo[playerid][pRespawnUseBiz]);
		PlayerInfo[playerid][pRespawnStatus] = false;
		return 1;
	}
	else if(GetPVarInt(playerid, "ReconOn") > 0)
	{
		SetPlayerPos(playerid, TPPos[playerid][0], TPPos[playerid][1], TPPos[playerid][2]);
		SetPlayerInterior(playerid, TPInt[playerid][0]);
		SetPlayerVirtualWorld(playerid, TPInt[playerid][1]);
		DeletePVar(playerid, "ReconOn");
	}
	return 1;
}
//==============================================================================
public OnPlayerDeath(playerid, killerid, reason)
{
	if(PlayerLogged[playerid] == 0) return 0;

	#if defined __anti_godmode
	antigm_OnPlayerDeath(playerid, killerid, reason);
	#endif

	PlayerSpawned[playerid] = 0;
	if(PlayerInfo[playerid][pHospital]) LeaveFromHospital(playerid);
	if(!IsACriminal(playerid)) PlayerInfo[playerid][pHospital] = 1;
	if(GetPVarInt(playerid, "UseAnim") == 1) SetPVarInt(playerid, "UseAnim", 0);
	if(PlayerInfo[playerid][pMaskTime] > 0)
	{
	    PlayerInfo[playerid][pMaskTime] = 0;
		if(PlayerInfo[playerid][pDuty] || IsACriminal(playerid))
		{
     		if(DisguiseInfo[playerid]) SetPlayerDisguiseColor(playerid);
			else SetPlayerTeamColor(playerid);
		}
		else SetPlayerColor(playerid, F_NONE_COLOR);
	}
	GunCheckTime[playerid] = 5;
	ResetPlayerWeapon(playerid);
	ResetPlayerWeaponBase(playerid);
	SetPVarInt(playerid, "K_Times", GetPVarInt(playerid, "K_Times") + 1);
	SetPVarInt(playerid, "K_Amount", GetPVarInt(playerid, "K_Amount") + 1);
	if(GetPVarInt(playerid, "pGPSWork") == 1)
	{
		DisablePlayerRaceCheckpoint(playerid);
		SetPVarInt(playerid, "pGPSWork", 0);
		DeletePVar(playerid, "GPSX");
		DeletePVar(playerid, "GPSY");
		DeletePVar(playerid, "GPSZ");
		DeletePVar(playerid, "GPSID");
	}
	PlayerPlaySound(playerid, 30803, 0.0, 0.0, 0.0);
	SetHealth(playerid, 20.0);
	DisablePlayerCheckpoint(playerid);
	if(InjectionShow[playerid] == true)
	{
		/*Delete3DTextLabel(InjectionText[playerid]);*/
		InjectionInfo[playerid] = 0;
		InjectionShow[playerid] = false;
	}
	if(PlayerInfo[playerid][pDiceTable] != -1) ExitDice(playerid);
	if(PlayerInfo[playerid][pSlotMachine] != -1) ExitSlotMachine(playerid);
	if(IsPlayerAttachedObjectSlotUsed(playerid, 3)) RemovePlayerAttachedObject(playerid, 3);
	new caller = Mobile[playerid];
	if(caller != -1)
	{
		SendMes(caller,  COLOR_MAIN, "Связь оборвалась.");
		CellTime[caller] = -1;
		Mobile[caller] = -1;
		Mobile[playerid] = -1;
		CellTime[playerid] = -1;
		DeletePVar(playerid, "CallTime");
		DeletePVar(caller, "CallTime");
	}
	if(GetPVarInt(playerid, "LicTest") == 1 || GetPVarInt(playerid, "LicTest") == 2)
	{
		DeletePVar(playerid, "LicTest");
		DeletePVar(playerid, "LicTestHealth");
		DeletePVar(playerid, "LicTestError");
		SendMes(playerid, COLOR_MAIN, "Вы провалили экзамен по вождению.");
	}
	if(EnterBroadcast[playerid] > 0)
	{
		format(strings, sizeof(strings), "[F] %s выш(-ел/-ла) из эфира", PlayerInfo[playerid][pName]);
		SendFMes(EnterBroadcast[playerid] + 7, COLOR_NEWLBLUE, strings);
		EnterBroadcast[playerid] = 0;
	}
	if(RobberyFuelingIDx[playerid])
	{
	    if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
		RobberyFuelingIDx[playerid] = 0;
		RobberyFuelingTime[playerid] = 0;
		RobberyFuelingLiters[playerid] = 0;
		SendMes(playerid, COLOR_MAIN, "Вы провалили ограбление.");
	}
	if(RobberyBankIDx[playerid])
	{
	    if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
		RobberyBankIDx[playerid] = 0;
		RobberyBankTime[playerid] = 0;
		RobberyBankMoney[playerid] = 0;
		SendMes(playerid, COLOR_MAIN, "Вы провалили ограбление.");
	}
	if(RobberyBankItems[playerid][3])
	{
	    RobberyBankItems[playerid][3] = 0;
		SendMes(playerid, COLOR_MAIN, "Вы потеряли лазер.");
	}
	if(ArmySecurityShip[playerid])
	{
	    ArmySecurityShip[playerid] = 0;
	    SendMes(playerid, COLOR_MAIN, "Вы закончили охранять военный корабль.");
	}
	if(GetPVarInt(playerid, "TaxiJob") > 0) LeaveFromTaxi(playerid);
	if(GetPVarInt(playerid, "BusJob") > 0) LeaveFromBus(playerid);
	if(GetPVarInt(playerid, "MehJob") > 0) LeaveFromMechanic(playerid);
	if(GetPVarInt(playerid, "ProductJob") > 0) LeaveFromProduct(playerid);
	if(GetPVarInt(playerid, "PilotJob") > 0) LeaveFromPilot(playerid);
	if(PizzaboyStatus[playerid] == true) LeaveFromPizzaboy(playerid, 1);
	if(PostmanStatus[playerid] == true) LeaveFromPostman(playerid, 1);
	if(FlowersboyStatus[playerid] == true) LeaveFromFlowersboy(playerid, 1);
	if(RoadmanStatus[playerid] == true) LeaveFromRoadman(playerid, 1);
	if(CollectorStatus[playerid] == true) LeaveFromCollector(playerid, 1);
	if(TaxStatus[playerid] == true) LeaveFromTax(playerid, 1);
	if(FireStatus[playerid] == true) LeaveFromFire(playerid, 1);
	if(TruckerStatus[playerid] == true) LeaveFromTruck(playerid, 1);
	if(GoldMinerStatus[playerid] == true) LeaveFromGoldMiner(playerid, 1);
	if(DrugMakerStatus[playerid] == true) LeaveFromDrugMaker(playerid);
	if(ConstructionStatus[playerid] == true) LeaveFromConstruction(playerid, 1);
	if(JanitorStatus[playerid] == true) LeaveFromJanitor(playerid, 1);
	if(GardenerStatus[playerid] == true) LeaveFromGardener(playerid, 1);
	if(TrainmanStatus[playerid] == true) LeaveFromTrainman(playerid, 1);
	if(CleanerStatus[playerid] == true) LeaveFromCleaner(playerid, 1);
	if(ZooWorkerStatus[playerid] == true) LeaveFromZooWorker(playerid, 1);
	if(VolunteerStatus[playerid] == true) LeaveFromVolunteer(playerid, 1);
	if(FarmDuty[playerid] > 0 && FarmWorking[playerid] != -1) LeaveFromFarm(playerid, FarmWorking[playerid], 1);
	if(ServiceDuty[playerid] > 0 && ServiceWorking[playerid] != -1) LeaveFromService(playerid, ServiceWorking[playerid], 1);
	if(DisguiseInfo[playerid]) LeaveFromDisguise(playerid, 1);
	if(FollowPlayer[playerid] != MAX_PLAYERS-1) ResetFollowToPlayer(playerid, FollowPlayer[playerid]);
	if(GetPVarInt(playerid, "CasinoOffered") != -1)
	{
	    new scdplayerid = GetPVarInt(playerid, "CasinoOffered");
	    if(GetPVarInt(scdplayerid, "CasinoOffer") != playerid) return 1;
	    if(GetPVarInt(playerid, "CasinoOffered") != scdplayerid) return 1;
	    SendMes(playerid, COLOR_MAIN, "Предложение сыграть в кости отменено, Вы вышли из здания.");
	    SendMes(scdplayerid, COLOR_MAIN, "Игрок которому Вы предложили сыграть в кости вышел из здания.");
		SetPVarInt(playerid, "CasinoOffered", -1), DeletePVar(playerid, "CasinoRate");
		SetPVarInt(scdplayerid, "CasinoOffer", -1), DeletePVar(scdplayerid, "CasinoRate");
	}
	if(GetPVarInt(playerid, "CasinoOffer") != -1)
	{
	    new scdplayerid = GetPVarInt(playerid, "CasinoOffer");
	    if(GetPVarInt(scdplayerid, "CasinoOffered") != playerid) return 1;
	    if(GetPVarInt(playerid, "CasinoOffer") != scdplayerid) return 1;
	    SendMes(playerid, COLOR_MAIN, "Ваше предложение сыграть в кости отменено, Вы вышли из здания.");
	    SendMes(scdplayerid, COLOR_MAIN, "Игрок который Вам предложил сыграть в кости вышел из здания.");
		SetPVarInt(playerid, "CasinoOffer", -1), DeletePVar(playerid, "CasinoRate");
		SetPVarInt(scdplayerid, "CasinoOffered", -1), DeletePVar(scdplayerid, "CasinoRate");
	}
    if(RegisterRace[playerid] == 2)
	{
		for(new i = 0; i < MAX_RACE_PLAYERS; i++)
		{
			if(RacePlayers[i] == playerid)
			{
				SetPlayerVirtualWorld(RacePlayers[i], 0);
				SetPlayerInterior(RacePlayers[i], 0);
				SetPlayerPos(RacePlayers[i], 1957.3762,-2181.5291,13.5469);
				SetPlayerFacingAngle(RacePlayers[i], 268.9459);
				DisablePlayerRaceCheckpoint(RacePlayers[i]);
				RegisterRace[RacePlayers[i]] = 0;
				RacePlayers[i] = INVALID_PLAYER_ID;
				DestroyVehicle(RaceVehicles[i]);
				SetPlayerControl(RaceVehicles[i], true);
				SendMes(playerid, COLOR_MAIN, "Вы были дисквалифицированны с гонки.");
			}
		}
	}
	if(RegisterDerby[playerid] == 2)
	{
		for(new i = 0; i < MAX_DERBY_PLAYERS; i++)
		{
			if(DerbyPlayers[i] == playerid)
			{
				SetPlayerVirtualWorld(DerbyPlayers[i], 0);
				SetPlayerInterior(DerbyPlayers[i], 0);
				SetPlayerPos(DerbyPlayers[i], -1545.9233,-442.2566,6.0000);
				SetPlayerFacingAngle(DerbyPlayers[i], 43.6337);
				RegisterDerby[DerbyPlayers[i]] = 0;
				DerbyPlayers[i] = INVALID_PLAYER_ID;
				DestroyVehicle(DerbyVehicles[i]);
				SetPlayerControl(DerbyVehicles[i], true);
				SendMes(playerid, COLOR_MAIN, "Вы были дисквалифицированны с дерби.");
			}
		}
	}
    if(RegisterPaintBall[playerid] == 2)
	{
        PaintBallDeaths[playerid]++;
        if(PaintBallLeaderID == playerid)
		{
		    format(strings, sizeof(strings), "RANK: %d / KILLS: %d / DEATHS: %d", PaintBallRank[playerid], PaintBallKills[playerid], PaintBallDeaths[playerid]);
			TextDrawSetString(PaintBallLeaderInfo[1], strings);
        }
		format(strings, sizeof(strings), "RANK: %d / KILLS: %d / DEATHS: %d", PaintBallRank[playerid], PaintBallKills[playerid], PaintBallDeaths[playerid]);
		PlayerTextDrawSetString(playerid, PaintBallMyStats[1], strings);
		new idx;
    	for(new i = 0; i < MAX_PAINTBALL_PLAYERS; i++)
		{
			if(PaintBallPlayers[i] == playerid)
			{
				idx = random(35);
				SetPlayerPos(PaintBallPlayers[i], PaintBallPlayersCoord[EventMap][idx][0], PaintBallPlayersCoord[EventMap][idx][1], PaintBallPlayersCoord[EventMap][idx][2]);
				SetPlayerFacingAngle(PaintBallPlayers[i], PaintBallPlayersCoord[EventMap][idx][3]);
				if(EventMap == 2) SetPlayerInterior(PaintBallPlayers[i], 10);
				else SetPlayerInterior(PaintBallPlayers[i], 0);
				SetPlayerVirtualWorld(PaintBallPlayers[i], 500);
				PaintBallWeaponID[PaintBallPlayers[i]] = PaintBallWeapon[PaintBallRank[PaintBallPlayers[i]]];
				GiveWeapon(PaintBallPlayers[i], PaintBallWeaponID[PaintBallPlayers[i]], 99999);
			}
		}
    }
	if(GetPVarInt(playerid, "WaitBus"))
	{
		DeletePVar(playerid, "SVWONE"), DeletePVar(playerid, "SVWTWO"), DeletePVar(playerid, "SVWTHREE");
		DeletePVar(playerid, "WaitBus");
	}
	/*if(GetPVarInt(playerid, "GymTraining")) LeaveFromGym(playerid, 1, 1);
	if(GetPVarInt(playerid, "GymTrainingStyde")) LeaveFromGym(playerid, 2, 1);*/
	new gunname[32];
	GetWeaponName(reason, gunname, sizeof(gunname));
	if(GetPlayerWeapon(reason) == 18) strmid(gunname, "Molotov Cocktail", 0, strlen("Molotov Cocktail"));
	if(strlen(gunname) > 1 && killerid != 65535)
	{
		format(strings, sizeof(strings), "[A] %s [%d] убил игрока %s [%d] с %s.", PlayerInfo[killerid][pName], killerid, PlayerInfo[playerid][pName], playerid, gunname);
		SendAdminMessage(COLOR_LRED, strings, 5);
	}
	else if(killerid != INVALID_PLAYER_ID && strlen(gunname) < 1)
	{
		format(strings, sizeof(strings), "[A] %s [%d] убил игрока %s [%d] кулаками.", PlayerInfo[killerid][pName], killerid, PlayerInfo[playerid][pName], playerid);
		SendAdminMessage(COLOR_LRED, strings, 5);
	}
	else if(killerid == INVALID_PLAYER_ID || killerid == 65535)
	{
		format(strings, sizeof(strings), "[A] %s [%d] потрачено.", PlayerInfo[playerid][pName], playerid);
		SendAdminMessage(COLOR_LRED, strings, 5);
	}
    if(killerid != INVALID_PLAYER_ID || killerid != 65535)
	{
		if(IsAGang(killerid) && IsAGang(playerid))
		{
			new gangkiller = 1000, gangkill = 1000;
			/*if(IsAZonePlayer(killerid, GZInfo[CaptureZone][gPos][0], GZInfo[CaptureZone][gPos][1], GZInfo[CaptureZone][gPos][2], GZInfo[CaptureZone][gPos][3])) gangkiller = PlayerInfo[killerid][pMember];
			if(IsAZonePlayer(playerid, GZInfo[CaptureZone][gPos][0], GZInfo[CaptureZone][gPos][1], GZInfo[CaptureZone][gPos][2], GZInfo[CaptureZone][gPos][3])) gangkill = PlayerInfo[playerid][pMember];*/
			// Проверка на нахождения в зоне территории, за которую идет война;
			for(new j = 1; j <= TOTALGZ; j++)
			{
				if(IsAZonePlayer(killerid, GZInfo[j][gPos][0], GZInfo[j][gPos][1], GZInfo[j][gPos][2], GZInfo[j][gPos][3])) gangkiller = PlayerInfo[killerid][pMember];
				if(IsAZonePlayer(playerid, GZInfo[j][gPos][0], GZInfo[j][gPos][1], GZInfo[j][gPos][2], GZInfo[j][gPos][3])) gangkill = PlayerInfo[playerid][pMember];
                if(gangkiller != 1000 && gangkill != 1000) break;
			}
			// Если игроки на территорию, то обновляем счетчик;
			if(gangkiller != gangkill && gangkiller != 1000 && gangkill != 1000)
			{
				if(GangInfo[gangkiller][gCapture] && GangInfo[gangkill][gCapture] == 1)
				{
					GangInfo[gangkiller][gScore] = GangInfo[gangkiller][gScore]+1;
					/*// Показываем килл-лист;
					foreach(new i:Player)
					{
					    if(PlayerLogged[i] == 0 || !IsAGang(i) || (PlayerInfo[i][pMember] != gangkiller && PlayerInfo[i][pMember] != gangkill)) continue;
						SendDeathMessageToPlayer(i, killerid, playerid, reason);
					}*/
				}
			}
		}
		if(IsAMafia(killerid) && IsAMafia(playerid))
		{
			new mafiakiller = 1000, mafiakill = 1000;
			// Проверка на нахождения в зоне территории;
			if(IsAZonePlayer(killerid, MGZX[0], MGZY[0], MGZX[1], MGZY[1])) mafiakiller = PlayerInfo[killerid][pMember];
			if(IsAZonePlayer(playerid, MGZX[0], MGZY[0], MGZX[1], MGZY[1])) mafiakill = PlayerInfo[playerid][pMember];
			if(mafiakiller != mafiakill && mafiakiller != 1000 && mafiakill != 1000 && MafiaWarMafia[mafiakiller] == MafiaWarMafia[mafiakill])
			{
				MafiaWarScore[mafiakiller] = MafiaWarScore[mafiakiller]+1;
				MafiaWarUpdate();
				/*foreach(new i:Player)
				{
				    if(PlayerLogged[i] == 0 || !IsAMafia(i) || (PlayerInfo[i][pMember] != mafiakiller && PlayerInfo[i][pMember] != mafiakill)) continue;
					SendDeathMessageToPlayer(i, killerid, playerid, reason);
				}*/
			}
		}
		if(IsABiker(killerid) && IsABiker(playerid))
		{
			new bikerkiller = 1000, bikerkill = 1000;
			// Проверка на нахождения в зоне территории;
			if(IsAZonePlayer(killerid, BGZX[0], BGZY[0], BGZX[1], BGZY[1])) bikerkiller = PlayerInfo[killerid][pMember];
			if(IsAZonePlayer(playerid, BGZX[0], BGZY[0], BGZX[1], BGZY[1])) bikerkill = PlayerInfo[playerid][pMember];
			if(bikerkiller != bikerkill && bikerkiller != 1000 && bikerkill != 1000 && BikerWarBiker[bikerkiller] == BikerWarBiker[bikerkill])
			{
				BikerWarScore[bikerkiller] = BikerWarScore[bikerkiller]+1;
				BikerWarUpdate();
				/*foreach(new i:Player)
				{
				    if(PlayerLogged[i] == 0 || !IsABiker(i) || (PlayerInfo[i][pMember] != bikerkiller && PlayerInfo[i][pMember] != bikerkill)) continue;
					SendDeathMessageToPlayer(i, killerid, playerid, reason);
				}*/
			}
		}
		if(RegisterPaintBall[killerid] == 2 && RegisterPaintBall[playerid] == 2)
		{
			PaintBallKills[killerid]++;
			format(strings, sizeof(strings), "RANK: %d / KILLS: %d / DEATHS: %d", PaintBallRank[killerid], PaintBallKills[killerid], PaintBallDeaths[killerid]);
			PlayerTextDrawSetString(killerid, PaintBallMyStats[1], strings);
			for(new i = 0; i < 11; i++)
			{
			    if(PaintBallKills[killerid] == PaintBallRanksKills[i])
				{
					PaintBallRank[killerid]++;
	                ResetPlayerWeapons(killerid);
					PaintBallWeaponID[killerid] = PaintBallWeapon[PaintBallRank[killerid]];
					GiveWeapon(killerid, PaintBallWeaponID[killerid], 99999);
				}
			}
			if(PaintBallLeaderKills < PaintBallKills[killerid])
			{
			    PaintBallLeaderKills = PaintBallKills[killerid];
			    if(PaintBallLeaderID != killerid) PaintBallLeaderID = killerid;
				new nickname[MAX_PLAYER_NAME];
				GetPlayerName(killerid, nickname, MAX_PLAYER_NAME);
	   			format(strings, sizeof(strings), "%s", nickname);
				TextDrawSetString(PaintBallLeaderInfo[0], strings);
			    format(strings, sizeof(strings), "RANK: %d / KILLS: %d / DEATHS: %d", PaintBallRank[killerid], PaintBallKills[killerid], PaintBallDeaths[killerid]);
				TextDrawSetString(PaintBallLeaderInfo[1], strings);
			}
			if(PaintBallRank[killerid] == 10 && GetPlayerWeapon(killerid) == 9)
			{
			    if(PaintBallPasses == true)
				{
			        if(PaintBallLeaderID != PaintBallRank[killerid]) PaintBallLeaderID = PaintBallRank[killerid], PaintBallLeaderKills = PaintBallKills[killerid];
				    if(PaintBallLeaderID != killerid) PaintBallLeaderID = killerid;
				    ServerMoney(PaintBallLeaderID, "Победа на пейнтболе", PAINTBALL_PRIZ);
					EndPaintBall();
				}
			}
	    }
		if(UseDuel[killerid] && UseDuel[playerid])
		{
		    if(EnemyDuelID[killerid] == playerid && EnemyDuelID[playerid] == killerid)
		    {
		        SendMes(killerid, COLOR_MAIN, "Вы победили {"#DC_WHITE"}%s{"#DC_MAIN"} в поединке.", PlayerInfo[playerid][pName]);
				ServerMoney(killerid, "Победа в дуэли", RateDuel[killerid], 0);
				SetPlayerPos(killerid, 2443.2434,-1973.6610,13.5469);
				SetPlayerFacingAngle(killerid, 271.6581);
				SetPlayerInterior(killerid, 0);
				SetPlayerVirtualWorld(killerid, 0);
				SetHealth(killerid, 100);
				SetArmour(killerid, 0);
				ResetPlayerWeapon(killerid);
				ResetPlayerWeaponBase(killerid);
				UseDuel[killerid] = false;
				EnemyDuelID[killerid] = INVALID_PLAYER_ID;
				RateDuel[killerid] = 0;
		        SendMes(playerid, COLOR_MAIN, "Вы проиграли {"#DC_WHITE"}%s{"#DC_MAIN"} поединок.", PlayerInfo[killerid][pName]);
				EnemyDuelID[playerid] = INVALID_PLAYER_ID;
		    }
		}
		if(IsAArmy(killerid) && IsACriminal(playerid))
		{
		    if(IsAPPos(playerid, 300.0, 159.7157,1889.0239,19.0838) || IsAPPos(playerid, 150.0, 2131.6697,-85.2036,2.8122))
		    {
				PlayerInfo[killerid][pPayCheck] += 250;
				format(strings, sizeof(strings), "~g~$250");
				GameTextForPlayer(killerid, strings, 5000, 1);
				CheckQuest(killerid, 24);
				CheckTask(killerid, 53);
				CheckAchievement(killerid, 33);
				PlayerInfo[killerid][pData][13]++;
			}
		}
		if(IsACriminal(killerid) && IsAArmy(playerid))
		{
		    if(IsAPPos(playerid, 300.0, 159.7157,1889.0239,19.0838) || IsAPPos(playerid, 150.0, 2131.6697,-85.2036,2.8122))
		    {
   				if(IsAGang(killerid)) CheckQuest(killerid, 40), CheckTask(killerid, 57), CheckAchievement(killerid, 37), PlayerInfo[killerid][pData][17]++;
			}
		}
		if(IsACop(killerid) && (IsAMafia(playerid) || IsABiker(playerid)))
		{
			if(RobberyFuelingIDx[playerid] || RobberyBankIDx[playerid])
			{
				PlayerInfo[killerid][pPayCheck] += 250;
				format(strings, sizeof(strings), "~g~$250");
				GameTextForPlayer(killerid, strings, 5000, 1);
			    CheckQuest(killerid, 27);
			    if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
				RobberyFuelingIDx[playerid] = 0;
				RobberyFuelingTime[playerid] = 0;
				RobberyFuelingLiters[playerid] = 0;
				RobberyBankIDx[playerid] = 0;
				RobberyBankTime[playerid] = 0;
				RobberyBankMoney[playerid] = 0;
			}
		}
		if(IsACop(killerid) && PlayerInfo[playerid][pWanted] > 1 && !RegisterPaintBall[playerid] && PlayerInfo[playerid][pJail] == 0)
		{
		    SetPVarInt(playerid, "ArrestSpawn", 1);
			format(strings, sizeof(strings), "Вы посадили в камеру {"#DC_WHITE"}%s{"#DC_MAIN"} на {"#DC_WHITE"}%d{"#DC_MAIN"} минут(-у/-ы).", PlayerInfo[playerid][pName], (600*PlayerInfo[playerid][pWanted]) / 60);
			SendMes(killerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} посадил Вас в камеру на {"#DC_WHITE"}%d{"#DC_MAIN"} минут(-у/-ы).", FracRank[PlayerInfo[killerid][pMember]][PlayerInfo[killerid][pRank]], PlayerInfo[killerid][pName], (600*PlayerInfo[playerid][pWanted]) / 60);
			SendMes(playerid, COLOR_WHITE, strings);
		}
	}
	if(killerid != INVALID_PLAYER_ID && PlayerInfo[killerid][pJail] == 0)
	{
		if(!IsACop(killerid) && !IsAArmy(killerid) && !IsACriminal(killerid) && !RegisterPaintBall[killerid])
		{
			if(PlayerInfo[killerid][pWanted] >= 6) return 1;
			PlayerInfo[killerid][pWanted] += 2;
			PlayerInfo[killerid][pLaw] -= 2;
			if(PlayerInfo[killerid][pWanted] >= 6) PlayerInfo[killerid][pWanted] = 6;
			SetPlayerWantedLevel(killerid, PlayerInfo[killerid][pWanted]);
			format(strings, sizeof(strings), "[F] %s объявлен в розыск. Причина: Убийство, (+2). Сообщил: Нет", PlayerInfo[killerid][pName]);
			SendGMes(COLOR_LRED, strings, 1);
			SendMes(killerid, COLOR_LRED, "Вы объявлены в розыск. Причина: Убийство, (+2). Сообщил: Неизвестный");
		}
	}
	if(PlayerInfo[playerid][pHealth] < 40) PlayerInfo[playerid][pHealth] = 40;
	SetHealth(playerid, PlayerInfo[playerid][pHealth]);
	return 1;
}
//==============================================================================
public OnPlayerText(playerid, text[])
{
	if(PlayerLogged[playerid] == 0) return 0;
	if(PlayerInfo[playerid][pMute] > 0)
	{
	    SPCB(playerid, "Пытается что-то сказать", COLOR_LPURPLE, 10.0, 1000);
		SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
		return 0;
	}
	if(GetPVarInt(playerid, "AntiFlood") > gettime()) {SendMes(playerid, COLOR_DARKORANGE, "Нельзя писать в чат так часто."); return 0;}
	if(EnterBroadcast[playerid] > 0)
	{
		format(strings, sizeof(strings), "Эфир: %s", text);
		SPCB(playerid, strings, COLOR_LGREEN, 10.0, 10000);
		new newsname[][] = {"Гость", "Ведущий"};
		new newsman = (IsANews(playerid) && PlayerInfo[playerid][pRank] > 3);
		format(strings, sizeof(strings), "[%s] %s %s: {"#DC_WHITE"}%s", FracInfo[EnterBroadcast[playerid] + 7][fName], newsname[newsman], PlayerInfo[playerid][pName], text);
		SendNMes(EnterBroadcast[playerid], COLOR_NEWS, strings);
		SetPVarInt(playerid, "AntiFlood", gettime() + TIME_FLOOD);
		return 0;
	}
	if(Mobile[playerid] != -1)
	{
		format(strings, sizeof(strings), "[Телефон] %s [%d]: %s", PlayerInfo[playerid][pName], playerid, text);
		SRMMC(playerid, 10.0, strings, COLOR_FADE1, COLOR_FADE2, COLOR_FADE3, COLOR_FADE4, COLOR_FADE5);
		if(Mobile[Mobile[playerid]] == playerid) SendMes(Mobile[playerid], COLOR_YELLOW, strings);
		return 0;
	}
	new emotions[64];
	if(strcmp(text, "xD", true) == 0 || strcmp(text, "xd", true) == 0 || strcmp(text, ":В", true) == 0 || strcmp(text, ":в", true) == 0 || strcmp(text, "чВ", true) == 0 || strcmp(text, "хД", true) == 0 || strcmp(text, "хд", true) == 0 )
	{
		format(emotions, sizeof(emotions), "%s смеется", PlayerInfo[playerid][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, emotions);
		return 0;
	}
	if(strcmp(text, "здравия", true) == 0)
	{
		format(emotions, sizeof(emotions), "%s отдал(-а) честь", PlayerInfo[playerid][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, emotions);
		return 0;
	}
	if(strcmp(text, ";)", true) == 0 || strcmp(text, ";-)", true) == 0)
	{
		format(emotions, sizeof(emotions), "%s подмигнул(-а)", PlayerInfo[playerid][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, emotions);
		return 0;
	}
	if(strcmp(text, ":с", true) == 0 || strcmp(text, ":C", true) == 0)
	{
		format(emotions, sizeof(emotions), "%s огорчен(-а)", PlayerInfo[playerid][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, emotions);
		return 0;
	}
	if(strcmp(text, "хДД", true) == 0 || strcmp(text, "xDD", true) == 0)
	{
		format(emotions, sizeof(emotions), "%s валяется от смеха", PlayerInfo[playerid][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, emotions);
		return 0;
	}
	if(strcmp(text, ")", true) == 0 || strcmp(text, "))", true) == 0  || strcmp(text, ":)", true) == 0  || strcmp(text, "=)", true) == 0)
	{
		format(emotions, sizeof(emotions), "%s улыбается", PlayerInfo[playerid][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, emotions);
		return 0;
	}
	if(strcmp(text, ":D", true) == 0)
	{
		format(emotions, sizeof(emotions), "%s хохочет во весь голос", PlayerInfo[playerid][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, emotions);
		return 0;
	}
	if(strcmp(text, "(", true) == 0 || strcmp(text, "((", true) == 0 || strcmp(text, ":(", true) == 0  || strcmp(text, "=(", true) == 0)
	{
		format(emotions, sizeof(emotions), "%s грустит", PlayerInfo[playerid][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, emotions);
		return 0;
	}
	if(IsAGang(playerid) || IsABiker(playerid))
	{
		if(strcmp(text, "ку", true) == 0 || strcmp(text, "привет", true) == 0 || strcmp(text, "здарова", true) == 0)
		{
			format(strings, sizeof(strings), "%s показал(-а) распальцовку \"%s\"", PlayerInfo[playerid][pName], FracInfo[PlayerInfo[playerid][pMember]][fName]);
			SRM(playerid, 10.0, COLOR_LPURPLE, strings);
			ApplyAnimation(playerid, "GHANDS", "gsign1LH", 4.0, 0, 0, 0, 0, 0, 1);
			return 0;
		}
	}
	format(strings, sizeof(strings), "- %s [%d]: %s", PlayerInfo[playerid][pName], playerid, text);
	SRMMC(playerid, 10.0, strings, COLOR_GRAD5, COLOR_GRAD4, COLOR_GRAD3, COLOR_GRAD2, COLOR_GRAD1);
	SPCB(playerid, text, COLOR_NEWGREEN, 10.0, 10000);
	if(GetPVarInt(playerid, "UseAnim") == 0)
	{
		ApplyAnimation(playerid, "PED", "IDLE_CHAT", 8.1, 0, 1, 1, 1, 1);
		SetTimerEx("OnPlayerClearAnimText", 1500, false, "d", playerid);
	}
	SetPVarInt(playerid, "AntiFlood", gettime() + TIME_FLOOD);
	return 0;
}
//==============================================================================
public OnPlayerStateChange(playerid, newstate, oldstate)
{
    SetHealth(playerid, PlayerInfo[playerid][pHealth]);
	new vehicleid = GetPlayerVehicleID(playerid);
	CheckCarSlap(playerid, newstate);
	if(Freeze[playerid] == 1)
	{
		SetPlayerControl(playerid, false);
		ApplyAnimation(playerid, "CRACK", "crckdeth2", 4.1, 0, 0, 0, 1, 0, 1);
	}
	if(newstate == 2 && oldstate == 1) AntiCheatTime[playerid] = GetTickCount();
	if(newstate == 1 && oldstate == 2)
	{
		if((GetTickCount() - AntiCheatTime[playerid]) < 500) return Kick(playerid);
	}
	if(oldstate == PLAYER_STATE_DRIVER)
	{
		HideSpeedometer(playerid);
		PlayerInfo[playerid][pTemp][13] = 0;
		if(Patrul[playerid] != -1)
		{
			Patrolled[Patrul[playerid]] = -1;
			Patrul[playerid] = -1;
			DisablePlayerRaceCheckpoint(playerid);
		}
		if(FarmStart[playerid] > 0)
		{
			DisablePlayerRaceCheckpoint(playerid);
			FarmStart[playerid] = 0;
		}
		if(FarmSeedStatus[playerid] > 0)
		{
			DisablePlayerRaceCheckpoint(playerid);
			FarmSeedStatus[playerid] = 0;
		}
	}
	if(oldstate == PLAYER_STATE_PASSENGER)
    {
		SavePlayerWeapon(playerid, 1);
		ResetPlayerWeapon(playerid);
		LoadPlayerWeapon(playerid);
        SetPlayerArmedWeapon(playerid, 0);
    }
	new minute, second;
	gettime(minute, minute, second);
	if(newstate == 2)
	{
		new Float:vehz;
		GetVehiclePos(vehicleid, vehz, vehz, vehz);
		if(vehz > 3000.000)
		{
			SetVehicleToRespawn(vehicleid);
		}
	}
	switch(newstate)
	{
		case 1: // Игрок пешком;
		{
		}
		case 2: // Игрок в машине, на месте водителя (можно писать PLAYER_STATE_DRIVER);
		{
			new model = GetPlayerVehicleSeat(playerid);
			if(model != 128)
			{
				if(!model)
				{
					model = GetVehicleModel(vehicleid);
					if(!(400 <= model <= 611) || MaxPassengers[model - 400 >>> 3] >>> ((model - 400 & 7) << 2) & 0xF == 15) return Kick(playerid);
				}
				else return Kick(playerid);
			}
			SetPlayerArmedWeapon(playerid, 0);
			if(GetVehicleModel(vehicleid) != 462 && !IsAPlane(vehicleid) && !IsABoat(vehicleid) && !IsABike(vehicleid))
			{
				if(PlayerInfo[playerid][pLic][0] != 1)
				{
					if(GetPVarInt(playerid, "LicTest") != 1 && GetPVarInt(playerid, "LicTest") != 2 && VehInfo[vehicleid][vFraction] != V_LICENSE)
					{
						SendMes(playerid, COLOR_DARKORANGE, "У Вас нет водительских прав.");
						RemoveFromVehicle(playerid);
						return 1;
					}
				}
			}
			if(IsABoat(vehicleid))
			{
				if(PlayerInfo[playerid][pLic][1] != 1)
				{
					SendMes(playerid, COLOR_DARKORANGE, "У Вас нет лицензии на морской транспорт.");
					RemoveFromVehicle(playerid);
					return 1;
				}
			}
			if(IsAPlane(vehicleid))
			{
				if(PlayerInfo[playerid][pLic][2] != 1)
				{
					SendMes(playerid, COLOR_DARKORANGE, "У Вас нет лицензии на воздушный транспорт.");
					RemoveFromVehicle(playerid);
					return 1;
				}
			}
			new v = vehicleid;
			new VehInfoF = VehInfo[v][vFraction];
			if(VehInfo[v][vFraction] > 0 && CreateCar[vehicleid] == false)
			{
			    if((GetPVarInt(playerid, "LicTest") == 2 || PlayerInfo[playerid][pMember] == F_DRIVING_SF) && VehInfo[v][vFraction] == V_LICENSE)
				{
				    if(GetPVarInt(playerid, "LicTest") == 2)
				    {
						if(GetPVarInt(playerid, "pGPSWork"))
						{
							DisablePlayerRaceCheckpoint(playerid);
							SetPVarInt(playerid, "pGPSWork", 0);
							DeletePVar(playerid, "GPSX");
							DeletePVar(playerid, "GPSY");
							DeletePVar(playerid, "GPSZ");
							DeletePVar(playerid, "GPSID");
						}
						SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Практическая часть", "{"#DC_WHITE"}Вы приступили к сдаче экзамена на получение водительского\nудостоверения.\n\nВаши задачи:\n• Двигаться по маршруту, соблюдая правила дорожного движения;\n• Избегать столкновений со встречным транспортом;\n\nЕсли Вы допустите более 3 ошибок, экзамен будет провален.", "Начать", "");
						SetPVarInt(playerid, "LicStart", 1);
						CHECKPOINT = 0;
						new i = CHECKPOINT;
						SetPlayerRaceCheckpoint(playerid, 0, LicTest[i][0], LicTest[i][1], LicTest[i][2], 0, 0, 0, 2.0);
					}
				}
				else if(VehInfo[v][vFraction] == V_RENT_VEHICLE && ArendsCar[playerid] != v)
				{
					if(GetPVarInt(playerid, "RentTaxi") && GetPVarInt(playerid, "RentTaxi") != vehicleid || GetPVarInt(playerid, "RentBus") && GetPVarInt(playerid, "RentBus") != vehicleid ||
						GetPVarInt(playerid, "RentMechanic") && GetPVarInt(playerid, "RentMechanic") != vehicleid || GetPVarInt(playerid, "RentProduct") && GetPVarInt(playerid, "RentProduct") != vehicleid ||
						GetPVarInt(playerid, "RentPilot") && GetPVarInt(playerid, "RentPilot") != vehicleid || GetPVarInt(playerid, "RentPizzaboy") && GetPVarInt(playerid, "RentPizzaboy") != vehicleid ||
						GetPVarInt(playerid, "RentPostman") && GetPVarInt(playerid, "RentPostman") != vehicleid || GetPVarInt(playerid, "RentFlowersboy") && GetPVarInt(playerid, "RentFlowersboy") != vehicleid ||
						GetPVarInt(playerid, "RentRoadman") && GetPVarInt(playerid, "RentRoadman") != vehicleid || GetPVarInt(playerid, "RentCollector") && GetPVarInt(playerid, "RentCollector") != vehicleid ||
						GetPVarInt(playerid, "RentTax") && GetPVarInt(playerid, "RentTax") != vehicleid || GetPVarInt(playerid, "RentFire") && GetPVarInt(playerid, "RentFire") != vehicleid ||
						GetPVarInt(playerid, "RentTruck") && GetPVarInt(playerid, "RentTruck") != vehicleid || GetPVarInt(playerid, "RentVehicle") && GetPVarInt(playerid, "RentVehicle") != vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent"), RemoveFromVehicle(playerid);
					new price;
					if(GetVehicleModel(v) == 462) price = 250;
					else price = GetVehicleClass(GetVehicleModel(v)) * 2500;
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете арендовать этот транспорт?\n\nСтоимость: $%d.", price);
					SPD(playerid, did_arend_vehicle, DSM, "{"#DC_MAIN"}Аренда", totalstring, "Да", "Нет");
					SetPVarInt(playerid, "VehiclePriceArend", price);
				}
				else if(VehInfo[v][vFraction] == V_SELL_VEHICLE)
				{
					new vmodel = GetVehicleModel(v);
					totalstring = "";
		        	format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
					Название: %s\n\
					Модель: %d\n\
					Стоимость: $%d", VehicleNameS[vmodel-400], vmodel, GetVehiclePrice(vmodel));
					SPD(playerid, did_buyvehicle, DSM, "{"#DC_MAIN"}Покупка транспорта", totalstring, "Купить", "Отмена");
				}
				else if(PlayerInfo[playerid][pMember] == VehInfo[v][vFraction] || PlayerInfo[playerid][pJob] == VehInfoF-100)
				{
				    switch(VehInfo[v][vStatus])
					{
						case V_J_TAXI:
						{
							if(GetPVarInt(playerid, "RentVehicle") && GetPVarInt(playerid, "RentVehicle") != vehicleid || GetPVarInt(playerid, "RentTaxi") && GetPVarInt(playerid, "RentTaxi") != vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent"), RemoveFromVehicle(playerid);
							if(GetPVarInt(playerid, "RentTaxi") != vehicleid)
							{
								new price = 250;
								if(GetVehicleModel(vehicleid) == 420) price = 500;
								totalstring = "";
								format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете арендовать этот транспорт?\n\nСтоимость: $%d.", price);
								SPD(playerid, did_arend_job, DSM, "{"#DC_MAIN"}Аренда", totalstring, "Да", "Нет");
								SetPVarInt(playerid, "VehiclePriceArend", price);
							}
						}
						case V_J_BUS:
						{
							if(GetPVarInt(playerid, "RentVehicle") && GetPVarInt(playerid, "RentVehicle") != vehicleid || GetPVarInt(playerid, "RentBus") && GetPVarInt(playerid, "RentBus") != vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent"), RemoveFromVehicle(playerid);
							if(GetPVarInt(playerid, "RentBus") != vehicleid)
							{
								new price = 250;
								totalstring = "";
								format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете арендовать этот транспорт?\n\nСтоимость: $%d.", price);
								SPD(playerid, did_arend_job, DSM, "{"#DC_MAIN"}Аренда", totalstring, "Да", "Нет");
								SetPVarInt(playerid, "VehiclePriceArend", price);
							}
							if(GetPVarInt(playerid, "BusType") == 0) SPD(playerid, did_route, DSL, "{"#DC_MAIN"}Маршрут", "{"#DC_MAIN"}1.{"#DC_WHITE"} Автовокзал ЛС - ЖД-ЛС - Автошкола", "Далее", "Отмена");
							if(GetPVarInt(playerid, "BusType") > 0)
							{
							    new type = GetPVarInt(playerid, "BusType") - 1, i = CHECKPOINT;
							    switch(type)
							    {
									case 0: SetPlayerRaceCheckpoint(playerid, 0, LS_AutoSchool[i][mPosX], LS_AutoSchool[i][mPosY], LS_AutoSchool[i][mPosZ]-1.5, LS_AutoSchool[i+1][mPosX], LS_AutoSchool[i+1][mPosY], LS_AutoSchool[i+1][mPosZ]-1.5, 5.0);
								}
							}
						}
						case V_J_MECHANIC:
						{
							if(GetPVarInt(playerid, "RentVehicle") && GetPVarInt(playerid, "RentVehicle") != vehicleid || GetPVarInt(playerid, "RentMechanic") && GetPVarInt(playerid, "RentMechanic") != vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent"), RemoveFromVehicle(playerid);
							if(GetPVarInt(playerid, "RentMechanic") != vehicleid)
							{
								new price = 500;
								totalstring = "";
								format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете арендовать этот транспорт?\n\nСтоимость: $%d.", price);
								SPD(playerid, did_arend_job, DSM, "{"#DC_MAIN"}Аренда", totalstring, "Да", "Нет");
								SetPVarInt(playerid, "VehiclePriceArend", price);
							}
						}
						case V_J_PRODUCT, V_FUELPRODUCT:
						{
						    if(GetPVarInt(playerid, "RentVehicle") && GetPVarInt(playerid, "RentVehicle") != vehicleid || GetPVarInt(playerid, "RentProduct") && GetPVarInt(playerid, "RentProduct") != vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent"), RemoveFromVehicle(playerid);
							if(GetPVarInt(playerid, "RentProduct") != vehicleid)
							{
								new price = 500;
								if(GetVehicleModel(vehicleid) == 499 || GetVehicleModel(vehicleid) == 514) price = 1000;
								else if(GetVehicleModel(vehicleid) == 440 || GetVehicleModel(vehicleid) == 515) price = 2000;
								else price = 500;
								totalstring = "";
								format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете арендовать этот транспорт?\n\nСтоимость: $%d.", price);
								SPD(playerid, did_arend_job, DSM, "{"#DC_MAIN"}Аренда", totalstring, "Да", "Нет");
								SetPVarInt(playerid, "VehiclePriceArend", price);
							}
						}
						case V_J_ROADMAN:
						{
						    if(RoadmanStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны начать рабочий день."), RemoveFromVehicle(playerid);
                            if(GetPVarInt(playerid, "RentVehicle") && GetPVarInt(playerid, "RentVehicle") != vehicleid || GetPVarInt(playerid, "RentRoadman") && GetPVarInt(playerid, "RentRoadman") != vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent"), RemoveFromVehicle(playerid);
							if(!GetPVarInt(playerid, "RentRoadman"))
							{
								new price = 1000;
								totalstring = "";
								format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете арендовать этот транспорт?\n\nСтоимость: $%d.", price);
								SPD(playerid, did_arend_job, DSM, "{"#DC_MAIN"}Аренда", totalstring, "Да", "Нет");
								SetPVarInt(playerid, "VehiclePriceArend", price);
							}
						}
						case V_J_PILOT:
						{
						    if(GetPVarInt(playerid, "RentVehicle") && GetPVarInt(playerid, "RentVehicle") != vehicleid || GetPVarInt(playerid, "RentPilot") && GetPVarInt(playerid, "RentPilot") != vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent"), RemoveFromVehicle(playerid);
							if(!GetPVarInt(playerid, "RentPilot"))
							{
								new price = 5000;
								totalstring = "";
								format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете арендовать этот транспорт?\n\nСтоимость: $%d.", price);
								SPD(playerid, did_arend_job, DSM, "{"#DC_MAIN"}Аренда", totalstring, "Да", "Нет");
								SetPVarInt(playerid, "VehiclePriceArend", price);
							}
						}
						case V_J_PIZZABOY:
						{
						    if(PizzaboyStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны начать рабочий день."), RemoveFromVehicle(playerid);
                            if(GetPVarInt(playerid, "RentVehicle") && GetPVarInt(playerid, "RentVehicle") != vehicleid || GetPVarInt(playerid, "RentPizzaboy") && GetPVarInt(playerid, "RentPizzaboy") != vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent"), RemoveFromVehicle(playerid);
							if(!GetPVarInt(playerid, "RentPizzaboy"))
							{
								new price = 250;
								totalstring = "";
								format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете арендовать этот транспорт?\n\nСтоимость: $%d.", price);
								SPD(playerid, did_arend_job, DSM, "{"#DC_MAIN"}Аренда", totalstring, "Да", "Нет");
								SetPVarInt(playerid, "VehiclePriceArend", price);
							}
                        	else if(PizzaboyIDx[playerid] != -1) SetHouseCheckpoint(playerid, 1, PizzaboyIDx[playerid]);
						}
						case V_J_POSTMAN:
						{
						    if(PostmanStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны начать рабочий день."), RemoveFromVehicle(playerid);
                            if(GetPVarInt(playerid, "RentVehicle") && GetPVarInt(playerid, "RentVehicle") != vehicleid || GetPVarInt(playerid, "RentPostman") && GetPVarInt(playerid, "RentPostman") != vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent"), RemoveFromVehicle(playerid);
							if(!GetPVarInt(playerid, "RentPostman"))
							{
								new price = 250;
								totalstring = "";
								format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете арендовать этот транспорт?\n\nСтоимость: $%d.", price);
								SPD(playerid, did_arend_job, DSM, "{"#DC_MAIN"}Аренда", totalstring, "Да", "Нет");
								SetPVarInt(playerid, "VehiclePriceArend", price);
							}
                        	else if(PostmanIDx[playerid] != -1) SetHouseCheckpoint(playerid, 2, PostmanIDx[playerid]);
						}
						case V_J_TAX:
						{
						    if(TaxStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны начать рабочий день."), RemoveFromVehicle(playerid);
                            if(GetPVarInt(playerid, "RentVehicle") && GetPVarInt(playerid, "RentVehicle") != vehicleid || GetPVarInt(playerid, "RentTax") && GetPVarInt(playerid, "RentTax") != vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent"), RemoveFromVehicle(playerid);
							if(!GetPVarInt(playerid, "RentTax"))
							{
								new price = 2500;
								totalstring = "";
								format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете арендовать этот транспорт?\n\nСтоимость: $%d.", price);
								SPD(playerid, did_arend_job, DSM, "{"#DC_MAIN"}Аренда", totalstring, "Да", "Нет");
								SetPVarInt(playerid, "VehiclePriceArend", price);
							}
                        	else if(TaxIDx[playerid] != -1) SetHouseCheckpoint(playerid, 3, TaxIDx[playerid]);
						}
						case V_J_COLLECTOR:
						{
						    if(CollectorStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны начать рабочий день."), RemoveFromVehicle(playerid);
                            if(GetPVarInt(playerid, "RentVehicle") && GetPVarInt(playerid, "RentVehicle") != vehicleid || GetPVarInt(playerid, "RentCollector") && GetPVarInt(playerid, "RentCollector") != vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent"), RemoveFromVehicle(playerid);
							if(!GetPVarInt(playerid, "RentCollector"))
							{
								new price = 2500;
								totalstring = "";
								format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете арендовать этот транспорт?\n\nСтоимость: $%d.", price);
								SPD(playerid, did_arend_job, DSM, "{"#DC_MAIN"}Аренда", totalstring, "Да", "Нет");
								SetPVarInt(playerid, "VehiclePriceArend", price);
							}
                        	else if(CollectorIDx[playerid] != -1) SetATMCheckpoint(playerid, CollectorIDx[playerid]);
						}
						case V_J_FLOWERSBOY:
						{
						    if(FlowersboyStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны начать рабочий день."), RemoveFromVehicle(playerid);
                            if(GetPVarInt(playerid, "RentVehicle") && GetPVarInt(playerid, "RentVehicle") != vehicleid || GetPVarInt(playerid, "RentFlowersboy") && GetPVarInt(playerid, "RentFlowersboy") != vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent"), RemoveFromVehicle(playerid);
							if(!GetPVarInt(playerid, "RentFlowersboy"))
							{
								new price = 250;
								totalstring = "";
								format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете арендовать этот транспорт?\n\nСтоимость: $%d.", price);
								SPD(playerid, did_arend_job, DSM, "{"#DC_MAIN"}Аренда", totalstring, "Да", "Нет");
								SetPVarInt(playerid, "VehiclePriceArend", price);
							}
                        	else if(FlowersboyIDx[playerid] != -1) SetHouseCheckpoint(playerid, 4, FlowersboyIDx[playerid]);
						}
						case V_J_FIREMAN:
						{
						    if(FireStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны начать рабочий день."), RemoveFromVehicle(playerid);
                            if(GetPVarInt(playerid, "RentVehicle") && GetPVarInt(playerid, "RentVehicle") != vehicleid || GetPVarInt(playerid, "RentFire") && GetPVarInt(playerid, "RentFire") != vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent"), RemoveFromVehicle(playerid);
							if(!GetPVarInt(playerid, "RentFire"))
							{
								new price = 2500;
								totalstring = "";
								format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете арендовать этот транспорт?\n\nСтоимость: $%d.", price);
								SPD(playerid, did_arend_job, DSM, "{"#DC_MAIN"}Аренда", totalstring, "Да", "Нет");
								SetPVarInt(playerid, "VehiclePriceArend", price);
							}
						}
						case V_J_TRUCK:
						{
						    if(TruckerStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны начать рабочий день."), RemoveFromVehicle(playerid);
                            if(GetPVarInt(playerid, "RentVehicle") && GetPVarInt(playerid, "RentVehicle") != vehicleid || GetPVarInt(playerid, "RentTruck") && GetPVarInt(playerid, "RentTruck") != vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent"), RemoveFromVehicle(playerid);
							if(!GetPVarInt(playerid, "RentTruck"))
							{
								new price = 1000;
								if(GetVehicleModel(vehicleid) == 456) price = 1000;
								else if(GetVehicleModel(vehicleid) == 498) price = 2500;
								else if(GetVehicleModel(vehicleid) == 455) price = 5000;
								else price = 1000;
								totalstring = "";
								format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете арендовать этот транспорт?\n\nСтоимость: $%d.", price);
								SPD(playerid, did_arend_job, DSM, "{"#DC_MAIN"}Аренда", totalstring, "Да", "Нет");
								SetPVarInt(playerid, "VehiclePriceArend", price);
							}
                        	else if(TruckStatus[playerid] != 0)
	                        {
							    if(GetPVarInt(playerid, "pGPSWork") == 1)
								{
									DisablePlayerRaceCheckpoint(playerid);
									SetPVarInt(playerid, "pGPSWork", 0);
									DeletePVar(playerid, "GPSX");
									DeletePVar(playerid, "GPSY");
									DeletePVar(playerid, "GPSZ");
									DeletePVar(playerid, "GPSID");
								}
	                            new index = TruckStatus[playerid] - 1;
	                            if(TruckCheck[playerid] == 1) SetPlayerRaceCheckpoint(playerid, 1, TruckInfo[index][tPos][3], TruckInfo[index][tPos][4], TruckInfo[index][tPos][5], 0, 0, 0, 5);
	                            else SetPlayerRaceCheckpoint(playerid, 1, TruckInfo[index][tPos][0], TruckInfo[index][tPos][1], TruckInfo[index][tPos][2], 0, 0, 0, 5);
	                        }
						}
						case V_GUNCAR:
						{
							format(strings, sizeof(strings), "Ед. оружия в машине: {"#DC_WHITE"}%d из %d.", VehGunInfo[vehicleid][vGunGun], MAX_VEHICLE_GUN);
							SendMes(playerid, COLOR_MAIN, strings);
						}
					}
					if(((VehInfo[v][vFraction] >= 1 && VehInfo[v][vFraction] <= 10) || VehInfo[v][vFraction] == 22) && PlayerInfo[playerid][pDuty] == 0) return RemoveFromVehicle(playerid), SendMes(playerid, COLOR_DARKORANGE, "Для использования транспорта необходимо начать рабочий день.");
					if(VehInfo[v][vFraction] == 7 && (VehInfo[v][vModel] == 425 || VehInfo[v][vModel] == 432 || VehInfo[v][vModel] == 520) && IsAArmy(playerid))
					{
					    new MaxRang = MaxFracRang(PlayerInfo[playerid][pMember]);
						if(PlayerInfo[playerid][pRank] < MaxRang-1) return RemoveFromVehicle(playerid), SendMes(playerid, COLOR_DARKORANGE, "Для использования данного транспорта необходимо быть заместителем или лидером.");
					}
				}
				else if(VehInfo[v][vFraction] == V_FARM && VehInfo[v][vStatus] == FarmWorking[playerid] && FarmDuty[playerid] >= 2)
				{
					new fidx = FarmWorking[playerid], vidx = 0;
					if(FarmInfo[fidx][fVehicle][0] == vehicleid) vidx = 0;
					if(FarmInfo[fidx][fVehicle][1] == vehicleid) vidx = 1;
					if(FarmInfo[fidx][fVehicle][2] == vehicleid)
					{
						if(FarmInfo[fidx][fCornOnField] > 0) return SendClientMessage(playerid, COLOR_DARKORANGE, "На поле еще есть зерно."), RemoveFromVehicle(playerid);
						if(FarmInfo[fidx][fCornCount] <= 0) return SendClientMessage(playerid, COLOR_DARKORANGE, "На складе нет зерна."), RemoveFromVehicle(playerid);
						FarmSeedStatus[playerid] = 1;
						FarmSeedCheckpoint[playerid] = 0;
						GivePlayerSeedCheckPoint(playerid, fidx);
					}
					else if(FarmInfo[fidx][fVehicle][3] == vehicleid || FarmInfo[fidx][fVehicle][4] == vehicleid)
					{
				        SendMes(playerid, COLOR_MAIN, "Зерна в машине: {"#DC_WHITE"}%d из 5000.", VehInfo[vehicleid][vFarmInfo][0]);
				        SendMes(playerid, COLOR_MAIN, "Урожая в машине: {"#DC_WHITE"}%d из 5000.", VehInfo[vehicleid][vFarmInfo][1]);
				        SendMes(playerid, COLOR_MAIN, "Команда: {"#DC_WHITE"}/pmenu - основное меню данного транспортного средства.");
					}
					else
					{
				        SendMes(playerid, COLOR_MAIN, "Урожая в машине: {"#DC_WHITE"}%d из 5000.", VehInfo[vehicleid][vFarmInfo][1]);
				        totalstring = "";
						format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s сбор урожая?", (!FarmCarUsed[fidx][vidx]) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}завершить{"#DC_WHITE"}"));
						SPD(playerid, did_farm_vehicle_harvest, DSM, "{"#DC_MAIN"}Урожай", totalstring, "Да", "Нет");
					}
				}
				else if(VehInfo[v][vFraction] == V_J_CONSTRUCTION_FORKLIFT && ConstructionStatus[playerid] == true)
				{
				    if(ConstructionStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны начать рабочий день."), RemoveFromVehicle(playerid);
                    if(GetPVarInt(playerid, "RentVehicle") && GetPVarInt(playerid, "RentVehicle") != vehicleid || GetPVarInt(playerid, "RentConstruction") && GetPVarInt(playerid, "RentConstruction") != vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent"), RemoveFromVehicle(playerid);
                    if(ConstructionState[playerid] != 6) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет задания перевести ящики."), RemoveFromVehicle(playerid);
                    if(!GetPVarInt(playerid, "RentConstruction"))
					{
						new price = 250;
						totalstring = "";
						format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете арендовать этот транспорт?\n\nСтоимость: $%d.", price);
						SPD(playerid, did_arend_job, DSM, "{"#DC_MAIN"}Аренда", totalstring, "Да", "Нет");
						SetPVarInt(playerid, "VehiclePriceArend", price);
					}
					else
					{
	                    if(ConstructionCountState[playerid] == 0) SetPlayerRaceCheckpoint(playerid, 1, 2419.8196, 1950.3654, 6.0156, 0.0, 0.0, 0.0, 5.0);
	                    else SetPlayerRaceCheckpoint(playerid, 1, 2472.4929, 1942.0122, 10.0748, 0.0, 0.0, 0.0, 5.0);
					}
				}
				else if(VehInfo[v][vFraction] == V_J_CONSTRUCTION_CEMENT && ConstructionStatus[playerid] == true)
				{
				    if(ConstructionStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны начать рабочий день."), RemoveFromVehicle(playerid);
                    if(GetPVarInt(playerid, "RentVehicle") && GetPVarInt(playerid, "RentVehicle") != vehicleid || GetPVarInt(playerid, "RentConstruction") && GetPVarInt(playerid, "RentConstruction") != vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent"), RemoveFromVehicle(playerid);
					if(ConstructionState[playerid] != 7) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет задания перевести цемент."), RemoveFromVehicle(playerid);
                    if(!GetPVarInt(playerid, "RentConstruction"))
					{
						new price = 250;
						totalstring = "";
						format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете арендовать этот транспорт?\n\nСтоимость: $%d.", price);
						SPD(playerid, did_arend_job, DSM, "{"#DC_MAIN"}Аренда", totalstring, "Да", "Нет");
						SetPVarInt(playerid, "VehiclePriceArend", price);
					}
					else
					{
	                    if(ConstructionCountState[playerid] == 0) SetPlayerRaceCheckpoint(playerid, 1, 2706.3994, 908.2089, 10.6606, 0.0, 0.0, 0.0, 5.0);
	                    else SetPlayerRaceCheckpoint(playerid, 1, 2474.2292, 1948.8763, 10.2626, 0.0, 0.0, 0.0, 5.0);
					}
				}
				else if(PlayerInfo[playerid][pMember] != VehInfo[v][vFraction] && PlayerInfo[playerid][pJob] != VehInfo[v][vFraction]-100 && VehInfo[v][vFraction] != V_RENT_VEHICLE)
				{
					SendMes(playerid, COLOR_DARKORANGE, "У Вас нет ключей от этого транспорта.");
					RemoveFromVehicle(playerid);
					return 1;
				}
			}
			else if(VehInfo[v][vFraction] > 0 && CreateCar[vehicleid] == true)
			{
				if(VehInfo[v][vFraction] == V_RENT_VEHICLE && ArendsCar[playerid] != v)
				{
					foreach(new i:Player) if(ArendsCar[i] == vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Этот транспорт уже арендован."), RemoveFromVehicle(playerid);
				}
			}
			if(Engine[vehicleid] == false)
			{
				if(IsABike(vehicleid) || IsABoat(vehicleid) || IsAPlane(vehicleid))
				{
					GetVehicleParamsEx(vehicleid, engine, lights, alarm, doors, bonnet, boot, objective);
					SetVehicleParamsEx(vehicleid, VEHICLE_PARAMS_ON, lights, alarm, doors, bonnet, boot, objective);
				}
				else
				{
					SendMes(playerid, COLOR_NEWGREEN, "Чтобы завести двигатель, нажмите {"#DC_WHITE"}\"ALT\"{"#DC_NEWGREEN"} или введите {"#DC_WHITE"}\"/en\".");
					SendMes(playerid, COLOR_NEWGREEN, "Чтобы изменить параметры фар, введите {"#DC_WHITE"}\"/lig\".");
					SendMes(playerid, COLOR_NEWGREEN, "Чтобы изменить параметры ограничителя, введите {"#DC_WHITE"}\"/lim\".");
				}
			}
			if(!IsAPlane(vehicleid) && !IsABoat(vehicleid) && !IsABike(vehicleid))
			{
			    ShowSpeedometer(playerid);
			}
			if((newstate == 2 && oldstate == 3) || (newstate == 3 && oldstate == 2)  || (newstate == 2 && oldstate == 2))
			{
				SetPVarInt(playerid, "AC124", GetPVarInt(playerid, "AC124")+1);
				if(GetPVarInt(playerid, "AC124") >= 3)
				{
					SetVehicleToRespawn(vehicleid);
				}
			}
		}
		case 3: // Игрок в машине, на месте пассажира - (можно писать PLAYER_STATE_PASSENGER);
		{
			foreach(new i:Player)
			{
				if(PlayerLogged[i] == 0) continue;
				if(IsPlayerInVehicle(i, vehicleid) && GetPlayerState(i) == 2)
				{
					if(GetPVarInt(i, "TaxiJob") > 0)
					{
					    if(TaxiPassenger[i] == INVALID_PLAYER_ID)
					    {
							TaxiDriver[playerid] = i;
							TaxiPassenger[i] = playerid;
							TaxiTime[i] = gettime() + 120;
							SendMes(i, COLOR_MAIN, "Пассажир сел в ваше такси.");
						}
					}
				}
			}
		}
		case 4: // Игрок вышел из машины;
		{
		}
		case 5: // Игрок сел в машину на место водителя;
		{
		}
		case 6: // Игрок сел в машину на место пассажира;
		{
		}
		case 7: // Игрок выбирает скин (можно писать PLAYER_STATE_WASTED);
		{
		}
		case 8: // Игрок возродился (можно писать PLAYER_STATE_SPAWNED);
		{
		}
		case 9: // Игрок наблюдает с помощью функции SPECTATING (можно писать PLAYER_STATE_SPECTATING);
		{
			if(PlayerLogged[playerid] == 0 || PlayerSpawned[playerid] == 0 || UseRegister[playerid] == true) return 1;
		}
	}
	return 1;
}
//==============================================================================
public OnPlayerEnterVehicle(playerid, vehicleid, ispassenger)
{
    GetPlayerHealth(playerid, PlayerInfo[playerid][pHealth]);
    SetHealth(playerid, PlayerInfo[playerid][pHealth]);
    if(IsLocked[vehicleid] == true) return SendMes(playerid, COLOR_DARKORANGE, "Транспортное средство закрыто. Открыть: /lock"), ClearAnimations(playerid), 0;
    if(!ispassenger)
    {
        if(IsVehicleOccupiedEx(vehicleid))
        {
            ClearAnimations(playerid);
			SendMes(playerid, COLOR_DARKORANGE, "Транспортное средство занято.");
            return 0;
        }
    }
    if(TrainmanIDx[playerid] != 0 || ConstructionCountState[playerid] != 0 && ConstructionState[playerid] == 1 || ConstructionCountState[playerid] != 0 && ConstructionState[playerid] == 2 || ConstructionCountState[playerid] != 0 && ConstructionState[playerid] == 3) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент Вы не можете сесть в транспортное средство."), ClearAnimations(playerid);
    PlayerInfo[playerid][pTemp][13]++;
	PlayerInfo[playerid][pTemp][1] = gettime();
	if(Freeze[playerid] == 1)
	{
		SetPlayerControl(playerid, false);
		ApplyAnimation(playerid, "CRACK", "crckdeth2", 4.1, 0, 0, 0, 1, 0, 1);
	}
	GunCheckTime[playerid] = 5;
	GetVehiclePos(vehicleid, VehiclePos[vehicleid][0], VehiclePos[vehicleid][1], VehiclePos[vehicleid][2]);
	SavePlayerWeapon(playerid, 1);
	ResetPlayerWeapon(playerid);
	LoadPlayerWeapon(playerid);
    SetPlayerArmedWeapon(playerid, 0);
	return 1;
}
//==============================================================================
public OnPlayerExitVehicle(playerid, vehicleid)
{
    SetPVarInt(playerid, "AFK_Time", 0);
	GunCheckTime[playerid] = 5;
	if(Freeze[playerid] == 1)
	{
		SetPlayerControl(playerid, false);
		ApplyAnimation(playerid, "CRACK", "crckdeth2", 4.1, 0, 0, 0, 1, 0, 1);
	}
	if((GetPVarInt(playerid, "LicTest") == 1 || GetPVarInt(playerid, "LicTest") == 2) && VehInfo[vehicleid][vFraction] == V_LICENSE)
	{
		SendMes(playerid, COLOR_LRED, "У Вас есть 30 секунд, чтобы вернуться в транспорт.");
		DisablePlayerRaceCheckpoint(playerid);
		SetPVarInt(playerid, "LicTimer", 30);
	}
	if(VehInfo[vehicleid][vFraction] == V_J_TAXI && ArendsCar[playerid] == vehicleid)
	{
		SendMes(playerid, COLOR_LRED, "У Вас есть 3 минуты, чтобы вернуться в транспорт.");
		SetPVarInt(playerid, "TaxiTimer", 180);
	}
	if(VehInfo[vehicleid][vFraction] == V_J_BUS && ArendsCar[playerid] == vehicleid)
	{
		SendMes(playerid, COLOR_LRED, "У Вас есть 3 минуты, чтобы вернуться в транспорт.");
		SetPVarInt(playerid, "BusTimer", 180);
	}
	if(VehInfo[vehicleid][vFraction] == V_J_MECHANIC && ArendsCar[playerid] == vehicleid)
	{
		SendMes(playerid, COLOR_LRED, "У Вас есть 3 минуты, чтобы вернуться в транспорт.");
		SetPVarInt(playerid, "MehTimer", 180);
	}
	if((VehInfo[vehicleid][vFraction] == V_J_PRODUCT || VehInfo[vehicleid][vStatus] == V_FUELPRODUCT) && ArendsCar[playerid] == vehicleid)
	{
		SendMes(playerid, COLOR_LRED, "У Вас есть 3 минуты, чтобы вернуться в транспорт.");
		DisablePlayerRaceCheckpoint(playerid);
		SetPVarInt(playerid, "ProductTimer", 180);
	}
	if(VehInfo[vehicleid][vFraction] == V_J_ROADMAN && ArendsCar[playerid] == vehicleid)
	{
		SendMes(playerid, COLOR_LRED, "У Вас есть 3 минуты, чтобы вернуться в транспорт.");
		SetPVarInt(playerid, "RoadmanTimer", 180);
	}
	if(VehInfo[vehicleid][vFraction] == V_J_PILOT && ArendsCar[playerid] == vehicleid)
	{
		SendMes(playerid, COLOR_LRED, "У Вас есть 3 минуты, чтобы вернуться в транспорт.");
		SetPVarInt(playerid, "PilotTimer", 180);
	}
	if(VehInfo[vehicleid][vFraction] == V_J_FIREMAN && ArendsCar[playerid] == vehicleid)
	{
		SendMes(playerid, COLOR_LRED, "У Вас есть 3 минуты, чтобы вернуться в транспорт.");
		SetPVarInt(playerid, "FireTimer", 180);

		GiveWeapon(playerid, 42, 9999);
		FireAmmo[playerid] = 9999;
	}
	if(VehInfo[vehicleid][vFraction] == V_J_TRUCK && ArendsCar[playerid] == vehicleid)
	{
		SendMes(playerid, COLOR_LRED, "У Вас есть 3 минуты, чтобы вернуться в транспорт.");
		SetPVarInt(playerid, "TruckTimer", 180);
	}
	if(VehInfo[vehicleid][vFraction] == V_J_PIZZABOY && ArendsCar[playerid] == vehicleid)
	{
		SendMes(playerid, COLOR_LRED, "У Вас есть 3 минуты, чтобы вернуться в транспорт.");
		SetPVarInt(playerid, "PizzaboyTimer", 180);
	}
	if(VehInfo[vehicleid][vFraction] == V_J_POSTMAN && ArendsCar[playerid] == vehicleid)
	{
		SendMes(playerid, COLOR_LRED, "У Вас есть 3 минуты, чтобы вернуться в транспорт.");
		SetPVarInt(playerid, "PostmanTimer", 180);
	}
	if(VehInfo[vehicleid][vFraction] == V_J_TAX && ArendsCar[playerid] == vehicleid)
	{
		SendMes(playerid, COLOR_LRED, "У Вас есть 3 минуты, чтобы вернуться в транспорт.");
		SetPVarInt(playerid, "TaxTimer", 180);
	}
	if(VehInfo[vehicleid][vFraction] == V_J_COLLECTOR && ArendsCar[playerid] == vehicleid)
	{
		SendMes(playerid, COLOR_LRED, "У Вас есть 3 минуты, чтобы вернуться в транспорт.");
		SetPVarInt(playerid, "CollectorTimer", 180);
	}
	if(VehInfo[vehicleid][vFraction] == V_J_FLOWERSBOY && ArendsCar[playerid] == vehicleid)
	{
		SendMes(playerid, COLOR_LRED, "У Вас есть 3 минуты, чтобы вернуться в транспорт.");
		SetPVarInt(playerid, "FlowersboyTimer", 180);
	}
	if(VehInfo[vehicleid][vFraction] == V_J_CONSTRUCTION_FORKLIFT && ArendsCar[playerid] == vehicleid)
	{
		SendMes(playerid, COLOR_LRED, "У Вас есть 5 секунд, чтобы вернуться в транспорт.");
		SetPVarInt(playerid, "ConstructionTimer", 5);
	}
	if(VehInfo[vehicleid][vFraction] == V_J_CONSTRUCTION_CEMENT && ArendsCar[playerid] == vehicleid)
	{
		SendMes(playerid, COLOR_LRED, "У Вас есть 5 секунд, чтобы вернуться в транспорт.");
		SetPVarInt(playerid, "ConstructionTimer", 5);
	}
	if(GetPVarInt(playerid, "ArmyLoadCar") > 0)
	{
		DisablePlayerRaceCheckpoint(playerid);
		SetPVarInt(playerid, "ArmyLoadCar", 0);
	}
	if(EnterBroadcast[playerid] > 0)
	{
		format(strings, sizeof(strings), "[F] %s выш(-ел/-ла) из эфира", PlayerInfo[playerid][pName]);
		SendFMes(EnterBroadcast[playerid] + 7, COLOR_NEWLBLUE, strings);
		EnterBroadcast[playerid] = 0;
	}
	if(TaxiPassenger[playerid] != INVALID_PLAYER_ID)
	{
	    new passenger = TaxiPassenger[playerid];
		if(IsPlayerInVehicle(passenger, GetPVarInt(playerid, "RentTaxi")) && GetPlayerState(passenger) == 3)
		{
		    new salary = 50;
		    if(TaxiTime[playerid] < gettime()) salary = 600 + random(1200);
		    else if(TaxiTime[playerid]-60 < gettime()) salary = 300 + random(600);
		    else if(TaxiTime[playerid]-90 < gettime()) salary = 150 + random(300);
		    if(TaxiTime[playerid] < gettime() || TaxiTime[playerid]-60 < gettime() || TaxiTime[playerid]-90 < gettime())
			{
				if(LastTaxiID[playerid] != passenger)
				{
					CheckQuest(playerid, 6);
					CheckTask(playerid, 27);
					CheckJobSkill(playerid, 13);
					CheckAchievement(playerid, 13);
				}
				LastTaxiID[playerid] = passenger;
			}
			new reason_money = salary + GetPlayerMoneyJobSkill(playerid, salary, 13);
			if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
			PlayerInfo[playerid][pPayCheck] += reason_money;
			PlayerInfo[playerid][pTOPSalary] += reason_money;
			SendMes(playerid, COLOR_MAIN, "Вы вышли из такси.");
			SendMes(passenger, COLOR_MAIN, "Водитель вышел из машины.");
			TaxiPassenger[playerid] = INVALID_PLAYER_ID;
			TaxiDriver[passenger] = INVALID_PLAYER_ID;
			SendMes(playerid, COLOR_MAIN, "Заработная плата будет начислена в конце часа.");
		}
		else
		{
		    TaxiPassenger[playerid] = INVALID_PLAYER_ID;
			TaxiDriver[passenger] = INVALID_PLAYER_ID;
		}
	}
	if(TaxiDriver[playerid] != INVALID_PLAYER_ID)
	{
		new driver = TaxiDriver[playerid];
		if(IsPlayerInVehicle(driver, GetPVarInt(driver, "RentTaxi")) && GetPlayerState(driver) == 2)
		{
		    new salary = 50;
		    if(TaxiTime[driver] < gettime()) salary = 600 + random(1200);
		    else if(TaxiTime[driver]-60 < gettime()) salary = 300 + random(600);
		    else if(TaxiTime[driver]-90 < gettime()) salary = 150 + random(300);
		    if(TaxiTime[driver] < gettime() || TaxiTime[driver]-60 < gettime() || TaxiTime[driver]-90 < gettime())
			{
				if(LastTaxiID[driver] != playerid)
				{
					CheckQuest(driver, 6);
					CheckTask(driver, 27);
					CheckJobSkill(driver, 13);
					CheckAchievement(driver, 13);
				}
				LastTaxiID[driver] = playerid;
			}
			new reason_money = salary + GetPlayerMoneyJobSkill(driver, salary, 13);
			if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
			PlayerInfo[driver][pPayCheck] += reason_money;
			PlayerInfo[driver][pTOPSalary] += reason_money;
			SendMes(playerid, COLOR_MAIN, "Вы вышли из такси.");
			SendMes(driver, COLOR_MAIN, "Пассажир вышел из машины.");
			TaxiDriver[playerid] = INVALID_PLAYER_ID;
			TaxiPassenger[driver] = INVALID_PLAYER_ID;
			SendMes(driver, COLOR_MAIN, "Заработная плата будет начислена в конце часа.");
		}
		else
		{
	    	TaxiTime[driver] = 0;
		    TaxiPassenger[driver] = INVALID_PLAYER_ID;
			TaxiDriver[playerid] = INVALID_PLAYER_ID;
		}
	}
	if(RegisterRace[playerid] == 2 && GetPlayerVirtualWorld(playerid) == 500)
	{
		for(new i = 0; i < MAX_RACE_PLAYERS; i++)
		{
			if(RacePlayers[i] == playerid)
			{
				SetPlayerVirtualWorld(RacePlayers[i], 0);
				SetPlayerInterior(RacePlayers[i], 0);
				SetPlayerPos(RacePlayers[i], 1957.3762,-2181.5291,13.5469);
				SetPlayerFacingAngle(RacePlayers[i], 268.9459);
				DisablePlayerRaceCheckpoint(RacePlayers[i]);
				RegisterRace[RacePlayers[i]] = 0;
				RacePlayers[i] = INVALID_PLAYER_ID;
				DestroyVehicle(RaceVehicles[i]);
				DisablePlayerRaceCheckpoint(playerid);
				SetPlayerControl(RacePlayers[i], true);
				SendMes(playerid, COLOR_MAIN, "Вы были дисквалифицированны с гонки.");
			}
		}
	}
	if(RegisterDerby[playerid] == 2 && GetPlayerVirtualWorld(playerid) == 500)
	{
		for(new i = 0; i < MAX_DERBY_PLAYERS; i++)
		{
			if(DerbyPlayers[i] == playerid)
			{
				SetPlayerVirtualWorld(DerbyPlayers[i], 0);
				SetPlayerInterior(DerbyPlayers[i], 0);
				SetPlayerPos(DerbyPlayers[i], -1545.9233,-442.2566,6.0000);
				SetPlayerFacingAngle(DerbyPlayers[i], 43.6337);
				RegisterDerby[DerbyPlayers[i]] = 0;
				DerbyPlayers[i] = INVALID_PLAYER_ID;
				DestroyVehicle(DerbyVehicles[i]);
				SetPlayerControl(DerbyPlayers[i], true);
				SendMes(playerid, COLOR_MAIN, "Вы были дисквалифицированны с дерби.");
			}
		}
	}
	return 1;
}
//==============================================================================
public OnPlayerEnterDynamicCP(playerid, checkpointid)
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsPlayerInAnyVehicle(playerid)) return 1;
	if(GetPVarInt(playerid, "CheckpointEntered") == 1) return 1;
	if(checkpointid == GetPVarInt(playerid, "OldCheckpoint")) return 1;
	SetPVarInt(playerid, "OldCheckpoint", checkpointid);
	new Float:z;
	GetPlayerPos(playerid, CheckpointX[playerid], CheckpointY[playerid], z);
	return 1;
}
//==============================================================================
public OnPlayerLeaveDynamicCP(playerid, checkpointid)
{
	if(GetPVarInt(playerid, "OldCheckpoint") == -1) return 1;
	new Float:z;
	GetPlayerPos(playerid, z, z, z);
	if(!IsAPPos(playerid, 1.0, CheckpointX[playerid], CheckpointY[playerid], z)) SetPVarInt(playerid, "OldCheckpoint", -1);
	return 1;
}
//==============================================================================
public OnPlayerPickupExit(playerid)
{
	if(GetPVarInt(playerid, "OldPickup") == -1) return 1;
	new Float:z;
	GetPlayerPos(playerid, z, z, z);
	if(!IsAPPos(playerid, 2.8, PickupX[playerid], PickupY[playerid], z)) SetPVarInt(playerid, "OldPickup", -1);
	return 1;
}
//==============================================================================
public OnPlayerEnterCheckpoint(playerid)
{
	if(FarmWorkState[playerid] == 2)
	{
	    if(IsPlayerInAnyVehicle(playerid)) return 1;
		StartWorkInFarm(playerid);
		return 1;
	}
    if(PizzaboyStatus[playerid] == true && PizzaboyIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
    {
        if(AntiCheatWarningTime[playerid][0] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выполнять заказы так часто, подождите.");
        new houseid = PizzaboyIDx[playerid];
        if(IsPlayerInRangeOfPoint(playerid, 5.0, HouseInfo[houseid][hEnterX], HouseInfo[houseid][hEnterY], HouseInfo[houseid][hEnterZ]))
        {
            DisablePlayerCheckpoint(playerid);
			new reason_money = PizzaboySalary[playerid] + GetPlayerMoneyJobSkill(playerid, PizzaboySalary[playerid], 10);
			if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
			PlayerInfo[playerid][pPayCheck] += reason_money;
			PlayerInfo[playerid][pTOPSalary] += reason_money;
			SendMes(playerid, COLOR_MAIN, "Вы выполнили заказ. К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", reason_money);
			PizzaboyIDx[playerid] = -1;
            PizzaboySalary[playerid] = 0;
            CheckQuest(playerid, 3);
			CheckTask(playerid, 24);
			CheckJobSkill(playerid, 10);
			CheckAchievement(playerid, 10);
        } else SetHouseCheckpoint(playerid, 1, PizzaboyIDx[playerid]);
        return 1;
    }
    if(PostmanStatus[playerid] == true && PostmanIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
    {
        if(AntiCheatWarningTime[playerid][0] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выполнять заказы так часто, подождите.");
        new houseid = PostmanIDx[playerid];
        if(IsPlayerInRangeOfPoint(playerid, 5.0, HouseInfo[houseid][hEnterX], HouseInfo[houseid][hEnterY], HouseInfo[houseid][hEnterZ]))
        {
            DisablePlayerCheckpoint(playerid);
			new reason_money = PostmanSalary[playerid] + GetPlayerMoneyJobSkill(playerid, PostmanSalary[playerid], 11);
			if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
			PlayerInfo[playerid][pPayCheck] += reason_money;
			PlayerInfo[playerid][pTOPSalary] += reason_money;
			SendMes(playerid, COLOR_MAIN, "Вы выполнили заказ. К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", reason_money);
			PostmanIDx[playerid] = -1;
            PostmanSalary[playerid] = 0;
            CheckQuest(playerid, 4);
			CheckTask(playerid, 25);
			CheckJobSkill(playerid, 11);
			CheckAchievement(playerid, 11);
        }
        else SetHouseCheckpoint(playerid, 2, PostmanIDx[playerid]);
        return 1;
    }
    if(TaxStatus[playerid] == true && TaxIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
    {
        if(AntiCheatWarningTime[playerid][0] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выполнять заказы так часто, подождите.");
        new houseid = TaxIDx[playerid];
        if(IsPlayerInRangeOfPoint(playerid, 5.0, HouseInfo[houseid][hEnterX], HouseInfo[houseid][hEnterY], HouseInfo[houseid][hEnterZ]))
        {
            DisablePlayerCheckpoint(playerid);
			new reason_money = TaxSalary[playerid] + GetPlayerMoneyJobSkill(playerid, TaxSalary[playerid], 20);
			if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
			PlayerInfo[playerid][pPayCheck] += reason_money;
			PlayerInfo[playerid][pTOPSalary] += reason_money;
			SendMes(playerid, COLOR_MAIN, "Вы выполнили заказ. К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", reason_money);
            TaxIDx[playerid] = -1;
            TaxSalary[playerid] = 0;
            CheckQuest(playerid, 13);
			CheckTask(playerid, 34);
			CheckJobSkill(playerid, 20);
			CheckAchievement(playerid, 20);
        } else SetHouseCheckpoint(playerid, 3, TaxIDx[playerid]);
        return 1;
    }
    if(CollectorStatus[playerid] == true && CollectorIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
    {
        if(AntiCheatWarningTime[playerid][0] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выполнять заказы так часто, подождите.");
        new atmid = CollectorIDx[playerid];
        if(IsPlayerInRangeOfPoint(playerid, 5.0, ATMInfo[atmid][aX], ATMInfo[atmid][aY], ATMInfo[atmid][aZ]))
        {
            DisablePlayerCheckpoint(playerid);
			new reason_money = CollectorSalary[playerid] + GetPlayerMoneyJobSkill(playerid, CollectorSalary[playerid], 18);
			if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
			PlayerInfo[playerid][pPayCheck] += reason_money;
			PlayerInfo[playerid][pTOPSalary] += reason_money;
			SendMes(playerid, COLOR_MAIN, "Вы выполнили заказ. К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", reason_money);
            CollectorIDx[playerid] = -1;
            CollectorSalary[playerid] = 0;
            CheckQuest(playerid, 11);
			CheckTask(playerid, 32);
			CheckJobSkill(playerid, 18);
			CheckAchievement(playerid, 18);
        } else SetATMCheckpoint(playerid, CollectorIDx[playerid]);
        return 1;
    }
    if(FlowersboyStatus[playerid] == true && FlowersboyIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
    {
        if(AntiCheatWarningTime[playerid][0] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выполнять заказы так часто, подождите.");
        new houseid = FlowersboyIDx[playerid];
        if(IsPlayerInRangeOfPoint(playerid, 5.0, HouseInfo[houseid][hEnterX], HouseInfo[houseid][hEnterY], HouseInfo[houseid][hEnterZ]))
        {
            DisablePlayerCheckpoint(playerid);
			new reason_money = FlowersboySalary[playerid] + GetPlayerMoneyJobSkill(playerid, FlowersboySalary[playerid], 12);
			if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
			PlayerInfo[playerid][pPayCheck] += reason_money;
			PlayerInfo[playerid][pTOPSalary] += reason_money;
			SendMes(playerid, COLOR_MAIN, "Вы выполнили заказ. К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", reason_money);
            FlowersboyIDx[playerid] = -1;
            FlowersboySalary[playerid] = 0;
            CheckQuest(playerid, 5);
			CheckTask(playerid, 26);
			CheckJobSkill(playerid, 12);
			CheckAchievement(playerid, 12);
        } else SetHouseCheckpoint(playerid, 4, FlowersboyIDx[playerid]);
        return 1;
    }
    if(GoldMinerStatus[playerid] == true && GoldMinerIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
    {
        new idx = GoldMinerIDx[playerid];
        if(IsPlayerInRangeOfPoint(playerid, 2.5, GoldMinerProduction[idx][0], GoldMinerProduction[idx][1], GoldMinerProduction[idx][2]))
        {
        	SendMes(playerid, COLOR_MAIN, "С помощью кнопки удар промойте породу.");
            DisablePlayerCheckpoint(playerid);
            return 1;
        }
    }
    if(DrugMakerStatus[playerid] == true && DrugMakerIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
    {
        if(AntiCheatWarningTime[playerid][0] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выполнять заказы так часто, подождите.");
        new idx = DrugMakerIDx[playerid];
        if(IsPlayerInRangeOfPoint(playerid, 2.5, DrugMakerInfo[idx][dmPos][0], DrugMakerInfo[idx][dmPos][1], DrugMakerInfo[idx][dmPos][2]))
        {
        	SendMes(playerid, COLOR_MAIN, "С помощью кнопки удар сделайте закладку.");
            DisablePlayerCheckpoint(playerid);
            return 1;
        }
    }
    if(JanitorStatus[playerid] == true && JanitorIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
    {
        if(AntiCheatWarningTime[playerid][0] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выполнять заказы так часто, подождите.");
        new idx = JanitorIDx[playerid];
        if(IsPlayerInRangeOfPoint(playerid, 2.5, JanitorInfo[idx][jPos][0], JanitorInfo[idx][jPos][1], JanitorInfo[idx][jPos][2]))
        {
        	SendMes(playerid, COLOR_MAIN, "С помощью кнопки удар устраните мусор.");
            DisablePlayerCheckpoint(playerid);
            return 1;
        }
    }
    if(GardenerStatus[playerid] == true && GardenerIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
    {
        if(AntiCheatWarningTime[playerid][0] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выполнять заказы так часто, подождите.");
        new idx = GardenerIDx[playerid];
        if(IsPlayerInRangeOfPoint(playerid, 2.5, GardenerInfo[idx][gPos][0], GardenerInfo[idx][gPos][1], GardenerInfo[idx][gPos][2]))
        {
        	SendMes(playerid, COLOR_MAIN, "С помощью кнопки удар полейте дерево.");
            DisablePlayerCheckpoint(playerid);
            return 1;
        }
    }
    if(CleanerStatus[playerid] == true && CleanerIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
    {
        if(AntiCheatWarningTime[playerid][0] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выполнять заказы так часто, подождите.");
        new idx = CleanerIDx[playerid];
        if(IsPlayerInRangeOfPoint(playerid, 2.5, CleanerInfo[idx][cPos][0], CleanerInfo[idx][cPos][1], CleanerInfo[idx][cPos][2]))
        {
        	SendMes(playerid, COLOR_MAIN, "С помощью кнопки удар устраните рыбу.");
            DisablePlayerCheckpoint(playerid);
            return 1;
        }
    }
    if(ZooWorkerStatus[playerid] == true && ZooWorkerIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
    {
        if(AntiCheatWarningTime[playerid][0] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выполнять заказы так часто, подождите.");
        new idx = ZooWorkerIDx[playerid];
        if(IsPlayerInRangeOfPoint(playerid, 2.5, ZooWorkerInfo[idx][zwPos][0], ZooWorkerInfo[idx][zwPos][1], ZooWorkerInfo[idx][zwPos][2]))
        {
        	SendMes(playerid, COLOR_MAIN, "С помощью кнопки удар прогоните попугая.");
            DisablePlayerCheckpoint(playerid);
            return 1;
        }
    }
    if(VolunteerStatus[playerid] == true && VolunteerIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
    {
        if(AntiCheatWarningTime[playerid][0] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выполнять заказы так часто, подождите.");
        new idx = VolunteerIDx[playerid];
        if(IsPlayerInRangeOfPoint(playerid, 2.5, VolunteerInfo[idx][volPos][0], VolunteerInfo[idx][volPos][1], VolunteerInfo[idx][volPos][2]))
        {
        	SendMes(playerid, COLOR_MAIN, "С помощью кнопки удар подскажите путь.");
            DisablePlayerCheckpoint(playerid);
            return 1;
        }
    }
	return 1;
}
//==============================================================================
public OnPlayerLeaveCheckpoint(playerid) return 1;
//==============================================================================
public OnPlayerEnterRaceCheckpoint(playerid)
{
	new vehicleid = GetPlayerVehicleID(playerid);
	if(FarmStart[playerid] == 1)
	{
		FarmStart[playerid] = 2;
		SendMes(playerid, COLOR_MAIN, "Пожалуйста подождите.");
		FarmTimer[playerid] = SetTimerEx("OnPlayerUnloadFarm", 5000, 0, "d", playerid);
		return 1;
	}
	if(FarmSeedStatus[playerid] == 1)
	{
		GivePlayerSeedCheckPoint(playerid, FarmWorking[playerid]);
        return 1;
	}
	if(GetPVarInt(playerid, "pGPSWork") == 1)
	{
		SendMes(playerid, COLOR_MAIN, "Вы прибыли к месту назначения.");
		DisablePlayerRaceCheckpoint(playerid);
		SetPVarInt(playerid, "pGPSWork", 0);
		DeletePVar(playerid, "GPSX");
		DeletePVar(playerid, "GPSY");
		DeletePVar(playerid, "GPSZ");
		DeletePVar(playerid, "GPSID");
		return 1;
	}
	if(GetPVarInt(playerid, "FindPlayer") == 1)
	{
		SendMes(playerid, COLOR_MAIN, "Вы достигли места назначения.");
		DeletePVar(playerid, "FindPlayer");
		DisablePlayerRaceCheckpoint(playerid);
        return 1;
	}
	if(GetPVarInt(playerid, "Home") == 1)
	{
		SendMes(playerid, COLOR_MAIN, "Вы достигли места назначения.");
		DeletePVar(playerid, "Home");
		DisablePlayerRaceCheckpoint(playerid);
        return 1;
	}
	if(GetPVarInt(playerid, "LicTest") == 1 || GetPVarInt(playerid, "LicTest") == 2)
	{
		if(GetPlayerState(playerid) != 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться за рулем транспортного средства.");
		if(CHECKPOINT == MAX_LICTEST_CHECKPOINT)
		{
			if(GetPVarInt(playerid, "LicTestError") > 3)
			{
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}К сожелению Вы провалили экзамен по вождению.\nОшибок: {"#DC_LRED"}%d.{"#DC_WHITE"}\n\nВы можете попробывать сдать экзамен еще раз.", GetPVarInt(playerid, "LicTestError"));
				SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Практическая часть", totalstring, "Отмена", "");
				DeletePVar(playerid, "LicTest");
				DeletePVar(playerid, "LicStart");
				SendMes(playerid, COLOR_MAIN, "Вы можете попробывать сдать экзамен еще раз.");
			}
			else
			{
				SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Экзамен на водительское удостоверение", "{"#DC_WHITE"}Поздравляем! Вам выдали водительское удостоверение.", "Отмена", "");
				PlayerInfo[playerid][pLic][0] = 1;
				DeletePVar(playerid, "LicStart");
				DeletePVar(playerid, "LicTest");
				CheckQuest(playerid, 1);
			}
			DeletePVar(playerid, "LicTestHealth");
			DeletePVar(playerid, "LicTestError");
			SetVehicleToRespawn(vehicleid);
			DisablePlayerRaceCheckpoint(playerid);
		}
		else
		{
			if(VehInfo[vehicleid][vFraction] != V_LICENSE) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в транспортном средстве автошколы.");
			CHECKPOINT++;
			new Float:health, i = CHECKPOINT;
			GetVehicleHealth(vehicleid, health);
			if(health < GetPVarFloat(playerid, "LicTestHealth"))
			{
				SendMes(playerid, COLOR_DARKORANGE, "Вы повредили транспорт. Ошибок: %d.", GetPVarInt(playerid, "LicTestError") + 1);
				SetPVarInt(playerid, "LicTestError", GetPVarInt(playerid, "LicTestError") + 1);
			}
			if(CHECKPOINT < MAX_LICTEST_CHECKPOINT) SetPlayerRaceCheckpoint(playerid, 0, LicTest[i][0], LicTest[i][1], LicTest[i][2], 0, 0, 0, 2.0);
			else SetPlayerRaceCheckpoint(playerid, 1, LicTest[i][0], LicTest[i][1], LicTest[i][2], 0, 0, 0, 2.0);
			SetPVarFloat(playerid, "LicTestHealth", health);
		}
        return 1;
	}
 	if(GetPVarInt(playerid, "BusType") > 0)
	{
		if(GetPlayerState(playerid) != 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться за рулем транспортного средства.");
		if(VehInfo[vehicleid][vFraction] != V_J_BUS) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в автобусе.");
	    new type = GetPVarInt(playerid, "BusType") - 1;
		if(type == 0)
		{
		    if(GetPVarInt(playerid, "BusStop") > 0)
		    {
				BusTime[playerid] = 11;
				format(strings, sizeof(strings), "Автобус с маршрутом %s отъезжает через несколько секунд.", BusName[type]);
				SRM(playerid, 10.0, COLOR_PINK, strings);
				DisablePlayerRaceCheckpoint(playerid);
		    }
		    else if(CHECKPOINT == sizeof(LS_AutoSchool) - 1)
		    {
  				CHECKPOINT = 0;
  				CheckCheat(playerid, 1);
  				LastBusRace[playerid] = gettime() + 300;
				new reason_money = BusSalary[type] + GetPlayerMoneyJobSkill(playerid, BusSalary[type], 14);
				if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
		        PlayerInfo[playerid][pPayCheck] += reason_money;
				PlayerInfo[playerid][pTOPSalary] += reason_money;
		        SendMes(playerid, COLOR_MAIN, "Вы завершили выполнение маршрута. К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", reason_money);
				SetPlayerRaceCheckpoint(playerid, 0, LS_AutoSchool[CHECKPOINT][mPosX], LS_AutoSchool[CHECKPOINT][mPosY], LS_AutoSchool[CHECKPOINT][mPosZ]-1.5, LS_AutoSchool[CHECKPOINT+1][mPosX], LS_AutoSchool[CHECKPOINT+1][mPosY], LS_AutoSchool[CHECKPOINT+1][mPosZ]-1.5, 5.0);
				CheckQuest(playerid, 7);
				CheckTask(playerid, 28);
				CheckJobSkill(playerid, 14);
				CheckAchievement(playerid, 14);
			}
		    else if(CHECKPOINT == sizeof(LS_AutoSchool) - 2)
		    {
		        CHECKPOINT++;
		        SetPlayerRaceCheckpoint(playerid, 1, LS_AutoSchool[CHECKPOINT][mPosX], LS_AutoSchool[CHECKPOINT][mPosY], LS_AutoSchool[CHECKPOINT][mPosZ]-1.5, 0, 0, 0, 3.0);
			}
		    else
		    {
				CHECKPOINT++;
				if(LS_AutoSchool[CHECKPOINT][mStop] == 1) SetPlayerRaceCheckpoint(playerid, 1, LS_AutoSchool[CHECKPOINT][mPosX], LS_AutoSchool[CHECKPOINT][mPosY], LS_AutoSchool[CHECKPOINT][mPosZ]-1.5, 0, 0, 0, 3.0), SetPVarInt(playerid, "BusStop", true);
				else SetPlayerRaceCheckpoint(playerid, 0, LS_AutoSchool[CHECKPOINT][mPosX], LS_AutoSchool[CHECKPOINT][mPosY], LS_AutoSchool[CHECKPOINT][mPosZ]-1.5, LS_AutoSchool[CHECKPOINT+1][mPosX], LS_AutoSchool[CHECKPOINT+1][mPosY], LS_AutoSchool[CHECKPOINT+1][mPosZ]-1.5, 5.0);
		    }
		}
        return 1;
	}
	if(MedicCallTime[playerid] > 0)
	{
		MedicCallTime[playerid] = 0;
		SendMes(playerid, COLOR_MAIN, "Вы достигли места назначения.");
		DisablePlayerRaceCheckpoint(playerid);
        return 1;
	}
	if(MechCallTime[playerid] > 0)
	{
		MechCallTime[playerid] = 0;
		SendMes(playerid, COLOR_MAIN, "Вы достигли места назначения.");
		DisablePlayerRaceCheckpoint(playerid);
        return 1;
	}
	if(TaxiCallTime[playerid] > 0)
	{
		TaxiCallTime[playerid] = 0;
		SendMes(playerid, COLOR_MAIN, "Вы достигли места назначения.");
		DisablePlayerRaceCheckpoint(playerid);
        return 1;
	}
	if(PoliceCallTime[playerid] > 0)
	{
		PoliceCallTime[playerid] = 0;
		SendMes(playerid, COLOR_MAIN, "Вы достигли места назначения.");
		DisablePlayerRaceCheckpoint(playerid);
        return 1;
	}
	if(RoadmanIDx[playerid] && GetPVarInt(playerid, "RoadmanIDDig") == 0 && GetPVarInt(playerid, "RoadmanIDRepair") == 0)
	{
        if(AntiCheatWarningTime[playerid][0] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выполнять заказы так часто, подождите.");
        SendMes(playerid, COLOR_MAIN, "Вы прибыли на место дорожной аварии. Для начала работы нажмите {"#DC_WHITE"}удар{"#DC_MAIN"} рядом с машиной.");
	    /*SendMes(playerid, COLOR_MAIN, "Вы прибыли на место дорожной аварии. Для начала работы нажмите {"#DC_WHITE"}H{"#DC_MAIN"} рядом с машиной.");*/
	    SendMes(playerid, COLOR_MAIN, "Вам необходимо установить {"#DC_WHITE"}%d{"#DC_MAIN"} ограждений.", MAX_ROADMAN_FENCING);
		DisablePlayerRaceCheckpoint(playerid);
        return 1;
	}
	if(GetPVarInt(playerid, "RoadmanIDDig") && GetPVarInt(playerid, "RoadmanIDRepair") == 0)
	{
	    SetPlayerControl(playerid, false);
		ClearAnimations(playerid);
	    ApplyAnimation(playerid, "SWORD", "sword_4", 4.0, 1, 0, 0, 0, 0);
	    JoinsTimer[playerid] = SetTimerEx("OnPlayerJoinTimer", 15000, false, "i", playerid);
		DisablePlayerRaceCheckpoint(playerid);
        return 1;
	}
	if(GetPVarInt(playerid, "RoadmanIDRepair"))
	{
	    SetPlayerControl(playerid, false);
	    ApplyAnimation(playerid, "BOMBER", "BOM_Plant_Loop", 4.0, 1, 0, 0, 0, 0);
	    JoinsTimer[playerid] = SetTimerEx("OnPlayerJoinTimer", 15000, false, "i", playerid);
		DisablePlayerRaceCheckpoint(playerid);
        return 1;
	}
	if(GetPVarInt(playerid, "PilotJob"))
	{
	    new type = GetPVarInt(playerid, "PilotType");
	    if(type == 1)
	    {
	        switch(CHECKPOINT)
			{
				case 0:
				{
                    if(PilotTimer[playerid]) return 1;
				    SendMes(playerid, COLOR_MAIN, "Производится посадка... Подождите 15 секунд.");
					SetPlayerControl(playerid, false);
					PilotTimer[playerid] = SetTimerEx("OnPlayerPilotLoadVehicle", 1000 * 15, true, "i", playerid);
				}
				case 18:
				{
				    CHECKPOINT++;
					new i = CHECKPOINT;
					SetPlayerRaceCheckpoint(playerid, 1, PilotLSSF[i][0], PilotLSSF[i][1], PilotLSSF[i][2], PilotLSSF[i][3], PilotLSSF[i][4], PilotLSSF[i][5], 15.0);
				}
				case 19:
				{
                    if(PilotTimer[playerid]) return 1;
				    SendMes(playerid, COLOR_MAIN, "Производится высадка... Подождите 15 секунд.");
					SetPlayerControl(playerid, false);
					PilotTimer[playerid] = SetTimerEx("OnPlayerPilotUnloadVehicle", 1000 * 15, true, "i", playerid);
				}
				default:
				{
				    CHECKPOINT++;
					new i = CHECKPOINT;
					SetPlayerRaceCheckpoint(playerid, 4, PilotLSSF[i][0], PilotLSSF[i][1], PilotLSSF[i][2], PilotLSSF[i][3], PilotLSSF[i][4], PilotLSSF[i][5], 15.0);
				}
			}
	    }
	    else if(type == 2)
	    {
	        switch(CHECKPOINT)
			{
				case 0:
				{
                    if(PilotTimer[playerid]) return 1;
				    SendMes(playerid, COLOR_MAIN, "Производится посадка... Подождите 15 секунд.");
					SetPlayerControl(playerid, false);
					PilotTimer[playerid] = SetTimerEx("OnPlayerPilotLoadVehicle", 1000 * 15, true, "i", playerid);
				}
				case 18:
				{
				    CHECKPOINT++;
					new i = CHECKPOINT;
					SetPlayerRaceCheckpoint(playerid, 1, PilotLSLV[i][0], PilotLSLV[i][1], PilotLSLV[i][2], PilotLSLV[i][3], PilotLSLV[i][4], PilotLSLV[i][5], 15.0);
				}
				case 19:
				{
                    if(PilotTimer[playerid]) return 1;
				    SendMes(playerid, COLOR_MAIN, "Производится высадка... Подождите 15 секунд.");
					SetPlayerControl(playerid, false);
					PilotTimer[playerid] = SetTimerEx("OnPlayerPilotUnloadVehicle", 1000 * 15, true, "i", playerid);
				}
				default:
				{
				    CHECKPOINT++;
					new i = CHECKPOINT;
					SetPlayerRaceCheckpoint(playerid, 4, PilotLSLV[i][0], PilotLSLV[i][1], PilotLSLV[i][2], PilotLSLV[i][3], PilotLSLV[i][4], PilotLSLV[i][5], 15.0);
				}
			}
	    }
	    else if(type == 3)
	    {
	        switch(CHECKPOINT)
			{
				case 0:
				{
                    if(PilotTimer[playerid]) return 1;
				    SendMes(playerid, COLOR_MAIN, "Производится посадка... Подождите 15 секунд.");
					SetPlayerControl(playerid, false);
					PilotTimer[playerid] = SetTimerEx("OnPlayerPilotLoadVehicle", 1000 * 15, true, "i", playerid);
				}
				case 22:
				{
				    CHECKPOINT++;
					new i = CHECKPOINT;
					SetPlayerRaceCheckpoint(playerid, 1, PilotSFLS[i][0], PilotSFLS[i][1], PilotSFLS[i][2], PilotSFLS[i][3], PilotSFLS[i][4], PilotSFLS[i][5], 15.0);
				}
				case 23:
				{
                    if(PilotTimer[playerid]) return 1;
				    SendMes(playerid, COLOR_MAIN, "Производится высадка... Подождите 15 секунд.");
					SetPlayerControl(playerid, false);
					PilotTimer[playerid] = SetTimerEx("OnPlayerPilotUnloadVehicle", 1000 * 15, true, "i", playerid);
				}
				default:
				{
				    CHECKPOINT++;
					new i = CHECKPOINT;
					SetPlayerRaceCheckpoint(playerid, 4, PilotSFLS[i][0], PilotSFLS[i][1], PilotSFLS[i][2], PilotSFLS[i][3], PilotSFLS[i][4], PilotSFLS[i][5], 15.0);
				}
			}
	    }
	    else if(type == 4)
	    {
	        switch(CHECKPOINT)
			{
				case 0:
				{
                    if(PilotTimer[playerid]) return 1;
				    SendMes(playerid, COLOR_MAIN, "Производится посадка... Подождите 15 секунд.");
					SetPlayerControl(playerid, false);
					PilotTimer[playerid] = SetTimerEx("OnPlayerPilotLoadVehicle", 1000 * 15, true, "i", playerid);
				}
				case 21:
				{
				    CHECKPOINT++;
					new i = CHECKPOINT;
					SetPlayerRaceCheckpoint(playerid, 1, PilotSFLV[i][0], PilotSFLV[i][1], PilotSFLV[i][2], PilotSFLV[i][3], PilotSFLV[i][4], PilotSFLV[i][5], 15.0);
				}
				case 22:
				{
                    if(PilotTimer[playerid]) return 1;
				    SendMes(playerid, COLOR_MAIN, "Производится высадка... Подождите 15 секунд.");
					SetPlayerControl(playerid, false);
					PilotTimer[playerid] = SetTimerEx("OnPlayerPilotUnloadVehicle", 1000 * 15, true, "i", playerid);
				}
				default:
				{
				    CHECKPOINT++;
					new i = CHECKPOINT;
					SetPlayerRaceCheckpoint(playerid, 4, PilotSFLV[i][0], PilotSFLV[i][1], PilotSFLV[i][2], PilotSFLV[i][3], PilotSFLV[i][4], PilotSFLV[i][5], 15.0);
				}
			}
	    }
	    else if(type == 5)
	    {
	        switch(CHECKPOINT)
			{
				case 0:
				{
                    if(PilotTimer[playerid]) return 1;
				    SendMes(playerid, COLOR_MAIN, "Производится посадка... Подождите 15 секунд.");
					SetPlayerControl(playerid, false);
					PilotTimer[playerid] = SetTimerEx("OnPlayerPilotLoadVehicle", 1000 * 15, true, "i", playerid);
				}
				case 24:
				{
			       	CHECKPOINT++;
					new i = CHECKPOINT;
					SetPlayerRaceCheckpoint(playerid, 1, PilotLVLS[i][0], PilotLVLS[i][1], PilotLVLS[i][2], PilotLVLS[i][3], PilotLVLS[i][4], PilotLVLS[i][5], 15.0);
				}
				case 25:
				{
                    if(PilotTimer[playerid]) return 1;
				    SendMes(playerid, COLOR_MAIN, "Производится высадка... Подождите 15 секунд.");
					SetPlayerControl(playerid, false);
					PilotTimer[playerid] = SetTimerEx("OnPlayerPilotUnloadVehicle", 1000 * 15, true, "i", playerid);
				}
				default:
				{
				    CHECKPOINT++;
					new i = CHECKPOINT;
					SetPlayerRaceCheckpoint(playerid, 4, PilotLVLS[i][0], PilotLVLS[i][1], PilotLVLS[i][2], PilotLVLS[i][3], PilotLVLS[i][4], PilotLVLS[i][5], 15.0);
				}
			}
	    }
	    else if(type == 6)
	    {
	        switch(CHECKPOINT)
			{
				case 0:
				{
                    if(PilotTimer[playerid]) return 1;
				    SendMes(playerid, COLOR_MAIN, "Производится посадка... Подождите 15 секунд.");
					SetPlayerControl(playerid, false);
					PilotTimer[playerid] = SetTimerEx("OnPlayerPilotLoadVehicle", 1000 * 15, true, "i", playerid);
				}
				case 20:
				{
				    CHECKPOINT++;
					new i = CHECKPOINT;
					SetPlayerRaceCheckpoint(playerid, 1, PilotLVSF[i][0], PilotLVSF[i][1], PilotLVSF[i][2], PilotLVSF[i][3], PilotLVSF[i][4], PilotLVSF[i][5], 15.0);
				}
				case 21:
				{
                    if(PilotTimer[playerid]) return 1;
				    SendMes(playerid, COLOR_MAIN, "Производится высадка... Подождите 15 секунд.");
					SetPlayerControl(playerid, false);
					PilotTimer[playerid] = SetTimerEx("OnPlayerPilotUnloadVehicle", 1000 * 15, true, "i", playerid);
				}
				default:
				{
				    CHECKPOINT++;
					new i = CHECKPOINT;
					SetPlayerRaceCheckpoint(playerid, 4, PilotLVSF[i][0], PilotLVSF[i][1], PilotLVSF[i][2], PilotLVSF[i][3], PilotLVSF[i][4], PilotLVSF[i][5], 15.0);
				}
			}
	    }
        return 1;
	}
	if(FireIDx[playerid])
	{
        if(AntiCheatWarningTime[playerid][0] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выполнять заказы так часто, подождите.");
	    SendMes(playerid, COLOR_MAIN, "Вы прибыли на место пожара. Для начала работы выйдите из машины.");
	    SendMes(playerid, COLOR_MAIN, "Вам необходимо потушить {"#DC_WHITE"}5{"#DC_MAIN"} возгораний.");
		DisablePlayerRaceCheckpoint(playerid);
        return 1;
	}
    if(TruckerStatus[playerid] == true && TruckStatus[playerid] && TruckCheck[playerid] == 0)
    {
        if(AntiCheatWarningTime[playerid][0] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выполнять заказы так часто, подождите.");

        SendMes(playerid, COLOR_MAIN, "Вы прибыли на место загрузки.");

        new index = TruckStatus[playerid] - 1;

        new Float:distance = GetPlayerDistanceFromPoint(playerid, TruckInfo[index][tPos][3], TruckInfo[index][tPos][4], TruckInfo[index][tPos][5]);

        new time = floatround(distance) / 500 * 30;

        TruckCheck[playerid] = 1;

        AntiCheatWarningTime[playerid][0] = gettime() + time;

        DisablePlayerRaceCheckpoint(playerid);
        SetPlayerRaceCheckpoint(playerid, 1, TruckInfo[index][tPos][3], TruckInfo[index][tPos][4], TruckInfo[index][tPos][5], 0, 0, 0, 5);
		format(strings, sizeof(strings), "Необходимо перевести {"#DC_WHITE"}%s{"#DC_MAIN"} в размере {"#DC_WHITE"}%d %s.", TruckInfo[index][tName], TruckCount[playerid], TruckInfo[index][tUnitName]);
		SendMes(playerid, COLOR_MAIN, strings);
		SendMes(playerid, COLOR_MAIN, "Местоположение разгрузки отмечено на вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
		SendMes(playerid, COLOR_MAIN, "У Вас есть {"#DC_WHITE"}15{"#DC_MAIN"} минут чтобы добраться до местоположения разгрузки и разгрузить его.");
        return 1;
    }
    else if(TruckerStatus[playerid] == true && TruckStatus[playerid] && TruckCheck[playerid] == 1)
    {
        if(AntiCheatWarningTime[playerid][0] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выполнять заказы так часто, подождите.");
		new reason_money = TruckSalary[playerid] + GetPlayerMoneyJobSkill(playerid, TruckSalary[playerid], 22);
		if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
  		PlayerInfo[playerid][pPayCheck] += reason_money;
		PlayerInfo[playerid][pTOPSalary] += reason_money;
        SendMes(playerid, COLOR_MAIN, "Вы выполнили заказ. К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", reason_money);
        DestroyTruck(playerid);
        TruckStatus[playerid] = 0;
        TruckCheck[playerid] = 0;
        TruckTimer[playerid] = RandomEx(60, 120);
        SendMes(playerid, COLOR_MAIN, "Ожидайте новый вызов от диспетчера.");
        DisablePlayerRaceCheckpoint(playerid);
		CheckQuest(playerid, 15);
		CheckTask(playerid, 36);
		CheckJobSkill(playerid, 22);
		CheckAchievement(playerid, 22);
        return 1;
    }
	if(ConstructionStatus[playerid] == true)
	{
		switch(ConstructionState[playerid])
		{
			case 1:
			{
				if(ConstructionCountState[playerid] == 0)
				{
					if(IsPlayerInAnyVehicle(playerid))
					{
						new idx = random(3);
						SetPlayerRaceCheckpoint(playerid, 1, ConstructionTrash[idx][0], ConstructionTrash[idx][1], ConstructionTrash[idx][2], 0.0, 0.0, 0.0, 2.5);
						return 1;
					}
					ConstructionTimerState[playerid] ^= 1;
					if(ConstructionTimerState[playerid])
					{
						DisablePlayerRaceCheckpoint(playerid);
					    SetPlayerControl(playerid, false);
						ConstructionTimer[playerid] = 5;
						ApplyAnimation(playerid, "BOMBER", "BOM_Plant", 4.1, 1, 1, 1, 1, 0);
					}
					else
					{
					    SetPlayerControl(playerid, true);
						ApplyAnimation(playerid, "CARRY", "crry_prtial", 4.1, 0, 1, 1, 1, 1);
						SetPlayerAttachedObject(playerid, 1, 1265, 1, 0.413999, 0.627999, -0.050000, 0.000000, 85.499961, -44.100028, 1.000000, 1.000000, 1.000000);
						ConstructionCountState[playerid] = 1;
						ConstructionCount[playerid]++;
						SendMes(playerid, COLOR_MAIN, "Вы взяли пакет с мусором, отнести его в контейнер.");
						SetPlayerRaceCheckpoint(playerid, 1, 2425.9038, 1950.9761, 6.0156, 0.0, 0.0, 0.0, 2.5);
						SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CARRY);
					}
				}
				else
				{
					if(IsPlayerInAnyVehicle(playerid)) return SetPlayerRaceCheckpoint(playerid, 1, 2425.9038, 1950.9761, 6.0156, 0.0, 0.0, 0.0, 2.5);
					ConstructionCountState[playerid] = 0;
					ApplyAnimation(playerid, "PED", "IDLE_chat", 4.1, 0, 1, 1, 0, 1);
					if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
					SendMes(playerid, COLOR_MAIN, "Вы перенесли %d из %d пакетов с мусором.", ConstructionCount[playerid], 10);
					if(ConstructionCount[playerid] == 10) return StartPlayerConstructionWork(playerid, 1000);
					new idx = random(3);
					SetPlayerRaceCheckpoint(playerid, 1, ConstructionTrash[idx][0], ConstructionTrash[idx][1], ConstructionTrash[idx][2], 0.0, 0.0, 0.0, 2.5);
					if(random(4) == 2)
			        {
	                    new amount = RandomEx(1, 2);
	                    new max_value;
	                    GetPlayerMaxInventoryItems(playerid, TYPE_METAL, max_value);
	                    if(PlayerInfo[playerid][pInventoryItems][TYPE_METAL] + amount > max_value)
	                    {
	                        SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_METAL][InvUnitName], Inventory[TYPE_METAL][InvStringName]);
	                        return 1;
	                    }
	                    PlayerInfo[playerid][pInventoryItems][TYPE_METAL] += amount;
	                    SavePlayerInventoryItems(playerid, TYPE_METAL);
	                    SendMes(playerid, COLOR_MAIN, "На складе найдено %d металла.", amount);
	                    SendMes(playerid, COLOR_MAIN, "%d металла добавлено в инвентарь.", amount);
					}
				}
			}
			case 2:
			{
				if(ConstructionCountState[playerid] == 0)
				{
					if(IsPlayerInAnyVehicle(playerid)) return SetPlayerRaceCheckpoint(playerid, 1, 2412.4321, 1901.3204, 6.0156, 0.0, 0.0, 0.0, 2.5);
					DisablePlayerRaceCheckpoint(playerid);
					ApplyAnimation(playerid, "CARRY", "crry_prtial", 4.1,0,1,1,1,1);
					SetPlayerAttachedObject(playerid, 1, 2060, 5, 0.01, 0.1, 0.2, 100, 10, 85, 1.000000, 1.000000, 1.000000);
					ConstructionCountState[playerid] = 1;
					ConstructionCount[playerid]++;
					SendMes(playerid, COLOR_MAIN, "Вы взяли мешок с цементом, отнесите его на склад.");
					SetPlayerRaceCheckpoint(playerid, 1, 2391.7139, 1888.6210, 6.0156, 0.0, 0.0, 0.0, 2.5);
					SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CARRY);
				}
				else
				{
					if(IsPlayerInAnyVehicle(playerid)) return SetPlayerRaceCheckpoint(playerid, 1, 2391.7139, 1888.6210, 6.0156, 0.0, 0.0, 0.0, 2.5);
					ConstructionCountState[playerid] = 0;
					ApplyAnimation(playerid, "PED", "IDLE_chat", 4.1, 0, 1, 1, 0, 1);
					if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
					SendMes(playerid, COLOR_MAIN, "Вы перенесли %d из %d мешков с цементом.", ConstructionCount[playerid], 10);
					if(ConstructionCount[playerid] == 10) return StartPlayerConstructionWork(playerid, 500);
					SetPlayerRaceCheckpoint(playerid, 1, 2412.4321, 1901.3204, 6.0156, 0.0, 0.0, 0.0, 2.5);
					if(random(4) == 2)
			        {
	                    new amount = RandomEx(1, 2);
	                    new max_value;
	                    GetPlayerMaxInventoryItems(playerid, TYPE_STONE, max_value);
	                    if(PlayerInfo[playerid][pInventoryItems][TYPE_STONE] + amount > max_value)
	                    {
	                        SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_STONE][InvUnitName], Inventory[TYPE_STONE][InvStringName]);
	                        return 1;
	                    }
	                    PlayerInfo[playerid][pInventoryItems][TYPE_STONE] += amount;
	                    SavePlayerInventoryItems(playerid, TYPE_STONE);
	                    SendMes(playerid, COLOR_MAIN, "На складе найдено %d камня.", amount);
	                    SendMes(playerid, COLOR_MAIN, "%d камня добавлено в инвентарь.", amount);
	                }
				}
			}
			case 3:
			{
				if(ConstructionCountState[playerid] == 0)
				{
					if(IsPlayerInAnyVehicle(playerid)) return SetPlayerRaceCheckpoint(playerid, 1, 2412.4321, 1896.0673, 6.0156, 0.0, 0.0, 0.0, 2.5);
					DisablePlayerRaceCheckpoint(playerid);
					ApplyAnimation(playerid, "CARRY", "crry_prtial", 4.1,0,1,1,1,1);
					SetPlayerAttachedObject(playerid, 1, 1558, 5, 0.0670, 0.2430, 0.1849, -82.99, -2.09, -70.60, 0.43, 0.29, 0.41);
					ConstructionCountState[playerid] = 1;
					ConstructionCount[playerid]++;
					SendMes(playerid, COLOR_MAIN, "Вы взяли ящик с плиткой, отнесите его на склад.");
					SetPlayerRaceCheckpoint(playerid, 1, 2399.2205, 1885.1989, 6.0156, 0.0, 0.0, 0.0, 2.5);
					SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CARRY);
				 }
				else
				{
					if(IsPlayerInAnyVehicle(playerid)) return SetPlayerRaceCheckpoint(playerid, 1, 2399.2205, 1885.1989, 6.0156, 0.0, 0.0, 0.0, 2.5);
					ConstructionCountState[playerid] = 0;
					ApplyAnimation(playerid, "PED", "IDLE_chat", 4.1, 0, 1, 1, 0, 1);
					if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
					SendMes(playerid, COLOR_MAIN, "Вы перенесли %d из %d ящиков с плиткой.", ConstructionCount[playerid], 10);
					if(ConstructionCount[playerid] == 10) return StartPlayerConstructionWork(playerid, 250);
					SetPlayerRaceCheckpoint(playerid, 1, 2412.4321, 1896.0673, 6.0156, 0.0, 0.0, 0.0, 2.5);
					if(random(4) == 2)
			        {
	                    new amount = RandomEx(1, 2);
	                    new max_value;
	                    GetPlayerMaxInventoryItems(playerid, TYPE_WOOD, max_value);
	                    if(PlayerInfo[playerid][pInventoryItems][TYPE_WOOD] + amount > max_value)
	                    {
	                        SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_WOOD][InvUnitName], Inventory[TYPE_WOOD][InvStringName]);
	                        return 1;
	                    }
	                    PlayerInfo[playerid][pInventoryItems][TYPE_WOOD] += amount;
	                    SavePlayerInventoryItems(playerid, TYPE_WOOD);
	                    SendMes(playerid, COLOR_MAIN, "На складе найдено %d древесины.", amount);
	                    SendMes(playerid, COLOR_MAIN, "%d древесины добавлено в инвентарь.", amount);
	                }
				}
			}
			case 4:
			{
				if(IsPlayerInAnyVehicle(playerid))
				{
					new idx = random(9);
					SetPlayerRaceCheckpoint(playerid, 1, ConstructionWelding[idx][0], ConstructionWelding[idx][1], ConstructionWelding[idx][2], 0.0, 0.0, 0.0, 2.5);
					return 1;
				}
				ConstructionTimerState[playerid] ^= 1;
				if(ConstructionTimerState[playerid])
				{
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerControl(playerid, false);
					ConstructionTimer[playerid] = 5;
					ApplyAnimation(playerid, "CAR_CHAT", "CAR_Sc4_BL", 4.0, 1, 1, 1, 0, 5000, 0);
					SetPlayerAttachedObject(playerid, 1, 2960, 5, 0.08, 0.04, -0.01, 0.0, 45.0, 0.0, 0.12, 0.12, 0.12);
					SetPlayerAttachedObject(playerid, 2, 18633, 6, 0.08, 0.03, 0.08, 90.0, 270.0, 0.0, 0.7, 0.7, 0.7);
				}
				else
				{
				    SetPlayerControl(playerid, true);
					ApplyAnimation(playerid, "PED", "IDLE_chat", 4.1, 0, 1, 1, 0, 1);
					if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
					if(IsPlayerAttachedObjectSlotUsed(playerid, 2)) RemovePlayerAttachedObject(playerid, 2);
					ConstructionCount[playerid]++;
					SendMes(playerid, COLOR_MAIN, "Вы сварили %d из %d ограждений.", ConstructionCount[playerid], 5);
					if(ConstructionCount[playerid] == 5) return StartPlayerConstructionWork(playerid, 250);
					new idx = random(9);
					SetPlayerRaceCheckpoint(playerid, 1, ConstructionWelding[idx][0], ConstructionWelding[idx][1], ConstructionWelding[idx][2], 0.0, 0.0, 0.0, 2.5);
				}
			}
			case 5:
			{
				if(IsPlayerInAnyVehicle(playerid))
				{
					new idx = random(8);
					SetPlayerRaceCheckpoint(playerid, 1, ConstructionRestroom[idx][0], ConstructionRestroom[idx][1], ConstructionRestroom[idx][2], 0.0, 0.0, 0.0, 2.5);
					return 1;
				}
				ConstructionTimerState[playerid] ^= 1;
				if(ConstructionTimerState[playerid])
				{
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerControl(playerid, false);
					ConstructionTimer[playerid] = 5;
					ApplyAnimation(playerid, "CAR_CHAT", "CAR_Sc4_BL", 4.0, 1, 1, 1, 0, 5000, 0);
					SetPlayerAttachedObject(playerid, 1, 2960, 5, 0.08, 0.04, -0.01, 0.0, 45.0, 0.0, 0.12, 0.12, 0.12);
					SetPlayerAttachedObject(playerid, 2, 18633, 6, 0.08, 0.03, 0.08, 90.0, 270.0, 0.0, 0.7, 0.7, 0.7);
				}
				else
				{
					SetPlayerControl(playerid, true);
					ApplyAnimation(playerid, "PED", "IDLE_chat", 4.1, 0, 1, 1, 0, 1);
					if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
					if(IsPlayerAttachedObjectSlotUsed(playerid, 2)) RemovePlayerAttachedObject(playerid, 2);
					ConstructionCount[playerid]++;
					SendMes(playerid, COLOR_MAIN, "Вы отремонтировали %d из %d туалетов.", ConstructionCount[playerid], 5);
					if(ConstructionCount[playerid] == 5) return StartPlayerConstructionWork(playerid, 250);
					new idx = random(8);
					SetPlayerRaceCheckpoint(playerid, 1, ConstructionRestroom[idx][0], ConstructionRestroom[idx][1], ConstructionRestroom[idx][2], 0.0, 0.0, 0.0, 2.5);
				}
			}
			case 6:
			{
				if(!IsPlayerInAnyVehicle(playerid)) return SetPlayerRaceCheckpoint(playerid, 1, 2419.8196, 1950.3654, 6.0156, 0.0, 0.0, 0.0, 5.0);
				if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return SetPlayerRaceCheckpoint(playerid, 1, 2419.8196, 1950.3654, 6.0156, 0.0, 0.0, 0.0, 5.0);
				if(VehInfo[vehicleid][vFraction] != V_J_CONSTRUCTION_FORKLIFT) return SetPlayerRaceCheckpoint(playerid, 1, 2419.8196, 1950.3654, 6.0156, 0.0, 0.0, 0.0, 5.0);
				if(ConstructionCountState[playerid] == 0)
				{
					if(ConstructionObject[playerid] != -1)
					{
						if(IsValidDynamicObject(ConstructionObject[playerid])) DestroyDynamicObject(ConstructionObject[playerid]);
						ConstructionObject[playerid] = -1;
					}
					ConstructionObject[playerid] = CreateDynamicObject(1271, 0, 0, 0, 0, 0, 0, -1, -1, -1, 120.00, 120.00);
					AttachDynamicObjectToVehicle(ConstructionObject[playerid], vehicleid, -0.010000, 0.549999, 0.3, 0.000000, 0.000000, 0.000000);
					DisablePlayerRaceCheckpoint(playerid);
					ConstructionCountState[playerid] = 1;
					ConstructionCount[playerid]++;
					SendMes(playerid, COLOR_MAIN, "Вы загрузили ящик с кирпичами, отвезите его на склад.");
					SetPlayerRaceCheckpoint(playerid, 1, 2472.4929, 1942.0122, 10.0748, 0.0, 0.0, 0.0, 5.0);
				 }
				else
				{
					if(ConstructionObject[playerid] != -1)
					{
						if(IsValidDynamicObject(ConstructionObject[playerid])) DestroyDynamicObject(ConstructionObject[playerid]);
						ConstructionObject[playerid] = -1;
					}
					ConstructionCountState[playerid] = 0;
					DisablePlayerRaceCheckpoint(playerid);
					SendMes(playerid, COLOR_MAIN, "Вы перевезли %d из %d ящиков с кирпичами.", ConstructionCount[playerid], 3);
					if(ConstructionCount[playerid] == 3) return StartPlayerConstructionWork(playerid, 250);
					SetPlayerRaceCheckpoint(playerid, 1, 2419.8196, 1950.3654, 6.0156, 0.0, 0.0, 0.0, 5.0);
				}
			}
			case 7:
			{
				if(!IsPlayerInAnyVehicle(playerid)) return SetPlayerRaceCheckpoint(playerid, 1, 2706.3994, 908.2089, 10.6606, 0.0, 0.0, 0.0, 5.0);
				if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return SetPlayerRaceCheckpoint(playerid, 1, 2706.3994, 908.2089, 10.6606, 0.0, 0.0, 0.0, 5.0);
				if(VehInfo[vehicleid][vFraction] != V_J_CONSTRUCTION_CEMENT) return SetPlayerRaceCheckpoint(playerid, 1, 2706.3994, 908.2089, 10.6606, 0.0, 0.0, 0.0, 5.0);
				if(ConstructionCountState[playerid] == 0)
				{
					DisablePlayerRaceCheckpoint(playerid);
					ConstructionCountState[playerid] = 1;
					ConstructionCount[playerid]++;
					SendMes(playerid, COLOR_MAIN, "Вы загрузили цемент, отвезите его на стройку.");
					SetPlayerRaceCheckpoint(playerid, 1, 2474.2292, 1948.8763, 10.2626, 0.0, 0.0, 0.0, 5.0);
				}
				else
				{
					DisablePlayerRaceCheckpoint(playerid);
					ConstructionCountState[playerid] = 0;
					SendMes(playerid, COLOR_MAIN, "Вы перевезли %d из %d цемента.", ConstructionCount[playerid], 3);
					if(ConstructionCount[playerid] == 3) return StartPlayerConstructionWork(playerid, 1500);
					SetPlayerRaceCheckpoint(playerid, 1, 2706.3994, 908.2089, 10.6606, 0.0, 0.0, 0.0, 5.0);
				}
			}
		}
        return 1;
	}
	if(TrainmanStatus[playerid] == true)
    {
        switch(TrainmanIDx[playerid])
        {
            case 0:
            {
				if(IsPlayerInAnyVehicle(playerid)) return SetPlayerRaceCheckpoint(playerid, 1, 1691.4867, -1999.2233, 14.1570, 0.0, 0.0, 0.0, 2.5);
                SendMes(playerid, COLOR_MAIN, "Вы взяли мешок, отнесите его на железнодорожные пути.");
	            DisablePlayerRaceCheckpoint(playerid);
                TrainmanIDx[playerid] = 1;
                ApplyAnimation(playerid, "CARRY", "crry_prtial", 4.1, 0, 1, 1, 1, 1);
                SetPlayerAttachedObject(playerid, 1, 2060, 5, 0.01, 0.1, 0.2, 100, 10, 85, 1.000000, 1.000000, 1.000000);
                new idx = random(6);
	            SetPlayerRaceCheckpoint(playerid, 1, TrainmanBag[idx][0], TrainmanBag[idx][1], TrainmanBag[idx][2], 0.0, 0.0, 0.0, 2.5);
                SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CARRY);
            }
            case 1:
            {
				if(IsPlayerInAnyVehicle(playerid))
				{
	                new idx = random(6);
		            SetPlayerRaceCheckpoint(playerid, 1, TrainmanBag[idx][0], TrainmanBag[idx][1], TrainmanBag[idx][2], 0.0, 0.0, 0.0, 2.5);
		            return 1;
				}
				new reason_money = 150 + GetPlayerMoneyJobSkill(playerid, 150, 0);
				if(PlayerInfo[playerid][pLevel] <= 3 && Stocks[1] == 1) reason_money = reason_money * 2;
				else if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
				SendMes(playerid, COLOR_MAIN, "Вы положили мешок. К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", reason_money);
				PlayerInfo[playerid][pTOPSalary] += reason_money;
	            DisablePlayerRaceCheckpoint(playerid);
                ApplyAnimation(playerid, "PED", "IDLE_chat", 4.1, 0, 1, 1, 0, 1);
                if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
                DisablePlayerRaceCheckpoint(playerid);
                TrainmanIDx[playerid] = 0;
                TrainmanCount[playerid]++;
                TrainmanSalary[playerid] += reason_money;
                SetPlayerRaceCheckpoint(playerid, 1, 1691.4867, -1999.2233, 14.1570, 0.0, 0.0, 0.0, 2.5);
                SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
                CheckQuest(playerid, 0);
                CheckTask(playerid, 14);
                CheckJobSkill(playerid, 0);
                CheckAchievement(playerid, 0);
            }
        }
		return 1;
    }
	if(Patrul[playerid] != -1)
	{
		Patrolled[Patrul[playerid]] = -1;
		Patrul[playerid] = -1;
		DisablePlayerRaceCheckpoint(playerid);
        return 1;
	}
	new nickname_one[MAX_PLAYER_NAME], nickname_two[MAX_PLAYER_NAME], nickname_three[MAX_PLAYER_NAME];
    if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	{
		if(GetPlayerVirtualWorld(playerid) == 500)
		{
			for(new i = 0; i < MAX_RACE_PLAYERS; i++)
			{
				if(RacePlayers[i] == playerid)
				{
					if((EventMap == 0 && RacePosition[i] == 29) || (EventMap == 1 && RacePosition[i] == 33))
					{
						DisablePlayerRaceCheckpoint(RacePlayers[i]);
						if(RaceWinnerIDs[0] == INVALID_PLAYER_ID)
						{
							RaceWinnerIDs[0] = RacePlayers[i];
  							ServerMoney(RacePlayers[i], "Приз за 1 место на гонках", RACE_PRIZ_ONE);
							GetPlayerName(RacePlayers[i], nickname_one, MAX_PLAYER_NAME);
							format(strings, sizeof(strings), "Первое место на гонках занял(-а) %s. Приз: {"#DC_WHITE"}$%d!", nickname_one, RACE_PRIZ_ONE);
							SCMTA(COLOR_NEWGREEN, strings);
						}
						else if(RaceWinnerIDs[1] == INVALID_PLAYER_ID)
						{
							RaceWinnerIDs[1] = RacePlayers[i];
  							ServerMoney(RacePlayers[i], "Приз за 2 место на гонках", RACE_PRIZ_TWO);
							GetPlayerName(RacePlayers[i], nickname_two, MAX_PLAYER_NAME);
							format(strings, sizeof(strings), "Второе место на гонках занял(-а) %s. Приз: {"#DC_WHITE"}$%d!", nickname_two, RACE_PRIZ_TWO);
							SCMTA(COLOR_NEWGREEN, strings);
						}
						else if(RaceWinnerIDs[2] == INVALID_PLAYER_ID)
						{
							RaceWinnerIDs[2] = RacePlayers[i];
  							ServerMoney(RacePlayers[i], "Приз за 3 место на гонках", RACE_PRIZ_THREE);
							GetPlayerName(RacePlayers[i], nickname_three, MAX_PLAYER_NAME);
							format(strings, sizeof(strings), "Третье место на гонках занял(-а) %s. Приз: {"#DC_WHITE"}$%d!", nickname_three, RACE_PRIZ_THREE);
							SCMTA(COLOR_NEWGREEN, strings);
						}
						RemovePlayerFromVehicle(RacePlayers[i]);
						SetPlayerInterior(playerid, 0);
						SetPlayerVirtualWorld(playerid, 0);
						SetPlayerPos(playerid, 1957.3762,-2181.5291,13.5469);
						SetPlayerFacingAngle(playerid, 268.9459);
      					RegisterRace[playerid] = 0;
						RacePlayers[i] = INVALID_PLAYER_ID;
						DestroyVehicle(RaceVehicles[i]);
					}
					else
					{
						RacePosition[i]++;
						if(EventMap == 0) SetPlayerRaceCheckpoint(RacePlayers[i], (RacePosition[i] == 29) ? 1 : 0, RaceCPCoord[EventMap][RacePosition[i]][0], RaceCPCoord[EventMap][RacePosition[i]][1], RaceCPCoord[EventMap][RacePosition[i]][2], RaceCPCoord[EventMap][RacePosition[i] + 1][0], RaceCPCoord[EventMap][RacePosition[i] + 1][1], RaceCPCoord[EventMap][RacePosition[i] + 1][2], 15.0);
						else if(EventMap == 1) SetPlayerRaceCheckpoint(RacePlayers[i], (RacePosition[i] == 33) ? 1 : 0, RaceCPCoord[EventMap][RacePosition[i]][0], RaceCPCoord[EventMap][RacePosition[i]][1], RaceCPCoord[EventMap][RacePosition[i]][2], RaceCPCoord[EventMap][RacePosition[i] + 1][0], RaceCPCoord[EventMap][RacePosition[i] + 1][1], RaceCPCoord[EventMap][RacePosition[i] + 1][2], 15.0);
					}
				}
			}
		}
        return 1;
	}
	else
	{
		DisablePlayerRaceCheckpoint(playerid);
	}
	return 1;
}
//==============================================================================
public OnPlayerStreamIn(playerid, forplayerid)
{
	/*if(PlayerInfo[playerid][pInterfaceSetting][0] == 0)
	{
	    ShowPlayerNameTagForPlayer(playerid, forplayerid, 0);
	}*/
	return 1;
}
//==============================================================================
public OnPlayerLeaveRaceCheckpoint(playerid)
{
	if(FarmStart[playerid] == 2)
	{
		SendMes(playerid, COLOR_DARKORANGE, "Вы покинули место сбора урожая.");
		FarmStart[playerid] = 1;
		KillTimer(FarmTimer[playerid]);
		return 1;
	}
	return 1;
}
//==============================================================================
public OnPlayerPickUpDynamicPickup(playerid, pickupid)
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(pickupid > MAX_PICKUPS || pickupid < 0) return 1;
	if(!IsAPPos(playerid, 7.5, PickupInfo[pickupid][picPosX], PickupInfo[pickupid][picPosY], PickupInfo[pickupid][picPosZ])) return 1;
	if(PlayerInfo[playerid][pJail] && PlayerInfo[playerid][pJailTime]) return SpawnPlayer(playerid);
	if(pickupid == GetPVarInt(playerid, "OldPickup")) return 1;
	if(GetPVarInt(playerid, "PickupEntered") == 1) return 1;
	SetPVarInt(playerid, "OldPickup", pickupid);
	new Float:z;
	GetPlayerPos(playerid, PickupX[playerid], PickupY[playerid], z);
	for(new fidx = 1; fidx <= TOTALFARM; fidx++)
    {
        if(pickupid == FarmInfo[fidx][fPickupVehicle][0]) PlayerUseFarmCar(playerid, fidx, 0);
        else if(pickupid == FarmInfo[fidx][fPickupVehicle][1]) PlayerUseFarmCar(playerid, fidx, 1);
    }
	if(PickupInfo[pickupid][picStatus] == 100) return 1;
	if(PickupInfo[pickupid][picStatus] == 1)
	{
	    for(new e = 1; e < MAX_ENTERS; e++)
		{
			if(IsAPPos(playerid, 2.5, EnterInfo[e][ePosX], EnterInfo[e][ePosY], EnterInfo[e][ePosZ]) && GetPlayerVirtualWorld(playerid) == EnterInfo[e][eWorld] && GetPlayerInterior(playerid) == EnterInfo[e][eInterior])
			{
				if(EnterInfo[e][eStatus] == 1) return SendMes(playerid, COLOR_DARKORANGE, "Здание временно закрыто.");
				if(EnterInfo[e][eMember] != 0 && EnterInfo[e][eMember] != PlayerInfo[playerid][pMember] && EnterInfo[e][eMember] != PlayerInfo[playerid][pSkip]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет ключей от этих дверей.");
				if(EnterInfo[e][eType] == 1)
				{
				    if(PlayerInfo[playerid][pHospital]) return SendMes(playerid, COLOR_DARKORANGE, "Чтобы выйти из больницы необходимо быть полностью здоровым.");
					if(EnterBroadcast[playerid] > 0)
					{
						format(strings, sizeof(strings), "[F] %s выш(-ел/-ла) из эфира", PlayerInfo[playerid][pName]);
						SendFMes(EnterBroadcast[playerid] + 7, COLOR_NEWLBLUE, strings);
						EnterBroadcast[playerid] = 0;
					}
				}
				else if(EnterInfo[e][eType] == 2)
				{
					if(PlayerInfo[playerid][pLevel] < 5) return SendMes(playerid, COLOR_DARKORANGE, "Вход в казино возможен с 5-го уровня.");
				}
				else if(EnterInfo[e][eType] == 3)
				{
					SetTimerEx("OnPlayerStopPickup", 3000, 0, "i", playerid);
					SetPVarInt(playerid, "PickupEntered", 1);
				}
				if(EnterInfo[e][eFreeze] != 0)
				{
					FreezePlayer(playerid, EnterInfo[e][eFreeze]);
				}
				SetPlayerPos(playerid, EnterInfo[e][ePosTX], EnterInfo[e][ePosTY], EnterInfo[e][ePosTZ]);
				SetPlayerFacingAngle(playerid, EnterInfo[e][ePosTFA]);
				SetPlayerInterior(playerid, EnterInfo[e][eTInterior]);
				SetPlayerVirtualWorld(playerid, EnterInfo[e][eTWorld]);
				SetCameraBehindPlayer(playerid);
				if(EnterInfo[e][eTime] != 100 && EnterInfo[e][eWeather] != 100)
				{
				    SetPlayerTime(playerid, EnterInfo[e][eTime], 0);
				    SetPlayerWeather(playerid, EnterInfo[e][eWeather]);
				    PlayerInfo[playerid][pRespawnTime] = EnterInfo[e][eTime];
				    PlayerInfo[playerid][pRespawnWeather] = EnterInfo[e][eWeather];
				}
				else
				{
				    SetPlayerTime(playerid, DefaultTime, 0);
				    SetPlayerWeather(playerid, DefaultWeather);
				    PlayerInfo[playerid][pRespawnTime] = 100;
				    PlayerInfo[playerid][pRespawnWeather] = 100;
				}
				break;
			}
		}
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 2)
	{
	    if(PickupInfo[pickupid][picMember] != PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в данной организации.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (!PlayerInfo[playerid][pDuty]) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_duty, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Далее", "Отмена");
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 3)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");
	    if(PlayerInfo[playerid][pJob] != J_FIREMAN) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете пожарным.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (FireStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_fire_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 4)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");
	    if(PlayerInfo[playerid][pJob] != J_ROADMAN) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете ремонтником дорог.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (RoadmanStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_roadman_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 5)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");
	    if(PlayerInfo[playerid][pJob] != J_PIZZABOY) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете развозчиком пиццы.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (PizzaboyStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_pizzaboy_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 6)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		if(PizzaboyStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы не начали рабочий день.");
		if(!GetPVarInt(playerid, "RentPizzaboy")) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны арендовать специализированное транспортное средство.");

        SetHouseCheckpoint(playerid, 1, PizzaboyIDx[playerid]);
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 7)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");
	    if(PlayerInfo[playerid][pJob] != J_POSTMAN) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете почтальоном.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (PostmanStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_postman_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 8)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		if(PostmanStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы не начали рабочий день.");
		if(!GetPVarInt(playerid, "RentPostman")) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны арендовать специализированное транспортное средство.");

        SetHouseCheckpoint(playerid, 2, PostmanIDx[playerid]);
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 9)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");
	    if(PlayerInfo[playerid][pJob] != J_TAX) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете работником налоговой.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (TaxStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_tax_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 10)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		if(TaxStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы не начали рабочий день.");
		if(!GetPVarInt(playerid, "RentTax")) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны арендовать специализированное транспортное средство.");

        SetHouseCheckpoint(playerid, 3, TaxIDx[playerid]);
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 11)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");
	    if(PlayerInfo[playerid][pJob] != J_COLLECTOR) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете инкассатором.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (CollectorStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_collector_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 12)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		if(CollectorStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы не начали рабочий день.");
		if(!GetPVarInt(playerid, "RentCollector")) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны арендовать специализированное транспортное средство.");

        SetATMCheckpoint(playerid, CollectorIDx[playerid]);
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 13)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");
	    if(PlayerInfo[playerid][pJob] != J_FLOWERSBOY) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете развозчиком цветов.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (FlowersboyStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_flowersboy_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 14)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		if(FlowersboyStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы не начали рабочий день.");
		if(!GetPVarInt(playerid, "RentFlowersboy")) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны арендовать специализированное транспортное средство.");

        SetHouseCheckpoint(playerid, 4, FlowersboyIDx[playerid]);
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 15)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (GoldMinerStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_goldminer_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 16)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		if(GoldMinerStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы не начали рабочий день.");
        if(GoldMinerType[playerid] == 1) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть порода.");

        SendMes(playerid, COLOR_MAIN, "Вы взяли породу, промойте её в воде.");
        SendMes(playerid, COLOR_MAIN, "Подойдите к воде и быстро нажимайте удар, после возьмите породу снова.");

        new idx = random(sizeof(GoldMinerProduction));
        SetPlayerCheckpoint(playerid, GoldMinerProduction[idx][0], GoldMinerProduction[idx][1], GoldMinerProduction[idx][2], 2.5);

        GoldMinerIDx[playerid] = idx;
        GoldMinerType[playerid] = 1;
        GoldMinerProgress[playerid] = 0;

        ApplyAnimation(playerid, "CARRY", "crry_prtial", 4.1, 1, 0, 0, 1, 1, 5);

        SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CARRY);

        if(IsPlayerAttachedObjectSlotUsed(playerid, 2)) RemovePlayerAttachedObject(playerid, 2);
        SetPlayerAttachedObject(playerid, 2, 905, 5, 0.135996, 0.100000, 0.167998, 10.600007, 35.499988, 178.599975, 0.264999, 0.075000, 0.351999);
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 17)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (DrugMakerStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_drugmaker_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 18)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

  		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		if(DrugMakerStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы не начали рабочий день.");

        SetDrugMakerCheckpoint(playerid, DrugMakerIDx[playerid]);
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 19)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (ConstructionStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_construction_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 20)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");
	    if(PlayerInfo[playerid][pJob] != J_TRUCK) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете дальнобойщиком.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (TruckerStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_truck_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 21)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (JanitorStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_janitor_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 22)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (GardenerStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_gardener_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 23)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (TrainmanStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_trainman_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 24)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (CleanerStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_cleaner_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 25)
	{
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (ZooWorkerStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_zooworker_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 26)
	{
		SendMes(playerid, COLOR_DARKORANGE, "Работа волонтера временно недоступна.");
		/*if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (VolunteerStatus[playerid] == false) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_volunteer_job, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");*/
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 27)
	{
	    if(PlayerInfo[playerid][pLevel] > 3) return SendMes(playerid, COLOR_DARKORANGE, "Пользоваться бесплатной едой можно до 3-го уровня.");
		if(PlayerInfo[playerid][pTemp][0] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Пользоваться бесплатной едой можно раз в минуту.");
	 	UseEat(playerid, 100);
		SendMes(playerid, COLOR_MAIN, "Вы воспользовались бесплатной едой.");
		PlayerInfo[playerid][pTemp][0] = 200;
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 28)
	{
		if(PlayerInfo[playerid][pLevel] > 3) return SendMes(playerid, COLOR_DARKORANGE, "Пользоваться бесплатным лечением можно до 3-го уровня.");
		if(PlayerInfo[playerid][pTemp][2] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Пользоваться бесплатным лечением можно раз в минуту.");
		SetHealth(playerid, 100);
		SendMes(playerid, COLOR_MAIN, "Вы воспользовались бесплатным лечением.");
		PlayerInfo[playerid][pTemp][2] = 200;
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 29)
	{
		SPD(playerid, did_help, DSL, "{"#DC_MAIN"}Помощь по игре", "{"#DC_MAIN"}1.{"#DC_WHITE"} О проекте\n{"#DC_MAIN"}2.{"#DC_WHITE"} FAQ\n{"#DC_MAIN"}3.{"#DC_WHITE"} С чего начать\n{"#DC_MAIN"}4.{"#DC_WHITE"} Термины\n{"#DC_MAIN"}5.{"#DC_WHITE"} Работы\n{"#DC_MAIN"}6.{"#DC_WHITE"} Рыбалка\n{"#DC_MAIN"}7.{"#DC_WHITE"} Охота\n{"#DC_MAIN"}8.{"#DC_WHITE"} Квесты\n{"#DC_MAIN"}9.{"#DC_WHITE"} Ежедневные задания", "Далее", "Отмена");
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 30)
	{
	    if(EventTime && RaceStarted == true)
		{
	       	for(new i = 0; i < MAX_RACE_PLAYERS; i++) if(RacePlayers[i] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже зарегистрированы на участие в мероприятии.");
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Открыта регистрация на мероприятие \"Гонки\"!\n\nПриз за 1-ое место: $%d.\nПриз за 2-ое место: $%d.\nПриз за 3-е место: $%d.\n\nСвободных мест: %d.\n\nВы желаете зарегистрироваться?", RACE_PRIZ_ONE, RACE_PRIZ_TWO, RACE_PRIZ_THREE, MAX_RACE_PLAYERS - EventPlayersCount(0));
			SPD(playerid, did_events, DSM, "{"#DC_MAIN"}Мероприятие", totalstring, "Да", "Нет");
		}
		else return SendMes(playerid, COLOR_DARKORANGE, "В данный момент регистрация на гонки закрыта.");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 31)
	{
	    if(EventTime && DerbyStarted == true)
		{
		    for(new i = 0; i < MAX_DERBY_PLAYERS; i++) if(DerbyPlayers[i] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже зарегистрированы на участие в мероприятии.");
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Открыта регистрация на мероприятие \"Дерби\"!\n\nПриз: $%d.\n\nСвободных мест: %d.\n\nВы желаете зарегистрироваться?", DERBY_PRIZ, MAX_DERBY_PLAYERS - EventPlayersCount(1));
			SPD(playerid, did_events, DSM, "{"#DC_MAIN"}Мероприятие", totalstring, "Да", "Нет");
		}
		else return SendMes(playerid, COLOR_DARKORANGE, "В данный момент регистрация на дерби закрыта.");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 32)
	{
	    if(EventTime && PaintBallStarted == true)
		{
		    for(new i = 0; i < MAX_PAINTBALL_PLAYERS; i++) if(PaintBallPlayers[i] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже зарегистрированы на участие в мероприятии.");
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Открыта регистрация на мероприятие \"Пейнтбол\"!\n\nПриз: $%d.\n\nСвободных мест: %d.\n\nВы желаете зарегистрироваться?", PAINTBALL_PRIZ, MAX_PAINTBALL_PLAYERS - EventPlayersCount(2));
			SPD(playerid, did_events, DSM, "{"#DC_MAIN"}Мероприятие", totalstring, "Да", "Нет");
		}
		else return SendMes(playerid, COLOR_DARKORANGE, "В данный момент регистрация на пейнтбол закрыта.");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 33)
	{
		if(PlayerInfo[playerid][pAdmin] > 1 && PlayerInfo[playerid][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "Вы администратор, действие невозможно.");
	    SPD(playerid, did_duel, DSI, "{"#DC_MAIN"}Поединок", "{"#DC_WHITE"}Введите ID игрока, ID оружия и ставку через запятую:\n\nСписок оружия:\n\n\
		{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n\
		{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n\
		{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n\
		{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n\
		{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n\
		{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47", "Далее", "Отмена");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 34)
	{
		totalstring = "";
		if(PlayerInfo[playerid][pSex] == 1) format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Здравствуйте, {"#DC_PINK"}%s.{"#DC_WHITE"}\n\nВ этом месте Вы можете сделать предложение своей возлюбленной.\n\nСтоимость бракосочетания: $%d.\n\nДля того, чтобы сделать предложение, введите: {"#DC_PINK"}/married [id игрока]{"#DC_WHITE"}\nДля того, чтобы развестись, введите: {"#DC_PINK"}/unmarried", PlayerInfo[playerid][pName], MARRIED_PRICE);
		else format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Здравствуйте, {"#DC_PINK"}%s.{"#DC_WHITE"}\n\nВ этом месте Вы можете сделать предложение своему возлюбленному.\n\nСтоимость бракосочетания: $%d.\n\nДля того, чтобы сделать предложение, введите: {"#DC_PINK"}/married [id игрока]{"#DC_WHITE"}\nДля того, чтобы развестись, введите: {"#DC_PINK"}/unmarried", PlayerInfo[playerid][pName], MARRIED_PRICE);
		SPD(playerid, did_null, DSM, "{"#DC_MAIN"}{"#DC_PINK"}Церковь", totalstring, "Отмена", "");
		return 1;
	}
    else if(PickupInfo[pickupid][picStatus] == 35)
	{
		if(PlayerInfo[playerid][pLevel] < 5) return SendMes(playerid, COLOR_DARKORANGE, "Работать крупье можно с 5-го уровня.");
		if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s рабочий день?", (!GetPVarInt(playerid, "CasinoDuty")) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_duty_casino, DSM, "{"#DC_MAIN"}Раздевалка", totalstring, "Да", "Нет");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 36)
	{
		BankList(playerid);
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 37)
	{
	    if(IsAGang(playerid))
	    {
    		SPD(playerid, did_drug_dock, DSL, "{"#DC_MAIN"}Наркопритон", "{"#DC_MAIN"}1.{"#DC_WHITE"} Наркотики\n{"#DC_MAIN"}2.{"#DC_WHITE"} Семена", "Далее", "Отмена");
		} else return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете здесь ничего приобрести, уходите.");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 38)
	{
		if(PlayerInfo[playerid][pLic][0] == 1) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть водительское удостоверение.");
		if(GetPVarInt(playerid, "LicTest") == 0)
		{
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Здравствуйте! Здесь Вы можете сдать экзамен на получение\nводительского удостоверения.\nСтоимость: $500.\n\nВы желаете приступить к сдаче экзамена?");
			SPD(playerid, did_autoschool, DSM, "{"#DC_MAIN"}Экзамен на водительское удостоверение", totalstring, "Да", "Нет");
		}
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 39)
	{
		if(PlayerInfo[playerid][pLic][0] == 1) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть водительское удостоверение.");
		if(GetPVarInt(playerid, "LicTest") != 2) return SendMes(playerid, COLOR_DARKORANGE, "Для начала необходимо сдать теоретический экзамен.");
		if(GetPVarInt(playerid, "pGPSWork"))
		{
			DisablePlayerRaceCheckpoint(playerid);
			SetPVarInt(playerid, "pGPSWork", 0);
			DeletePVar(playerid, "GPSX");
			DeletePVar(playerid, "GPSY");
			DeletePVar(playerid, "GPSZ");
			DeletePVar(playerid, "GPSID");
		}
		SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Экзамен на водительское удостоверение", "{"#DC_WHITE"}Поздравляем! Вам выдали водительское удостоверение.", "Отмена", "");
		PlayerInfo[playerid][pLic][0] = 1;
		DeletePVar(playerid, "LicStart");
		DeletePVar(playerid, "LicTest");
		CheckQuest(playerid, 1);
		DeletePVar(playerid, "LicTestHealth");
		DeletePVar(playerid, "LicTestError");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 40)
	{
	    if(!IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете взять материалы.");
	    new max_value;
        GetPlayerMaxInventoryItems(playerid, TYPE_MATERIALS, max_value);
        if(PlayerInfo[playerid][pInventoryItems][TYPE_MATERIALS] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_MATERIALS][InvUnitName], Inventory[TYPE_MATERIALS][InvStringName]);
		new need_materials = max_value - PlayerInfo[playerid][pInventoryItems][TYPE_MATERIALS];
		if(Warehouse[W_NATIONAL_GUARD] < need_materials) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия.");
		SetWarehouse(W_NATIONAL_GUARD, -need_materials);
		PlayerInfo[playerid][pInventoryItems][TYPE_MATERIALS] += need_materials;
		if(PlayerInfo[playerid][pInventoryItems][TYPE_MATERIALS] > max_value) PlayerInfo[playerid][pInventoryItems][TYPE_MATERIALS] = max_value;
		SavePlayerInventoryItems(playerid, TYPE_MATERIALS);
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 41)
	{
	    if(!IsAArmy(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Покинь территорию, не то поднимется тревога. Армия будет стрелять на поражение!");
	    totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s охрану военного корабля?", (!ArmySecurityShip[playerid]) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
		SPD(playerid, did_army_security_ship, DSM, "{"#DC_MAIN"}Охрана", totalstring, "Да", "Нет");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 42)
	{
	    if(!IsAArmy(playerid) && !IsAMafia(playerid) && !IsAGang(playerid) && !IsABiker(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы законопослушный гражданский. Не трогайте эти ящики.");
		if(GetPVarInt(playerid, "CarryGun")) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть ящик с боеприпасами.");
		if(Warehouse[W_GUN] < MAX_CARRY_GUN) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно боеприпасов.");
		SetWarehouse(W_GUN, -MAX_CARRY_GUN);
		SetPVarInt(playerid, "CarryGun", MAX_CARRY_GUN);
		SetPlayerAttachedObject(playerid, 1, 2358, 6, 0.0, 0.10, -0.2, -110.0, 0.0, 78.0, 1.000000, 1.000000, 1.000000);
		SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CARRY);
		SendMes(playerid, COLOR_MAIN, "Вы взяли ящик с оружием, положите его в багажник транспортного средства.");
		SendMes(playerid, COLOR_MAIN, "Чтобы выбросить ящик, введите {"#DC_WHITE"}/end");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 43)
	{
		if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
			PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
			RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
			FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
			DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
			GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
			ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
			GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
			GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

		bigstring = "";
		format(bigstring, sizeof(bigstring), "\
		{"#DC_MAIN"}1.{"#DC_WHITE"} Развозчик пиццы (%d уровень)\n\
		{"#DC_MAIN"}2.{"#DC_WHITE"} Почтальон (%d уровень)\n\
		{"#DC_MAIN"}3.{"#DC_WHITE"} Развозчик цветов (%d уровень)\n\
		{"#DC_MAIN"}4.{"#DC_WHITE"} Водитель такси (%d уровень)\n\
		{"#DC_MAIN"}5.{"#DC_WHITE"} Водитель автобуса (%d уровень)\n\
		{"#DC_MAIN"}6.{"#DC_WHITE"} Автомеханик (%d уровень)\n\
		{"#DC_MAIN"}7.{"#DC_WHITE"} Развозчик продуктов (%d уровень)\n\
		{"#DC_MAIN"}8.{"#DC_WHITE"} Ремонтник дорог (%d уровеь)\n\
		{"#DC_MAIN"}9.{"#DC_WHITE"} Инкассатор (%d уровень)\n\
		{"#DC_MAIN"}10.{"#DC_WHITE"} Пилот (%d уровень)\n\
		{"#DC_MAIN"}11.{"#DC_WHITE"} Работник налоговой (%d уровень)\n\
		{"#DC_MAIN"}12.{"#DC_WHITE"} Пожарный (%d уровень)\n\
		{"#DC_MAIN"}13.{"#DC_WHITE"} Дальнобойщик (%d уровень)",
		J_PIZZABOY_LEVEL, J_POSTMAN_LEVEL, J_FLOWERSBOY_LEVEL, J_TAXI_LEVEL, J_BUS_LEVEL, J_MECHANIC_LEVEL, J_PRODUCT_LEVEL,
		J_ROADMAN_LEVEL, J_COLLECTOR_LEVEL, J_PILOT_LEVEL, J_TAX_LEVEL, J_FIREMAN_LEVEL, J_TRUCK_LEVEL);
		SPD(playerid, did_mayor_job, DSL, "{"#DC_MAIN"}Устройство на работу", bigstring, "Далее", "Отмена");
        return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 44)
	{
        SPD(playerid, did_mayor, DSL, "{"#DC_MAIN"}Мэрия", "{"#DC_MAIN"}1.{"#DC_WHITE"} Пожертвование\n{"#DC_MAIN"}2.{"#DC_WHITE"} Информация\n{"#DC_MAIN"}3.{"#DC_WHITE"} Выборы\n{"#DC_MAIN"}4.{"#DC_WHITE"} Создание семьи", "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 45)
	{
		new total = 0;
	    foreach(new i:Player)
	    {
	        if(IsPlayerInRangeOfPoint(i, 100.0, -2954.6960,1082.3297,1013.1392) && GetPlayerVirtualWorld(i) == GetPlayerVirtualWorld(playerid) && GetPVarInt(i, "AFK_Time") < 3)
	        {
	            if(IsAMedic(i) && IsAMedicDuty(i))
	            {
	                total++;
	                break;
	            }
	        }
	    }
		if(total != 0) return SendMes(playerid, COLOR_DARKORANGE, "В больнице есть врач, обратитесь к нему.");
		else SPD(playerid, did_hospital, DSL, "{"#DC_MAIN"}Участковый", "{"#DC_MAIN"}1.{"#DC_WHITE"} Вылечиться\n{"#DC_MAIN"}2.{"#DC_WHITE"} Мед. карта\n{"#DC_MAIN"}3.{"#DC_WHITE"} Наркозависимость", "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 46)
	{
	    ShowHospitalDisease(playerid);
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 47)
	{
		if(InjectionShow[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы не оплатили лечение заболевания.");
		new total = 0;
	    foreach(new i:Player)
	    {
	        if(IsPlayerInRangeOfPoint(i, 200.0, -2954.6960,1082.3297,1013.1392) && GetPlayerVirtualWorld(i) == GetPlayerVirtualWorld(playerid) && GetPVarInt(i, "AFK_Time") < 3)
	        {
	            if(IsAMedic(i) && IsAMedicDuty(i) && PlayerInfo[i][pRank] == 7)
	            {
	                total++;
	                break;
	            }
	        }
	    }
		if(total != 0) return SendMes(playerid, COLOR_DARKORANGE, "В больнице есть врач-инфекционист, обратитесь к нему.");
		else
		{
		    new diseaseid = InjectionInfo[playerid] - 1;
		    SendMes(playerid, COLOR_MAIN, "Врач-инфекционист сделал Вам укол от заболевания.");
		    PlayerInfo[playerid][pDisease][diseaseid] = 0;
 			SendMes(playerid, COLOR_MAIN, "Вы были вылечены от заболевания.");
			if(InjectionShow[playerid] == true)
			{
				/*Delete3DTextLabel(InjectionText[playerid]);*/
				InjectionInfo[playerid] = 0;
				InjectionShow[playerid] = false;
			}
		}
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 48)
	{
	    SPD(playerid, did_army_eat, DSL, "{"#DC_MAIN"}Столовая", "{"#DC_MAIN"}1.{"#DC_WHITE"} Копчённый лосось\n{"#DC_MAIN"}2.{"#DC_WHITE"} Филадельфиский стейк\n{"#DC_MAIN"}3.{"#DC_WHITE"} Кукурузная каша с креветками и рукколой", "Далее", "Отмена");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 49)
	{
	    SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация о спортзале", "{"#DC_WHITE"}В спортзале Вы можете повышать силовые характеристики, выполнять\nсиловые упражнения и изучать стили боя.\n\n\
		Первым делом Вам необходимо оплатить занятия в спортзале.\nПосле оплаты, Вам будет выдана спортивная форма и Вы сможете\nполучить спортивный инвентарь, с помощью которого, Вы сможете\nвыполнять силовые упражнения. Когда Ваши силовые навыки\nувеличатся, Вам станет доступно изучение стилей боя, которые\nВы сможете изменить в любой момент.", "Отмена", "");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 50)
	{
		if(GetPVarInt(playerid, "GymTraining") == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не начали тренировку в спортзале.");
 		if(GymInventory[playerid] == true) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть спортивный инвентарь.");
	    GymInventory[playerid] = true;
		SendMes(playerid, COLOR_MAIN, "Вы взяли спортивный инвентарь.");
		SendMes(playerid, COLOR_MAIN, "Введите {"#DC_WHITE"}/set{"#DC_MAIN"} для начала или окончания тренировки.");
		SendMes(playerid, COLOR_MAIN, "Введите {"#DC_WHITE"}/reset{"#DC_MAIN"} чтобы сдать инвентарь.");
	    SetPlayerAttachedObject(playerid, 1, 3072, 5, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000);
		SetPlayerAttachedObject(playerid, 2, 3071, 6, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 0.000000, 1.000000, 1.000000, 1.000000);
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 51)
	{
	    SPD(playerid, did_quest_npc, DSM, "{"#DC_MAIN"}Carl Johnson", "{"#DC_WHITE"}\
		Эй, друг, привет! Я - Carl Johnson, ну или CJ. Меня попросили помочь тебе освоиться в нашем штате, так что ты можешь на меня положиться.\n\n\
		Думаю, у тебя все получится. Уверен, ты сможешь получить до {"#DC_MAIN"}$500000{"#DC_WHITE"} от государства, но только в том случае, если будешь успешно выполнять мои задания.\n\n\
		А при прохождении всех квестов ты получишь несколько наград: {"#DC_MAIN"}$250000, 250 DONATE-COINS и несколько уникальных аксессуаров.{"#DC_WHITE"} Покажи, на что способен!", "Далее", "Отмена");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 52)
	{
	    SPD(playerid, did_quest_npc, DSM, "{"#DC_MAIN"}Sweet Johnson", "{"#DC_WHITE"}\
		Эй, брательник, привет! Меня звать Sweet Johnson, но свои зовут меня Сладким. Я помогу тебе встать но ноги в нашем городе.\n\n\
		Думаю, у тебя все получится. Уверен, ты сможешь получить до {"#DC_MAIN"}$500000{"#DC_WHITE"} от государства, но только в том случае, если будешь успешно выполнять мои задания.\n\n\
		А при прохождении всех квестов ты получишь несколько наград: {"#DC_MAIN"}$250000, 250 DONATE-COINS и несколько уникальных аксессуаров.{"#DC_WHITE"} Покажи, на что способен!", "Далее", "Отмена");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 53)
	{
	    SPD(playerid, did_quest_npc, DSM, "{"#DC_MAIN"}Big Smoke", "{"#DC_WHITE"}\
		Йоу, курочки не найдётся? А, это ты. Привет, кореш! Я о тебе слышал, и ты, наверное, обо мне тоже, а если нет - то я Big Smoke, самый, мать его, большой дым в этом мире!\n\n\
		Я помогу тебе как следует развлечься в нашем чертовски скучном городе. Уверен, ты сможешь получить до {"#DC_MAIN"}$500000{"#DC_WHITE"} от государства, но только в том случае, если будешь успешно выполнять мои задания.\n\n\
		А при прохождении всех квестов ты получишь несколько наград: {"#DC_MAIN"}$250000, 250 DONATE-COINS и несколько уникальных аксессуаров.{"#DC_WHITE"} Вперед!", "Далее", "Отмена");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 54)
	{
	    SPD(playerid, did_quest_npc, DSM, "{"#DC_MAIN"}Frank Tenpenny", "{"#DC_WHITE"}\
		Здравия желаю, меня звать оффицер Frank Tenpenny! Я должен помочь тебе продвинуться по карьерной лестнице и принести пользу государству, не так ли?\n\n\
		Уверен, ты сможешь получить до {"#DC_MAIN"}$500000{"#DC_WHITE"} от государства, но только в том случае, если будешь успешно выполнять мои задания.\n\n\
		А при прохождении всех квестов ты получишь несколько наград: {"#DC_MAIN"}$250000, 250 DONATE-COINS и несколько уникальных аксессуаров.{"#DC_WHITE"} Я верю в тебя!", "Далее", "Отмена");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 55)
	{
	    SPD(playerid, did_quest_npc, DSM, "{"#DC_MAIN"}Jeffrey Cross", "{"#DC_WHITE"}\
		Йоу, вассап, бро! Я - Jeffrey Cross, или же OG Loc. Я слышал, ты хочешь вкусить все прелести криминального мира, так? Я - тот, кто тебе нужен!\n\n\
		Думаю, ты сможешь получить до {"#DC_MAIN"}$500000{"#DC_WHITE"} от государства, но только в том случае, если будешь успешно выполнять мои задания.\n\n\
		А при прохождении всех квестов ты получишь несколько наград: {"#DC_MAIN"}$250000, 250 DONATE-COINS и несколько уникальных аксессуаров.{"#DC_WHITE"} Я верю в тебя!", "Далее", "Отмена");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 56)
	{
	    SPD(playerid, did_task_npc, DSM, "{"#DC_MAIN"}Catalina", "{"#DC_WHITE"}\
		Эй, ты, иди сюда! Да-да, ты! Короче, слушай сюда, я - Каталина, и я буду давать тебе каждый день простые задания, а ты сможешь на них хорошо заработать.\n\n\
		Ровно в полночь прогресс выполнения обнулится, а значит, ты сможешь зарабатывать на выполнении заданий хоть каждый день, например, просто заправив машину.\n\n\
		При прохождении моих заданий ты сможешь получить: {"#DC_MAIN"}денежные средства, очки опыта и DONATE-COINS.{"#DC_WHITE"} Ты все понял? Тогда шагай!", "Далее", "Отмена");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 57)
	{
	    if(PlayerInfo[playerid][pMember] != F_FBI) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в ФБР.");
	    if(!PlayerInfo[playerid][pDuty]) return SendMes(playerid, COLOR_DARKORANGE, "Сначала начните рабочий день.");
	    if(PlayerInfo[playerid][pRank] < 3) return SendMes(playerid, COLOR_DARKORANGE, "Пользоваться маскировкой разрешено с 3-его ранга.");
	    if(DisguiseInfo[playerid] == 0)
	    {
			totalstring = "", bigstring = "";
			for(new i = 1; i <= TOTALFRAC; i++)
			{
				format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", i, FracInfo[i][fName]);
				strcat(bigstring, totalstring);
			}
			SPD(playerid, did_disguise, DSL, "{"#DC_MAIN"}Организации", bigstring, "Далее", "Отмена");
		}
		else LeaveFromDisguise(playerid, 0);
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 58)
	{
	    if(!IsAMafia(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Эй, ты кто? Я ничем не торгую, нет, ты ошибся.");
		SPD(playerid, did_buy_device, DSM, "{"#DC_MAIN"}Подслушивающее устройство", "{"#DC_WHITE"}Здорова. Нужно подслушивающее? Устройство хорошее, японское, всего за $2500?", "Да", "Нет");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 59)
	{
	    if(!IsAMafia(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Привет, я тут просто покурить вышел, ничем тут не занимаюсь, никаких молотов у меня нет.");
		SPD(playerid, did_buy_hammer, DSM, "{"#DC_MAIN"}Отбойный молот", "{"#DC_WHITE"}О, я слышал о вас. Вам наверняка нужен хороший отбойник, всего за $1000?", "Да", "Нет");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 60)
	{
	    if(!IsAMafia(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Молодой человек, не мешайте, прочь с дороги.");
		SPD(playerid, did_robbery_laser, DSM, "{"#DC_MAIN"}Лазер", "{"#DC_WHITE"}О нет, пощадите! Я отдам вам лазер, он подойдёт, он мощный, только не трогайте меня!", "Далее", "Отмена");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 61)
	{
	    if(!IsAMafia(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Если ты не мафийоза, ты не сможешь уйти красиво с ограбления.");
	    new idx = GetPlayerVirtualWorld(playerid);
	    if(BankRobbery[idx-1]) return SendMes(playerid, COLOR_DARKORANGE, "Уже кто-то обносит этот банк. Вряд ли они будут рады твоему участию.");
	    if(BankRobberyTime[idx-1] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Банк пуст, только что его кто-то обнёс!");
	    SPD(playerid, did_robbery_bank, DSM, "{"#DC_MAIN"}Ограбление банка", "\
		{"#DC_WHITE"}Хочешь грабануть это хранилище? Для этого нужно не менее 5 мафиози.\n\
		Также тебе понадобятся инструменты. Отвёртку достанешь в 24/7, прослушивающее устройство можешь захватить на чёрном\n\
		рынке, отбойный молот найди на свалке, лазер придётся украсть со склада армии.\n\n\
		Дело длится 10 минут, после нагрянут копы и будут стрелять. Не в воздух, на поражение.\n\
		Помни, в любой момент ты можешь свалить и поехать в особняк. Лучше принести половину, чем оказаться за решёткой.\n\n\
		Большую часть получишь ты, часть нужно будет заплатить своей семье — мафии.\n\n\
		Деньги завозят в банк раз в 3 часа, поэтому не спеши на повторное дело, дождись привоза.", "Да", "Нет");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 62)
	{
	    if(!IsABiker(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Молодой человек, я Вас не знаю, ничем помочь не могу.");
	    if(!RobberyFuelingLiters[playerid]) return SendMes(playerid, COLOR_DARKORANGE, "Здесь сбыт бензина, а не пластиковых сосудов.");
		if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
		new price = RandomEx(25,50), money = RobberyFuelingLiters[playerid] * price, newmoney = money / 5, member = PlayerInfo[playerid][pMember];
  		format(strings, sizeof(strings), "[F] %s [%d] сбыл %d литр(-а/-ов) бензина за $%d. На счет клуба зачислено: $%d.", PlayerInfo[playerid][pName], playerid, RobberyFuelingLiters[playerid], money, newmoney);
        SendFMes(member, COLOR_NEWLBLUE, strings);
	    format(strings, sizeof(strings), "Вы продали %d литр(-а/-ов) бензина за $%d. Из них $%d отправлено на счёт вашего клуба.", RobberyFuelingLiters[playerid], money, newmoney);
		GiveFracBank(member, newmoney);
		ServerMoney(playerid, "Продал канистру", money - newmoney, 0);
		RobberyFuelingIDx[playerid] = 0;
		RobberyFuelingTime[playerid] = 0;
		RobberyFuelingLiters[playerid] = 0;
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 63)
	{
		SPD(playerid, did_arend_registration, DSL, "{"#DC_MAIN"}Аренда", "\
		{"#DC_MAIN"}1.{"#DC_WHITE"} BMX: $50\n\
		{"#DC_MAIN"}2.{"#DC_WHITE"} Bike: $50\n\
		{"#DC_MAIN"}3.{"#DC_WHITE"} Mountain Bike: $100\n\
		{"#DC_MAIN"}4.{"#DC_WHITE"} Faggio: $125", "Да", "Нет");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 64)
	{
	    ShootingGallery(playerid);
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 65)
	{
		SPD(playerid, did_police, DSL, "{"#DC_MAIN"}Полицейский департамент", "{"#DC_MAIN"}1.{"#DC_WHITE"} Зарегистрировать ТС", "Далее", "Отмена");
	    return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 66)
	{
	    if(PickupInfo[pickupid][picMember] != PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в данной организации.");
	    ShowWarehouse(playerid);
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 67)
	{
	    totalstring = "";
	    for(new i; i < sizeof(FishInfoList); i++) strcat(totalstring, FishInfoList[i]);
 		SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Рыбалка", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 68)
	{
	    totalstring = "";
		for(new i; i < sizeof(HuntingInfoList); i++) strcat(totalstring, HuntingInfoList[i]);
 		SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Охота", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 69)
	{
	    totalstring = "";
		for(new i; i < sizeof(TrainmanInfoList); i++) strcat(totalstring, TrainmanInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Ремонтник железнодорожных путей", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 70)
	{
	    totalstring = "";
		for(new i; i < sizeof(JanitorInfoList); i++) strcat(totalstring, JanitorInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Дворник", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 71)
	{
	    totalstring = "";
		for(new i; i < sizeof(GardenerInfoList); i++) strcat(totalstring, GardenerInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Садовник", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 72)
	{
	    totalstring = "";
		for(new i; i < sizeof(CleanerInfoList); i++) strcat(totalstring, CleanerInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Уборщик пляжа", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 73)
	{
	    totalstring = "";
		for(new i; i < sizeof(ZooWorkerInfoList); i++) strcat(totalstring, ZooWorkerInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Работник зоопарка", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 74)
	{
	    totalstring = "";
		for(new i; i < sizeof(VolunteerInfoList); i++) strcat(totalstring, VolunteerInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Волонтер", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 75)
	{
	    totalstring = "";
		for(new i; i < sizeof(DrugMakerInfoList); i++) strcat(totalstring, DrugMakerInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Закладчик", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 76)
	{
	    totalstring = "";
		for(new i; i < sizeof(GoldMinerInfoList); i++) strcat(totalstring, GoldMinerInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Золотодобытчик", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 77)
	{
	    totalstring = "";
		for(new i; i < sizeof(ConstructionInfoList); i++) strcat(totalstring, ConstructionInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Строитель", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 78)
	{
	    totalstring = "";
		for(new i; i < sizeof(PizzaboyInfoList); i++) strcat(totalstring, PizzaboyInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Развозчик пиццы", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 79)
	{
	    totalstring = "";
		for(new i; i < sizeof(PostmanInfoList); i++) strcat(totalstring, PostmanInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Почтальон", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 80)
	{
	    totalstring = "";
		for(new i; i < sizeof(FlowersboyInfoList); i++) strcat(totalstring, FlowersboyInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Развозчик цветов", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 81)
	{
	    totalstring = "";
		for(new i; i < sizeof(TaxiInfoList); i++) strcat(totalstring, TaxiInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Водитель такси", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 82)
	{
	    totalstring = "";
		for(new i; i < sizeof(BusInfoList); i++) strcat(totalstring, BusInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Водитель автобуса", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 83)
	{
	    totalstring = "";
		for(new i; i < sizeof(MechanicInfoList); i++) strcat(totalstring, MechanicInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Автомеханик", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 84)
	{
	    totalstring = "";
		for(new i; i < sizeof(ProductInfoList); i++) strcat(totalstring, ProductInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Развозчик продуктов", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 85)
	{
	    totalstring = "";
		for(new i; i < sizeof(RoadmanInfoList); i++) strcat(totalstring, RoadmanInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Ремонтник дорог", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 86)
	{
	    totalstring = "";
		for(new i; i < sizeof(CollectorInfoList); i++) strcat(totalstring, CollectorInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Инкассатор", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 87)
	{
	    totalstring = "";
		for(new i; i < sizeof(PilotInfoList); i++) strcat(totalstring, PilotInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Пилот", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 88)
	{
	    totalstring = "";
		for(new i; i < sizeof(TaxInfoList); i++) strcat(totalstring, TaxInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Работник налоговой", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 89)
	{
	    totalstring = "";
		for(new i; i < sizeof(FireInfoList); i++) strcat(totalstring, FireInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Пожарный", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 90)
	{
	    totalstring = "";
		for(new i; i < sizeof(TruckInfoList); i++) strcat(totalstring, TruckInfoList[i]);
    	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Дальнобойщик", totalstring, "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 91)
	{
		if(PlayerInfo[playerid][pLevel] < 3) return SendMes(playerid, COLOR_DARKORANGE, "Кореш, я все понимаю, ты хочешь скорее получить свой приз, но старый нигга Райдер отдаст его только тем, кто достиг 3-го уровня. Попутного ветра тебе в помощь!");
        if(PlayerInfo[playerid][pOpeningCode]) return SendMes(playerid, COLOR_DARKORANGE, "Эй ты, да, ты решил, что можешь обмануть легендарного ниггу Райдера? Я уже отдал тебе твой приз, а ну ка завязывай, а то мой братан Deagle сорвётся с цепи!");
		SPD(playerid, did_opening_code, DSI, "{"#DC_MAIN"}Lance Wilson", "{"#DC_WHITE"}\
		О, это же ты! Пацаны говорили про тебя, что ты смог найти мой супер-мега-гипер секретный код, а?\n\
		Райдер, о да, запомни, я чёртов гений! Если готов, то давай сюда код, который ты собрал из видеороликов,\n\
		и сможешь получить уникальный аксессуар, {"#DC_MAIN"}10{"#DC_WHITE"} DONATE COINS и {"#DC_MAIN"}2{"#DC_WHITE"} очка опыта!", "Далее", "Отмена");
		return 1;
	}
	else if(PickupInfo[pickupid][picStatus] == 92)
	{
		if(PlayerInfo[playerid][pLevel] < 3) return SendMes(playerid, COLOR_DARKORANGE, "Чувак, привет! Я обязательно выдам тебе твой подарок, но сначала ты должен достигнуть 3-го уровня, это не так уж и сложно. Жду тебя на этом же месте!");
		if(PlayerInfo[playerid][pOpeningServer]) return SendMes(playerid, COLOR_DARKORANGE, "Эй, друг, я же уже вручил тебе подарок, так не честно! Мне еще стольких ребят надо обрадовать...");
		SPD(playerid, did_opening_server, DSM, "{"#DC_MAIN"}Sweet Johnson", "{"#DC_WHITE"}\
		Йо-о-у, чува-ак, сегодня такой крутой день, поэтому я решил порадовать тебя подарком в честь\n\
		твоего прибытия в наш штат! Уверен, мы с тобой ещё пересечемся, а пока держи от меня {"#DC_MAIN"}$10000{"#DC_WHITE"}\n\
		и {"#DC_MAIN"}2{"#DC_WHITE"} очка опыта. Используй их с умом, до скорого!", "Далее", "Отмена");
	    return 1;
	}
	for(new idx; idx < TOTALMARKET; idx++)
	{
		if(pickupid == MarketInfo[idx][MarketPickup])
		{
		    if(MarketInfo[idx][MarketStatus] == 0)
	        {
	            if(MarketUse[playerid] != -1) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть арендованная палатка.");
	            if(PlayerInfo[playerid][pLevel] < 3) return SendMes(playerid, COLOR_DARKORANGE, "Арендовать палатку можно с 3 уровня.");
	            ShowFreeMarket(playerid, idx);
	        }
	        else
	        {
	            if(MarketUse[playerid] != -1 && MarketUse[playerid] == idx) SPD(playerid, did_market, DSL, "{"#DC_MAIN"}Управление палаткой", "{"#DC_MAIN"}1.{"#DC_WHITE"} Выставить товар\n{"#DC_MAIN"}2.{"#DC_WHITE"} Список товара\n{"#DC_MAIN"}3.{"#DC_WHITE"} Закончить продавать товар", "Далее", "Отмена");
	            else ShowItemsMarket(playerid, idx);
	        }
	        MarketBuyIDx[playerid] = idx;
		}
	}
	/*for(new idx; idx < TOTALVEHICLEPARK; idx++)
	{
		if(pickupid == VehicleParkInfo[idx][vpPickup])
		{
		    if(VehicleParkStatus == false) return SendMes(playerid, COLOR_DARKORANGE, "Транспортные парковки отключены администрацией.");
		    SetPVarInt(playerid, "UseVehiclePark", idx);
		    if(PlayerInfo[playerid][pMember] != VehicleParkInfo[idx][vpFraction] && PlayerInfo[playerid][pJob] != VehicleParkInfo[idx][vpFraction]-100) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет ключей от этой парковки.");
			if(PlayerInfo[playerid][pJob] == J_PIZZABOY && PizzaboyStatus[playerid] == false || PlayerInfo[playerid][pJob] == J_POSTMAN && PostmanStatus[playerid] == false ||
			PlayerInfo[playerid][pJob] == J_FLOWERSBOY && FlowersboyStatus[playerid] == false || PlayerInfo[playerid][pJob] == J_ROADMAN && RoadmanStatus[playerid] == false ||
			PlayerInfo[playerid][pJob] == J_COLLECTOR && CollectorStatus[playerid] == false || PlayerInfo[playerid][pJob] == J_TAX && TaxStatus[playerid] == false ||
			PlayerInfo[playerid][pJob] == J_FIREMAN && FireStatus[playerid] == false || PlayerInfo[playerid][pJob] == J_TRUCK && TruckerStatus[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны начать рабочий день.");
			new count = 0;
		    totalstring = "", bigstring = "";
		    for(new i = 0; i < 5; i++)
		    {
		        if(VehicleParkInfo[idx][vpModel][i] == 0) continue;
		        format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s [ID: %d] ($%d)\n", count + 1, VehicleNameS[VehicleParkInfo[idx][vpModel][i]-400], VehicleParkInfo[idx][vpModel][i], VehicleParkInfo[idx][vpPrice][i]);
		        strcat(bigstring, totalstring);
		        count++;
		    }
		    if(!count) return SendMes(playerid, COLOR_DARKORANGE, "На парковке нет транспортных средств.");
		    SPD(playerid, did_vehicle_park, DSL, "{"#DC_MAIN"}Транспортная парковка", bigstring, "Далее", "Отмена");
		}
	}*/
	for(new idx = 1; idx <= TOTALHOUSE; idx++)
	{
		if(pickupid == HouseInfo[idx][hPickup])
		{
			SetPVarInt(playerid, "UseHouse", idx);
			new dtext[32];
			if(HouseInfo[idx][hDiscript] == 1) format(dtext, sizeof(dtext), "Эконом");
			else if(HouseInfo[idx][hDiscript] == 2) format(dtext, sizeof(dtext), "Средний");
			else if(HouseInfo[idx][hDiscript] == 3) format(dtext, sizeof(dtext), "Высокий");
			else if(HouseInfo[idx][hDiscript] == 4) format(dtext, sizeof(dtext), "Элитный");
			if(!strcmp(HouseInfo[idx][hOwner], "None", true))
			{
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
				Номер: %d\n\
				Стоимость: $%d\n\
				Класс: %s\n\
				Налог: $%d", idx, HouseInfo[idx][hPrice], dtext, HouseInfo[idx][hDiscript] * 3000);
				return SPD(playerid, did_enter_house, DSM, "{"#DC_MAIN"}Дом продается", totalstring, "Купить", "Отмена");
			}
			else
			{
				new status[32], door[32];
				if(GetPlayerID(HouseInfo[idx][hOwner]) == INVALID_PLAYER_ID) format(status, sizeof(status), "[{"#DC_LRED"}Offline{"#DC_WHITE"}]");
				else format(status, sizeof(status), "[{"#DC_GREEN"}Online{"#DC_WHITE"}]");
				if((HouseInfo[idx][hLock]) == 0) format(door, sizeof(door), "{"#DC_GREEN"}Открыто{"#DC_WHITE"}");
				else format(door, sizeof(door), "{"#DC_LRED"}Закрыто{"#DC_WHITE"}");
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
				Номер: %d\n\
				Владелец: %s %s\n\
				Класс: %s\n\
				Дверь: %s\n\
				Налог: $%d\n\
				Кол-во оплаченных дней: %d\n\
				Гос. стоимость: $%d", idx, HouseInfo[idx][hOwner], status, dtext, door, HouseInfo[idx][hDiscript] * 3000, HouseInfo[idx][hPaymentDays], HouseInfo[idx][hPrice]);
				return SPD(playerid, did_enter_house, DSM, "{"#DC_MAIN"}Дом занят", totalstring, "Войти", "Отмена");
			}
		}
		else if(pickupid == HouseInfo[idx][hPickupGarage])
		{
  			new f = PlayerInfo[playerid][pFamily], fh = FamiliesInfo[f][fHouse];
  			if(f != 0 && fh == idx)
  			{
  			    SetPVarInt(playerid, "UseHouse", idx);
			    new type = HouseInfo[idx][hDiscript] - 2;
			    SetPlayerTime(playerid, 18, 0);
			    SetPlayerWeather(playerid, 3);
			    PlayerInfo[playerid][pRespawnTime] = 18;
			    PlayerInfo[playerid][pRespawnWeather] = 3;
				SetPlayerPos(playerid, GarageSpawnPos[type][0], GarageSpawnPos[type][1], GarageSpawnPos[type][2]);
				SetPlayerFacingAngle(playerid, GarageSpawnPos[type][3]);
				SetPlayerInterior(playerid, type + 2);
				SetPlayerVirtualWorld(playerid, idx + 10);
				return 1;
  			}
			if(HouseInfo[idx][hLock] == 1)
			{
				if(strcmp(PlayerInfo[playerid][pName], HouseInfo[idx][hOwner], true) == 0)
				{
					SetPVarInt(playerid, "UseHouse", idx);
				    new type = HouseInfo[idx][hDiscript] - 2;
				    SetPlayerTime(playerid, 18, 0);
				    SetPlayerWeather(playerid, 3);
				    PlayerInfo[playerid][pRespawnTime] = 18;
				    PlayerInfo[playerid][pRespawnWeather] = 3;
					SetPlayerPos(playerid, GarageSpawnPos[type][0], GarageSpawnPos[type][1], GarageSpawnPos[type][2]);
					SetPlayerFacingAngle(playerid, GarageSpawnPos[type][3]);
					SetPlayerInterior(playerid, type + 2);
					SetPlayerVirtualWorld(playerid, idx + 10);
				}
				else
				{
					format(strings, sizeof(strings), "~r~LOCK");
					GameTextForPlayer(playerid, strings, 5000, 1);
				}
			}
			else
			{
				SetPVarInt(playerid, "UseHouse", idx);
			    new type = HouseInfo[idx][hDiscript] - 2;
			    SetPlayerTime(playerid, 18, 0);
			    SetPlayerWeather(playerid, 3);
			    PlayerInfo[playerid][pRespawnTime] = 18;
			    PlayerInfo[playerid][pRespawnWeather] = 3;
				SetPlayerPos(playerid, GarageSpawnPos[type][0], GarageSpawnPos[type][1], GarageSpawnPos[type][2]);
				SetPlayerFacingAngle(playerid, GarageSpawnPos[type][3]);
				SetPlayerInterior(playerid, type + 2);
				SetPlayerVirtualWorld(playerid, idx + 10);
			}
		}
	}
	for(new idx = 1; idx <= TOTALHOTEL; idx++)
	{
		if(pickupid == HotelInfo[idx][hPickup])
		{
			if(!strcmp(HotelInfo[idx][hOwner], "None", true))
			{
				SetPVarInt(playerid, "UseHotel", idx);
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
				Название: %s\n\
				Номер: %d\n\
				Стоимость: $%d\n\
				Налог: $%d", HotelInfo[idx][hName], HotelInfo[idx][id], HotelInfo[idx][hPrice], HotelInfo[idx][hTax]);
				SPD(playerid, did_hotel_enter, DSM, "{"#DC_MAIN"}Отель продается", totalstring, "Войти", "Отмена");
			}
			else
			{
				SetPVarInt(playerid, "UseHotel", idx);
				new status[32];
				if(GetPlayerID(HotelInfo[idx][hOwner]) == INVALID_PLAYER_ID) format(status, sizeof(status), "[{"#DC_LRED"}Offline{"#DC_WHITE"}]");
				else format(status, sizeof(status), "[{"#DC_GREEN"}Online{"#DC_WHITE"}]");
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
				Название: %s\n\
				Номер: %d\n\
				Владелец: %s %s\n\
				Касса: $%d\n\
				Стоимость входа: $%d\n\
				Стоимость номера: $%d\n\
				Прибыль за сегодня: $%d\n\
				Налог: $%d\n\
				Кол-во оплаченных дней: %d\n\
				Контроль: %s", HotelInfo[idx][hName], HotelInfo[idx][id], HotelInfo[idx][hOwner], status, HotelInfo[idx][hMoney], HotelInfo[idx][hEnter], HotelInfo[idx][hRoom],
				HotelInfo[idx][hProfit], HotelInfo[idx][hTax], HotelInfo[idx][hPaymentDays], FracInfo[HotelInfo[idx][hBiker]][fName]);
				SPD(playerid, did_hotel_enter, DSM, "{"#DC_MAIN"}Отель занят", totalstring, "Войти", "Отмена");
			}
		}
		else if(pickupid == HotelInfo[idx][hPickupMenu])
		{
			SPD(playerid, did_hotel_menu_list, DSL, "{"#DC_MAIN"}Отель", "{"#DC_MAIN"}1.{"#DC_WHITE"} Список номеров\n{"#DC_MAIN"}2.{"#DC_WHITE"} Оплата проживания\n{"#DC_MAIN"}3.{"#DC_WHITE"} Выселиться из отеля", "Далее", "Отмена");
		}
		else if(pickupid == HotelInfo[idx][hPickupExit])
		{
			SetPlayerPos(playerid, HotelInfo[idx][hEnterX], HotelInfo[idx][hEnterY], HotelInfo[idx][hEnterZ]);
			SetPlayerInterior(playerid, 0);
			SetPlayerVirtualWorld(playerid, 0);
			SetTimerEx("OnPlayerStopPickup", 3000, 0, "i", playerid);
			SetPVarInt(playerid, "PickupEntered", 1);
		}
		for(new idx_rooms; idx_rooms < MAX_HOTEL_ROOMS; idx_rooms++)
		{
		    if(pickupid == HotelRoomsInfo[idx][idx_rooms][hrPickup])
		    {
				SetPVarInt(playerid, "UseHotelRooms", idx_rooms);
				new hotelid = HotelRoomsInfo[idx][idx_rooms][hrHotelID];
				if(HotelRoomsInfo[idx][idx_rooms][hrOwnerID] == 0)
				{
					totalstring = "";
				    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
					Отель: %s\n\
					Номер: %d", HotelInfo[hotelid][hName], idx_rooms);
				    SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Номер свободен", totalstring, "Отмена", "");
				}
				else
				{
					new status[32];
					if(GetPlayerID(HotelRoomsInfo[idx][idx_rooms][hrOwner]) == INVALID_PLAYER_ID) format(status, sizeof(status), "[{"#DC_LRED"}Offline{"#DC_WHITE"}]");
					else format(status, sizeof(status), "[{"#DC_GREEN"}Online{"#DC_WHITE"}]");
					totalstring = "";
				    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
				 	Отель: %s\n\
					Номер: %d\n\
					Владелец: %s %s", HotelInfo[hotelid][hName], idx_rooms, HotelRoomsInfo[idx][idx_rooms][hrOwner], status);
				    SPD(playerid, did_hotel_rooms_enter, DSM, "{"#DC_MAIN"}Номер занят", totalstring, "Войти", "Отмена");
				}
		        break;
		    }
		}
	}
	for(new idx = 1; idx <= TOTALBIZ; idx++)
	{
		if(pickupid == BizInfo[idx][bPickup])
		{
			if(!strcmp(BizInfo[idx][bOwner], "None", true))
			{
				SetPVarInt(playerid, "UseBiz", idx);
				if(BizInfo[idx][bType] != 2 && BizInfo[idx][bType] != 9)
				{
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
					Название: %s\n\
					Номер: %d\n\
					Налог: $%d", BizInfo[idx][bName], BizInfo[idx][id], BizInfo[idx][bTax]);
					SPD(playerid, did_biz_enter, DSM, "{"#DC_MAIN"}Бизнес продается", totalstring, "Войти", "Отмена");
				}
				else if(BizInfo[idx][bType] == 2)
				{
	    			if(IsABiker(playerid))
	    			{
						SPD(playerid, did_robbery_fueling, DSM, "{"#DC_MAIN"}Ограбление АЗС", "{"#DC_WHITE"}\
					    Хочешь грабануть эту АЗС? Для этого нужно не менее 5 байкеров.\n\
						Дело длится 5 минут, после нагрянут копы и будут стрелять. Не в воздух, на поражение.\n\
						Помни, в любой момент ты можешь свалить и поехать в бар. Лучше привезти половину, чем оказаться за решёткой.\n\n\
						Большую часть получишь ты, часть нужно будет заплатить своей семье — байкерам.\n\n\
						Топливо завозят в АЗС раз в час, поэтому не спеши на повторное дело, дождись привоза.", "Да", "Нет");
					}
					else SendMes(playerid, COLOR_DARKORANGE, "Если ты не байкер, ты не сможешь уйти красиво с ограбления.");
				}
				else if(BizInfo[idx][bType] == 9) ServiceList(playerid, idx);
			}
			else
			{
				SetPVarInt(playerid, "UseBiz", idx);
				if(BizInfo[idx][bType] != 2 && BizInfo[idx][bType] != 9)
				{
					new status[32];
					if(GetPlayerID(BizInfo[idx][bOwner]) == INVALID_PLAYER_ID) format(status, sizeof(status), "[{"#DC_LRED"}Offline{"#DC_WHITE"}]");
					else format(status, sizeof(status), "[{"#DC_GREEN"}Online{"#DC_WHITE"}]");
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
					Название: %s\n\
					Номер: %d\n\
					Владелец: %s %s\n\
					Касса: $%d\n\
					Стоимость входа: $%d\n\
					Стоимость товара: $%d\n\
					Прибыль за сегодня: $%d\n\
					Налог: $%d\n\
					Кол-во оплаченных дней: %d\n\
					Товара: %d\n\n\
					Контроль: %s", BizInfo[idx][bName], BizInfo[idx][id], BizInfo[idx][bOwner], status, BizInfo[idx][bMoney], BizInfo[idx][bEnter], BizInfo[idx][bTill],
					BizInfo[idx][bProfit], BizInfo[idx][bTax], BizInfo[idx][bPaymentDays], BizInfo[idx][bProduct], FracInfo[BizInfo[idx][bMafia]][fName]);
					SPD(playerid, did_biz_enter, DSM, "{"#DC_MAIN"}Бизнес занят", totalstring, "Войти", "Отмена");
				}
				else if(BizInfo[idx][bType] == 2)
				{
	    			if(IsABiker(playerid))
	    			{
						SPD(playerid, did_robbery_fueling, DSM, "{"#DC_MAIN"}Ограбление АЗС", "{"#DC_WHITE"}\
					    Хочешь грабануть эту АЗС? Для этого нужно не менее 5 байкеров.\n\
						Дело длится 5 минут, после нагрянут копы и будут стрелять. Не в воздух, на поражение.\n\
						Помни, в любой момент ты можешь свалить и поехать в бар. Лучше привезти половину, чем оказаться за решёткой.\n\n\
						Большую часть получишь ты, часть нужно будет заплатить своей семье — байкерам.\n\n\
						Топливо завозят в АЗС раз в час, поэтому не спеши на повторное дело, дождись привоза.", "Да", "Нет");
					}
					else SendMes(playerid, COLOR_DARKORANGE, "Если ты не байкер, ты не сможешь уйти красиво с ограбления.");
				}
				else if(BizInfo[idx][bType] == 9) ServiceList(playerid, idx);
			}
		}
		else if(pickupid == BizInfo[idx][bPickupExit])
		{
		    SetPlayerPos(playerid, BizInfo[idx][bEnterX], BizInfo[idx][bEnterY], BizInfo[idx][bEnterZ]);
			SetPlayerInterior(playerid, 0);
			SetPlayerVirtualWorld(playerid, 0);
			if(GetPVarInt(playerid, "CasinoOffered") != -1)
			{
				new scdplayerid = GetPVarInt(playerid, "CasinoOffered");
				if(GetPVarInt(scdplayerid, "CasinoOffer") != playerid) return 1;
				if(GetPVarInt(playerid, "CasinoOffered") != scdplayerid) return 1;
				SendMes(playerid, COLOR_MAIN, "Ваше предложение сыграть в кости отменено, Вы вышли из здания.");
				SendMes(scdplayerid, COLOR_MAIN, "Игрок которому Вы предложили сыграть в кости вышел из здания.");
				SetPVarInt(playerid, "CasinoOffered", -1), DeletePVar(playerid, "CasinoRate");
				SetPVarInt(scdplayerid, "CasinoOffer", -1), DeletePVar(scdplayerid, "CasinoRate");
			}
			if(GetPVarInt(playerid, "CasinoOffer") != -1)
			{
				new scdplayerid = GetPVarInt(playerid, "CasinoOffer");
				if(GetPVarInt(scdplayerid, "CasinoOffered") != playerid) return 1;
				if(GetPVarInt(playerid, "CasinoOffer") != scdplayerid) return 1;
				SendMes(playerid, COLOR_MAIN, "Ваше предложение сыграть в кости отменено, Вы вышли из здания.");
				SendMes(scdplayerid, COLOR_MAIN, "Игрок который Вам предложил сыграть в кости вышел из здания.");
				SetPVarInt(playerid, "CasinoOffer", -1), DeletePVar(playerid, "CasinoRate");
				SetPVarInt(scdplayerid, "CasinoOffered", -1), DeletePVar(scdplayerid, "CasinoRate");
			}
			/*if(GetPVarInt(playerid, "GymTraining")) LeaveFromGym(playerid, 1, 0);
			if(GetPVarInt(playerid, "GymTrainingStyde")) LeaveFromGym(playerid, 2, 0);*/
			SetTimerEx("OnPlayerStopPickup", 3000, 0, "i", playerid);
			SetPVarInt(playerid, "PickupEntered", 1);
		}
		else if(pickupid == BizInfo[idx][bPickupMenu])
		{
		    SetPVarInt(playerid, "UseBiz", idx);
			if(BizInfo[idx][bType] == 1) ShopList(playerid, idx);
			else if(BizInfo[idx][bType] == 3) EatList(playerid, idx);
			else if(BizInfo[idx][bType] == 4) ClubList(playerid, idx);
			else if(BizInfo[idx][bType] == 5) GunsList(playerid, idx);
			else if(BizInfo[idx][bType] == 6) ClothesList(playerid);
			else if(BizInfo[idx][bType] == 7) AccessoriesList(playerid);
			/*else if(BizInfo[idx][bType] == 8) GymsList(playerid, idx);*/
			else if(BizInfo[idx][bType] == 10) RealtorList(playerid, idx);
			else if(BizInfo[idx][bType] == 11) ClubList(playerid, idx);
		}
	}
	for(new idx = 1; idx <= TOTALFARM; idx++)
	{
		if(pickupid == FarmInfo[idx][fPickup])
		{
			SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Помощь", "{"#DC_WHITE"}\
			Привет, друг! Это ферма, здесь мы дадим тебе простую работу\n\
			за хорошую оплату. Готов работать?\n\n\
			Переоденься в рабочую одежду в гардеробе и бери свободную\n\
			машину. Собирай кусты на поле и загружай их в авто. После\n\
			тебе надо будет лишь разгрузить их на склад.\n\n\
			Есть вопросы? Обратись к фермеру, владельцу или его заместителю,\n\
			они ответят!", "Отмена", "");
		}
		else if(pickupid == FarmInfo[idx][fPickupClothes])
		{
			if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

			if(ServiceDuty[playerid] != 0 ||
				PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
				RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
				FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
				DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
				GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
				ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
				GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
				GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

			SetPVarInt(playerid, "UseFarm", idx);
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s работать на ферме?", (!FarmDuty[playerid]) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
			SPD(playerid, did_farm_duty, DSM, "{"#DC_MAIN"}Работа на ферме", totalstring, "Да", "Нет");
		}
		else if(pickupid == FarmInfo[idx][fPickupWarehouse])
		{
			if(FarmDuty[playerid] == 0 || FarmWorking[playerid] != idx) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете на этой ферме.");
		    if(FarmWorkState[playerid] == 0)
			{
				FarmWorkState[playerid] = 1;
			}
			if(FarmWorkState[playerid] == 1)
			{
				switch(idx)
				{
					case 1: SetPlayerCheckpoint(playerid, PlayerSeedHarvestCheckPoints[idx][0], PlayerSeedHarvestCheckPoints[idx][1], PlayerSeedHarvestCheckPoints[idx][2], 2.5);
					case 2: SetPlayerCheckpoint(playerid, PlayerSeedHarvestCheckPoints2[idx][0], PlayerSeedHarvestCheckPoints2[idx][1], PlayerSeedHarvestCheckPoints2[idx][2], 2.5);
					case 3: SetPlayerCheckpoint(playerid, PlayerSeedHarvestCheckPoints3[idx][0], PlayerSeedHarvestCheckPoints3[idx][1], PlayerSeedHarvestCheckPoints3[idx][2], 2.5);
				}
				FarmWorkState[playerid] = 2;
			}
			if(FarmWorkState[playerid] == 3)
			{
				if(FarmInfo[idx][fHarvest] >= 50000) return SendMes(playerid, COLOR_DARKORANGE, "На складе фермы нет места.");
				FarmPayment[playerid] += FarmInfo[idx][fSalary];
		        FarmInfo[idx][fHarvest] += 5;
		        if(FarmInfo[idx][fHarvest] > 50000) FarmInfo[idx][fHarvest] = 50000;
				SaveFarm(idx);
				switch(idx)
				{
					case 1: SetPlayerCheckpoint(playerid, PlayerSeedHarvestCheckPoints[idx][0], PlayerSeedHarvestCheckPoints[idx][1], PlayerSeedHarvestCheckPoints[idx][2], 2.5);
					case 2: SetPlayerCheckpoint(playerid, PlayerSeedHarvestCheckPoints2[idx][0], PlayerSeedHarvestCheckPoints2[idx][1], PlayerSeedHarvestCheckPoints2[idx][2], 2.5);
					case 3: SetPlayerCheckpoint(playerid, PlayerSeedHarvestCheckPoints3[idx][0], PlayerSeedHarvestCheckPoints3[idx][1], PlayerSeedHarvestCheckPoints3[idx][2], 2.5);
				}
				FarmWorkState[playerid] = 2;
				if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
				format(strings, sizeof(strings), "~b~$%d", FarmPayment[playerid]);
				GameTextForPlayer(playerid, strings, 2000, 1);
				CheckQuest(playerid, 0);
		      	CheckTask(playerid, 21);
                CheckJobSkill(playerid, 7);
                CheckAchievement(playerid, 7);
                
                if(random(4) == 2)
		        {
		            switch(random(2))
		            {
		                case 0:
		                {
		                    new amount = RandomEx(1, 2);
		                    new max_value;
		                    GetPlayerMaxInventoryItems(playerid, TYPE_COTTON, max_value);
		                    if(PlayerInfo[playerid][pInventoryItems][TYPE_COTTON] + amount > max_value)
		                    {
		                        SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_COTTON][InvUnitName], Inventory[TYPE_COTTON][InvStringName]);
		                        return 1;
		                    }
		                    PlayerInfo[playerid][pInventoryItems][TYPE_COTTON] += amount;
		                    SavePlayerInventoryItems(playerid, TYPE_COTTON);
		                    SendMes(playerid, COLOR_MAIN, "На складе найдено %d хлопка.", amount);
		                    SendMes(playerid, COLOR_MAIN, "%d хлопка добавлено в инвентарь.", amount);
		                }
		                case 1:
		                {
		                    new amount = RandomEx(1, 2);
		                    new max_value;
		                    GetPlayerMaxInventoryItems(playerid, TYPE_LINEN, max_value);
		                    if(PlayerInfo[playerid][pInventoryItems][TYPE_LINEN] + amount > max_value)
		                    {
		                        SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_LINEN][InvUnitName], Inventory[TYPE_LINEN][InvStringName]);
		                        return 1;
		                    }
		                    PlayerInfo[playerid][pInventoryItems][TYPE_LINEN] += amount;
		                    SavePlayerInventoryItems(playerid, TYPE_LINEN);
		                    SendMes(playerid, COLOR_MAIN, "На складе найдено %d льна.", amount);
		                    SendMes(playerid, COLOR_MAIN, "%d льна добавлено в инвентарь.", amount);
		                }
		            }
		        }
			}
		}
	}
	for(new idx = 1; idx <= TOTALSERVICE; idx++)
	{
		if(pickupid == ServiceInfo[idx][sPickup])
		{
			SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Помощь", "{"#DC_WHITE"}\
			Привет, друг! В этой мастерской ты можешь улучшить свой автомобиль.\n\
			Для начала найди работника мастерской.\n\n\
			После садись в свой автомобиль и ожидай от него предложения, тебе\n\
			будет показано меню услуг. Выбери желаемую, убедись, что тебе хватит\n\
			на неё денег.\n\n\
			После оплаты работник сразу же примется за твой заказ. Содержи свой\n\
			автомобиль в чистоте и порядке!", "Отмена", "");
		}
		else if(pickupid == ServiceInfo[idx][sPickupClothes])
		{
			if(PlayerInfo[playerid][pDuty] == 1 && !IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Сначала закончите рабочий день на своей основной работе.");

			if(FarmDuty[playerid] != 0 ||
				PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
				RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
				FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
				DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
				GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
				ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
				GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
				GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

			SetPVarInt(playerid, "UseService", idx);
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете %s работать на СТО?", (!ServiceDuty[playerid]) ? ("{"#DC_GREEN"}начать{"#DC_WHITE"}") : ("{"#DC_RED"}закончить{"#DC_WHITE"}"));
			SPD(playerid, did_service_duty, DSM, "{"#DC_MAIN"}Работа на СТО", totalstring, "Да", "Нет");
		}
	}
	if(pickupid == HotelRoomsPickupExit)
	{
	    new hotelid = GetPVarInt(playerid, "UseHotel"), roomid = GetPVarInt(playerid, "UseHotelRooms");
	    SetPlayerPos(playerid, HotelRoomsPos[roomid][0], HotelRoomsPos[roomid][1], HotelRoomsPos[roomid][2]);
		SetPlayerFacingAngle(playerid, HotelRoomsPos[roomid][3]);
		SetPlayerInterior(playerid, HotelInfo[hotelid][hInterior]);
		SetPlayerVirtualWorld(playerid, HotelInfo[hotelid][hWorld]);
		SetTimerEx("OnPlayerStopPickup", 3000, 0, "i", playerid);
		SetPVarInt(playerid, "PickupEntered", 1);
	}
	if(pickupid >= GaragePickups[0] && pickupid <= GaragePickups[1])
	{
	    new house = GetPVarInt(playerid, "UseHouse");
		SetPlayerPos(playerid, HouseInfo[house][hVehicleX], HouseInfo[house][hVehicleY], HouseInfo[house][hVehicleZ]);
		SetPlayerFacingAngle(playerid, HouseInfo[house][hVehicleR]);
		SetPlayerInterior(playerid, 0);
		SetPlayerVirtualWorld(playerid, 0);
		SetPlayerTime(playerid, DefaultTime, 0);
		SetPlayerWeather(playerid, DefaultWeather);
		PlayerInfo[playerid][pRespawnTime] = 100;
		PlayerInfo[playerid][pRespawnWeather] = 100;
		SetTimerEx("OnPlayerStopPickup", 3000, 0, "i", playerid);
		SetPVarInt(playerid, "PickupEntered", 1);
	}
	if(pickupid >= HousePickups[0] && pickupid <= HousePickups[1])
	{
	    new house = GetPVarInt(playerid, "UseHouse");
		SetPlayerPos(playerid, HouseInfo[house][hEnterX], HouseInfo[house][hEnterY], HouseInfo[house][hEnterZ]);
		SetPlayerInterior(playerid, 0);
		SetPlayerVirtualWorld(playerid, 0);
		SetTimerEx("OnPlayerStopPickup", 3000, 0, "i", playerid);
		SetPVarInt(playerid, "PickupEntered", 1);
	}
	/*for(new i; i < sizeof(GiftPickupsInfo); i++)
    {
        if(pickupid == GiftPickupsInfo[i][gPickup])
        {
            SendMes(playerid, COLOR_MAIN, "Вы нашли одну из вакцин. Желаем удачи в поисках новых вакцин!");
            //StartGifts(playerid);
            PlayerInfo[playerid][pGiftCount]++;
			SetPlayerInt(PlayerInfo[playerid][pID], "giftcount", PlayerInfo[playerid][pGiftCount]);
            if(IsValidDynamicPickup(GiftPickupsInfo[i][gPickup])) DestroyDynamicPickup(GiftPickupsInfo[i][gPickup]);
            GiftPickupsInfo[i][gPickup] = -1;
        }
    }*/
	for(new i; i < sizeof(DrugMakerInfo); i++)
    {
        if(pickupid == DrugMakerInfo[i][dmPickup])
        {
            SendMes(playerid, COLOR_MAIN, "Вы нашли закладку. Желаем удачи в поисках новых закладок!");
            StartDrugMaker(playerid);
            if(IsValidDynamicPickup(DrugMakerInfo[i][dmPickup])) DestroyDynamicPickup(DrugMakerInfo[i][dmPickup]);
            DrugMakerInfo[i][dmPickup] = -1;
        }
    }
	return 1;
}
//==============================================================================
public OnPlayerTakeDamage(playerid, issuerid, Float:amount, weaponid, bodypart)
{
	/*SendMesAll(COLOR_YELLOW, "OnPlayerTakeDamage playerid = %d issuerid = %d amount = %f weaponid = %d bodypart = %d", playerid, issuerid, amount, weaponid, bodypart);*/
    #if defined __anti_godmode
	antigm_OnPlayerTakeDamage(playerid, issuerid, amount, weaponid, bodypart);
	#endif

	if(!IsPlayerConnected(issuerid)) return 1;
	return 1;
}
//==============================================================================
public OnPlayerGiveDamage(playerid, damagedid, Float: amount, weaponid, bodypart)
{
	/*SendMesAll(COLOR_YELLOW, "OnPlayerGiveDamage playerid damagedid = %d amount = %f weaponid = %d bodypart = %d", playerid, damagedid, amount, weaponid, bodypart);*/
    if(PlayerLogged[playerid] == 0) return 0;
    if(!ProxDetectorS(150.0, playerid, damagedid) || GetPVarInt(playerid, "AFK_Time") > 3) return 1;

	#if defined __anti_godmode
	antigm_OnPlayerGiveDamage(playerid, damagedid, amount, weaponid, bodypart);
	#endif

	new Float:health, Float:armour;
	GetPlayerHealth(damagedid, health);
	GetPlayerArmour(damagedid, armour);

	if((GetPlayerWeapon(playerid) == 3 || GetPlayerWeapon(playerid) == 23) && (IsACop(playerid) && IsACopDuty(playerid) || IsAMayorSecurity(playerid) && IsAMayorDuty(playerid)) && RegisterPaintBall[playerid] != 2)
	{
		if(35 > NiteStickTazer[damagedid]) NiteStickTazer[damagedid]+=10;
		else
		{
			if(!IsPlayerInAnyVehicle(damagedid)) ClearAnimations(damagedid), ApplyAnimation(damagedid, "CRACK", "crckdeth2", 4.1, 0, 0, 0, 1, 0, 1);
			SetPlayerControl(damagedid, false);
	  		SetTimerEx("OnPlayerToggle", 7500, false, "d", damagedid);
			Freeze[damagedid] = 1;
		    NiteStickTazer[damagedid] = 0;
		    return 1;
		}
	}
	if((GetPlayerWeapon(playerid) == 3 || GetPlayerWeapon(playerid) == 23) && (IsACop(playerid) && IsACopDuty(playerid) || IsAMayorSecurity(playerid) && IsAMayorDuty(playerid)) && RegisterPaintBall[playerid] != 2)
	{
		if(Freeze[damagedid] == 1) return 1;
		if(!IsPlayerInAnyVehicle(damagedid))
		{
			SendMes(damagedid, COLOR_WHITE, "%s{"#DC_MAIN"} оглушил(-а) Вас.", PlayerInfo[playerid][pName]);
			SendMes(playerid, COLOR_MAIN, "Вы оглушили {"#DC_WHITE"}%s.", PlayerInfo[damagedid][pName]);
			format(strings, sizeof(strings), "%s оглушил(-а) %s", PlayerInfo[playerid][pName], PlayerInfo[damagedid][pName]);
			SRM(playerid, 10.0, COLOR_LPURPLE, strings);
			ClearAnimations(damagedid);
			ApplyAnimation(damagedid, "CRACK", "crckdeth2", 4.1, 0, 0, 0, 1, 0, 1);
			SetPlayerControl(damagedid, false);
	  		SetTimerEx("OnPlayerToggle", 7500, false, "d", damagedid);
			Freeze[damagedid] = 1;
		}
		return SetHealth(damagedid, health);
	}
	/*if(IsAGang(playerid) && IsAGang(damagedid))
	{
		new gangdamager = 1000, gangdamagedid = 1000;
		// Проверка на нахождения в зоне территории, за которую идет война;
		for(new j = 1; j <= TOTALGZ; j++)
		{
			if(IsAZonePlayer(playerid, GZInfo[j][gPos][0], GZInfo[j][gPos][1], GZInfo[j][gPos][2], GZInfo[j][gPos][3])) gangdamager = PlayerInfo[playerid][pMember];
			if(IsAZonePlayer(damagedid, GZInfo[j][gPos][0], GZInfo[j][gPos][1], GZInfo[j][gPos][2], GZInfo[j][gPos][3])) gangdamagedid = PlayerInfo[damagedid][pMember];
   			if(gangdamager != 1000 && gangdamagedid != 1000) break;
		}
		// Если игроки на территорию, то показываем текст над ником;
		if(gangdamager != gangdamagedid && gangdamager != 1000 && gangdamagedid != 1000)
		{
		    format(strings, sizeof(strings), "-%d HP", floatround(amount));
   			SPCB(damagedid, strings, COLOR_LRED, 10.0, 1000);
		}
	}*/
	/*if(IsAMafia(playerid) && IsAMafia(damagedid))
	{
		new mafiadamager = 1000, mafiadamagedid = 1000;
		// Проверка на нахождения в зоне территории;
		if(IsAZonePlayer(playerid, MGZX[0], MGZY[0], MGZX[1], MGZY[1])) mafiadamager = PlayerInfo[playerid][pMember];
		if(IsAZonePlayer(damagedid, MGZX[0], MGZY[0], MGZX[1], MGZY[1])) mafiadamagedid = PlayerInfo[damagedid][pMember];
		// Если игроки на территорию, то показываем текст над ником;
		if(mafiadamager != mafiadamagedid && mafiadamager != 1000 && mafiadamagedid != 1000)
		{
		    format(strings, sizeof(strings), "-%d HP", floatround(amount));
			SPCB(damagedid, strings, COLOR_LRED, 10.0, 1000);
		}
	}*/
	/*if(IsABiker(playerid) && IsABiker(damagedid))
	{
		new bikerdamager = 1000, bikerdamagedid = 1000;
		// Проверка на нахождения в зоне территории;
		if(IsAZonePlayer(playerid, BGZX[0], BGZY[0], BGZX[1], BGZY[1])) bikerdamager = PlayerInfo[playerid][pMember];
		if(IsAZonePlayer(damagedid, BGZX[0], BGZY[0], BGZX[1], BGZY[1])) bikerdamagedid = PlayerInfo[damagedid][pMember];
		// Если игроки на территорию, то показываем текст над ником;
		if(bikerdamager != bikerdamagedid && bikerdamager != 1000 && bikerdamagedid != 1000)
		{
		    format(strings, sizeof(strings), "-%d HP", floatround(amount));
			SPCB(damagedid, strings, COLOR_LRED, 10.0, 1000);
		}
	}*/
	return 1;
}
//==============================================================================
public OnPlayerWeaponShot(playerid, weaponid, hittype, hitid, Float:fX, Float:fY, Float:fZ)
{
	/*SendMesAll(COLOR_WHITE, "OnPlayerWeaponShot playerid = %d weaponid = %d hittype = %d hitid = %d", playerid, weaponid, hittype, hitid);*/
    if(PlayerLogged[playerid] == 0) return 0;
	if(weaponid < 22 || weaponid > 38) return 0;
	if(fX > 3000.0 || fX < -3000.0) return 0;
	if(fY > 3000.0 || fY < -3000.0) return 0;
	if(fZ > 3000.0 || fZ < -3000.0) return 0;
	
    if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER) return 0;
	
	for(new i = 0; i < MAX_GREEN_ZONE; i++)
    {
        if(IsPlayerInDynamicArea(playerid, AreasInfo[arGreenZone][i]))
		{
			SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в зеленой зоне, выстрелы не наносят урона.");
			return 0;
		}
	}
	
	if(hittype > 4) return 0;
	
	if(!IsPlayerMobile(playerid) && (hittype == BULLET_HIT_TYPE_PLAYER || hittype == BULLET_HIT_TYPE_VEHICLE))
	{
		static Float:oldX[MAX_PLAYERS], Float:oldY[MAX_PLAYERS], Float:oldZ[MAX_PLAYERS];
		if(fX == 0.0 && fY == 0.0 && fZ == 0.0) return 0;
		if(fX == oldX[playerid] && fY == oldY[playerid] && fZ == oldZ[playerid]) return 0;
		oldX[playerid] = fX; oldY[playerid] = fY; oldZ[playerid] = fZ;
	}
	
	if(hittype == BULLET_HIT_TYPE_PLAYER && (BadFloat(fX) || BadFloat(fY) || BadFloat(fZ))) return 0;
	
	new t[MAX_PLAYERS];
	if(GetTickCount() - t[playerid] < HitTimeTable[weaponid + TABLE_OFFSET]) return 0;
	t[playerid] = GetTickCount();
	new slot = GetWeaponSlot(weaponid);

	if(WeaponSlot[playerid][slot] <= 0) return 0;

	WeaponSlot[playerid][slot]--;
	/*// Прокачка навыков стрельбы;
	iNewPlayerAmmo[playerid] = WeaponSlot[playerid][slot];
	iNewPlayerWeapon[playerid] = weaponid;
	// Если патронов меньше, а оружие тоже, переходим к выдачи очков для навыка;
	if(iNewPlayerAmmo[playerid] < iPlayerAmmo[playerid] && iNewPlayerWeapon[playerid] == iPlayerWeapon[playerid])
	{
		OnPlayerGiveWeaponSkill(playerid, weaponid);
	}
	iPlayerAmmo[playerid] = iNewPlayerAmmo[playerid];
	iPlayerWeapon[playerid] = iNewPlayerWeapon[playerid];*/

    if(hittype == BULLET_HIT_TYPE_OBJECT && (weaponid == 25 || weaponid == 30 || weaponid == 31 || weaponid == 34) && HuntingStart[playerid] == 1)
	{
	    if(IsAPPos(playerid, 250.0, -1640.0566,-2240.6355,31.4766) || IsAPPos(playerid, 250.0, 870.2867,-25.2779,63.9615))
	    {
		    for(new i = 0; i < sizeof(HuntingInfo); i++)
		    {
		        if(hitid == HuntingInfo[i][hObject])
		        {
		            if(HuntingInfo[i][hStatus] == 0)
		            {
		                SetObjectPos(HuntingInfo[i][hObject], HuntingInfo[i][hPos][6], HuntingInfo[i][hPos][7], HuntingInfo[i][hPos][8]);
		                SetObjectRot(HuntingInfo[i][hObject], HuntingInfo[i][hPos][9], HuntingInfo[i][hPos][10], HuntingInfo[i][hPos][11]);
		                HuntingInfo[i][hStatus] = 1;
		                SendMes(playerid, COLOR_MAIN, "Вы нейтрализовали оленя, поднимите с него мясо.");
						CheckTask(playerid, 8);
		            }
		        }
		    }
		}
	}

	#if defined __anti_godmode
	antigm_OnPlayerWeaponShot(playerid, weaponid, hittype, hitid, fX, fY, fZ);
	#endif

	return 1;
}
//==============================================================================
public OnDynamicObjectMoved(objectid)
{
	for(new i = 0; i < TOTALSMACHINES; i++)
	{
		for(new f = 1; f <= 3; f++)
		{
			if(objectid == SlotMachine[i][sm_Objects][f])
			{
				SlotMachine[i][sm_objStop]++;
				if(SlotMachine[i][sm_objStop] == 3 && SlotMachine[i][sm_userID] != -1)
				{
					new playerid = SlotMachine[i][sm_userID];
					if(SlotMachine[i][sm_comb] == 0)
					{
					   	SendMes(playerid, COLOR_MAIN, "Вы проиграли: {"#DC_WHITE"}$%d.", SlotMachine[i][sm_bet]);
						format(strings, 64, "$%d", SlotMachine[i][sm_bet]);
						SPCB(playerid, strings, COLOR_LRED, 10.0, 1000);
					}
					else
					{
						new winMoney = SlotMachine[i][sm_bet] * SlotMachine[i][sm_comb];
						SendMes(playerid, COLOR_MAIN, "Вы выиграли: {"#DC_WHITE"}$%d.", winMoney);
						format(strings, 64, "$%d", winMoney);
						SPCB(playerid, strings, COLOR_LGREEN, 10.0, 1000);
						PlayerPlaySound(playerid, 4201, 0.0, 0.0, 0.0);
						ServerMoney(playerid, "Выигрыш в игровом автомате", winMoney, 0);
						format(strings, sizeof(strings), "~w~BALANCE: ~g~$%d.~n~~w~RATE: ~y~$%d.", PlayerInfo[playerid][pCash], SlotMachine[i][sm_bet]);
						PlayerTextDrawSetString(playerid, SlotMScoreTD[playerid], strings);
						PlayerTextDrawShow(playerid, SlotMScoreTD[playerid]);
					}
					CheckTask(playerid, 11);
				}
				return 1;
			}
		}
	}
	return 1;
}
//==============================================================================
public OnPlayerClickTextDraw(playerid, Text:clickedid)
{
	if(clickedid == Text:INVALID_TEXT_DRAW)
	{
		if(PlayerInfo[playerid][pDiceTable] != -1 || PlayerInfo[playerid][pSlotMachine] != -1)
		{
		    SPD(playerid, did_casino, DSM, "{"#DC_MAIN"}Выход", "{"#DC_WHITE"}Если Вы сделали ставку и игра уже началась, то деньги Вам не вернуться!\nВы точно хотите покинуть стол?", "Да", "Нет");
		}
		if(PlayerInfo[playerid][pDurakTable])
        {
            if(PlayerInfo[playerid][pDurakReady]) SelectTextDraw(playerid, DURAK_BTN_HOVER_COLOR);
            else Durak_LeaveTable(playerid);
        }
		if(InventoryTextDraw[playerid] == true)
        {
            CheckPlayerInventoryColor(playerid);
            HidePlayerInventoryTextDraw(playerid);
        }
        if(CraftTextDraw[playerid] == true)
        {
            CheckPlayerCraftColor(playerid);
            HidePlayerCraftTextDraw(playerid);
        }
	}
	if(_:clickedid != INVALID_TEXT_DRAW)
	{
	    new
			skinList[88][2],
			skinList2[88][2],
		    skinSelect = GetPVarInt(playerid, "ClothesSelect"),
		    skinID,
		    skinPrice,
		    skinMax
		;
	    if(clickedid == InventoryButton[0]) // Use;
	    {
	        if(InventoryTextDrawUse[playerid] == -1 || InventoryTextDrawUseType[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы ничего не выбрали.");
	        new idx = InventoryTextDrawUse[playerid], type = InventoryTextDrawUseType[playerid];
	        if(type == 1) UsePlayerInventoryItems(playerid, InventoryTextDrawItems[playerid][idx]);
	        else UsePlayerAccessories(playerid, InventoryTextDrawAccessories[playerid][idx]);
	    }
	    else if(clickedid == InventoryButton[1]) // Info;
	    {
	        if(InventoryTextDrawUse[playerid] == -1 || InventoryTextDrawUseType[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы ничего не выбрали.");
	        new idx = InventoryTextDrawUse[playerid], type = InventoryTextDrawUseType[playerid];
	        if(type == 1) ShowPlayerInventoryInfo(playerid, InventoryTextDrawItems[playerid][idx]);
	        else ShowPlayerAccessoriesInfo(playerid, InventoryTextDrawAccessories[playerid][idx]);
	    }
	    else if(clickedid == InventoryButton[2]) // Sell;
	    {
	        if(InventoryTextDrawUse[playerid] == -1 || InventoryTextDrawUseType[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы ничего не выбрали.");
	        new idx = InventoryTextDrawUse[playerid], type = InventoryTextDrawUseType[playerid];
	        if(type == 1) SellPlayerInventoryItems(playerid, InventoryTextDrawItems[playerid][idx]);
	        else SellPlayerAccessories(playerid, InventoryTextDrawAccessories[playerid][idx]);
	    }
	    else if(clickedid == InventoryButton[3]) // Drop;
	    {
	        if(InventoryTextDrawUse[playerid] == -1 || InventoryTextDrawUseType[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы ничего не выбрали.");
	        new idx = InventoryTextDrawUse[playerid], type = InventoryTextDrawUseType[playerid];
	        if(type == 1) DropPlayerInventoryItems(playerid, InventoryTextDrawItems[playerid][idx]);
	        else DropPlayerAccessories(playerid, InventoryTextDrawAccessories[playerid][idx]);
	    }
	    else if(clickedid == InventoryButton[4]) // Craft;
	    {
	        CheckPlayerInventoryColor(playerid);
	        HidePlayerInventoryTextDraw(playerid);
			SetTimerEx("ShowCraftFixed", 500, false, "d", playerid);
	        return 1;
	    }
	    else if(clickedid == InventoryButton[5]) // Exit;
	    {
	        CheckPlayerInventoryColor(playerid);
	        HidePlayerInventoryTextDraw(playerid);
	    }
	    else if(clickedid == InventoryButton[6]) // Accessories (Back);
	    {
	        if(InventoryTextDrawList[playerid][1] == 0) return  SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь на первой странице аксессуаров.");
	        if(InventoryTextDrawAccessoriesCnt[playerid][InventoryTextDrawList[playerid][1] - 1] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Ошибка при отображении предметов, сообщите в технический раздел.");
	        InventoryTextDrawList[playerid][1]--;
	        LoadPlayerAccessoriesList(playerid, InventoryTextDrawAccessoriesCnt[playerid][InventoryTextDrawList[playerid][1]], 1);
	        new str[24];
	        format(str, sizeof(str), "%d/%d", InventoryTextDrawList[playerid][1] + 1, MAX_ACCESSORIES_LIST + 1);
	        PlayerTextDrawSetString(playerid, InventoryInfo[playerid][1], str);
	    }
	    else if(clickedid == InventoryButton[7]) // Accessories (Next);
	    {
	        if(InventoryTextDrawList[playerid][1] == MAX_ACCESSORIES_LIST) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь на последней странице аксессуаров.");
	        if(InventoryTextDrawAccessories[playerid][14] == -1) return SendMes(playerid, COLOR_DARKORANGE, "На странице еще есть слоты для отображения предметов.");
	        if(InventoryTextDrawAccessories[playerid][14] + 1 >= MAX_PLAYER_ACCESSORIES) return SendMes(playerid, COLOR_DARKORANGE, "Ошибка при отображении предметов, сообщите в технический раздел.");
	        InventoryTextDrawAccessoriesCnt[playerid][InventoryTextDrawList[playerid][1]] = InventoryTextDrawAccessories[playerid][0];
	        InventoryTextDrawList[playerid][1]++;
	        LoadPlayerAccessoriesList(playerid, InventoryTextDrawAccessories[playerid][14] + 1, 1);
	        new str[24];
	        format(str, sizeof(str), "%d/%d", InventoryTextDrawList[playerid][1] + 1, MAX_ACCESSORIES_LIST + 1);
	        PlayerTextDrawSetString(playerid, InventoryInfo[playerid][1], str);
	    }
	    else if(clickedid == InventoryButton[8]) // Items (Next);
	    {
	        if(InventoryTextDrawList[playerid][0] == MAX_ACCESSORIES_LIST) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь на последней странице предметов.");
	        if(InventoryTextDrawItems[playerid][14] == -1) return SendMes(playerid, COLOR_DARKORANGE, "На странице еще есть слоты для отображения предметов.");
	        if(InventoryTextDrawItems[playerid][14] + 1 >= MAX_INVENTORY) return SendMes(playerid, COLOR_DARKORANGE, "Ошибка при отображении предметов, сообщите в технический раздел.");
	        InventoryTextDrawItemsCnt[playerid][InventoryTextDrawList[playerid][0]] = InventoryTextDrawItems[playerid][0];
	        InventoryTextDrawList[playerid][0]++;
	        LoadPlayerItemsList(playerid, InventoryTextDrawItems[playerid][14] + 1, 1);
	        new str[24];
	        format(str, sizeof(str), "%d/%d", InventoryTextDrawList[playerid][0] + 1, MAX_ITEMS_LIST + 1);
	        PlayerTextDrawSetString(playerid, InventoryInfo[playerid][2], str);
	    }
	    else if(clickedid == InventoryButton[9]) // Items (Back);
	    {
	        if(InventoryTextDrawList[playerid][0] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь на первой странице предметов.");
	        if(InventoryTextDrawItemsCnt[playerid][InventoryTextDrawList[playerid][0] - 1] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Ошибка при отображении предметов, сообщите в технический раздел.");
	        InventoryTextDrawList[playerid][0]--;
	        LoadPlayerItemsList(playerid, InventoryTextDrawItemsCnt[playerid][InventoryTextDrawList[playerid][0]], 1);
	        new str[24];
	        format(str, sizeof(str), "%d/%d", InventoryTextDrawList[playerid][0] + 1, MAX_ITEMS_LIST + 1);
	        PlayerTextDrawSetString(playerid, InventoryInfo[playerid][2], str);
	    }
	    if(clickedid == CraftButton[0]) // Craft;
	    {
	        if(CraftTextDrawUse[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы ничего не выбрали.");
	        new idx = CraftTextDrawUse[playerid];
	        UsePlayerCraft(playerid, CraftTextDrawItems[playerid][idx]);
	    }
	    else if(clickedid == CraftButton[1]) // Info;
	    {
	        if(CraftTextDrawUse[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы ничего не выбрали.");
	        new idx = CraftTextDrawUse[playerid];
	        ShowPlayerCraftInfo(playerid, CraftTextDrawItems[playerid][idx]);
	    }
	    else if(clickedid == CraftButton[2]) // Exit;
	    {
	        CheckPlayerCraftColor(playerid);
	        HidePlayerCraftTextDraw(playerid);
	        return 1;
	    }
	    else if(clickedid == CraftButton[3]) // Items (Back);
	    {
	        if(CraftTextDrawList[playerid] == 0) return  SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь на первой странице предметов.");
	        if(CraftTextDrawItemsCnt[playerid][CraftTextDrawList[playerid] - 1] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Ошибка при отображении предметов, сообщите в технический раздел.");
	        CraftTextDrawList[playerid]--;
	        LoadPlayerCraftList(playerid, CraftTextDrawItemsCnt[playerid][CraftTextDrawList[playerid]], 1);
	        new str[24];
	        format(str, sizeof(str), "%d/%d", CraftTextDrawList[playerid] + 1, MAX_CRAFT_LIST + 1);
	        PlayerTextDrawSetString(playerid, CraftInfo[playerid][1], str);
	    }
	    else if(clickedid == CraftButton[4]) // Items (Next);
	    {
	        if(CraftTextDrawList[playerid] == MAX_CRAFT_LIST) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь на последней странице предметов.");
	        if(CraftTextDrawItems[playerid][14] == -1) return SendMes(playerid, COLOR_DARKORANGE, "На странице еще есть слоты для отображения предметов.");
	        if(CraftTextDrawItems[playerid][14] + 1 >= MAX_CRAFT) return SendMes(playerid, COLOR_DARKORANGE, "Ошибка при отображении предметов, сообщите в технический раздел.");
	        CraftTextDrawItemsCnt[playerid][CraftTextDrawList[playerid]] = CraftTextDrawItems[playerid][0];
	        CraftTextDrawList[playerid]++;
	        LoadPlayerCraftList(playerid, CraftTextDrawItems[playerid][14] + 1, 1);
	        new str[24];
	        format(str, sizeof(str), "%d/%d", CraftTextDrawList[playerid] + 1, MAX_CRAFT_LIST + 1);
	        PlayerTextDrawSetString(playerid, CraftInfo[playerid][1], str);
	    }
	    else if(clickedid == ClothesButton[0]) // Back;
		{
            if(ClothesRound[playerid] == 1)
			{
				if(SelectCharPlace[playerid] - 1 < 0) SelectCharPlace[playerid] = 5;
				else SelectCharPlace[playerid]--;
			    SetPlayerSkin(playerid, RegSkinsInfo[PlayerInfo[playerid][pSex]-1][SelectCharPlace[playerid]]);
			}
		    else if(ClothesRound[playerid] == 2)
		    {
				for(new x, z; x < sizeof(SkinsInfo); x ++)
				{
					skinID = GetSkinID(PlayerInfo[playerid][pSex], x);
					skinPrice = GetSkinPrice(x);
					if(skinID == 0) continue;
					skinList[z][0] = skinID;
					skinList[z][1] = skinPrice;
					z++;
				}
				for(new x; x < sizeof(skinList) - 1; x ++)
				{
				    if(!skinList[x + 1][0])
					{
						skinMax = x;
						break;
					}
				    else continue;
				}
				if(skinSelect - 1 < 0) skinSelect = skinMax;
				else skinSelect--;
				SetPlayerSkin(playerid, skinList[skinSelect][0]);
				format(strings, sizeof(strings), "%d", skinList[skinSelect][1]);
				PlayerTextDrawSetString(playerid, ClothesInfo[playerid][1], strings);
				SetPVarInt(playerid, "ClothesSelect", skinSelect);
			}
			else if(ClothesRound[playerid] == 3)
			{
				new acoords = GetPVarInt(playerid, "AccessoriesCoords"), ainfo = GetPVarInt(playerid, "AccessoriesInfo"), idx = SelectCharPlace[playerid];
				if(idx == 0) return 1;
				if(AccessoriesInfo[idx-1][aType] == ainfo)
				{
				    SelectCharPlace[playerid]--;
				    new sidx = SelectCharPlace[playerid], slot = AccessoriesInfo[sidx][aSlot], model = AccessoriesInfo[sidx][aModel], bone = AccessoriesInfo[sidx][aBone], skin = GetPlayerSkin(playerid);
					new
						Float:fOffsetX = AccessoriesCoords[acoords][skin][0], Float:fOffsetY = AccessoriesCoords[acoords][skin][1], Float:fOffsetZ = AccessoriesCoords[acoords][skin][2],
						Float:fRotX = AccessoriesCoords[acoords][skin][3], Float:fRotY = AccessoriesCoords[acoords][skin][4], Float:fRotZ = AccessoriesCoords[acoords][skin][5],
						Float:fScaleX = AccessoriesCoords[acoords][skin][6], Float:fScaleY = AccessoriesCoords[acoords][skin][7], Float:fScaleZ = AccessoriesCoords[acoords][skin][8];
					if(IsPlayerAttachedObjectSlotUsed(playerid, slot)) RemovePlayerAttachedObject(playerid, slot);
					SetPlayerAttachedObject(playerid, slot, model, bone, fOffsetX, fOffsetY, fOffsetZ, fRotX, fRotY, fRotZ, fScaleX, fScaleY, fScaleZ);
					format(strings, sizeof(strings), "%d", AccessoriesInfo[sidx][aPrice]);
     				PlayerTextDrawSetString(playerid, ClothesInfo[playerid][1], strings);
				}
			}
		}
		else if(clickedid == ClothesButton[1]) // Next;
		{
		    if(ClothesRound[playerid] == 1)
			{
				if(SelectCharPlace[playerid] == 5) SelectCharPlace[playerid] = 0;
				else SelectCharPlace[playerid]++;
			    SetPlayerSkin(playerid, RegSkinsInfo[PlayerInfo[playerid][pSex]-1][SelectCharPlace[playerid]]);
			}
		    else if(ClothesRound[playerid] == 2)
		    {
				for(new x, z; x < sizeof(SkinsInfo); x ++)
				{
					skinID = GetSkinID(PlayerInfo[playerid][pSex], x);
					skinPrice = GetSkinPrice(x);
					if(skinID == 0) continue;
					skinList2[z][0] = skinID;
					skinList2[z][1] = skinPrice;
					z++;
				}
				for(new x; x < sizeof(skinList2) - 1; x ++)
				{
				    if(!skinList2[x + 1][0])
					{
						skinMax = x;
						break;
					}
				    else continue;
				}
				if(skinSelect == skinMax) skinSelect = 0;
				else skinSelect++;
				SetPlayerSkin(playerid, skinList2[skinSelect][0]);
				format(strings, sizeof(strings), "%d", skinList2[skinSelect][1]);
				PlayerTextDrawSetString(playerid, ClothesInfo[playerid][1], strings);
				SetPVarInt(playerid, "ClothesSelect", skinSelect);
			}
			else if(ClothesRound[playerid] == 3)
			{
				new acoords = GetPVarInt(playerid, "AccessoriesCoords"), ainfo = GetPVarInt(playerid, "AccessoriesInfo"), idx = SelectCharPlace[playerid];
				if(idx == 9) return 1;
				if(AccessoriesInfo[idx+1][aType] == ainfo)
				{
				    SelectCharPlace[playerid]++;
				    new sidx = SelectCharPlace[playerid], slot = AccessoriesInfo[sidx][aSlot], model = AccessoriesInfo[sidx][aModel], bone = AccessoriesInfo[sidx][aBone], skin = GetPlayerSkin(playerid);
					new
						Float:fOffsetX = AccessoriesCoords[acoords][skin][0], Float:fOffsetY = AccessoriesCoords[acoords][skin][1], Float:fOffsetZ = AccessoriesCoords[acoords][skin][2],
						Float:fRotX = AccessoriesCoords[acoords][skin][3], Float:fRotY = AccessoriesCoords[acoords][skin][4], Float:fRotZ = AccessoriesCoords[acoords][skin][5],
						Float:fScaleX = AccessoriesCoords[acoords][skin][6], Float:fScaleY = AccessoriesCoords[acoords][skin][7], Float:fScaleZ = AccessoriesCoords[acoords][skin][8];
					if(IsPlayerAttachedObjectSlotUsed(playerid, slot)) RemovePlayerAttachedObject(playerid, slot);
					SetPlayerAttachedObject(playerid, slot, model, bone, fOffsetX, fOffsetY, fOffsetZ, fRotX, fRotY, fRotZ, fScaleX, fScaleY, fScaleZ);
					format(strings, sizeof(strings), "%d", AccessoriesInfo[sidx][aPrice]);
					PlayerTextDrawSetString(playerid, ClothesInfo[playerid][1], strings);
				}
			}
		}
		else if(clickedid == ClothesButton[2]) // Cancel;
		{
		    if(ClothesRound[playerid] == 1)
			{
				KickWithMessage(playerid, COLOR_DARKORANGE, "Вы отменили регистрацию. Введите (/q)");
		   	}
			else if(ClothesRound[playerid] == 2)
			{
				SpawnPlayerExitSkinShop(playerid);
			    ExitPlayerSkinShop(playerid, ClothesRound[playerid]);
				if(PlayerInfo[playerid][pFracSkin] != 0 && (PlayerInfo[playerid][pMember] && PlayerInfo[playerid][pDuty])) SetPlayerSkin(playerid, PlayerInfo[playerid][pFracSkin]);
				else SetPlayerSkin(playerid, PlayerInfo[playerid][pSkin]);
			}
			else if(ClothesRound[playerid] == 3)
			{
				SpawnPlayerExitSkinShop(playerid);
				ExitPlayerSkinShop(playerid, 2);
				for(new aidx = 5; aidx < 10; aidx++) if(IsPlayerAttachedObjectSlotUsed(playerid, aidx)) RemovePlayerAttachedObject(playerid, aidx);
	  		}
		}
		else if(clickedid == ClothesButton[3]) // Buy;
		{
		    if(ClothesRound[playerid] == 1)
		    {
		        PlayerInfo[playerid][pSkin] = RegSkinsInfo[PlayerInfo[playerid][pSex]-1][SelectCharPlace[playerid]];
		    }
		    else if(ClothesRound[playerid] == 2)
		    {
		        skinID = GetPlayerSkin(playerid);
				for(new x; x < sizeof(SkinsInfo); x ++)
				{
					if(SkinsInfo[x][sID] != skinID) continue;
					skinSelect = x;
					break;
				}
				new price = GetSkinPrice(skinSelect);
				if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			    new bizid = GetPVarInt(playerid, "UseBiz");
				BuyPlayerThing(playerid, bizid, -1, price);
				SendMes(playerid, COLOR_MAIN, "Вы приобрели одежду за {"#DC_WHITE"}$%d.", price);
				PlayerInfo[playerid][pSkin] = SkinsInfo[skinSelect][sID];
				DeletePVar(playerid, "ClothesSelect");
				SpawnPlayerExitSkinShop(playerid);
				CheckQuest(playerid, 2);
		    }
		    else if(ClothesRound[playerid] == 3)
		    {
		        new idx = GetPlayerSlotAccessories(playerid);
		        if(idx == -1) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет свободного места под аксессуар.");
		        else
		        {
	                new sidx = SelectCharPlace[playerid], bizid = GetPVarInt(playerid, "UseBiz");
	   				if(GetMoney(playerid) < AccessoriesInfo[sidx][aPrice]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				   	BuyPlayerThing(playerid, bizid, -1, AccessoriesInfo[sidx][aPrice]);
	   				SendMes(playerid, COLOR_MAIN, "Вы приобрели аксессуар за {"#DC_WHITE"}$%d.", AccessoriesInfo[sidx][aPrice]);
	   				GivePlayerSlotAccessories(playerid, idx, AccessoriesInfo[sidx][aID]);
					for(new aidx = 5; aidx < 10; aidx++) if(IsPlayerAttachedObjectSlotUsed(playerid, aidx)) RemovePlayerAttachedObject(playerid, aidx);
	   				SpawnPlayerExitSkinShop(playerid);
		        }
		    }
			ExitPlayerSkinShop(playerid, ClothesRound[playerid]);
		}
   		if(PlayerInfo[playerid][pDiceTable] != -1)
		{
		    new table = PlayerInfo[playerid][pDiceTable], place = PlayerInfo[playerid][pDicePlace];
		    if(clickedid == DiceTD[1])
			{
				if(GetPVarInt(playerid, "CasinoDuty"))
				{
					new null = 0;
					for(new i; i < 5; i++)
					{
						if(DiceInfo[table][bPlayers][i] == INVALID_PLAYER_ID) continue;
						if(DiceInfo[table][bPlayers][i] == -1 || DiceInfo[table][bStatus][i]) null++;
					}
					if(null > 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент Вы не можете изменить ставку.");
					SPD(playerid, did_casino_bet, DSI, "{"#DC_MAIN"}Ставка", "{"#DC_WHITE"}Ставка должна быть не менее $1000\nи не более $50000000.\n\nВведите значение ставки:", "Далее", "Отмена");
					return 1;
				}
				if(DiceInfo[table][bBet] == 0) return SendMes(playerid, COLOR_DARKORANGE, "За этим столом не установленна ставка.");
				if(DiceInfo[table][bStatus][place] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже сделали ставку.");
				if(PlayerInfo[playerid][pCash] < DiceInfo[table][bBet]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				if(DiceInfo[table][GameTimer] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Игра уже началась. Дождитесь ее окончания.");
				SendMes(playerid, COLOR_MAIN, "Вы сделали ставку в размере {"#DC_WHITE"}$%d.", DiceInfo[table][bBet]);
				ServerMoney(playerid, "Ставка в казино", -DiceInfo[table][bBet], 0);
				DiceInfo[table][bBank] += DiceInfo[table][bBet];
				DiceInfo[table][bStatus][place] = 1;
				UpdateDice(table);
			}
			else if(clickedid == DiceTD[2])
			{
				if(GetPVarInt(playerid, "CasinoDuty"))
				{
					new dicePlayers = 0;
					for(new i; i < 5; i++)
					{
						if(DiceInfo[table][bPlayers][i] == INVALID_PLAYER_ID || DiceInfo[table][bPlayers][i] == -1) continue;
						if(DiceInfo[table][bStatus][i]) dicePlayers++;
					}
					if(dicePlayers < 2) return SendMes(playerid, COLOR_DARKORANGE, "За столом недостаточно игроков.");
					if(DiceInfo[table][GameTimer] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Игра уже запущена.");
					DiceInfo[table][GameTimer] = 30;
					PlayerInfo[playerid][pPayCheck] += 500;
					return 1;
				}
				else
				{
					if(DiceInfo[table][GameTimer] <= 0) return SendMes(playerid, COLOR_DARKORANGE, "Дождитесь начала игры.");
					if(DiceInfo[table][bStatus][place] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не участвуете в игре.");
					if(DiceInfo[table][bStatus][place] > 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже бросили кости.");
					new null = 0;
					DiceInfo[table][bStatus][place] = 2 + random(11);
					UpdateDice(table);
					for(new i; i < 5; i++)
					{
						if(DiceInfo[table][bStatus][i] == 1) null++;
					}
					if(null == 0) DiceInfo[table][GameTimer] = 4;
				}
			}
			else if(clickedid == DiceTD[3])
			{
				ShowPlayerDialog(playerid, did_casino, DSM, "{"#DC_MAIN"}Выход","{"#DC_WHITE"}Если Вы сделали ставку и игра уже началась, то деньги вам не вернуться!\nВы точно хотите покинуть стол?", "Да", "Нет");
				return 1;
			}
		}
		if(PlayerInfo[playerid][pSlotMachine] != -1)
		{
			new i = PlayerInfo[playerid][pSlotMachine];
			if(_:clickedid == 65535) SelectTextDraw(playerid, 0x007FFFFF);
			else if(clickedid == SlotMachineTD[1])
			{
				if(SlotMachine[i][sm_objStop] != 3) return SendMes(playerid, COLOR_DARKORANGE, "Подождите пока остановятся барабаны.");
				if(GetMoney(playerid) < SlotMachine[i][sm_bet]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				ServerMoney(playerid, "Ставка в игровом автомате", -SlotMachine[i][sm_bet], 0);
				format(strings, sizeof(strings), "~w~BALANCE: ~g~$%d.~n~~w~RATE: ~y~$%d.", PlayerInfo[playerid][pCash], SlotMachine[i][sm_bet]);
				PlayerTextDrawSetString(playerid, SlotMScoreTD[playerid], strings);
				PlayerTextDrawShow(playerid, SlotMScoreTD[playerid]);
				SlotMachine[i][sm_objStop] = 0;
				switch(random(1000))
				{
					case 130..140, 230..240, 330..340, 540..550:
					{
						SlotMachine[i][sm_comb] = 2;
						new rand = 1 + random(2);
						for(new f = 1; f <= 3; f++) SpinReel(i, f, rand);
					}
					case 101..105, 501..505, 701..705, 801..805:
					{
						SlotMachine[i][sm_comb] = 3;
						new rand = 3 + random(2);
						for(new f = 1; f <= 3; f++) SpinReel(i, f, rand);
					}
					case 28, 38, 88, 98, 528:
					{
						SlotMachine[i][sm_comb] = 4;
						for(new f = 1; f <= 3; f++) SpinReel(i, f, 5);
					}
					case 598, 628, 698, 728, 798:
					{
						SlotMachine[i][sm_comb] = 4;
						for(new f = 1; f <= 3; f++) SpinReel(i, f, 6);
					}
					case 93, 203, 213, 313, 403, 506, 513:
					{
						SlotMachine[i][sm_comb] = 5;
						for(new f = 1; f <= 3; f++) SpinReel(i, f, 7);
					}
					case 185, 290, 605, 815, 920:
					{
						SlotMachine[i][sm_comb] = 10;
						for(new f = 1; f <= 3; f++) SpinReel(i, f, 8);
					}
					default:
					{
						switch (random(10))
						{
							case 3, 7:
							{
								SlotMachine[i][sm_comb] = 2;
								for(new f = 1; f <= 3; f++) SpinReel(i, f, 0);
								return 1;
							}
						}
						new rand[3];
						while(rand[0] == rand[1] && rand[1] == rand[2])
						{
							for(new f; f < 3; f++) rand[f] = random(9);
						}
						SlotMachine[i][sm_comb] = 0;
						for(new f = 1; f <= 3; f++) SpinReel(i, f, rand[f - 1]);
					}
				}
				return 1;
			}
			else if(clickedid == SlotMachineTD[2])
			{
				ExitSlotMachine(playerid);
				return 1;
			}
			else if(clickedid == SlotMachineTD[3])
			{
				if(SlotMachine[i][sm_objStop] != 3) return SendMes(playerid, COLOR_DARKORANGE, "Подождите пока остановятся барабаны.");
				if(SlotMachine[i][sm_bet] <= 1000) return 1;
				SlotMachine[i][sm_bet] -= 1000;
				format(strings, sizeof(strings), "~w~BALANCE: ~g~$%d.~n~~w~RATE: ~y~$%d.", PlayerInfo[playerid][pCash], SlotMachine[i][sm_bet]);
				PlayerTextDrawSetString(playerid, SlotMScoreTD[playerid], strings);
				PlayerTextDrawShow(playerid, SlotMScoreTD[playerid]);
				return 1;
			}
			else if(clickedid == SlotMachineTD[4])
			{
				if(SlotMachine[i][sm_objStop] != 3) return SendMes(playerid, COLOR_DARKORANGE, "Подождите пока остановятся барабаны.");
				if(SlotMachine[i][sm_bet] >= 1000000) return SendMes(playerid, COLOR_DARKORANGE, "Максимальная ставка $1000000.");
				SlotMachine[i][sm_bet] += 1000;
				format(strings, sizeof(strings), "~w~BALANCE: ~g~$%d.~n~~w~RATE: ~y~$%d.", PlayerInfo[playerid][pCash], SlotMachine[i][sm_bet]);
				PlayerTextDrawSetString(playerid, SlotMScoreTD[playerid], strings);
				PlayerTextDrawShow(playerid, SlotMScoreTD[playerid]);
				return 1;
			}
		}
	}
	return 1;
}
//==============================================================================
public OnPlayerClickPlayerTextDraw(playerid, PlayerText:playertextid)
{
    if(PlayerInfo[playerid][pDurakTable])
	{
		Durak_HandlePTDClick(playerid, playertextid);
		return 1;
	}
    for(new i = 0; i < 15; i++)
    {
        if(playertextid == InventoryItems[playerid][i])
        {
            CheckPlayerInventoryColor(playerid);
            UpdatePlayerInventoryColor(playerid, InventoryItems[playerid][i], true);
            InventoryTextDrawUse[playerid] = i;
            InventoryTextDrawUseType[playerid] = 1;
        }
	}
	for(new i = 0; i < 15; i++)
	{
        if(playertextid == InventoryAccessories[playerid][i])
        {
            CheckPlayerInventoryColor(playerid);
            UpdatePlayerInventoryColor(playerid, InventoryAccessories[playerid][i], true);
            InventoryTextDrawUse[playerid] = i;
            InventoryTextDrawUseType[playerid] = 2;
        }
    }
    for(new i = 0; i < 15; i++)
    {
        if(playertextid == CraftItems[playerid][i])
        {
            CheckPlayerCraftColor(playerid);
            UpdatePlayerCraftColor(playerid, CraftItems[playerid][i], true);
            CraftTextDrawUse[playerid] = i;
            ShowPlayerCraftResourcesList(playerid);
        }
    }
	return 1;
}
//==============================================================================
public OnPlayerEditAttachedObject(playerid, response, index, modelid, boneid, Float:fOffsetX, Float:fOffsetY, Float:fOffsetZ, Float:fRotX, Float:fRotY, Float:fRotZ, Float:fScaleX, Float:fScaleY, Float:fScaleZ)
{
   	if(fScaleX < 0 || fScaleY < 0 || fScaleZ < 0 || fScaleX > 2.0 || fScaleY > 2.0 || fScaleZ > 2.0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете воспользоваться этой функцией."), SetPlayerAttachedObject(playerid, index, modelid, boneid, fOffsetX, fOffsetY, fOffsetZ, fRotX, fRotY, fRotZ, 1, 1, 1);
	if(response == EDIT_RESPONSE_UPDATE)
     {
        RemovePlayerAttachedObject(playerid, index);
        SetPlayerAttachedObject(playerid, index, modelid, boneid, fOffsetX, fOffsetY, fOffsetZ, fRotX, fRotY, fRotZ, fScaleX, fScaleY, fScaleZ);
    }
    if(response == EDIT_RESPONSE_FINAL)
    {
		format(strings, sizeof(strings), "%f, %f, %f, %f, %f, %f, %f, %f, %f", fOffsetX, fOffsetY, fOffsetZ, fRotX, fRotY, fRotZ, fScaleX, fScaleY, fScaleZ);
		SendMes(playerid, COLOR_GREEN, strings);
        RemovePlayerAttachedObject(playerid, index);
        SetPlayerAttachedObject(playerid, index, modelid, boneid, fOffsetX, fOffsetY, fOffsetZ, fRotX, fRotY, fRotZ, fScaleX, fScaleY, fScaleZ);
    }
    if(response == EDIT_RESPONSE_CANCEL)
    {
        RemovePlayerAttachedObject(playerid, index);
    }
	return 1;
}
//==============================================================================
public OnPlayerEditObject(playerid, playerobject, objectid, response, Float:fX, Float:fY, Float:fZ, Float:fRotX, Float:fRotY, Float:fRotZ)
{
	if(!playerobject)
	{
		if(!IsValidObject(objectid)) return 1;
		MoveObject(objectid, fX, fY, fZ, 10.0, fRotX, fRotY, fRotZ);
	}
	if(GetPVarInt(playerid, "LoadATM") > 0)
	{
		if(response == EDIT_RESPONSE_FINAL)
		{
		    new name[64];
			TOTALATM++;
			sscanf(addatm, "p<,>s[64]", name);
			ATMInfo[TOTALATM][aX] = fX;
			ATMInfo[TOTALATM][aY] = fY;
			ATMInfo[TOTALATM][aZ] = fZ;
			ATMInfo[TOTALATM][arX] = fRotX;
			ATMInfo[TOTALATM][arY] = fRotY;
			ATMInfo[TOTALATM][arZ] = fRotZ;
			SendMes(playerid, COLOR_MAIN, "Банкомат {"#DC_WHITE"}%d{"#DC_MAIN"} успешно установлен.", TOTALATM);
			if(IsValidDynamicObject(GetPVarInt(playerid, "LoadATM")-1)) DestroyDynamicObject(GetPVarInt(playerid, "LoadATM")-1);
			ATM[TOTALATM] = CreateDynamicObject(2754, fX, fY, fZ, fRotX, fRotY, fRotZ, -1, -1, -1, 120.00, 120.00);
			LABELATM[TOTALATM] = Create3DTextLabel("БАНКОМАТ\n{"#DC_WHITE"}Нажмите ALT или введите /atm", COLOR_YELLOW, ATMInfo[TOTALATM][aX], ATMInfo[TOTALATM][aY], ATMInfo[TOTALATM][aZ]+1.5, 10.0, 0, 0);
			DeletePVar(playerid, "LoadATM");
			CancelEdit(playerid);
			mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_ATM" (x, y, z, rx, ry, rz, name) VALUES ('%f', '%f', '%f', '%f', '%f', '%f', '%e')",
			ATMInfo[TOTALATM][aX], ATMInfo[TOTALATM][aY], ATMInfo[TOTALATM][aZ], ATMInfo[TOTALATM][arX], ATMInfo[TOTALATM][arY], ATMInfo[TOTALATM][arZ], name);
			mysql_query(mysql, request, false);
		}
		if(response == EDIT_RESPONSE_CANCEL)
		{
			SendMes(playerid, COLOR_DARKORANGE, "Установка банкомата отменена.");
			if(IsValidDynamicObject(GetPVarInt(playerid, "LoadATM")-1)) DestroyDynamicObject(GetPVarInt(playerid, "LoadATM")-1);
			CancelEdit(playerid);
			DeletePVar(playerid, "LoadATM");
		}
	}
	if(GetPVarInt(playerid, "LoadGraffiti") > 0)
	{
		if(response == EDIT_RESPONSE_FINAL)
		{
			TOTALGRAFFITI++;
			GRAFFITIInfo[TOTALGRAFFITI][gMember] = 0;
			GRAFFITIInfo[TOTALGRAFFITI][gX] = fX;
			GRAFFITIInfo[TOTALGRAFFITI][gY] = fY;
			GRAFFITIInfo[TOTALGRAFFITI][gZ] = fZ;
			GRAFFITIInfo[TOTALGRAFFITI][grX] = fRotX;
			GRAFFITIInfo[TOTALGRAFFITI][grY] = fRotY;
			GRAFFITIInfo[TOTALGRAFFITI][grZ] = fRotZ;
			SendMes(playerid, COLOR_MAIN, "Граффити {"#DC_WHITE"}%d{"#DC_MAIN"} успешно установлено.", TOTALGRAFFITI);
			if(IsValidDynamicObject(GetPVarInt(playerid, "LoadGraffiti")-1)) DestroyDynamicObject(GetPVarInt(playerid, "LoadGraffiti")-1);
			GRAFFITI[TOTALGRAFFITI] = CreateDynamicObject(18660, fX, fY, fZ, fRotX, fRotY, fRotZ, -1, -1, -1, 120.00, 120.00);
			DeletePVar(playerid, "LoadGraffiti");
			CancelEdit(playerid);
			mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_GRAFFITI" (x, y, z, rx, ry, rz) VALUES ('%f', '%f', '%f', '%f', '%f', '%f')",
			GRAFFITIInfo[TOTALGRAFFITI][gX], GRAFFITIInfo[TOTALGRAFFITI][gY], GRAFFITIInfo[TOTALGRAFFITI][gZ], GRAFFITIInfo[TOTALGRAFFITI][grX], GRAFFITIInfo[TOTALGRAFFITI][grY], GRAFFITIInfo[TOTALGRAFFITI][grZ]);
			mysql_query(mysql, request, false);
		}
		if(response == EDIT_RESPONSE_CANCEL)
		{
			SendMes(playerid, COLOR_DARKORANGE, "Установка граффити отменена.");
			if(IsValidDynamicObject(GetPVarInt(playerid, "LoadGraffiti")-1)) DestroyDynamicObject(GetPVarInt(playerid, "LoadGraffiti")-1);
			CancelEdit(playerid);
			DeletePVar(playerid, "LoadGraffiti");
		}
	}
	if(GetPVarInt(playerid, "LoadSTOP") > 0)
	{
		if(response == EDIT_RESPONSE_FINAL)
		{
		    new name[32], price, type;
			TOTALSTOP++;
			sscanf(addstop, "p<,>s[32]ii", name, price, type);
			STOPInfo[TOTALSTOP][sX] = fX;
			STOPInfo[TOTALSTOP][sY] = fY;
			STOPInfo[TOTALSTOP][sZ] = fZ;
			STOPInfo[TOTALSTOP][srX] = fRotX;
			STOPInfo[TOTALSTOP][srY] = fRotY;
			STOPInfo[TOTALSTOP][srZ] = fRotZ;
			format(STOPInfo[TOTALSTOP][sName], 32, name);
			STOPInfo[TOTALSTOP][sPrice] = price;
			STOPInfo[TOTALSTOP][sType] = type;
			SendMes(playerid, COLOR_MAIN, "Остановка {"#DC_WHITE"}%d{"#DC_MAIN"} успешно установлена.", TOTALSTOP);
			if(IsValidDynamicObject(GetPVarInt(playerid, "LoadSTOP")-1)) DestroyDynamicObject(GetPVarInt(playerid, "LoadSTOP")-1);
			STOP[TOTALSTOP] = CreateDynamicObject(1257, fX, fY, fZ, fRotX, fRotY, fRotZ, -1, -1, -1, 120.00, 120.00);
			format(strings, sizeof(strings), "Остановка: {"#DC_MAIN"}%s\n{"#DC_WHITE"}Стоимость проезда: {"#DC_MAIN"}$%d - 100 метров{"#DC_WHITE"}\nНажмите {"#DC_MAIN"}ALT{"#DC_WHITE"} для проезда или введите {"#DC_MAIN"}/bus", name, price);
			LABELSTOP[TOTALSTOP] = Create3DTextLabel(strings, COLOR_WHITE, STOPInfo[TOTALSTOP][sX], STOPInfo[TOTALSTOP][sY], STOPInfo[TOTALSTOP][sZ], 10.0, 0, 0);
			DeletePVar(playerid, "LoadSTOP");
			CancelEdit(playerid);
			mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_STOP" (x, y, z, rx, ry, rz, name, price, type) VALUES ('%f', '%f', '%f', '%f', '%f', '%f', '%e', '%d', '%d')",
			STOPInfo[TOTALSTOP][sX], STOPInfo[TOTALSTOP][sY], STOPInfo[TOTALSTOP][sZ], STOPInfo[TOTALSTOP][srX], STOPInfo[TOTALSTOP][srY], STOPInfo[TOTALSTOP][srZ], name, price, type);
			mysql_query(mysql, request, false);
		}
		if(response == EDIT_RESPONSE_CANCEL)
		{
			SendMes(playerid, COLOR_DARKORANGE, "Установка остановки отменена.");
			if(IsValidDynamicObject(GetPVarInt(playerid, "LoadSTOP")-1)) DestroyDynamicObject(GetPVarInt(playerid, "LoadSTOP")-1);
			CancelEdit(playerid);
			DeletePVar(playerid, "LoadSTOP");
		}
	}
	/*if(GetPVarInt(playerid, "LoadBreak") > 0)
	{
		if(response == EDIT_RESPONSE_FINAL)
		{
		    new i = GetPVarInt(playerid, "LoadBreak")-1, idx = GetPVarInt(playerid, "BreakObject");
			if(IsValidDynamicObject(Break[playerid][i])) DestroyDynamicObject(Break[playerid][i]);
			DeletePVar(playerid, "LoadBreak");
			DeletePVar(playerid, "BreakObject");
			Break[playerid][i] = CreateDynamicObject(idx, fX, fY, fZ, fRotX, fRotY, fRotZ, -1, -1, -1, 120.00, 120.00);
			format(strings, sizeof(strings), "%s [%d]", PlayerInfo[playerid][pName], playerid);
			Break3DText[playerid][i] = Create3DTextLabel(strings, COLOR_LRED, fX, fY, fZ+1.0, 10.0, 0);
			CancelEdit(playerid);
			SendMes(playerid, COLOR_MAIN, "Вы установили объект.");
		}
		if(response == EDIT_RESPONSE_CANCEL)
		{
			new i = GetPVarInt(playerid, "LoadBreak")-1;
			SendMes(playerid, COLOR_DARKORANGE, "Вы отменили установку объекта.");
			if(IsValidDynamicObject(Break[playerid][i])) DestroyDynamicObject(Break[playerid][i]);
			Break[playerid][i] = 0;
			CancelEdit(playerid);
			DeletePVar(playerid, "LoadBreak");
			DeletePVar(playerid, "BreakObject");
		}
	}*/
	if(GetPVarInt(playerid, "EditObject") > 0)
	{
		if(response == EDIT_RESPONSE_FINAL)
		{
			if(IsValidDynamicObject(GetPVarInt(playerid, "EditObject"))) DestroyDynamicObject(AdminObject[GetPVarInt(playerid, "EditObject")]);
			AdminObject[GetPVarInt(playerid, "EditObject")] = CreateDynamicObject(GetPVarInt(playerid, "EditObjectModel"), fX, fY, fZ, fRotX, fRotY, fRotZ, -1, -1, -1, 120.00, 120.00);
			format(strings, sizeof(strings), "Объект {"#DC_WHITE"}%d (Слот %d. Модель %d){"#DC_MAIN"} установлен.", AdminObject[GetPVarInt(playerid, "EditObject")], GetPVarInt(playerid, "EditObject"), GetPVarInt(playerid, "EditObjectModel"));
			SendMes(playerid, COLOR_MAIN, strings);
			DeletePVar(playerid, "EditObject");
			CancelEdit(playerid);
		}
		if(response == EDIT_RESPONSE_CANCEL)
		{
			DeletePVar(playerid, "EditObject");
			SendMes(playerid, COLOR_DARKORANGE, "Установка объекта отменена.");
			CancelEdit(playerid);
		}
	}
	return 1;
}
//==============================================================================
public OnPlayerClickMap(playerid, Float:fX, Float:fY, Float:fZ)
{
	if(PlayerInfo[playerid][pAdmin] > 1 && AdminLogged[playerid] == true)
	{
		MACInfo[playerid][macCheckMapTP] = 1; MACInfo[playerid][macMapTPLastClick] = GetTickCount();
		MACInfo[playerid][macMapTP][0] = fX; MACInfo[playerid][macMapTP][1] = fY; MACInfo[playerid][macMapTP][2] = fZ;
		new vehicleid = GetPlayerVehicleID(playerid);
		if(GetPlayerState(playerid) == 2)
		{
			SetVehiclePos(vehicleid, fX, fY, fZ);
			SetVehicleVirtualWorld(vehicleid, 0);
			LinkVehicleToInterior(vehicleid, 0);
		}
		else
		{
			SetPlayerPos(playerid, fX, fY, fZ);
			SetPlayerVirtualWorld(playerid, 0);
			SetPlayerInterior(playerid, 0);
		}
		if(PlayerInfo[playerid][pRespawnTime] != 100 || PlayerInfo[playerid][pRespawnWeather] != 100)
		{
		    SetPlayerTime(playerid, DefaultTime, 0);
		    SetPlayerWeather(playerid, DefaultWeather);
		 	PlayerInfo[playerid][pRespawnTime] = 100;
			PlayerInfo[playerid][pRespawnWeather] = 100;
		}
	}
	if(GetPVarInt(playerid, "MafiaWarStart"))
	{
	    if(MafiaWarZone != 0) return SendMes(playerid, COLOR_DARKORANGE, "Война за бизнес уже началась.");
	    MGZX[0] = fX-80.0;
		MGZX[1] = fX+80.0;
		MGZY[0] = fY-80.0;
		MGZY[1] = fY+80.0;
		MafiaWarPos[0] = fX, MafiaWarPos[1] = fY, MafiaWarPos[2] = fZ;
		MafiaWarZone = GangZoneCreate(MGZX[0], MGZY[0], MGZX[1], MGZY[1]);
		foreach(new i:Player)
		{
			if(PlayerLogged[i] == 0 || !IsAMafia(i)) continue;
			GangZoneShowForPlayer(i, MafiaWarZone, 0xFFFFFF65);
			GangZoneFlashForPlayer(i, MafiaWarZone, COLOR_RED);
		}
		MafiaWarBiz = GetPVarInt(playerid, "MafiaWarBusiness");
		MafiaWarMafia[PlayerInfo[playerid][pMember]] = PlayerInfo[playerid][pMember];
		MafiaWarMafia[BizInfo[MafiaWarBiz][bMafia]] = PlayerInfo[playerid][pMember];
		MafiaWarFrac[0] = PlayerInfo[playerid][pMember];
		MafiaWarFrac[1] = BizInfo[MafiaWarBiz][bMafia];
		MafiaInfo[PlayerInfo[playerid][pMember]][mStartWar]++;
		MafiaWarTime = 900;
		MafiaWarCooldown = 1800;
		new fraction1 = PlayerInfo[playerid][pMember];
		new fraction2 = BizInfo[MafiaWarBiz][bMafia];
		format(strings, sizeof(strings), "[F] %s начал захват бизнеса %s. Контроль: %s.", PlayerInfo[playerid][pName], BizInfo[MafiaWarBiz][bName], GetMafiaName(fraction2));
		SendFMes(fraction1, COLOR_LRED, strings);
		format(strings, sizeof(strings), "[F] %s начала захват вашего бизнеса %s.", GetMafiaName(fraction1), BizInfo[MafiaWarBiz][bName]);
		SendFMes(fraction2, COLOR_LRED, strings);
		MafiaWarStart();
		DeletePVar(playerid, "MafiaWarStart"), DeletePVar(playerid, "MafiaWarBusiness");
		return 1;
	}
	if(GetPVarInt(playerid, "BikerWarStart"))
	{
	    if(BikerWarZone != 0) return SendMes(playerid, COLOR_DARKORANGE, "Байкерский захват уже начался.");
	    BGZX[0] = fX-80.0;
		BGZX[1] = fX+80.0;
		BGZY[0] = fY-80.0;
		BGZY[1] = fY+80.0;
		BikerWarPos[0] = fX, BikerWarPos[1] = fY, BikerWarPos[2] = fZ;
		BikerWarZone = GangZoneCreate(BGZX[0], BGZY[0], BGZX[1], BGZY[1]);
		foreach(new i:Player)
		{
			if(PlayerLogged[i] == 0 || !IsABiker(i)) continue;
			GangZoneShowForPlayer(i, BikerWarZone, 0xFFFFFF65);
			GangZoneFlashForPlayer(i, BikerWarZone, COLOR_RED);
		}
		BikerWarBiz = GetPVarInt(playerid, "BikerWarBiz");
		BikerWarType = GetPVarInt(playerid, "BikerWarType");
		if(BikerWarType == 1)
		{
			BikerWarBiker[PlayerInfo[playerid][pMember]] = PlayerInfo[playerid][pMember];
			BikerWarBiker[FarmInfo[BikerWarBiz][fBiker]] = PlayerInfo[playerid][pMember];
			BikerWarFrac[0] = PlayerInfo[playerid][pMember];
			BikerWarFrac[1] = FarmInfo[BikerWarBiz][fBiker];
			BikerInfo[PlayerInfo[playerid][pMember]][bStartWar]++;
			BikerWarTime = 900;
			BikerWarCooldown = 1800;
			new fraction1 = PlayerInfo[playerid][pMember];
			new fraction2 = FarmInfo[BikerWarBiz][fBiker];
			format(strings, sizeof(strings), "[F] %s начал захват фермы номер: %d. Контроль: %s.", PlayerInfo[playerid][pName], FarmInfo[BikerWarBiz][id], GetBikerName(fraction2));
			SendFMes(fraction1, COLOR_LRED, strings);
			format(strings, sizeof(strings), "[F] %s начал захват вашей фермы номер: %d.", GetBikerName(fraction1), FarmInfo[BikerWarBiz][id]);
			SendFMes(fraction2, COLOR_LRED, strings);
		}
		else if(BikerWarType == 2)
		{
			BikerWarBiker[PlayerInfo[playerid][pMember]] = PlayerInfo[playerid][pMember];
			BikerWarBiker[ServiceInfo[BikerWarBiz][sBiker]] = PlayerInfo[playerid][pMember];
			BikerWarFrac[0] = PlayerInfo[playerid][pMember];
			BikerWarFrac[1] = ServiceInfo[BikerWarBiz][sBiker];
			BikerInfo[PlayerInfo[playerid][pMember]][bStartWar]++;
			BikerWarTime = 900;
			BikerWarCooldown = 1800;
			new fraction1 = PlayerInfo[playerid][pMember];
			new fraction2 = ServiceInfo[BikerWarBiz][sBiker];
			format(strings, sizeof(strings), "[F] %s начал захват СТО номер: %d. Контроль: %s.", PlayerInfo[playerid][pName], ServiceInfo[BikerWarBiz][id], GetBikerName(fraction2));
			SendFMes(fraction1, COLOR_LRED, strings);
			format(strings, sizeof(strings), "[F] %s начал захват вашего СТО номер: %d.", GetBikerName(fraction1), ServiceInfo[BikerWarBiz][id]);
			SendFMes(fraction2, COLOR_LRED, strings);
		}
		else if(BikerWarType == 3)
		{
			BikerWarBiker[PlayerInfo[playerid][pMember]] = PlayerInfo[playerid][pMember];
			BikerWarBiker[HotelInfo[BikerWarBiz][hBiker]] = PlayerInfo[playerid][pMember];
			BikerWarFrac[0] = PlayerInfo[playerid][pMember];
			BikerWarFrac[1] = HotelInfo[BikerWarBiz][hBiker];
			BikerInfo[PlayerInfo[playerid][pMember]][bStartWar]++;
			BikerWarTime = 900;
			BikerWarCooldown = 1800;
			new fraction1 = PlayerInfo[playerid][pMember];
			new fraction2 = HotelInfo[BikerWarBiz][hBiker];
			format(strings, sizeof(strings), "[F] %s начал захват отеля %s. Контроль: %s.", PlayerInfo[playerid][pName], HotelInfo[BikerWarBiz][hName], GetBikerName(fraction2));
			SendFMes(fraction1, COLOR_LRED, strings);
			format(strings, sizeof(strings), "[F] %s начал захват вашего отеля %s.", GetBikerName(fraction1), HotelInfo[BikerWarBiz][hName]);
			SendFMes(fraction2, COLOR_LRED, strings);
		}
		BikerWarStart();
		DeletePVar(playerid, "BikerWarStart"), DeletePVar(playerid, "BikerWarBiz"), DeletePVar(playerid, "BikerWarType");
		return 1;
	}
	return 1;
}
//==============================================================================
public OnPlayerEnterDynamicArea(playerid, areaid)
{
    PlayerInfo[playerid][pTemp][4] = areaid;
	for(new i; i < sizeof(AREASBIZ); i++)
	{
		if(areaid == AREASBIZ[i] && GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
		{
		    IsBiz[playerid] = i;
			if(!IsPlayerMobile(playerid)) GameTextForPlayer(playerid, "~g~PRESS: ~y~~k~~VEHICLE_HORN~", 5000, 1);
			else SendMes(playerid, COLOR_MAIN, "С помощью кнопки сигнал или команды /gate можно воспользоваться услугами бизнеса.");
			break;
		}
	}
	for(new i = 1; i <= TOTALHOUSE; i++)
	{
		if(areaid == HouseInfo[i][hAreasGarage] && GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
		{
		    IsHouse[playerid] = i;
			if(!IsPlayerMobile(playerid)) GameTextForPlayer(playerid, "~g~PRESS: ~y~~k~~VEHICLE_HORN~", 5000, 1);
			else SendMes(playerid, COLOR_MAIN, "С помощью кнопки сигнал или команды /gate можно заехать в гараж.");
			break;
		}
	}
	if(areaid >= GarageAreas[0] && areaid <= GarageAreas[1])
	{
	    if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
	    {
			if(!IsPlayerMobile(playerid)) GameTextForPlayer(playerid, "~g~PRESS: ~y~~k~~VEHICLE_HORN~", 5000, 1);
			else SendMes(playerid, COLOR_MAIN, "С помощью кнопки сигнал или команды /gate можно выехать из гаража.");
 		}
	}
	if(IsAArmy(playerid) || IsACriminal(playerid) || IsAMedic(playerid))
	{
		for(new i; i < MAX_VEHICLES; i++)
		{
			if(areaid == VehGunInfo[i][vGunArea])
			{
				if(VehGunInfo[i][vGunLoading] == true && GetPVarInt(playerid, "CarryGun"))
				{
				    if(VehInfo[i][vFraction] != PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете загружать транспортное средство этой организации.");
					new amount = GetPVarInt(playerid, "CarryGun");
					DeletePVar(playerid, "CarryGun");
	    			if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
					SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
					new maxwarehouse = MAX_VEHICLE_GUN;
					if(VehGunInfo[i][vGunGun] + amount > maxwarehouse) return SendMes(playerid, COLOR_DARKORANGE, "В транспортном средстве недостаточно места.");
					VehGunInfo[i][vGunGun] += amount;
					format(strings, sizeof(strings), "Багажник\n\nВ багажнике:\n{"#DC_WHITE"}%d ед. оружия.", VehGunInfo[i][vGunGun]);
					Update3DTextLabelText(VehGunInfo[i][vGunText], COLOR_YELLOW, strings);
				}
				else if(VehGunInfo[i][vGunUnloading] == true && !GetPVarInt(playerid, "CarryGun"))
				{
				    if(VehInfo[i][vFraction] != PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете разгружать транспортное средство этой организации.");
				    new amount = MAX_CARRY_GUN;
					if(VehGunInfo[i][vGunGun] < amount) return SendMes(playerid, COLOR_DARKORANGE, "В транспортном средстве недостаточно боеприпасов.");
					VehGunInfo[i][vGunGun] -= amount;
					SetPVarInt(playerid, "CarryGun", amount);
					SetPlayerAttachedObject(playerid, 1, 2358, 6, 0.0, 0.10, -0.2, -110.0, 0.0, 78.0, 1.000000, 1.000000, 1.000000);
					format(strings, sizeof(strings), "Багажник\n\nВ багажнике:\n{"#DC_WHITE"}%d ед. оружия.", VehGunInfo[i][vGunGun]);
					SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CARRY);
					Update3DTextLabelText(VehGunInfo[i][vGunText], COLOR_YELLOW, strings);
				}
				return 1;
			}
		}
	}
	/*foreach(new i:Player)
	{
		if(GetPVarType(i, "BBArea"))
		{
			if(areaid == GetPVarInt(i, "BBArea"))
			{
				new station[256];
				GetPVarString(i, "BBStation", station, sizeof(station));
				if(!isnull(station)) PlayStream(playerid, station, GetPVarFloat(i, "BBX"), GetPVarFloat(i, "BBY"), GetPVarFloat(i, "BBZ"), 30.0, 1);
				return 1;
			}
		}
	}*/
	return 1;
}
//==============================================================================
public OnPlayerLeaveDynamicArea(playerid, areaid)
{
    PlayerInfo[playerid][pTemp][4] = -1;
	for(new i; i < sizeof(AREASBIZ); i++)
	{
		if(areaid == AREASBIZ[i] && GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
		{
		    IsBiz[playerid] = -1;
			break;
		}
	}
	for(new i = 1; i <= TOTALHOUSE; i++)
	{
		if(areaid == HouseInfo[i][hAreasGarage] && GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
		{
		    IsHouse[playerid] = -1;
			break;
		}
	}
	for(new i; i < sizeof(TOTALMARKET); i++)
	{
	    if(MarketUse[playerid] != -1)
	    {
			new idx = MarketUse[playerid];
			if(areaid == MarketInfo[idx][MarketArea])
			{
	            SendMes(playerid, COLOR_MAIN, "Вы отошли слишком далеко от палатки, аренда расторгнута.");
	            OnPlayerLeaveFromMarket(playerid);
				break;
			}
		}
	}
	/*foreach(new i:Player)
	{
		if(GetPVarType(i, "BBArea") != 0)
		{
			if(areaid == GetPVarInt(i, "BBArea"))
			{
				StopStream(playerid);
				return 1;
			}
		}
	}*/
	return 1;
}
//==============================================================================
public OnPlayerKeyStateChange(playerid, newkeys, oldkeys)
{
	if(newkeys & 8 && PRESS_UP[playerid] == 0) PRESS_UP[playerid] = 1;
	if(oldkeys & 8 && newkeys & 8 != 8 && PRESS_UP[playerid] == 1) PRESS_UP[playerid] = 0;

	//================================================ [ Наручники ] ======================================//
	if(newkeys & KEY_FIRE && !(oldkeys & KEY_FIRE) && GetPlayerSpecialAction(playerid) == SPECIAL_ACTION_CUFFED) ApplyAnimation(playerid, "GYMNASIUM", " gym_tread_falloff", 4.1, 0, 1, 1, 0, 0);
	if(newkeys & KEY_JUMP && !(oldkeys & KEY_JUMP) && GetPlayerSpecialAction(playerid) == SPECIAL_ACTION_CUFFED) ApplyAnimation(playerid, "GYMNASIUM", "gym_jog_falloff", 4.1, 0, 1, 1, 0, 0);
	if(newkeys & KEY_HANDBRAKE && !(oldkeys & KEY_HANDBRAKE) && GetPlayerSpecialAction(playerid) == SPECIAL_ACTION_CUFFED) ApplyAnimation(playerid, "GYMNASIUM", " gym_tread_falloff", 4.1, 0, 1, 1, 0, 0);
	//================================================ [ Наручники ] ======================================//
	
	if(IsPlayerInAnyVehicle(playerid))
	{
 		new vehicleid = GetPlayerVehicleID(playerid);
		if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
		{
		    if(newkeys & KEY_WALK || newkeys & KEY_FIRE)
		    /*if(newkeys & KEY_FIRE)*/
			{
				if(VehInfo[vehicleid][vFraction] >= 300 && VehInfo[vehicleid][vFraction] <= 310)
				{
					if(ArendsCar[playerid] != vehicleid) return RemoveFromVehicle(playerid);
				}
				if(Bonnet[vehicleid] == true) return SendMes(playerid, COLOR_DARKORANGE, "Дождитесь, пока автомеханик отремонтирует транспорт.");
				if(Fuel[vehicleid] <= 0 && !IsABike(vehicleid) && !IsABoat(vehicleid) && !IsAPlane(vehicleid)) return SendMes(playerid, COLOR_DARKORANGE, "В транспортном средстве нет топлива, необходима заправка.");
				new Float:hp;
				GetVehicleHealth(vehicleid, hp);
				if((hp > 0 && hp < 301) && !IsABike(vehicleid)) return SendMes(playerid, COLOR_DARKORANGE, "Двигатель транспортного средства сломан, вызовите автомеханика (( /call )).");
				if(!IsABike(vehicleid)) CheckEngine(playerid, vehicleid);
			}
			/*if(newkeys & KEY_SUBMISSION)
			{
				if(VehInfo[vehicleid][vFraction] >= 300 && VehInfo[vehicleid][vFraction] <= 310)
				{
					if(ArendsCar[playerid] != vehicleid) return RemoveFromVehicle(playerid);
				}
				if(Bonnet[vehicleid] == true) return SendMes(playerid, COLOR_DARKORANGE, "Дождитесь, пока автомеханик отремонтирует транспорт.");
				if(Fuel[vehicleid] <= 0 && !IsABike(vehicleid) && !IsABoat(vehicleid) && !IsAPlane(vehicleid)) return SendMes(playerid, COLOR_DARKORANGE, "В транспортном средстве нет топлива, необходима заправка.");
				new Float:hp;
				GetVehicleHealth(vehicleid, hp);
				if((hp > 0 && hp < 301) && !IsABike(vehicleid)) return SendMes(playerid, COLOR_DARKORANGE, "Двигатель транспортного средства сломан, вызовите автомеханика (( /call )).");
				if(!IsABike(vehicleid)) CheckEngine(playerid, vehicleid);
			}
			if(newkeys & KEY_ACTION)
			{
			    if(!IsABike(vehicleid)) CheckLimit(playerid, vehicleid);
			}
			if(newkeys & KEY_FIRE)
			{
			    if(!IsAPlane(vehicleid) && !IsABoat(vehicleid) && !IsABike(vehicleid)) CheckLight(playerid, vehicleid);
			}*/
   			if(newkeys & KEY_CROUCH)
			{
			    /*SearchBarrier(playerid);*/
			    if(IsPlayerInRangeOfPoint(playerid, 5.0, 1378.1090,-14.2255,1000.6348) || IsPlayerInRangeOfPoint(playerid, 5.0, 1399.2316,-14.9511,1000.6279) || IsPlayerInRangeOfPoint(playerid, 5.0, 1368.4884,-16.7363,1000.6308))
				{
			        new house = GetPlayerVirtualWorld(playerid) - 10;
			        if(house < 0) return SendMes(playerid, COLOR_DARKORANGE, "Не удалось определить номер дома этого гаража, обратитесь к администрации.");
			        SetVehiclePos(vehicleid, HouseInfo[house][hVehicleX], HouseInfo[house][hVehicleY], HouseInfo[house][hVehicleZ]);
					SetVehicleZAngle(vehicleid, HouseInfo[house][hVehicleR]);
					LinkVehicleToInterior(vehicleid, 0);
					SetVehicleVirtualWorld(vehicleid, 0);
					foreach(new i:Player)
					{
						if(PlayerLogged[i] == 0) continue;
						if(IsPlayerInVehicle(i, vehicleid) && GetPlayerState(i) == 2)
						{
							SetPlayerTime(i, DefaultTime, 0);
							SetPlayerWeather(i, DefaultWeather);
						 	PlayerInfo[i][pRespawnTime] = 100;
			 				PlayerInfo[i][pRespawnWeather] = 100;
							SetPlayerInterior(i, 0);
							SetPlayerVirtualWorld(i, 0);
						}
					}
					SetPlayerTime(playerid, DefaultTime, 0);
					SetPlayerWeather(playerid, DefaultWeather);
				 	PlayerInfo[playerid][pRespawnTime] = 100;
					PlayerInfo[playerid][pRespawnWeather] = 100;
					SetPlayerInterior(playerid, 0);
					SetPlayerVirtualWorld(playerid, 0);
				}
				if(IsBiz[playerid] != -1)
				{
				    new biz = IsBiz[playerid];
				    if(IsAPPos(playerid, 10.0, BizInfo[biz][bEnterX], BizInfo[biz][bEnterY], BizInfo[biz][bEnterZ]))
				    {
					    SetPVarInt(playerid, "UseBiz", IsBiz[playerid]);
						ServiceList(playerid, IsBiz[playerid]);
					}
				}
				if(IsHouse[playerid] != -1)
				{
				    new house = IsHouse[playerid];
				    if(IsAPPos(playerid, 10.0, HouseInfo[house][hVehicleX], HouseInfo[house][hVehicleY], HouseInfo[house][hVehicleZ]))
				    {
					    SetPVarInt(playerid, "UseHouse", house);
					    new type = HouseInfo[house][hDiscript] - 2;
			            SetVehiclePos(vehicleid, GarageVehicleSpawnPos[type][0], GarageVehicleSpawnPos[type][1], GarageVehicleSpawnPos[type][2]);
						SetVehicleZAngle(vehicleid, GarageVehicleSpawnPos[type][3]);
						LinkVehicleToInterior(vehicleid, type + 2);
						SetVehicleVirtualWorld(vehicleid, house + 10);
						foreach(new i:Player)
						{
							if(PlayerLogged[i] == 0) continue;
							if(IsPlayerInVehicle(i, vehicleid) && GetPlayerState(i) == 2)
							{
					   		 	SetPVarInt(i, "UseHouse", house);
								SetPlayerTime(i, 18, 0);
					    		SetPlayerWeather(i, 3);
							 	PlayerInfo[i][pRespawnTime] = 18;
				 				PlayerInfo[i][pRespawnWeather] = 3;
								SetPlayerInterior(i, type + 2);
								SetPlayerVirtualWorld(i, house + 10);
							}
						}
						SetPlayerTime(playerid, 18, 0);
			    		SetPlayerWeather(playerid, 3);
					 	PlayerInfo[playerid][pRespawnTime] = 18;
						PlayerInfo[playerid][pRespawnWeather] = 3;
						SetPlayerInterior(playerid, type + 2);
						SetPlayerVirtualWorld(playerid, house + 10);
					}
				}
				if(PlayerInfo[playerid][pMember] == F_NATIONAL_GUARD)
				{
					if(IsAPPos(playerid, 5.0, LVA_ONE_ENTER))
					{
					    if(GetPVarInt(playerid, "KEYAntiFlood") > gettime()) return 1;
						if(GetPlayerState(playerid) == 2)
						{
							SetVehiclePos(vehicleid, LVA_ONE_EXIT);
							SetVehicleZAngle(vehicleid, LVA_ONE_EXIT_FA);
							SetPVarInt(playerid, "KEYAntiFlood", gettime() + KEY_ANTI_FLOOD_TIME);
						}
					}
					else if(IsAPPos(playerid, 5.0, LVA_ONE_EXIT))
					{
					    if(GetPVarInt(playerid, "KEYAntiFlood") > gettime()) return 1;
						if(GetPlayerState(playerid) == 2)
						{
							SetVehiclePos(vehicleid, LVA_ONE_ENTER);
							SetVehicleZAngle(vehicleid, LVA_ONE_ENTER_FA);
							SetPVarInt(playerid, "KEYAntiFlood", gettime() + KEY_ANTI_FLOOD_TIME);
						}
					}
					else if(IsAPPos(playerid, 5.0, LVA_TWO_ENTER))
					{
					    if(GetPVarInt(playerid, "KEYAntiFlood") > gettime()) return 1;
						if(GetPlayerState(playerid) == 2)
						{
							SetVehiclePos(vehicleid, LVA_TWO_EXIT);
							SetVehicleZAngle(vehicleid, LVA_TWO_EXIT_FA);
							SetPVarInt(playerid, "KEYAntiFlood", gettime() + KEY_ANTI_FLOOD_TIME);
						}
					}
					else if(IsAPPos(playerid, 5.0, LVA_TWO_EXIT))
					{
					    if(GetPVarInt(playerid, "KEYAntiFlood") > gettime()) return 1;
						if(GetPlayerState(playerid) == 2)
						{
							SetVehiclePos(vehicleid, LVA_TWO_ENTER);
							SetVehicleZAngle(vehicleid, LVA_TWO_ENTER_FA);
							SetPVarInt(playerid, "KEYAntiFlood", gettime() + KEY_ANTI_FLOOD_TIME);
						}
					}
				}
			}
		}
	}
	else
	{
		if(newkeys & KEY_FIRE)
		{
			if(GoldMinerStatus[playerid] == true && GoldMinerIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
	        {
	            new idx = GoldMinerIDx[playerid];
	            if(IsPlayerInRangeOfPoint(playerid, 2.5, GoldMinerProduction[idx][0], GoldMinerProduction[idx][1], GoldMinerProduction[idx][2]))
	            {
	                if(GoldMinerProgress[playerid] < 100) GoldMinerProgress[playerid] += 10;
	                if(GoldMinerProgress[playerid] == 100 && GoldMinerType[playerid] == 1)
	                {
	                    ClearAnimations(playerid);
	                    SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
	                    GoldMinerType[playerid] = 2;
	                    new amount = RandomEx(1, 3), salary = 60 * amount;
						new reason_money = salary + GetPlayerMoneyJobSkill(playerid, salary, 8);
						if(PlayerInfo[playerid][pLevel] <= 3 && Stocks[1] == 1) reason_money = reason_money * 2;
						else if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
	                    SendMes(playerid, COLOR_MAIN, "В промытой руде найдено %d грамм золота. К вашей заработной плате добавлено: {"#DC_WHITE"}$%d.", amount, reason_money);
						PlayerInfo[playerid][pTOPSalary] += reason_money;
	                    GoldMinerSalary[playerid] += reason_money;
	                    GoldMinerCount[playerid] += amount;
	                    GameTextForPlayer(playerid, "~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~y~READY", 1000, 3);
                		CheckQuest(playerid, 0);
		                CheckTask(playerid, 22);
		                CheckJobSkill(playerid, 8);
		                CheckAchievement(playerid, 8);
	                    if(IsPlayerAttachedObjectSlotUsed(playerid, 2)) RemovePlayerAttachedObject(playerid, 2);
	                    return 1;
	                }
	                if(GoldMinerProgress[playerid] < 100)
	                {
	                    ApplyAnimation(playerid, "BOMBER", "BOM_Plant_Loop", 4.0, 0, 0, 0, 0, 0, 1);
	                    format(strings, sizeof(strings), "~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~y~READY TO: ~w~%d%", GoldMinerProgress[playerid]);
	                    GameTextForPlayer(playerid, strings, 1000, 3);
	                }
	            }
	        }
			if(DrugMakerStatus[playerid] == true && DrugMakerIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
	        {
	            new idx = DrugMakerIDx[playerid];
	            if(IsPlayerInRangeOfPoint(playerid, 2.5, DrugMakerInfo[idx][dmPos][0], DrugMakerInfo[idx][dmPos][1], DrugMakerInfo[idx][dmPos][2]))
	            {
	                if(AntiCheatWarningTime[playerid][0] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выполнять заказы так часто, подождите.");
	                if(DrugMakerProgress[playerid] < 100) DrugMakerProgress[playerid] += 10;
	                if(DrugMakerProgress[playerid] == 100)
	                {
						if(PlayerInfo[playerid][pLevel] <= 3 && Stocks[1] == 1) DrugMakerSalary[playerid][0] = DrugMakerSalary[playerid][0] * 2;
						else if(Stocks[1] != 1) DrugMakerSalary[playerid][0] = DrugMakerSalary[playerid][0] * Stocks[1];

						SendMes(playerid, COLOR_MAIN, "Вы сделали %s. К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", (random(2) == 0) ? ("прикоп") : ("тайник"), DrugMakerSalary[playerid][0]);
						PlayerInfo[playerid][pTOPSalary] += DrugMakerSalary[playerid][0];

	                    DrugMakerIDx[playerid] = -1;
	                    DrugMakerSalary[playerid][1] += DrugMakerSalary[playerid][0];
	                    DrugMakerSalary[playerid][0] = 0;
	                    DrugMakerCount[playerid]++;
	                    DrugMakerProgress[playerid] = 0;

	                    GameTextForPlayer(playerid, "~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~y~READY", 1000, 3);

	                    SetDrugMakerCheckpoint(playerid, DrugMakerIDx[playerid]);
	                    return 1;
	                }
	                if(DrugMakerProgress[playerid] < 100)
	                {
	                    ApplyAnimation(playerid, "BOMBER", "BOM_Plant_Loop", 4.0, 0, 0, 0, 0, 0, 1);
	                    format(strings, sizeof(strings), "~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~y~READY TO: ~w~%d%", DrugMakerProgress[playerid]);
	                    GameTextForPlayer(playerid, strings, 1000, 3);
	                }
	            }
			}
			if(JanitorStatus[playerid] == true && JanitorIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
	        {
        		new idx = JanitorIDx[playerid];
	            if(IsPlayerInRangeOfPoint(playerid, 2.5, JanitorInfo[idx][jPos][0], JanitorInfo[idx][jPos][1], JanitorInfo[idx][jPos][2]))
	            {
	                if(JanitorProgress[playerid] < 100) JanitorProgress[playerid] += 10;
	                if(JanitorProgress[playerid] == 100)
	                {
	                    ClearAnimations(playerid);
						new reason_money = 105 + GetPlayerMoneyJobSkill(playerid, 105, 1);
						if(PlayerInfo[playerid][pLevel] <= 3 && Stocks[1] == 1) reason_money = reason_money * 2;
						else if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
	                    SendMes(playerid, COLOR_MAIN, "Вы устранили мусор. К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", reason_money);
						PlayerInfo[playerid][pTOPSalary] += reason_money;
	                    JanitorSalary[playerid] += reason_money;
	                    JanitorProgress[playerid] = 0;
						DestroyTrash(playerid);
						JanitorIDx[playerid] = -1;
						JanitorTimer[playerid] = 15 + random(15);
	                    GameTextForPlayer(playerid, "~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~y~READY", 1000, 3);
                		CheckQuest(playerid, 0);
		                CheckTask(playerid, 15);
		                CheckJobSkill(playerid, 1);
		                CheckAchievement(playerid, 1);
	                    return 1;
	                }
	                if(JanitorProgress[playerid] < 100)
	                {
	                    ApplyAnimation(playerid, "BOMBER", "BOM_Plant_Loop", 4.0, 0, 0, 0, 0, 0, 1);
	                    format(strings, sizeof(strings), "~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~y~READY TO: ~w~%d%", JanitorProgress[playerid]);
	                    GameTextForPlayer(playerid, strings, 1000, 3);
	                }
	            }
	        }
			if(GardenerStatus[playerid] == true && GardenerIDx[playerid] != -1 &&GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
	        {
        		new idx = GardenerIDx[playerid];
	            if(IsPlayerInRangeOfPoint(playerid, 2.5, GardenerInfo[idx][gPos][0], GardenerInfo[idx][gPos][1], GardenerInfo[idx][gPos][2]))
	            {
	                if(GardenerProgress[playerid] < 100) GardenerProgress[playerid] += 10;
	                if(GardenerProgress[playerid] == 100)
	                {
	                    ClearAnimations(playerid);
						new reason_money = 150 + GetPlayerMoneyJobSkill(playerid, 150, 2);
						if(PlayerInfo[playerid][pLevel] <= 3 && Stocks[1] == 1) reason_money = reason_money * 2;
						else if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
	                    SendMes(playerid, COLOR_MAIN, "Вы полили дерево. К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", reason_money);
						PlayerInfo[playerid][pTOPSalary] += reason_money;
	                    GardenerInfo[idx][gState]++;
	                    UpdateGardener(idx);
	                    GardenerSalary[playerid] += reason_money;
	                    GardenerProgress[playerid] = 0;
						DestroyGardener(playerid);
						GardenerIDx[playerid] = -1;
						GardenerTimer[playerid] = 15 + random(15);
	                    GameTextForPlayer(playerid, "~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~y~READY", 1000, 3);
                		CheckQuest(playerid, 0);
		                CheckTask(playerid, 16);
		                CheckJobSkill(playerid, 2);
		                CheckAchievement(playerid, 2);
	                    return 1;
	                }
	                if(GardenerProgress[playerid] < 100)
	                {
	                    ApplyAnimation(playerid, "BOMBER", "BOM_Plant_Loop", 4.0, 0, 0, 0, 0, 0, 1);
	                    format(strings, sizeof(strings), "~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~y~READY TO: ~w~%d%", GardenerProgress[playerid]);
	                    GameTextForPlayer(playerid, strings, 1000, 3);
	                }
	            }
	        }
			if(CleanerStatus[playerid] == true && CleanerIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
	        {
        		new idx = CleanerIDx[playerid];
	            if(IsPlayerInRangeOfPoint(playerid, 2.5, CleanerInfo[idx][cPos][0], CleanerInfo[idx][cPos][1], CleanerInfo[idx][cPos][2]))
	            {
	                if(CleanerProgress[playerid] < 100) CleanerProgress[playerid] += 10;
	                if(CleanerProgress[playerid] == 100)
	                {
	                    ClearAnimations(playerid);
						new reason_money = 105 + GetPlayerMoneyJobSkill(playerid, 105, 3);
						if(PlayerInfo[playerid][pLevel] <= 3 && Stocks[1] == 1) reason_money = reason_money * 2;
						else if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
	                    SendMes(playerid, COLOR_MAIN, "Вы устранили рыбу. К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", reason_money);
						PlayerInfo[playerid][pTOPSalary] += reason_money;
	                    CleanerSalary[playerid] += reason_money;
	                    CleanerProgress[playerid] = 0;
						DestroyFish(playerid);
						CleanerIDx[playerid] = -1;
						CleanerTimer[playerid] = 15 + random(15);
	                    GameTextForPlayer(playerid, "~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~y~READY", 1000, 3);
                		CheckQuest(playerid, 0);
		                CheckTask(playerid, 17);
		                CheckJobSkill(playerid, 3);
		                CheckAchievement(playerid, 3);
	                    return 1;
	                }
	                if(CleanerProgress[playerid] < 100)
	                {
	                    ApplyAnimation(playerid, "BOMBER", "BOM_Plant_Loop", 4.0, 0, 0, 0, 0, 0, 1);
	                    format(strings, sizeof(strings), "~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~y~READY TO: ~w~%d%", CleanerProgress[playerid]);
	                    GameTextForPlayer(playerid, strings, 1000, 3);
	                }
	            }
	        }
			if(ZooWorkerStatus[playerid] == true && ZooWorkerIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
	        {
        		new idx = ZooWorkerIDx[playerid];
	            if(IsPlayerInRangeOfPoint(playerid, 2.5, ZooWorkerInfo[idx][zwPos][0], ZooWorkerInfo[idx][zwPos][1], ZooWorkerInfo[idx][zwPos][2]))
	            {
	                if(ZooWorkerProgress[playerid] < 100) ZooWorkerProgress[playerid] += 10;
	                if(ZooWorkerProgress[playerid] == 100)
	                {
	                    ClearAnimations(playerid);
						new reason_money = 120 + GetPlayerMoneyJobSkill(playerid, 120, 4);
						if(PlayerInfo[playerid][pLevel] <= 3 && Stocks[1] == 1) reason_money = reason_money * 2;
						else if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
	                    SendMes(playerid, COLOR_MAIN, "Вы прогнали попугая. К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", reason_money);
						PlayerInfo[playerid][pTOPSalary] += reason_money;
	                    ZooWorkerSalary[playerid] += reason_money;
	                    ZooWorkerProgress[playerid] = 0;
						DestroyParrot(playerid);
						ZooWorkerIDx[playerid] = -1;
						ZooWorkerTimer[playerid] = 15 + random(15);
	                    GameTextForPlayer(playerid, "~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~y~READY", 1000, 3);
                		CheckQuest(playerid, 0);
		                CheckTask(playerid, 18);
		                CheckJobSkill(playerid, 4);
		                CheckAchievement(playerid, 4);
	                    return 1;
	                }
	                if(ZooWorkerProgress[playerid] < 100)
	                {
	                    ApplyAnimation(playerid, "RIOT", "Riot_Chant", 4.1, 0, 0, 0, 0, 0, 1);
	                    format(strings, sizeof(strings), "~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~y~READY TO: ~w~%d%", ZooWorkerProgress[playerid]);
	                    GameTextForPlayer(playerid, strings, 1000, 3);
	                }
	            }
	        }
			if(VolunteerStatus[playerid] == true && VolunteerIDx[playerid] != -1 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
	        {
        		new idx = VolunteerIDx[playerid];
	            if(IsPlayerInRangeOfPoint(playerid, 2.5, VolunteerInfo[idx][volPos][0], VolunteerInfo[idx][volPos][1], VolunteerInfo[idx][volPos][2]))
	            {
	                if(VolunteerProgress[playerid] < 100) VolunteerProgress[playerid] += 10;
	                if(VolunteerProgress[playerid] == 100)
	                {
	                    ClearAnimations(playerid);
						new reason_money = 205 + GetPlayerMoneyJobSkill(playerid, 205, 5);
						if(PlayerInfo[playerid][pLevel] <= 3 && Stocks[1] == 1) reason_money = reason_money * 2;
						else if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
	                    SendMes(playerid, COLOR_MAIN, "Вы подсказали путь. К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", reason_money);
						PlayerInfo[playerid][pTOPSalary] += reason_money;
	                    VolunteerSalary[playerid] += reason_money;
	                    VolunteerProgress[playerid] = 0;
						DestroyMan(playerid);
						VolunteerIDx[playerid] = -1;
						VolunteerTimer[playerid] = 15 + random(15);
	                    GameTextForPlayer(playerid, "~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~y~READY", 1000, 3);
                		CheckQuest(playerid, 0);
		                CheckTask(playerid, 19);
		                CheckJobSkill(playerid, 5);
		                CheckAchievement(playerid, 5);
	                    return 1;
	                }
	                if(VolunteerProgress[playerid] < 100)
	                {
	                    ApplyAnimation(playerid, "RAPPING", "RAP_B_IN", 4.0, 0, 0, 0, 0, 0, 1);
	                    format(strings, sizeof(strings), "~n~~n~~n~~n~~n~~n~~n~~n~~n~~n~~y~READY TO: ~w~%d%", VolunteerProgress[playerid]);
	                    GameTextForPlayer(playerid, strings, 1000, 3);
	                }
	            }
         	}
         	if(RoadmanStatus[playerid] == true && RoadmanIDx[playerid] && GetPVarInt(playerid, "NumberRoadman") == 0 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
			{
				new total = 0;
				for(new i = 0; i < MAX_VEHICLES; i++)
				{
					if(!IsPlayerInRangeOfVehicle(playerid, 4.0, i) || GetVehicleVirtualWorld(i) != GetPlayerVirtualWorld(playerid)) continue;
					if(GetVehicleModel(i) == 552 && VehInfo[i][vFraction] == V_J_ROADMAN)
					{
					    new roadid = RoadmanIDx[playerid] - 1;
						if(!IsAPPos(playerid, 5.0, RoadcrashInfo[roadid][rPos][0], RoadcrashInfo[roadid][rPos][1], RoadcrashInfo[roadid][rPos][2])) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с назначенной дорожной аварией.");
		                if(GetFreeRoadmanFencing(playerid) != -1)
		                {
							if(GetPVarInt(playerid, "NumberRoadman")) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже устанавливаете объект.");
		                    SetPVarInt(playerid, "CountRoadmanFencing", GetPVarInt(playerid, "CountRoadmanFencing")+1);
					        SetPVarInt(playerid, "RoadmanFencing", GetFreeRoadmanFencing(playerid));
							RoadmanFencing[playerid][GetPVarInt(playerid, "RoadmanFencing")] = CreateObject(1238, 0, 0, 0, 0, 0, 0);
							AttachObjectToPlayer(RoadmanFencing[playerid][GetPVarInt(playerid, "RoadmanFencing")], playerid, 0, 1, -0.7, 0, 0, 90);
							SetPVarInt(playerid, "NumberRoadman", 1);
							format(strings, sizeof(strings), "Ограждение № %d создано, осталось %d ограждений.", GetPVarInt(playerid, "RoadmanFencing")+1, NumFreeRoadmanFencing(playerid));
							SendMes(playerid, COLOR_MAIN, strings);
							SendMes(playerid, COLOR_MAIN, "С помощью кнопки удар установите ограждение в желаемом месте.");
							return 1;
		                }
		                if(GetPVarInt(playerid, "RoadmanIDDig") == 0)
		                {
			                GiveWeapon(playerid, 6, 1);
			                SendMes(playerid, COLOR_MAIN, "Вы взяли лопату, подойдите к месту дорожной аварии для проведения ремонтных работ.");
			                SetPlayerRaceCheckpoint(playerid, 1, RoadcrashInfo[roadid][rPos][0], RoadcrashInfo[roadid][rPos][1], RoadcrashInfo[roadid][rPos][2], 0, 0, 0, 1.0);
			                SetPVarInt(playerid, "RoadmanIDDig", true);
			                return 1;
						}
		                if(GetPVarInt(playerid, "RoadmanIDRepair") == 0 && GetPVarInt(playerid, "RoadmanIDDigReady"))
		                {
							ClearAnimations(playerid);
							SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CARRY);
							SetPlayerAttachedObject(playerid, 7, 1558, 5, 0.0670, 0.2430, 0.1849, -82.99, -2.09, -70.60, 0.43, 0.29, 0.41);
			                SendMes(playerid, COLOR_MAIN, "Вы взяли ящик с щебнем, подойдите к месту дорожной аварии для завершения ремонтных работ.");
			                SetPlayerRaceCheckpoint(playerid, 1, RoadcrashInfo[roadid][rPos][0], RoadcrashInfo[roadid][rPos][1], RoadcrashInfo[roadid][rPos][2], 0, 0, 0, 1.0);
			                SetPVarInt(playerid, "RoadmanIDRepair", true);
			                return 1;
						}
					}
				}
				if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Рядом с вами нет рабочего транспорта.");
			}
         	if(RoadmanStatus[playerid] == true && RoadmanIDx[playerid] && GetPVarInt(playerid, "NumberRoadman") != 0 && GetPlayerState(playerid) == PLAYER_STATE_ONFOOT)
			{
				if(GetPVarInt(playerid, "NumberRoadman") != 0)
				{
					if(GetPVarInt(playerid, "NumberRoadman") == 1)
					{
					    new roadid = RoadmanIDx[playerid] - 1;
					    if(!IsAPPos(playerid, 5.0, RoadcrashInfo[roadid][rPos][0], RoadcrashInfo[roadid][rPos][1], RoadcrashInfo[roadid][rPos][2])) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с назначенной дорожной аварией.");
						new Float:PlPos[4];
						GetPlayerPos(playerid, PlPos[0], PlPos[1], PlPos[2]);
						GetPlayerFacingAngle(playerid, PlPos[3]);
						DestroyObject(RoadmanFencing[playerid][GetPVarInt(playerid, "RoadmanFencing")]);
						RoadmanFencing[playerid][GetPVarInt(playerid, "RoadmanFencing")] = CreateDynamicObject(1238, PlPos[0]+floatcos(PlPos[3]+90, degrees), PlPos[1]+floatsin(PlPos[3]+90, degrees), PlPos[2]-0.7, 0, 0, PlPos[3]+90, -1, -1, -1, 120.00, 120.00);
						SetPVarInt(playerid, "RoadmanFencing", 0);
						SetPVarInt(playerid, "NumberRoadman", 0);
						SendMes(playerid, COLOR_MAIN, "Ограждение успешно установлено.");
						if(GetFreeRoadmanFencing(playerid) == -1) SendMes(playerid, COLOR_MAIN, "Вы расставили необходимое кол-во ограждений, теперь Вам необходимо взять лопату.");
						return 1;
					}
				}
			}
		}
  		if(newkeys & KEY_ANALOG_LEFT)
		{
			if(GetPVarInt(playerid, "ReconOn") == 1 && SpectatePlayer[playerid] != INVALID_PLAYER_ID && PlayerInfo[playerid][pAdmin] >= 1 && AdminLogged[playerid] == true)
			{
			    new scdplayerid = SpectatePlayer[playerid]-1;
				for(new i = scdplayerid; i >= 0; i--)
				{
					if(!IsAReconed(playerid, i)) continue;
					if(PlayerLogged[i] == 0) continue;
					StartPlayerSpectate(playerid, i);
					break;
				}
			}
		}
		if(newkeys & KEY_ANALOG_RIGHT)
		{
			if(GetPVarInt(playerid, "ReconOn") == 1 && SpectatePlayer[playerid] != INVALID_PLAYER_ID && PlayerInfo[playerid][pAdmin] >= 1 && AdminLogged[playerid] == true)
			{
			    new scdplayerid = SpectatePlayer[playerid]+1;
				for(new i = scdplayerid; i < MAX_PLAYERS; i++)
				{
					if(!IsAReconed(playerid, i)) continue;
					if(PlayerLogged[i] == 0) continue;
					StartPlayerSpectate(playerid, i);
					break;
				}
			}
		}
		if(newkeys & KEY_JUMP)
		{
			if(GetPlayerState(playerid) == PLAYER_STATE_SPECTATING && PlayerInfo[playerid][pAdmin] >= 1)
			{
				StopPlayerSpectate(playerid);
			}
		}
		/*if(newkeys & KEY_HANDBRAKE && newkeys & KEY_SECONDARY_ATTACK)
	    {
	        if(GetPVarInt(playerid, "GymTrainingStyde"))
	        {
	            if(IsPlayerInRangeOfPoint(playerid, 1.0, 768.7989,14.3716,1000.7011) || IsPlayerInRangeOfPoint(playerid, 1.0, 771.0737,14.2702,1000.7011) || IsPlayerInRangeOfPoint(playerid, 1.0, 769.4302,-3.2094,1000.7011) || IsPlayerInRangeOfPoint(playerid, 1.0, 767.1779,-3.4302,1000.7011) ||
				IsPlayerInRangeOfPoint(playerid, 1.0, 772.2469,-25.6113,1000.5927) || IsPlayerInRangeOfPoint(playerid, 1.0, 772.2662,-20.4861,1000.5927) || IsPlayerInRangeOfPoint(playerid, 1.0, 768.1617,-20.4451,1000.5927) || IsPlayerInRangeOfPoint(playerid, 1.0, 768.1617,-20.4451,1000.5927) || IsPlayerInRangeOfPoint(playerid, 1.0, 763.9940,-25.4196,1000.5927) || IsPlayerInRangeOfPoint(playerid, 1.0, 764.0992,-20.3145,1000.5927) ||
				IsPlayerInRangeOfPoint(playerid, 1.0, 776.1247,-64.6880,1000.6622) || IsPlayerInRangeOfPoint(playerid, 1.0, 773.8528,-64.4631,1000.6622) || IsPlayerInRangeOfPoint(playerid, 1.0, 773.3461,-61.3060,1000.6622) || IsPlayerInRangeOfPoint(playerid, 1.0, 773.3485,-58.9035,1000.6622))
				{
				    if(PlayerInfo[playerid][pStyleStyde] && GymBoxClickTime[playerid] <= gettime())
				    {
				        if(GymBoxClick[playerid] >= 10)
						{
							if(PlayerInfo[playerid][pStyleProgress] < 100)
							{
								PlayerInfo[playerid][pStyleProgress] += 1;
								GymBoxClick[playerid] = 0;
							    format(strings, sizeof(strings), "~g~PROGRESS STYLE: ~w~%d/100", PlayerInfo[playerid][pStyleProgress]);
								GameTextForPlayer(playerid, strings, 2000, 6);
							}
							else
							{
								if(PlayerInfo[playerid][pStyleStyde] == 1) PlayerInfo[playerid][pStyle][1] = 1;
								else if(PlayerInfo[playerid][pStyleStyde] == 2) PlayerInfo[playerid][pStyle][2] = 1;
								else if(PlayerInfo[playerid][pStyleStyde] == 3) PlayerInfo[playerid][pStyle][3] = 1;
								SendMes(playerid, COLOR_MAIN, "Вы изучили новый стиль боя, воспользуйтесь командой {"#DC_WHITE"}/style{"#DC_MAIN"} для изменения стиля боя.");
								PlayerInfo[playerid][pStyleStyde] = 0;
								PlayerInfo[playerid][pStyleProgress] = 0;
							}
						}
						else
						{
							GymBoxClick[playerid]++;
						    format(strings, sizeof(strings), "~g~PROGRESS: ~w~%d/10", GymBoxClick[playerid]);
							GameTextForPlayer(playerid, strings, 2000, 6);
						}
						GymBoxClickTime[playerid] = gettime()+1;
				    }
				}
			}
	    }*/
    	/*if(newkeys & KEY_CTRL_BACK)
		{
			if(RoadmanIDx[playerid])
			{
				new total = 0;
				for(new i = 0; i < MAX_VEHICLES; i++)
				{
					if(!IsPlayerInRangeOfVehicle(playerid, 4.0, i) || GetVehicleVirtualWorld(i) != GetPlayerVirtualWorld(playerid)) continue;
					if(GetVehicleModel(i) == 552 && VehInfo[i][vFraction] == V_J_ROADMAN)
					{
					    new roadid = RoadmanIDx[playerid] - 1;
						if(!IsAPPos(playerid, 5.0, RoadcrashInfo[roadid][rPos][0], RoadcrashInfo[roadid][rPos][1], RoadcrashInfo[roadid][rPos][2])) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с назначенной дорожной аварией.");
		                if(GetFreeRoadmanFencing(playerid) != -1)
		                {
							if(GetPVarInt(playerid, "NumberRoadman")) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже устанавливаете объект.");
		                    SetPVarInt(playerid, "CountRoadmanFencing", GetPVarInt(playerid, "CountRoadmanFencing")+1);
					        SetPVarInt(playerid, "RoadmanFencing", GetFreeRoadmanFencing(playerid));
							RoadmanFencing[playerid][GetPVarInt(playerid, "RoadmanFencing")] = CreateObject(1238, 0, 0, 0, 0, 0, 0);
							AttachObjectToPlayer(RoadmanFencing[playerid][GetPVarInt(playerid, "RoadmanFencing")], playerid, 0, 1, -0.7, 0, 0, 90);
							SetPVarInt(playerid, "NumberRoadman", 1);
							format(strings, sizeof(strings), "Ограждение № %d создано, осталось %d ограждений.", GetPVarInt(playerid, "RoadmanFencing")+1, NumFreeRoadmanFencing(playerid));
							SendMes(playerid, COLOR_MAIN, strings);
							SendMes(playerid, COLOR_MAIN, "С помощью кнопки C установите ограждение в желаемом месте.");
							return 1;
		                }
		                if(GetPVarInt(playerid, "RoadmanIDDig") == 0)
		                {
			                GiveWeapon(playerid, 6, 1);
			                SendMes(playerid, COLOR_MAIN, "Вы взяли лопату, подойдите к месту дорожной аварии для проведения ремонтных работ.");
			                SetPlayerRaceCheckpoint(playerid, 1, RoadcrashInfo[roadid][rPos][0], RoadcrashInfo[roadid][rPos][1], RoadcrashInfo[roadid][rPos][2], 0, 0, 0, 1.0);
			                SetPVarInt(playerid, "RoadmanIDDig", true);
			                return 1;
						}
		                if(GetPVarInt(playerid, "RoadmanIDRepair") == 0 && GetPVarInt(playerid, "RoadmanIDDigReady"))
		                {
							ClearAnimations(playerid);
							SetPlayerSpecialAction(playerid, SPECIAL_ACTION_CARRY);
							SetPlayerAttachedObject(playerid, 7, 1558, 5, 0.0670, 0.2430, 0.1849, -82.99, -2.09, -70.60, 0.43, 0.29, 0.41);
			                SendMes(playerid, COLOR_MAIN, "Вы взяли ящик с щебнем, подойдите к месту дорожной аварии для завершения ремонтных работ.");
			                SetPlayerRaceCheckpoint(playerid, 1, RoadcrashInfo[roadid][rPos][0], RoadcrashInfo[roadid][rPos][1], RoadcrashInfo[roadid][rPos][2], 0, 0, 0, 1.0);
			                SetPVarInt(playerid, "RoadmanIDRepair", true);
			                return 1;
						}
					}
				}
				if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Рядом с вами нет рабочего транспорта.");
			}
		}*/
		/*if(newkeys & KEY_SECONDARY_ATTACK)
		{
			if(GetPlayerVirtualWorld(playerid) == 1)
			{
			    if(PlayerInfo[playerid][pSlotMachine] == -1)
				{
					new Float: minDistance = 3.0, selectSM = -1;
					for(new i = 0; i < TOTALSMACHINES; i++)
					{
						new Float: distance = GetPlayerDistanceFromPoint(playerid, SlotMachine[i][sm_Pos][0], SlotMachine[i][sm_Pos][1], SlotMachine[i][sm_Pos][2]);
						if(distance < minDistance && distance < 1.2)
						{
							minDistance = distance;
							selectSM = i;
						}
					}
					if(selectSM != -1)
					{
						if(PlayerInfo[playerid][pDiceTable] != -1) return 1;
						new i = selectSM;
						if(SlotMachine[i][sm_userID] != -1) return SendMes(playerid, COLOR_DARKORANGE, "Данный игровой автомат уже кем-то используется.");
						PlayerInfo[playerid][pSlotMachine] = i;
						SlotMachine[i][sm_userID] = playerid;
						SlotMachine[i][sm_bet] = 1000;
						SlotMachine[i][sm_looser] = 0;
						new Float:Angle = SlotMachine[i][sm_Pos][3] - 180.0;
						SetPlayerCameraPos(playerid, SlotMachine[i][sm_Pos][0] + (0.8 * floatsin(-Angle, degrees)), SlotMachine[i][sm_Pos][1] + (0.8 * floatcos(-Angle, degrees)), SlotMachine[i][sm_Pos][2] + 0.1);
						SetPlayerCameraLookAt(playerid, SlotMachine[i][sm_Pos][0], SlotMachine[i][sm_Pos][1], SlotMachine[i][sm_Pos][2]);
						new Float:Pos[3];
						GetPlayerPos(playerid, Pos[0], Pos[1], Pos[2]);
						SetPlayerPos(playerid, SlotMachine[i][sm_Pos][0] + (0.9 * floatsin(-Angle, degrees)), SlotMachine[i][sm_Pos][1] + (0.9 * floatcos(-Angle, degrees)), Pos[2]);
						format(strings, sizeof(strings), "~w~BALANCE: ~g~$%d.~n~~w~RATE: ~y~$%d.", PlayerInfo[playerid][pCash], SlotMachine[i][sm_bet]);
						SlotMScoreTD[playerid] = CreatePlayerTextDraw(playerid, 225.000000, 106.000000, strings);
						PlayerTextDrawBackgroundColor(playerid, SlotMScoreTD[playerid], 255);
						PlayerTextDrawFont(playerid, SlotMScoreTD[playerid], 1);
						PlayerTextDrawLetterSize(playerid, SlotMScoreTD[playerid], 0.419999, 1.399999);
						PlayerTextDrawColor(playerid, SlotMScoreTD[playerid], -1);
						PlayerTextDrawSetOutline(playerid, SlotMScoreTD[playerid], 0);
						PlayerTextDrawSetProportional(playerid, SlotMScoreTD[playerid], 1);
						PlayerTextDrawSetShadow(playerid, SlotMScoreTD[playerid], 1);
						PlayerTextDrawShow(playerid, SlotMScoreTD[playerid]);
						for(new f; f < 5; f++) TextDrawShowForPlayer(playerid, SlotMachineTD[f]);
						SelectTextDraw(playerid, 0x007FFFFF);
						return 1;
					}
				}
				new nearDice = IsPlayerNearDice(playerid);
				if(nearDice != -1)
				{
				    if(PlayerInfo[playerid][pSlotMachine] != -1) return 1;
					new freePlace = -1, inGame = 0;
					for(new i = 0; i < 5; i++)
					{
						if(DiceInfo[nearDice][bPlayers][i] == INVALID_PLAYER_ID && freePlace == -1) freePlace = i;
						if(DiceInfo[nearDice][bPlayersID][i] == PlayerInfo[playerid][pID]) inGame = 1;
					}
					if(inGame == 1)
					{
						SendMes(playerid, COLOR_DARKORANGE, "Дождитесь окончания прошлого раунда.");
						return 1;
					}
					if(PlayerInfo[playerid][pDiceTable] != -1)
					{
						SendMes(playerid, COLOR_DARKORANGE, "Вы уже зарегистрированы на другом столе.");
						return 1;
					}
					new croupier = GetPVarInt(playerid, "CasinoDuty");
					if(croupier == 1)
					{
						if(DiceInfo[nearDice][Croupier] != INVALID_PLAYER_ID)
						{
							SendMes(playerid, COLOR_DARKORANGE, "За этим столом уже работает крупье.");
							return 1;
						}
						DiceInfo[nearDice][Croupier] = playerid;
					}
					else
					{
						if(freePlace == -1) return SendMes(playerid, COLOR_DARKORANGE, "За этим столом нет свободных мест.");
						DiceInfo[nearDice][bPlayers][freePlace] = playerid;
						DiceInfo[nearDice][bPlayersID][freePlace] = PlayerInfo[playerid][pID];
						DiceInfo[nearDice][bStatus][freePlace] = 0;
						format(DicebNames[nearDice][freePlace], MAX_PLAYER_NAME, "%s", PlayerInfo[playerid][pName]);
						PlayerInfo[playerid][pDicePlace] = freePlace;
					}
					for(new i; i < 4; i++) TextDrawShowForPlayer(playerid, DiceTD[i]);
					for(new i; i < 3; i++) TextDrawShowForPlayer(playerid, DiceInfo[nearDice][TableText][i]);
					PlayerInfo[playerid][pDiceTable] = nearDice;
					PlayerTextDrawShow(playerid, PlayerDice[playerid]);
					UpdatePlayerDiceBank(playerid, nearDice);
					UpdateDicePlayerList(nearDice);
					UpdateDice(nearDice);
					SelectTextDraw(playerid, 0x007FFFFF);
				}
			}
		}*/
		if(newkeys & KEY_CROUCH)
		{
		    /*SearchBarrier(playerid);*/
			/*if(GetPVarInt(playerid, "NumberRoadman") != 0)
			{
				if(GetPVarInt(playerid, "NumberRoadman") == 1)
				{
				    new roadid = RoadmanIDx[playerid] - 1;
				    if(!IsAPPos(playerid, 5.0, RoadcrashInfo[roadid][rPos][0], RoadcrashInfo[roadid][rPos][1], RoadcrashInfo[roadid][rPos][2])) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с назначенной дорожной аварией.");
					new Float:PlPos[4];
					GetPlayerPos(playerid, PlPos[0], PlPos[1], PlPos[2]);
					GetPlayerFacingAngle(playerid, PlPos[3]);
					DestroyObject(RoadmanFencing[playerid][GetPVarInt(playerid, "RoadmanFencing")]);
					RoadmanFencing[playerid][GetPVarInt(playerid, "RoadmanFencing")] = CreateDynamicObject(1238, PlPos[0]+floatcos(PlPos[3]+90, degrees), PlPos[1]+floatsin(PlPos[3]+90, degrees), PlPos[2]-0.7, 0, 0, PlPos[3]+90, -1, -1, -1, 120.00, 120.00);
					SetPVarInt(playerid, "RoadmanFencing", 0);
					SetPVarInt(playerid, "NumberRoadman", 0);
					SendMes(playerid, COLOR_MAIN, "Ограждение успешно установлено.");
					if(GetFreeRoadmanFencing(playerid) == -1) SendMes(playerid, COLOR_MAIN, "Вы расставили необходимое кол-во ограждений, теперь Вам необходимо взять лопату.");
					return 1;
				}
			}*/
		}
		/*if(newkeys & KEY_SPRINT && GetPVarInt(playerid, "GymTraining") && GymInventory[playerid] == true && GymDumbbells[playerid] == true)
		{
		    if(GymDumbbellsUse[playerid] == true) return 1;
		    GymDumbbellsUse[playerid] = true;
		    ApplyAnimation(playerid, "freeweights", "gym_free_A", 1, 0, 0, 0, 1, 0, 1);
			SetTimerEx("OnGymDumbbellsCheck", 3000, false, "ii", playerid, false);
		}*/
		if(newkeys & KEY_WALK)
		{
		    if(PlayerInfo[playerid][pHospitalPlace] == 0)
		    {
				for(new i = 0; i < sizeof(HospitalPlace); i++)
				{
					if(HospitalPlace[i][hStatus] != -1) continue;
					if(IsPlayerInRangeOfPoint(playerid, 2.5, HospitalPlace[i][hPlacePos][0], HospitalPlace[i][hPlacePos][1], HospitalPlace[i][hPlacePos][2]) && GetPlayerVirtualWorld(playerid) == HospitalPlace[i][hPlaceWorld])
					{
						PlayerInfo[playerid][pHospital] = 1;
						PlayerInfo[playerid][pHospitalPlace] = i + 1;
					    HospitalPlace[i][hStatus] = playerid;
						SendMes(playerid, COLOR_MAIN, "Вы заняли койку {"#DC_WHITE"}#%d,{"#DC_MAIN"} теперь Ваше лечение будет проходить быстрее.", HospitalPlace[i][hPlaceID]);
						UpdatePlace(i);
					    break;
					}
				}
			}
			for(new i = 1; i <= TOTALATM; i++)
			{
				if(IsAPPos(playerid, 2.5, ATMInfo[i][aX], ATMInfo[i][aY], ATMInfo[i][aZ]))
				{
					SetTimerEx("OnPlayerShowATMList", 140, false, "i", playerid);
					new Float:x, Float:y, Float:z;
					GetPlayerPos(playerid, x, y, z);
					SetPlayerPos(playerid, x, y, z);
					break;
				}
			}
			for(new i = 1; i <= TOTALSTOP; i++)
			{
				if(IsAPPos(playerid, 5.0, STOPInfo[i][sX], STOPInfo[i][sY], STOPInfo[i][sZ]))
				{
	    			if(GetPVarInt(playerid, "WaitBus")) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже ожидаете автобус.");
                    SPD(playerid, did_bus, DSL, "{"#DC_MAIN"}Остановка", "\
					{"#DC_MAIN"}1.{"#DC_WHITE"} Важные места\n\
					{"#DC_MAIN"}2.{"#DC_WHITE"} По работе\n\
					{"#DC_MAIN"}3.{"#DC_WHITE"} Автосалоны\n\
					{"#DC_MAIN"}4.{"#DC_WHITE"} Фермы\n\
					{"#DC_MAIN"}5.{"#DC_WHITE"} Отели\n\
					{"#DC_MAIN"}6.{"#DC_WHITE"} СТО\n\
					{"#DC_MAIN"}7.{"#DC_WHITE"} Базы организаций\n\
					{"#DC_MAIN"}8.{"#DC_WHITE"} Развлечения", "Далее", "Отмена");
					SetPVarInt(playerid, "SVWONE", i);
					break;
				}
			}
		    if(GetPlayerVirtualWorld(playerid) == 1)
			{
			    if(PlayerInfo[playerid][pSlotMachine] == -1)
				{
					new Float: minDistance = 3.0, selectSM = -1;
					for(new i = 0; i < TOTALSMACHINES; i++)
					{
						new Float: distance = GetPlayerDistanceFromPoint(playerid, SlotMachine[i][sm_Pos][0], SlotMachine[i][sm_Pos][1], SlotMachine[i][sm_Pos][2]);
						if(distance < minDistance && distance < 1.2)
						{
							minDistance = distance;
							selectSM = i;
						}
					}
					if(selectSM != -1)
					{
						if(PlayerInfo[playerid][pDiceTable] != -1 || PlayerInfo[playerid][pSlotMachine] != -1 || PlayerInfo[playerid][pDurakTable] != 0) return 1;
						new i = selectSM;
						if(SlotMachine[i][sm_userID] != -1) return SendMes(playerid, COLOR_DARKORANGE, "Данный игровой автомат уже кем-то используется.");
						PlayerInfo[playerid][pSlotMachine] = i;
						SlotMachine[i][sm_userID] = playerid;
						SlotMachine[i][sm_bet] = 1000;
						SlotMachine[i][sm_looser] = 0;
						new Float:Angle = SlotMachine[i][sm_Pos][3] - 180.0;
						SetPlayerCameraPos(playerid, SlotMachine[i][sm_Pos][0] + (0.8 * floatsin(-Angle, degrees)), SlotMachine[i][sm_Pos][1] + (0.8 * floatcos(-Angle, degrees)), SlotMachine[i][sm_Pos][2] + 0.1);
						SetPlayerCameraLookAt(playerid, SlotMachine[i][sm_Pos][0], SlotMachine[i][sm_Pos][1], SlotMachine[i][sm_Pos][2]);
						new Float:Pos[3];
						GetPlayerPos(playerid, Pos[0], Pos[1], Pos[2]);
						SetPlayerPos(playerid, SlotMachine[i][sm_Pos][0] + (0.9 * floatsin(-Angle, degrees)), SlotMachine[i][sm_Pos][1] + (0.9 * floatcos(-Angle, degrees)), Pos[2]);
						format(strings, sizeof(strings), "~w~BALANCE: ~g~$%d.~n~~w~RATE: ~y~$%d.", PlayerInfo[playerid][pCash], SlotMachine[i][sm_bet]);
						SlotMScoreTD[playerid] = CreatePlayerTextDraw(playerid, 225.000000, 106.000000, strings);
						PlayerTextDrawBackgroundColor(playerid, SlotMScoreTD[playerid], 255);
						PlayerTextDrawFont(playerid, SlotMScoreTD[playerid], 1);
						PlayerTextDrawLetterSize(playerid, SlotMScoreTD[playerid], 0.419999, 1.399999);
						PlayerTextDrawColor(playerid, SlotMScoreTD[playerid], -1);
						PlayerTextDrawSetOutline(playerid, SlotMScoreTD[playerid], 0);
						PlayerTextDrawSetProportional(playerid, SlotMScoreTD[playerid], 1);
						PlayerTextDrawSetShadow(playerid, SlotMScoreTD[playerid], 1);
						PlayerTextDrawShow(playerid, SlotMScoreTD[playerid]);
						for(new f; f < 5; f++) TextDrawShowForPlayer(playerid, SlotMachineTD[f]);
						SelectTextDraw(playerid, 0x007FFFFF);
						return 1;
					}
				}
				new nearDice = IsPlayerNearDice(playerid);
				if(nearDice != -1)
				{
					if(PlayerInfo[playerid][pDiceTable] != -1 || PlayerInfo[playerid][pSlotMachine] != -1 || PlayerInfo[playerid][pDurakTable] != 0) return 1;
					if(PlayerInfo[playerid][pAdmin] > 1 && PlayerInfo[playerid][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "Вы администратор, действие невозможно.");
					new freePlace = -1, inGame = 0;
					for(new i = 0; i < 5; i++)
					{
						if(DiceInfo[nearDice][bPlayers][i] == INVALID_PLAYER_ID && freePlace == -1) freePlace = i;
						if(DiceInfo[nearDice][bPlayersID][i] == PlayerInfo[playerid][pID]) inGame = 1;
					}
					if(inGame == 1)
					{
						SendMes(playerid, COLOR_DARKORANGE, "Дождитесь окончания прошлого раунда.");
						return 1;
					}
					if(PlayerInfo[playerid][pDiceTable] != -1)
					{
						SendMes(playerid, COLOR_DARKORANGE, "Вы уже зарегистрированы на другом столе.");
						return 1;
					}
					new croupier = GetPVarInt(playerid, "CasinoDuty");
					if(croupier == 1)
					{
						if(DiceInfo[nearDice][Croupier] != INVALID_PLAYER_ID)
						{
							SendMes(playerid, COLOR_DARKORANGE, "За этим столом уже работает крупье.");
							return 1;
						}
						DiceInfo[nearDice][Croupier] = playerid;
					}
					else
					{
						if(freePlace == -1) return SendMes(playerid, COLOR_DARKORANGE, "За этим столом нет свободных мест.");
						DiceInfo[nearDice][bPlayers][freePlace] = playerid;
						DiceInfo[nearDice][bPlayersID][freePlace] = PlayerInfo[playerid][pID];
						DiceInfo[nearDice][bStatus][freePlace] = 0;
						format(DicebNames[nearDice][freePlace], MAX_PLAYER_NAME, "%s", PlayerInfo[playerid][pName]);
						PlayerInfo[playerid][pDicePlace] = freePlace;
					}
					for(new i; i < 4; i++) TextDrawShowForPlayer(playerid, DiceTD[i]);
					for(new i; i < 3; i++) TextDrawShowForPlayer(playerid, DiceInfo[nearDice][TableText][i]);
					PlayerInfo[playerid][pDiceTable] = nearDice;
					PlayerTextDrawShow(playerid, PlayerDice[playerid]);
					UpdatePlayerDiceBank(playerid, nearDice);
					UpdateDicePlayerList(nearDice);
					UpdateDice(nearDice);
					SelectTextDraw(playerid, 0x007FFFFF);
				}
				new nearDurak = IsPlayerNearDurak(playerid);
				if(nearDurak != -1)
				{
					if(PlayerInfo[playerid][pDiceTable] != -1 || PlayerInfo[playerid][pSlotMachine] != -1 || PlayerInfo[playerid][pDurakTable] != 0) return 1;
					/*if(PlayerInfo[playerid][pAdmin] > 1 && PlayerInfo[playerid][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "Вы администратор, действие невозможно.");*/
					Durak_JoinTable(playerid, nearDurak+1);
				}
			}
		}
	}
	if((newkeys & KEY_FIRE) || ((newkeys & 128) && (oldkeys & 128) && (newkeys & KEY_SECONDARY_ATTACK) ) || newkeys & KEY_FIRE || (newkeys & KEY_SPRINT && newkeys & KEY_SECONDARY_ATTACK) || (newkeys & 128) || (newkeys & KEY_SPRINT && newkeys & KEY_FIRE))
    {
        if(IsPlayerInAnyVehicle(playerid)) return 1;
		for(new i = 0; i < MAX_GREEN_ZONE; i++)
	    {
	        if(IsPlayerInDynamicArea(playerid, AreasInfo[arGreenZone][i]))
			{
			    if(!IsACop(playerid))
			    {
					ApplyAnimation(playerid, "CRACK", "crckdeth2", 4.1, 0, 0, 0, 1, 0, 1);
					SetTimerEx("OnPlayerToggle", 3000, false, "d", playerid);
					SetPlayerControl(playerid, false);
					Freeze[playerid] = 1;
					/*GetPlayerHealth(damagedid, health);
					GetPlayerArmour(damagedid, armour);
					SetArmour(damagedid, armour);
					SetHealth(damagedid, health);*/
					SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Зеленая зона", "{"#DC_WHITE"}Вы находитесь в \"зеленой зоне\", здесь запрещено драться!", "Отмена", "");
				}
			}
		}
	}
	return 1;
}
//==============================================================================
public OnPlayerUpdate(playerid)
{
	if(PlayerLogged[playerid] == 1)
	{
		if(PlayerSpawned[playerid] == 1)
		{
			if(IsPlayerInAnyVehicle(playerid) && GetPlayerWeapon(playerid) == WEAPON_DEAGLE) SetPlayerArmedWeapon(playerid, 0);
			if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER && (GetPlayerWeapon(playerid) == WEAPON_DEAGLE ||
						GetPlayerWeapon(playerid) == WEAPON_SHOTGSPA || GetPlayerWeapon(playerid) == WEAPON_SAWEDOFF ||
						GetPlayerWeapon(playerid) == WEAPON_MINIGUN || GetPlayerWeapon(playerid) == WEAPON_MP5)) SetPlayerArmedWeapon(playerid, 0);
			if(GetPlayerWeapon(playerid) == 35 || GetPlayerWeapon(playerid) == 36 || GetPlayerWeapon(playerid) == 38 ||
					GetPlayerWeapon(playerid) == 44 || GetPlayerWeapon(playerid) == 45 || GetPlayerWeapon(playerid) == 16)
			{
				ResetPlayerWeapon(playerid);
				ResetPlayerWeaponBase(playerid);
		        Kick(playerid);
			}
			if(GetPlayerWeapon(playerid) == 35 || GetPlayerWeapon(playerid) == 36 || GetPlayerWeapon(playerid) == 38 || GetPlayerWeapon(playerid) == 44 || GetPlayerWeapon(playerid) == 45 || GetPlayerWeapon(playerid) == 16)
		    {
				ResetPlayerWeapon(playerid);
				ResetPlayerWeaponBase(playerid);
		        Kick(playerid);
		    }
		    if(GetPlayerWeapon(playerid) != 0 && PlayerInfo[playerid][pLevel] < 2)
		    {
				ResetPlayerWeapon(playerid);
				ResetPlayerWeaponBase(playerid);
		        Kick(playerid);
		    }
			if(IsCheatGun(GetPlayerWeapon(playerid)) && gFirstPlayerUpdate[playerid])
			{
			    return 0;
			}
		}
		#if defined __anti_godmode
		new retval = antigm_OnPlayerUpdate(playerid);
		if(retval == 0) return 0;
		#endif

	}
	else ResetPlayerWeapons(playerid);
	if(GetPlayerState(playerid) == 2)
    {
        new vehicleid = GetPlayerVehicleID(playerid);
        new Float:hp;
		GetVehicleHealth(vehicleid, hp);
		if(hp < 300)
		{
		    if(RegisterRace[playerid] == 2)
			{
				for(new i = 0; i < MAX_RACE_PLAYERS; i++)
				{
					if(RacePlayers[i] == playerid)
					{
						SetPlayerVirtualWorld(RacePlayers[i], 0);
						SetPlayerInterior(RacePlayers[i], 0);
						SetPlayerPos(RacePlayers[i], 1957.3762,-2181.5291,13.5469);
						SetPlayerFacingAngle(RacePlayers[i], 268.9459);
						DisablePlayerRaceCheckpoint(RacePlayers[i]);
						RegisterRace[RacePlayers[i]] = 0;
						RacePlayers[i] = INVALID_PLAYER_ID;
						DestroyVehicle(RaceVehicles[i]);
						SetPlayerControl(RaceVehicles[i], true);
						SendMes(playerid, COLOR_MAIN, "Вы были дисквалифицированны с гонки.");
					}
				}
			}
			if(RegisterDerby[playerid] == 2)
			{
				for(new i = 0; i < MAX_DERBY_PLAYERS; i++)
				{
					if(DerbyPlayers[i] == playerid)
					{
						SetPlayerVirtualWorld(DerbyPlayers[i], 0);
						SetPlayerInterior(DerbyPlayers[i], 0);
						SetPlayerPos(DerbyPlayers[i], -1545.9233,-442.2566,6.0000);
						SetPlayerFacingAngle(DerbyPlayers[i], 43.6337);
						RegisterDerby[DerbyPlayers[i]] = 0;
						DerbyPlayers[i] = INVALID_PLAYER_ID;
						DestroyVehicle(DerbyVehicles[i]);
						SetPlayerControl(DerbyPlayers[i], true);
						SendMes(playerid, COLOR_MAIN, "Вы были дисквалифицированны с дерби.");
					}
				}
			}
		    GameTextForPlayer(playerid, "~r~ENGINE HAS BROKENED", 5000, 3);
			SetVehicleHealth(vehicleid, 300.0);
			GetVehicleParamsEx(vehicleid, engine, lights, alarm, doors, bonnet, boot, objective);
			SetVehicleParamsEx(vehicleid, VEHICLE_PARAMS_OFF, lights, alarm, doors, bonnet, boot, objective);
			Engine[vehicleid] = false;
			if(!IsABike(vehicleid) && !IsABoat(vehicleid) && !IsAPlane(vehicleid)) OnPlayerUpdateVehicleInfo(playerid, 3);
		}
    }
    if(GetPlayerState(playerid) >= 1 && GetPlayerState(playerid) <= 3)
	{
        ProcessPlayerHealthUpdate(playerid);
        #if defined __anti_teleport
		CheckPlayerTelePosUpdate(playerid);
		#endif
    }
	if(noclipdata[playerid][cameramode] == CAMERA_MODE_FLY)
	{
		new keys, ud, lr;
		GetPlayerKeys(playerid,keys,ud,lr);

		if(noclipdata[playerid][mode] && (GetTickCount() - noclipdata[playerid][lastmove] > 100))
		{
		    MoveCamera(playerid);
		}
		if(noclipdata[playerid][udold] != ud || noclipdata[playerid][lrold] != lr)
		{
			if((noclipdata[playerid][udold] != 0 || noclipdata[playerid][lrold] != 0) && ud == 0 && lr == 0)
			{
				StopPlayerObject(playerid, noclipdata[playerid][flyobject]);
				noclipdata[playerid][mode]      = 0;
				noclipdata[playerid][accelmul]  = 0.0;
			}
			else
			{
				noclipdata[playerid][mode] = GetMoveDirectionFromKeys(ud, lr);
				MoveCamera(playerid);
			}
		}
		noclipdata[playerid][udold] = ud; noclipdata[playerid][lrold] = lr;
		return 0;
	}
	SetPVarInt(playerid, "AFK_Tick", GetPVarInt(playerid, "AFK_Tick") + 1);
	return 1;
}
//==============================================================================
public OnVehicleSpawn(vehicleid)
{
	if(VehInfo[vehicleid][vFraction] == V_FARM)
	{
		for(new fidx = 1; fidx <= TOTALFARM; fidx++)
		{
			for(new vidx = 0; vidx < 2; vidx++)
			{
		    	if(FarmInfo[fidx][fVehicle][vidx] == vehicleid && FarmCarUsed[fidx][vidx]) StopUseFarmCar(fidx, vehicleid);
			}
		}
	}
	/*else if(VehInfo[vehicleid][vFraction] == 501 && CreateCar[vehicleid] == true)
	{
		foreach(new i:Player)
		{
			if(PlayerLogged[i] == 0 || GetPVarInt(i, "ProductTrailer") != vehicleid) continue;
			SendMes(i, COLOR_MAIN, "Ваш прицеп был поврежден, рабочий день завершен.");
			LeaveFromProduct(i);
		}
		VehInfo[vehicleid][vFraction] = 0;
		CreateCar[vehicleid] = false;
		DestroyVehicle(vehicleid);
	}*/
	else if(CreateCar[vehicleid] == false)
	{
	    if(VehInfo[vehicleid][vFraction] >= 101 && VehInfo[vehicleid][vFraction] <= 109 || VehInfo[vehicleid][vFraction] == V_RENT_VEHICLE)
	    {
		    foreach(new i:Player)
			{
				if(ArendsCar[i] == vehicleid)
				{
					if(GetPVarInt(i, "RentTaxi")) LeaveFromTaxi(i);
					else if(GetPVarInt(i, "RentBus")) LeaveFromBus(i);
					else if(GetPVarInt(i, "RentMechanic")) LeaveFromMechanic(i);
					else if(GetPVarInt(i, "RentProduct")) LeaveFromProduct(i);
					else if(GetPVarInt(i, "RentRoadman")) LeaveFromRoadman(i, 0, 1);
					else if(GetPVarInt(i, "RentPilot")) LeaveFromPilot(i, 1);
					else if(GetPVarInt(i, "RentFire")) LeaveFromFire(i);
					else if(GetPVarInt(i, "RentPizzaboy")) LeaveFromPizzaboy(i);
					else if(GetPVarInt(i, "RentPostman")) LeaveFromPostman(i);
					else if(GetPVarInt(i, "RentTax")) LeaveFromTax(i);
					else if(GetPVarInt(i, "RentCollector")) LeaveFromCollector(i);
					else if(GetPVarInt(i, "RentFlowersboy")) LeaveFromFlowersboy(i);
					else if(GetPVarInt(i, "RentVehicle"))
					{
	            		SendMes(i, COLOR_MAIN, "Ваш арендованный транспорт был отправлен на место парковки, аренда расторгнута.");
					    DeletePVar(i, "RentVehicle");
						ArendsCar[i] = 0;
					}
				}
			}
		}
		/*new number[32];*/
		if(VehInfo[vehicleid][vFraction] != 0)
		{
		    VehInfo[vehicleid][vLock] = 0;
		    IsLocked[vehicleid] = false;
		    if(VehInfo[vehicleid][vFraction] >= 1 && VehInfo[vehicleid][vFraction] <= 30 || VehInfo[vehicleid][vFraction] >= 101 && VehInfo[vehicleid][vFraction] <= 114 || VehInfo[vehicleid][vFraction] == V_J_CONSTRUCTION_FORKLIFT || VehInfo[vehicleid][vFraction] == V_J_CONSTRUCTION_CEMENT || VehInfo[vehicleid][vFraction] == V_LICENSE || VehInfo[vehicleid][vFraction] == V_RENT_VEHICLE || VehInfo[vehicleid][vFraction] == V_SELL_VEHICLE)
		    {
		        new model = GetVehicleModel(vehicleid);
    			Fuel[vehicleid] = GetVehicleMaxGasTank(model);
				VehInfo[vehicleid][vFuel] = GetVehicleMaxGasTank(model);
				VehInfo[vehicleid][vLock] = 0;
				IsLocked[vehicleid] = false;
				SetVehicleDoors(vehicleid, 0);
				VehInfo[vehicleid][vProductInfo][0] = 0;
				VehInfo[vehicleid][vProductInfo][1] = 0;
				VehInfo[vehicleid][vFarmInfo][0] = 0;
				VehInfo[vehicleid][vFarmInfo][1] = 0;
			}
			if(VehGunInfo[vehicleid][vGunLoading] || VehGunInfo[vehicleid][vGunUnloading])
			{
				VehGunInfo[vehicleid][vGunLoading] = false;
				VehGunInfo[vehicleid][vGunUnloading] = false;
    			Delete3DTextLabel(VehGunInfo[vehicleid][vGunText]);
				if(IsValidDynamicArea(VehGunInfo[vehicleid][vGunArea])) DestroyDynamicArea(VehGunInfo[vehicleid][vGunArea]);
				if(IsValidDynamicPickup(VehGunInfo[vehicleid][vGunPickup])) DestroyDynamicPickup(VehGunInfo[vehicleid][vGunPickup]);
				VehGunInfo[vehicleid][vGunArea] = 0;
				VehGunInfo[vehicleid][vGunPickup] = 0;
			}
			VehGunInfo[vehicleid][vGunGun] = 0;
		}
		else
		{
  			VehInfo[vehicleid][vLock] = 1;
  		  	IsLocked[vehicleid] = true;
		}
		SetVehiclePos(vehicleid, VehInfo[vehicleid][vX], VehInfo[vehicleid][vY], VehInfo[vehicleid][vZ]);
		SetVehicleZAngle(vehicleid, VehInfo[vehicleid][vFA]);
		ChangeVehicleColor(vehicleid, VehInfo[vehicleid][vColor][0], VehInfo[vehicleid][vColor][1]);
		VehInfo[vehicleid][vLockB] = 1;
		VehInfo[vehicleid][vLockBn] = 1;
		SetVehicleDoors(vehicleid, VehInfo[vehicleid][vLock]);
		LinkVehicleToInterior(vehicleid, VehInfo[vehicleid][vInterior]);
		SetVehicleVirtualWorld(vehicleid, VehInfo[vehicleid][vWorld]);
		Engine[vehicleid] = false;
		Lights[vehicleid] = false;
		Limit[vehicleid] = false;
		/*format(number, sizeof(number), "%s", VehInfo[vehicleid][vNumber]);
		SetVehicleNumberPlate(vehicleid, number);*/
		if(VehInfo[vehicleid][vPaintjob] != 3) ChangeVehiclePaintjob(vehicleid, VehInfo[vehicleid][vPaintjob]);
		for(new i = 0; i <= 13; i++)
		{
			if(VehInfo[vehicleid][vVehcoms][i] != 0) AddVehicleComponentEx(vehicleid, VehInfo[vehicleid][vVehcoms][i]);
		}
	}
	else
	{
 		if((VehInfo[vehicleid][vFraction] == V_J_TAXI || VehInfo[vehicleid][vFraction] == V_J_BUS || VehInfo[vehicleid][vFraction] == V_J_MECHANIC || VehInfo[vehicleid][vFraction] == V_J_PRODUCT ||
	 	VehInfo[vehicleid][vFraction] == V_J_FIREMAN || VehInfo[vehicleid][vFraction] == V_J_ROADMAN || VehInfo[vehicleid][vFraction] == V_J_PILOT || VehInfo[vehicleid][vFraction] == V_J_PIZZABOY ||
		VehInfo[vehicleid][vFraction] == V_J_POSTMAN || VehInfo[vehicleid][vFraction] == V_J_TAX || VehInfo[vehicleid][vFraction] == V_J_COLLECTOR || VehInfo[vehicleid][vFraction] == V_J_FLOWERSBOY ||
	 	VehInfo[vehicleid][vFraction] == V_J_TRUCK || VehInfo[vehicleid][vFraction] == V_RENT_VEHICLE) && VehInfo[vehicleid][vStatus] == V_RENT_VEHICLE + 150)
	    {
		    foreach(new i:Player)
			{
				if(ArendsCar[i] == vehicleid)
				{
					if(GetPVarInt(i, "RentVehicle"))
					{
	            		SendMes(i, COLOR_MAIN, "Ваш арендованный транспорт был отправлен на место парковки, аренда расторгнута.");
					    DeletePVar(i, "RentVehicle");
						ArendsCar[i] = 0;
					}
				}
			}
			CreateCar[vehicleid] = false;
			DestroyVehicleEx(vehicleid);
			TOTALVEH--;
		}
	}
	return 1;
}
//==============================================================================
public OnVehicleRequestDeath(vehicleid, killerid)
{
    new Float:health;
    GetVehicleHealth(vehicleid, health);
    if(health > 300.0)
    {
        return 0;
    }
    return 1;
}
//==============================================================================
public OnVehicleDeath(vehicleid, killerid)
{
	if(killerid != INVALID_PLAYER_ID && !IsPlayerConnected(killerid)) return 0;
	for(new i = 0; i < MAX_RACE_PLAYERS; i++)
	{
		if(RaceVehicles[i] == vehicleid)
		{
			DestroyVehicle(RaceVehicles[i]);
			if(RacePlayers[i] != INVALID_PLAYER_ID)
			{
				RegisterRace[RacePlayers[i]] = 0;
				RacePlayers[i] = INVALID_PLAYER_ID;
				DisablePlayerRaceCheckpoint(RacePlayers[i]);
			}
		}
	}
	for(new i = 0; i < MAX_DERBY_PLAYERS; i++)
	{
		if(DerbyVehicles[i] == vehicleid)
		{
			DestroyVehicle(DerbyVehicles[i]);
			if(DerbyPlayers[i] != INVALID_PLAYER_ID)
			{
				RegisterDerby[DerbyPlayers[i]] = 0;
				DerbyPlayers[i] = INVALID_PLAYER_ID;
				DisablePlayerRaceCheckpoint(DerbyPlayers[i]);
			}
		}
	}
	return 1;
}
//==============================================================================
public OnVehicleMod(playerid, vehicleid, componentid)
{
	Kick(playerid);
	return 0;
}
//==============================================================================
public OnEnterExitModShop(playerid, enterexit, interiorid)
{
	Kick(playerid);
	return 0;
}
//==============================================================================
public OnVehicleRespray(playerid, vehicleid, color1, color2)
{
	Kick(playerid);
	return 0;
}
//==============================================================================
public OnVehiclePaintjob(playerid, vehicleid, paintjobid)
{
	Kick(playerid);
	return 0;
}
//==============================================================================
public OnVehicleDamageStatusUpdate(vehicleid, playerid)
{
	if(!IsABike(vehicleid) && !IsABoat(vehicleid) && !IsAPlane(vehicleid))
	{
	    PlayerInfo[playerid][pEngineStalled]++;
		if(PlayerInfo[playerid][pEngineStalled] >= 3)
		{
			GameTextForPlayer(playerid, "~r~ENGINE HAS STALLED", 5000, 3);
			GetVehicleParamsEx(vehicleid, engine, lights, alarm, doors, bonnet, boot, objective);
			SetVehicleParamsEx(vehicleid, VEHICLE_PARAMS_OFF, lights, alarm, doors, bonnet, boot, objective);
			Engine[vehicleid] = false;
			PlayerInfo[playerid][pEngineStalled] = 0;
			OnPlayerUpdateVehicleInfo(playerid, 3);
		}
	}
	new Float:hp;
	GetVehicleHealth(vehicleid, hp);
	if(hp < 300)
	{
	    if(RegisterRace[playerid] == 2)
		{
			for(new i = 0; i < MAX_RACE_PLAYERS; i++)
			{
				if(RacePlayers[i] == playerid)
				{
					SetPlayerVirtualWorld(RacePlayers[i], 0);
					SetPlayerInterior(RacePlayers[i], 0);
					SetPlayerPos(RacePlayers[i], 1957.3762,-2181.5291,13.5469);
					SetPlayerFacingAngle(RacePlayers[i], 268.9459);
					DisablePlayerRaceCheckpoint(RacePlayers[i]);
					RegisterRace[RacePlayers[i]] = 0;
					RacePlayers[i] = INVALID_PLAYER_ID;
					DestroyVehicle(RaceVehicles[i]);
					SetPlayerControl(RaceVehicles[i], true);
					SendMes(playerid, COLOR_MAIN, "Вы были дисквалифицированны с гонки.");
				}
			}
		}
		if(RegisterDerby[playerid] == 2)
		{
			for(new i = 0; i < MAX_DERBY_PLAYERS; i++)
			{
				if(DerbyPlayers[i] == playerid)
				{
					SetPlayerVirtualWorld(DerbyPlayers[i], 0);
					SetPlayerInterior(DerbyPlayers[i], 0);
					SetPlayerPos(DerbyPlayers[i], -1545.9233,-442.2566,6.0000);
					SetPlayerFacingAngle(DerbyPlayers[i], 43.6337);
					RegisterDerby[DerbyPlayers[i]] = 0;
					DerbyPlayers[i] = INVALID_PLAYER_ID;
					DestroyVehicle(DerbyVehicles[i]);
					SetPlayerControl(DerbyPlayers[i], true);
					SendMes(playerid, COLOR_MAIN, "Вы были дисквалифицированны с дерби.");
				}
			}
		}
	    GameTextForPlayer(playerid, "~r~ENGINE HAS BROKENED", 5000, 3);
		SetVehicleHealth(vehicleid, 300.0);
		GetVehicleParamsEx(vehicleid, engine, lights, alarm, doors, bonnet, boot, objective);
		SetVehicleParamsEx(vehicleid, VEHICLE_PARAMS_OFF, lights, alarm, doors, bonnet, boot, objective);
		Engine[vehicleid] = false;
		if(!IsABike(vehicleid) && !IsABoat(vehicleid) && !IsAPlane(vehicleid)) OnPlayerUpdateVehicleInfo(playerid, 3);
	}
	return 1;
}
//==============================================================================
public OnVehicleStreamIn(vehicleid, forplayerid)
{
    SetVehicleParamsForPlayer(vehicleid, forplayerid, 0, IsLocked[vehicleid]);
    return 1;
}
//==============================================================================
public OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])
{
	SetPVarInt(playerid, "Dialogid", 0);
	/*if(strfind(inputtext, "%", true) != -1 || strfind(inputtext, "'", true) != -1 || strfind(inputtext, "=", true) != -1 || strfind(inputtext, "{", true) != -1 || strfind(inputtext, "}", true) != -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы используете запрещенные символы.");*/
	if(GetPVarInt(playerid, "USEDIALOGID") == 0) return 1;
	if(GetPVarInt(playerid, "USEDIALOGID") != dialogid) return 1;
	SetPVarInt(playerid, "USEDIALOGID", 0);
	switch(dialogid)
	{
		case did_enter_house:
		{
			if(response)
			{
				new idx = GetPVarInt(playerid, "UseHouse");
				if(!strcmp(HouseInfo[idx][hOwner], "None", true))
				{
				    new price = HouseInfo[idx][hPrice];
					if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					new house = 0;
					for(new i = 1; i <= TOTALHOUSE;i++)
					{
						if(!strcmp(HouseInfo[i][hOwner], PlayerInfo[playerid][pName], true)) house++;
					}
					if(house != 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть дом.");
					if(PlayerInfo[playerid][pHotelID] > 0 || PlayerInfo[playerid][pHouse] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У вас уже есть дом или номер в отеле.");
					ServerMoney(playerid, "Покупка дома", -price, 0);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели дом за {"#DC_WHITE"}$%d.", price);
					HouseInfo[idx][hBuyPrice] = price - floatround(price * 0.20, floatround_ceil);
					HouseInfo[idx][hPaymentDays] = 3;
					for(new i = 0; i < 11; i++)
					{
					    if(i < 5) HouseInfo[idx][hStore][i] = 0;
					    if(i < 14) HouseInfo[idx][hSafe][i] = 0;
					}
					SendMes(playerid, COLOR_MAIN, "Ваш дом был оплачен государством на {"#DC_WHITE"}3{"#DC_MAIN"} дня, продлить аренду можно в банке.");
					strmid(HouseInfo[idx][hOwner], PlayerInfo[playerid][pName], 0, strlen(PlayerInfo[playerid][pName]), MAX_PLAYER_NAME);
					SaveHouse(idx);
					format(strings, sizeof(strings), "Игрок %s купил дом %d за %d. Наличные: %d", PlayerInfo[playerid][pName], idx, HouseInfo[idx][hPrice], PlayerInfo[playerid][pCash]);
					WriteLog("logs_buyhouse", strings);
					PlayerInfo[playerid][pSpawnChange] = 1;
					PlayerInfo[playerid][pHouse] = GetPVarInt(playerid, "UseHouse");
					UpdateHouse(idx);
					CheckQuest(playerid, 19);
					return 1;
				}
				else
				{
		  			new f = PlayerInfo[playerid][pFamily], fh = FamiliesInfo[f][fHouse];
		  			if(f != 0 && fh == idx)
		  			{
		    			if(UseChangeInterior[playerid] == true) UseChangeInterior[playerid] = false;
						SetPlayerPos(playerid, HouseInfo[idx][hExitX], HouseInfo[idx][hExitY], HouseInfo[idx][hExitZ]);
						SetPlayerInterior(playerid, HouseInfo[idx][hInterior]);
						SetPlayerVirtualWorld(playerid, HouseInfo[idx][hWorld]);
						SetTimerEx("OnPlayerStopPickup", 3000, 0, "i", playerid);
						SetPVarInt(playerid, "PickupEntered", 1);
						return 1;
		  			}
					if(HouseInfo[idx][hLock] == 1)
					{
						if(strcmp(PlayerInfo[playerid][pName], HouseInfo[idx][hOwner], true) == 0)
						{
		    				if(UseChangeInterior[playerid] == true) UseChangeInterior[playerid] = false;
							SetPlayerPos(playerid, HouseInfo[idx][hExitX], HouseInfo[idx][hExitY], HouseInfo[idx][hExitZ]);
							SetPlayerInterior(playerid, HouseInfo[idx][hInterior]);
							SetPlayerVirtualWorld(playerid, HouseInfo[idx][hWorld]);
							SetTimerEx("OnPlayerStopPickup", 3000, 0, "i", playerid);
							SetPVarInt(playerid, "PickupEntered", 1);
						}
						else
						{
							format(strings, sizeof(strings), "~r~LOCK");
							GameTextForPlayer(playerid, strings, 5000, 1);
							return 1;
						}
					}
					else
					{
 						if(UseChangeInterior[playerid] == true) UseChangeInterior[playerid] = false;
						SetPlayerPos(playerid, HouseInfo[idx][hExitX], HouseInfo[idx][hExitY], HouseInfo[idx][hExitZ]);
						SetPlayerInterior(playerid, HouseInfo[idx][hInterior]);
						SetPlayerVirtualWorld(playerid, HouseInfo[idx][hWorld]);
						SetTimerEx("OnPlayerStopPickup", 3000, 0, "i", playerid);
						SetPVarInt(playerid, "PickupEntered", 1);
						return 1;
					}
				}
			}
		}
		case did_house_menu:
		{
			if(!response) return 1;
			new h = PlayerInfo[playerid][pHouse];
			switch(listitem)
			{
				case 0:
			    {
			        new door[18];
    				if((HouseInfo[h][hLock]) == 0) format(door, sizeof(door), "Открыта");
					else format(door, sizeof(door), "Закрыта");
     				new dtext[32];
					if(HouseInfo[h][hDiscript] == 1) format(dtext, sizeof(dtext), "Эконом");
					else if(HouseInfo[h][hDiscript] == 2) format(dtext, sizeof(dtext), "Средний");
					else if(HouseInfo[h][hDiscript] == 3) format(dtext, sizeof(dtext), "Высокий");
					else if(HouseInfo[h][hDiscript] == 4) format(dtext, sizeof(dtext), "Элитный");
					totalstring = "", bigstring = "";
					format(bigstring, sizeof(bigstring), "{"#DC_WHITE"}\
					Номер: %d\n\
					Владелец: %s\n\
					Класс: %s\n\
					Кол-во оплаченных дней: %d\n\
					Гос. стоимость: $%d\n\
					Входная дверь: %s", h, HouseInfo[h][hOwner], dtext, HouseInfo[h][hPaymentDays], HouseInfo[h][hPrice], door);
					SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация о доме", bigstring, "Отмена", "");
			    }
				case 1:
				{
					if(PlayerIsAHome(playerid, h, 2) == 0 && !IsAPPos(playerid, 10.0, HouseInfo[h][hEnterX], HouseInfo[h][hEnterY], HouseInfo[h][hEnterZ])) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в своем доме.");
					if(HouseInfo[h][hLock] == 1)
					{
						HouseInfo[h][hLock] = 0;
						format(strings, sizeof(strings), "~g~unlock");
					}
					else
					{
						HouseInfo[h][hLock] = 1;
						format(strings, sizeof(strings), "~r~lock");
					}
					PlayerPlaySound(playerid, 1145, 0.0, 0.0, 0.0);
					GameTextForPlayer(playerid, strings, 5000, 5);
					SaveHouse(h);
				}
				case 2: ShowHouseSafe(playerid, h);
				case 3: ShowHouseStore(playerid, h);
				case 4:
				{
					if(PlayerIsAHome(playerid, h, 2) == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в своем доме.");
				    new idx = 0;
				    totalstring = "", bigstring = "";
				    for(new i = 0; i < sizeof(HouseInterior); i++)
				    {
				        if(HouseInterior[i][iType] != HouseInfo[h][hDiscript]) continue;
				        format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Интерьер № %d\n", idx+1, idx+1);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
				    }
					SPD(playerid, did_interior_house, DSL, "{"#DC_MAIN"}Интерьеры", bigstring, "Осмотреть", "Отмена");
				}
				case 5:
				{
					if(PlayerIsAHome(playerid, h, 2) == 0 && !IsAPPos(playerid, 10.0, HouseInfo[h][hEnterX], HouseInfo[h][hEnterY], HouseInfo[h][hEnterZ])) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в своем доме.");
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы хотите продать свой дом государству за $%d?", HouseInfo[h][hBuyPrice]);
					SPD(playerid, did_sellhouse, DSM, "{"#DC_MAIN"}Продажа дома", totalstring, "Да", "Нет");
				}
				case 6:
				{
					new Float:VPos[3];
					SetPVarFloat(playerid, "GPSX", HouseInfo[h][hEnterX]);
					SetPVarFloat(playerid, "GPSY", HouseInfo[h][hEnterY]);
					SetPVarFloat(playerid, "GPSZ", HouseInfo[h][hEnterZ]);
					GetPlayerPos(playerid, VPos[0], VPos[1], VPos[2]);
					SetPVarInt(playerid, "pGPSWork", 1);
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerRaceCheckpoint(playerid, 1, GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ"), 0, 0, 0, 5.0);
					SendMes(playerid, COLOR_MAIN, "Местоположение {"#DC_WHITE"}дома{"#DC_MAIN"} отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
					SendMes(playerid, COLOR_MAIN, "Расстояние: {"#DC_WHITE"}%.1f метров.", GetDistanceBetweenPoints(VPos[0], VPos[1], VPos[2], GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ")));
				}
			}
			return 1;
		}
		case did_interior_house:
		{
		    if(!response) return cmd_house(playerid, inputtext);
		    new idx = PlayerGUIItem[playerid][listitem], houseid = PlayerInfo[playerid][pHouse];
		    SetPlayerPos(playerid, HouseInterior[idx][iPos][0], HouseInterior[idx][iPos][1], HouseInterior[idx][iPos][2]);
		    SetPlayerInterior(playerid, HouseInterior[idx][iInterior]);
			SetPlayerVirtualWorld(playerid, 2000 + houseid);
			SetTimerEx("OnPlayerStopPickup", 3000, 0, "i", playerid);
			SetPVarInt(playerid, "PickupEntered", 1);
			UseChangeInterior[playerid] = true;
			UseChangeInteriorID[playerid] = idx;
			SendMes(playerid, COLOR_MAIN, "Введите {"#DC_WHITE"}/buyinterior{"#DC_MAIN"} чтобы приобрести этот интерьер или отказаться.");
			return 1;
		}
		case did_interior_house_buy:
		{
		    if(!response)
		    {
				UseChangeInterior[playerid] = false;
				UseChangeInteriorID[playerid] = -1;
				return SpawnPlayer(playerid);
		    }
			new houseid = PlayerInfo[playerid][pHouse], price = 100000 * HouseInfo[houseid][hDiscript], idx = UseChangeInteriorID[playerid];
			if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"), SpawnPlayer(playerid);
			ServerMoney(playerid, "Покупка интерьера в дом", -price, 0);
			HouseInfo[houseid][hExitX] = HouseInterior[idx][iPos][0];
			HouseInfo[houseid][hExitY] = HouseInterior[idx][iPos][1];
			HouseInfo[houseid][hExitZ] = HouseInterior[idx][iPos][2];
			HouseInfo[houseid][hInterior] = HouseInterior[idx][iInterior];
			HouseInfo[houseid][hSpawnX] = HouseInterior[idx][iSpawnPos][0];
			HouseInfo[houseid][hSpawnY] = HouseInterior[idx][iSpawnPos][1];
			HouseInfo[houseid][hSpawnZ] = HouseInterior[idx][iSpawnPos][2];
			HouseInfo[houseid][hSpawnR] = HouseInterior[idx][iSpawnPos][3];
			SaveHouse(houseid);
			SendMes(playerid, COLOR_MAIN, "Вы приобрели интерьер за {"#DC_WHITE"}$%d.", price);
			UseChangeInterior[playerid] = false;
			UseChangeInteriorID[playerid] = -1;
			SpawnPlayer(playerid);
			return 1;
		}
		case did_safe_house_choose:
		{
			if(!response) return 1;
		    SafeChoose[playerid] = listitem;
			SPD(playerid, did_safe_house_operation, DSL, "{"#DC_MAIN"}Действие", "{"#DC_MAIN"}1.{"#DC_WHITE"} Положить\n{"#DC_MAIN"}2.{"#DC_WHITE"} Взять", "Далее", "Отмена");
		    return 1;
        }
        case did_safe_house_operation:
        {
            if(!response)
            {
                new idx = PlayerInfo[playerid][pHouse];
                return ShowHouseSafe(playerid, idx);
            }
			new houseid = PlayerInfo[playerid][pHouse];
            switch(listitem)
			{
				case 0:
				{
					if(HouseInfo[houseid][hSafe][SafeChoose[playerid]] >= SafeInfo[SafeChoose[playerid]][FreeSlots]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже максимальное количество содержимого в сейфе.");
					SPD(playerid, did_safe_house_put, DSI, "{"#DC_MAIN"}Положить", "{"#DC_WHITE"}Введите количество, которое хотите положить:", "Далее", "Отмена");
				}
				case 1:
				{
					if(HouseInfo[houseid][hSafe][SafeChoose[playerid]] <= 0) return SendMes(playerid, COLOR_DARKORANGE, "В этом слоте ничего нет.");
					SPD(playerid, did_safe_house_take, DSI, "{"#DC_MAIN"}Взять", "{"#DC_WHITE"}Введите количество, которое хотите взять:", "Далее", "Отмена");
				}
			}
		    return 1;
        }
        case did_safe_house_put:
        {
            if(!response) return SPD(playerid, did_safe_house_operation, DSL, "{"#DC_MAIN"}Действие", "{"#DC_MAIN"}1.{"#DC_WHITE"} Положить\n{"#DC_MAIN"}2.{"#DC_WHITE"} Взять", "Далее", "Отмена");
			new houseid = PlayerInfo[playerid][pHouse];
            if(strval(inputtext) <= 0 || !strlen(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "Значение должно быть не менее 1."), ShowHouseSafe(playerid, houseid);
			if(strval(inputtext) + HouseInfo[houseid][hSafe][SafeChoose[playerid]] > SafeInfo[SafeChoose[playerid]][FreeSlots]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете превышать максимальное количество содержимого в сейфе."), ShowHouseSafe(playerid, houseid);
			switch(SafeChoose[playerid])
			{
				case 0..6:
				{
					new weapslot = GetWeaponSlot(SafeInfo[SafeChoose[playerid]][WeaponGiveID]);
					new weapons[2];
					GetPlayerWeaponData(playerid, weapslot, weapons[0], weapons[1]);
					if(weapons[0] != SafeInfo[SafeChoose[playerid]][WeaponGiveID]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет данного оружия."), ShowHouseSafe(playerid, houseid);
					if(weapons[1] < strval(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько патронов."), ShowHouseSafe(playerid, houseid);
					GiveWeapon(playerid, SafeInfo[SafeChoose[playerid]][WeaponGiveID], -strval(inputtext));
				}
				default:
				{
 					SendAdminMessage(COLOR_LRED, "[A] Ошибка #108! Сообщите разработчикам!", 8);
					return SendMes(playerid, COLOR_DARKORANGE, "Вы выбрали неправильный слот.");
				}
			}
			HouseInfo[houseid][hSafe][SafeChoose[playerid]] += strval(inputtext);
			SendMes(playerid, COLOR_MAIN, "Вы положили введенное количество в сейф.");
			SPCB(playerid, "положил(-а) что-то в сейф", COLOR_PINK, 10.0, 1000);
			ShowHouseSafe(playerid, houseid);
			SaveHouseSafe(houseid);
		    return 1;
		}
		case did_safe_house_take:
		{
			if(!response) return SPD(playerid, did_safe_house_operation, DSL, "{"#DC_MAIN"}Действие", "{"#DC_MAIN"}1.{"#DC_WHITE"} Положить\n{"#DC_MAIN"}2.{"#DC_WHITE"} Взять", "Далее", "Отмена");
			new houseid = PlayerInfo[playerid][pHouse];
            if(strval(inputtext) <= 0 || !strlen(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "Значение должно быть не менее 1."), ShowHouseSafe(playerid, houseid);
			if(strval(inputtext) > HouseInfo[houseid][hSafe][SafeChoose[playerid]]) return SendMes(playerid, COLOR_DARKORANGE, "В сейфе нет такого количества в этом слоте."), ShowHouseSafe(playerid, houseid);
			switch(SafeChoose[playerid])
			{
			    case 0..6: GiveWeapon(playerid, SafeInfo[SafeChoose[playerid]][WeaponGiveID], strval(inputtext));
				default:
				{
 					SendAdminMessage(COLOR_LRED, "[A] Ошибка #108! Сообщите разработчикам!", 8);
					return SendMes(playerid, COLOR_DARKORANGE, "Вы выбрали неправильный слот.");
				}
			}
			HouseInfo[houseid][hSafe][SafeChoose[playerid]] -= strval(inputtext);
			SendMes(playerid, COLOR_MAIN, "Вы взяли введенное количество с сейфа.");
			SPCB(playerid, "взял(-а) что-то из сейфа", COLOR_PINK, 10.0, 1000);
			ShowHouseSafe(playerid, houseid);
			SaveHouseSafe(houseid);
		    return 1;
		}
		case did_store_house:
		{
			if(!response) return 1;
			if(listitem < 0 || listitem > 4) return 1;
			new houseid = PlayerInfo[playerid][pHouse], skin = HouseInfo[houseid][hStore][listitem];
			if(skin == 0)
			{
				if(PlayerInfo[playerid][pSex] == 2) skin = 140;
				else skin = 252;
			}
			if(PlayerInfo[playerid][pSkin] > 0)
			{
			    HouseInfo[houseid][hStore][listitem] = PlayerInfo[playerid][pSkin];
				PlayerInfo[playerid][pSkin] = skin;
				SetPlayerSkin(playerid, PlayerInfo[playerid][pSkin]);
			}
			else
			{
			    HouseInfo[houseid][hStore][listitem] = PlayerInfo[playerid][pSkin];
				PlayerInfo[playerid][pSkin] = skin;
				SetPlayerSkin(playerid, PlayerInfo[playerid][pSkin]);
			}
			SendMes(playerid, COLOR_MAIN, "Вы переоделись.");
			SPCB(playerid, "переодел(-ся/-ась)", COLOR_PINK, 10.0, 1000);
			ShowHouseStore(playerid, houseid);
			SaveHouseStore(houseid);
		    return 1;
		}
		case did_hotel_enter:
		{
			if(!response) return 1;
			new idx = GetPVarInt(playerid, "UseHotel");
			if(GetPVarInt(playerid, "EnterHotel") != idx && HotelInfo[idx][hEnter] > 0)
			{
			    if(GetMoney(playerid) < HotelInfo[idx][hEnter]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				ServerMoney(playerid, "Вход в отель", -HotelInfo[idx][hEnter], 0);
				new money, price = HotelInfo[idx][hEnter];
				if(HotelInfo[idx][hBiker])
				{
					money = price / 10;
					GiveFracBank(HotelInfo[idx][hBiker], money);
				}
				HotelInfo[idx][hMoney] += price - money;
				HotelInfo[idx][hProfit] += price - money;
				SaveHotel(idx);
			}
			SetPlayerPos(playerid, HotelInfo[idx][hSpawnX], HotelInfo[idx][hSpawnY], HotelInfo[idx][hSpawnZ]);
			SetPlayerFacingAngle(playerid, HotelInfo[idx][hSpawnR]);
			SetPlayerInterior(playerid, HotelInfo[idx][hInterior]);
			SetPlayerVirtualWorld(playerid, HotelInfo[idx][hWorld]);
			SetCameraBehindPlayer(playerid);
			SetPVarInt(playerid, "EnterHotel", idx);
		    return 1;
		}
		case did_hotel_rooms_enter:
		{
		    if(!response) return 1;
		    new hotelid = GetPVarInt(playerid, "UseHotel"), roomid = GetPVarInt(playerid, "UseHotelRooms");
	        SetPlayerPos(playerid, 2198.4780, -1160.3774, 1029.7969);
			SetPlayerFacingAngle(playerid, 358.3456);
			SetPlayerInterior(playerid, HotelInfo[hotelid][hInterior]);
			SetPlayerVirtualWorld(playerid, hotelid * 12 + roomid);
		    return 1;
		}
		case did_hotel_menu_list:
		{
		    if(!response) return 1;
		    if(GetPVarInt(playerid, "UseHotel") == 0) return 1;
			new hotelid = GetPVarInt(playerid, "UseHotel");
			switch(listitem)
			{
			    case 0:
			    {
					totalstring = "", bigstring = "";
			        for(new i = 0; i < MAX_HOTEL_ROOMS; i++)
			        {
			            if(HotelRoomsInfo[hotelid][i][hrOwnerID] == 0)
			            {
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Номер %d ({"#DC_GREEN"}Свободен{"#DC_WHITE"}) [Нет]\n", i+1, i);
							strcat(bigstring, totalstring);
			            }
			            else
			            {
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Номер %d (%s) [%d]\n", i+1, i, HotelRoomsInfo[hotelid][i][hrOwner], HotelRoomsInfo[hotelid][i][hrPaymentDays]);
							strcat(bigstring, totalstring);
						}
			        }
					SPD(playerid, did_hotel_menu_rooms_list, DSL, "{"#DC_MAIN"}Список номеров", bigstring, "Далее", "Отмена");
			    }
			    case 1:
			    {
			        if(PlayerInfo[playerid][pHotelID] != hotelid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не проживаете в этом отеле.");
					totalstring = "";
			        format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Стоимость проживания: $%d день.\n\nВведите количество дней для оплаты:", HotelInfo[hotelid][hRoom]);
			        SPD(playerid, did_hotel_room_pay, DSI, "{"#DC_MAIN"}Оплата", totalstring, "Далее", "Отмена");
			    }
			    case 2:
			    {
			        if(PlayerInfo[playerid][pHotelID] != hotelid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не проживаете в этом отеле.");
			        SPD(playerid, did_hotel_evict_room, DSM, "{"#DC_MAIN"}Выселение", "{"#DC_WHITE"}Вы действительно хотите выселиться из отеля?\n\nПосле выселения Вам не будет возвращена стоимость оплаченных дней.", "Да", "Нет");
			    }
			}
		    return 1;
		}
		case did_hotel_menu_rooms_list:
		{
		    if(!response) return SPD(playerid, did_hotel_menu_list, DSL, "{"#DC_MAIN"}Отель", "{"#DC_MAIN"}1.{"#DC_WHITE"} Список номеров\n{"#DC_MAIN"}2.{"#DC_WHITE"} Оплата проживания\n{"#DC_MAIN"}3.{"#DC_WHITE"} Выселиться из отеля", "Далее", "Отмена");
			if(GetPVarInt(playerid, "UseHotel") == 0) return 1;
			new hotelid = GetPVarInt(playerid, "UseHotel");
			if(HotelRoomsInfo[hotelid][listitem][hrOwnerID] != 0) return SendMes(playerid, COLOR_DARKORANGE, "У этого номера уже есть владелец.");
			if(PlayerInfo[playerid][pHotelID]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть номер в отеле.");
			SetPVarInt(playerid, "RentHotelRooms", listitem);
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
			Отель: %s\n\
			Номер: %d\n\
			Стоимость аренды: $%d", HotelInfo[hotelid][hName], listitem, HotelInfo[hotelid][hRoom]);
			SPD(playerid, did_hotel_rent_room, DSM, "{"#DC_MAIN"}Аренда номера", totalstring, "Аренда", "Отмена");
		    return 1;
		}
		case did_hotel_rent_room:
		{
		    if(!response) return 1;
		    if(GetPVarInt(playerid, "UseHotel") == 0) return 1;
			if(PlayerInfo[playerid][pHouse]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть дом.");
			new hotelid = GetPVarInt(playerid, "UseHotel"), roomid = GetPVarInt(playerid, "RentHotelRooms"), price = HotelInfo[hotelid][hRoom];
			if(HotelRoomsInfo[hotelid][roomid][hrOwnerID] != 0) return SendMes(playerid, COLOR_DARKORANGE, "У этого номера уже есть владелец.");
			if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			ServerMoney(playerid, "Аренда номера в отеле", -price, 0);
			new money;
			if(HotelInfo[hotelid][hBiker])
			{
				money = price / 10;
				GiveFracBank(HotelInfo[hotelid][hBiker], money);
			}
			HotelInfo[hotelid][hMoney] += price - money;
			HotelInfo[hotelid][hProfit] += price - money;
			SaveHotel(hotelid);
			strmid(HotelRoomsInfo[hotelid][roomid][hrOwner], PlayerInfo[playerid][pName], 0, strlen(PlayerInfo[playerid][pName]), MAX_PLAYER_NAME);
			HotelRoomsInfo[hotelid][roomid][hrOwnerID] = PlayerInfo[playerid][pID];
			HotelRoomsInfo[hotelid][roomid][hrPaymentDays] = 1;
			PlayerInfo[playerid][pHotelID] = hotelid;
			PlayerInfo[playerid][pHotelRooms] = roomid;
			if(IsValidDynamicPickup(HotelRoomsInfo[hotelid][roomid][hrPickup])) DestroyDynamicPickup(HotelRoomsInfo[hotelid][roomid][hrPickup]);
			HotelRoomsInfo[hotelid][roomid][hrPickup] = CreatePickup(19522, 1, HotelRoomsPos[roomid][0], HotelRoomsPos[roomid][1], HotelRoomsPos[roomid][2], HotelInfo[hotelid][hWorld]);
			SetPlayerInt(PlayerInfo[playerid][pID], "hotelid", PlayerInfo[playerid][pHotelID]);
			SetPlayerInt(PlayerInfo[playerid][pID], "hotelrooms", PlayerInfo[playerid][pHotelRooms]);
			PlayerInfo[playerid][pSpawnChange] = 2;
			SaveHotelRooms(hotelid, roomid);
			SendMes(playerid, COLOR_MAIN, "Вы сняли номер в отеле.");
			SendMes(playerid, COLOR_MAIN, "Оплатить проживание, доставить транспорт к отелю или выселиться из него можно на ресепшене.");
			CheckQuest(playerid, 16);
		    return 1;
		}
		case did_hotel_room_pay:
		{
			if(!response) return SPD(playerid, did_hotel_menu_list, DSL, "{"#DC_MAIN"}Отель", "{"#DC_MAIN"}1.{"#DC_WHITE"} Список номеров\n{"#DC_MAIN"}2.{"#DC_WHITE"} Оплата проживания\n{"#DC_MAIN"}3.{"#DC_WHITE"} Выселиться из отеля", "Далее", "Отмена");
			new hotelid = PlayerInfo[playerid][pHotelID], roomid = PlayerInfo[playerid][pHotelRooms], price = HotelInfo[hotelid][hRoom];
			if(HotelRoomsInfo[hotelid][roomid][hrOwnerID] != PlayerInfo[playerid][pID]) return SendMes(playerid, COLOR_DARKORANGE, "Этот номер принадлежит не Вам.");
            if(!strlen(inputtext) || strval(inputtext) < 1)
            {
				totalstring = "";
			    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Стоимость проживания: $%d день.\n\nВведите количество дней для оплаты:\n\n{"#DC_RED"}Ошибка: Вы ввели неправильное значение.", price);
   				return SPD(playerid, did_hotel_room_pay, DSI, "{"#DC_MAIN"}Оплата", totalstring, "Далее", "Отмена");
            }
            if(HotelRoomsInfo[hotelid][roomid][hrPaymentDays] + strval(inputtext) > 30)
            {
				totalstring = "";
			    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Стоимость проживания: $%d день.\n\nВведите количество дней для оплаты:\n\n{"#DC_RED"}Ошибка: Вы не можете оплатить номер более чем 30 дней.", price);
   				return SPD(playerid, did_hotel_room_pay, DSI, "{"#DC_MAIN"}Оплата", totalstring, "Далее", "Отмена");
            }
            if(GetMoney(playerid) < strval(inputtext) * price)
            {
				totalstring = "";
			    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Стоимость проживания: $%d день.\n\nВведите количество дней для оплаты:\n\n{"#DC_RED"}Ошибка: У Вас нет столько денег. Используйте: /donate", price);
   				return SPD(playerid, did_hotel_room_pay, DSI, "{"#DC_MAIN"}Оплата", totalstring, "Далее", "Отмена");
			}
			ServerMoney(playerid, "Продление аренды номера в отеле", -strval(inputtext) * price, 0);
			new money;
			if(HotelInfo[hotelid][hBiker])
			{
				money = strval(inputtext) * price / 10;
				GiveFracBank(HotelInfo[hotelid][hBiker], money);
			}
			HotelInfo[hotelid][hMoney] += strval(inputtext) * price - money;
			HotelInfo[hotelid][hProfit] += strval(inputtext) * price - money;
			SaveHotel(hotelid);
			HotelRoomsInfo[hotelid][roomid][hrPaymentDays] += strval(inputtext);
			SaveHotelRooms(hotelid, roomid);
			format(strings, sizeof(strings), "Вы оплатили номер на {"#DC_WHITE"}%d{"#DC_MAIN"} дней. Стоимость: {"#DC_WHITE"}$%d.", strval(inputtext), strval(inputtext) * price);
			SendMes(playerid, COLOR_MAIN, strings);
			CheckTask(playerid, 42);
		    return 1;
		}
		case did_hotel_evict_room:
		{
		    if(!response) return 1;
			new hotelid = PlayerInfo[playerid][pHotelID], roomid = PlayerInfo[playerid][pHotelRooms];
			if(HotelRoomsInfo[hotelid][roomid][hrOwnerID] != PlayerInfo[playerid][pID]) return SendMes(playerid, COLOR_DARKORANGE, "Этот номер принадлежит не Вам.");
			strmid(HotelRoomsInfo[hotelid][roomid][hrOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
			HotelRoomsInfo[hotelid][roomid][hrOwnerID] = 0;
			HotelRoomsInfo[hotelid][roomid][hrPaymentDays] = 1;
			PlayerInfo[playerid][pHotelID] = 0;
			PlayerInfo[playerid][pHotelRooms] = 0;
			if(IsValidDynamicPickup(HotelRoomsInfo[hotelid][roomid][hrPickup])) DestroyDynamicPickup(HotelRoomsInfo[hotelid][roomid][hrPickup]);
			HotelRoomsInfo[hotelid][roomid][hrPickup] = CreatePickup(19523, 1, HotelRoomsPos[roomid][0], HotelRoomsPos[roomid][1], HotelRoomsPos[roomid][2], HotelInfo[hotelid][hWorld]);
			SetPlayerInt(PlayerInfo[playerid][pID], "hotelid", PlayerInfo[playerid][pHotelID]);
			SetPlayerInt(PlayerInfo[playerid][pID], "hotelrooms", PlayerInfo[playerid][pHotelRooms]);
			SaveHotelRooms(hotelid, roomid);
			SendMes(playerid, COLOR_MAIN, "Вы выселились из отеля.");
		    return 1;
		}
		case did_hotel_menu:
		{
		    if(!response) return 1;
		    new i = PlayerInfo[playerid][pHotel];
		    switch(listitem)
		    {
		        case 0:
		        {
		            new status[32];
					if(GetPlayerID(HotelInfo[i][hOwner]) == INVALID_PLAYER_ID) format(status, sizeof(status), "[{"#DC_LRED"}Offline{"#DC_WHITE"}]");
					else format(status, sizeof(status), "[{"#DC_GREEN"}Online{"#DC_WHITE"}]");
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
					Название: %s\n\
					Номер: %d\n\
					Владелец: %s %s\n\
					Касса: $%d\n\
					Стоимость входа: $%d\n\
					Стоимость номера: $%d\n\
					Прибыль за сегодня: $%d\n\
					Налог: $%d\n\
					Кол-во оплаченных дней: %d\n\
					Контроль: %s", HotelInfo[i][hName], HotelInfo[i][id], HotelInfo[i][hOwner], status, HotelInfo[i][hMoney], HotelInfo[i][hEnter], HotelInfo[i][hRoom],
					HotelInfo[i][hProfit], HotelInfo[i][hTax], HotelInfo[i][hPaymentDays], FracInfo[HotelInfo[i][hBiker]][fName]);
					SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация", totalstring, "Отмена", "");
		        }
		        case 1: SPD(playerid, did_hotel_enter_price, DSI, "{"#DC_MAIN"}Стоимость входа", "{"#DC_WHITE"}Введите стоимость входа:", "Далее", "Отмена");
		        case 2: SPD(playerid, did_hotel_room_price, DSI, "{"#DC_MAIN"}Стоимость номера", "{"#DC_WHITE"}Введите стоимость номера:", "Далее", "Отмена");
		        case 3:
				{
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет\nТекущий баланс отеля: $%d.", HotelInfo[i][hMoney]);
					SPD(playerid, did_hotel_put, DSI, "{"#DC_MAIN"}Пополнение счета отеля", totalstring, "Далее", "Отмена");
				}
				case 4:
				{
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета отеля\nТекущий баланс отеля: $%d.", HotelInfo[i][hMoney]);
					SPD(playerid, did_hotel_take, DSI, "{"#DC_MAIN"}Снятие со счета отеля", totalstring, "Далее", "Отмена");
				}
		        case 5:
		        {
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы хотите продать свой отель государству за $%d?", HotelInfo[i][hPrice]+HotelInfo[i][hMoney]);
					SPD(playerid, did_hotel_sell, DSM, "{"#DC_MAIN"}Продажа отеля", totalstring, "Да", "Нет");
				}
				case 6:
				{
					new Float:VPos[3];
					SetPVarFloat(playerid, "GPSX", HotelInfo[i][hEnterX]);
					SetPVarFloat(playerid, "GPSY", HotelInfo[i][hEnterY]);
					SetPVarFloat(playerid, "GPSZ", HotelInfo[i][hEnterZ]);
					GetPlayerPos(playerid, VPos[0], VPos[1], VPos[2]);
					SetPVarInt(playerid, "pGPSWork", 1);
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerRaceCheckpoint(playerid, 1, GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ"), 0, 0, 0, 5.0);
					SendMes(playerid, COLOR_MAIN, "Местоположение {"#DC_WHITE"}отеля{"#DC_MAIN"} отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
					SendMes(playerid, COLOR_MAIN, "Расстояние: {"#DC_WHITE"}%.1f метров.", GetDistanceBetweenPoints(VPos[0], VPos[1], VPos[2], GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ")));
				}
		    }
		    return 1;
		}
		case did_hotel_enter_price:
		{
		    if(!response) return cmd_hotel(playerid, inputtext);
		    new price, i = PlayerInfo[playerid][pHotel];
		   	if(sscanf(inputtext, "i", price)) return SPD(playerid, did_hotel_enter_price, DSI, "{"#DC_MAIN"}Стоимость входа", "{"#DC_WHITE"}Введите стоимость входа:", "Далее", "Отмена");
			if(price < 0 || price > 500) return SPD(playerid, did_hotel_enter_price, DSI, "{"#DC_MAIN"}Стоимость входа", "{"#DC_WHITE"}Введите стоимость входа:\n\n{"#DC_RED"}Ошибка: Введите значение цены от 0 до 500.", "Далее", "Отмена");
			HotelInfo[i][hEnter] = price;
			SaveHotel(i);
			SendMes(playerid, COLOR_MAIN, "Вы установили значение цены за вход на {"#DC_WHITE"}$%d.", price);
			return 1;
		}
		case did_hotel_room_price:
		{
		    if(!response) return cmd_hotel(playerid, inputtext);
		    new price, i = PlayerInfo[playerid][pHotel];
		   	if(sscanf(inputtext, "i", price)) return SPD(playerid, did_hotel_room_price, DSI, "{"#DC_MAIN"}Стоимость номера", "{"#DC_WHITE"}Введите стоимость номера:", "Далее", "Отмена");
			if(price < 500 || price > 2500) return SPD(playerid, did_hotel_room_price, DSI, "{"#DC_MAIN"}Стоимость номера", "{"#DC_WHITE"}Введите стоимость номера:\n\n{"#DC_RED"}Ошибка: Введите значение цены от 500 до 2500.", "Далее", "Отмена");
			HotelInfo[i][hRoom] = price;
			SaveHotel(i);
			SendMes(playerid, COLOR_MAIN, "Вы установили значение цены за номер на {"#DC_WHITE"}$%d.", price);
			return 1;
		}
		case did_hotel_put:
		{
			if(!response) return cmd_hotel(playerid, inputtext);
			new price;
			new i = PlayerInfo[playerid][pHotel];
			if(sscanf(inputtext, "i", price))
			{
   				totalstring = "";
			    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет\nТекущий баланс отеля: $%d.", HotelInfo[i][hMoney]);
				return SPD(playerid, did_hotel_put, DSI, "{"#DC_MAIN"}Пополнение счета отеля", totalstring, "Далее", "Отмена");
			}
			if(price < 1)
			{
   				totalstring = "";
			    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет\nТекущий баланс отеля: $%d.", HotelInfo[i][hMoney]);
				return SPD(playerid, did_hotel_put, DSI, "{"#DC_MAIN"}Пополнение счета отеля", totalstring, "Далее", "Отмена");
			}
			if(GetMoney(playerid) < price)
			{
			    SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
   				totalstring = "";
			    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет\nТекущий баланс отеля: $%d.", HotelInfo[i][hMoney]);
				return SPD(playerid, did_hotel_put, DSI, "{"#DC_MAIN"}Пополнение счета отеля", totalstring, "Далее", "Отмена");
			}
			ServerMoney(playerid, "Положил на счет отеля", -price, 0);
			HotelInfo[i][hMoney] += price;
			SaveHotel(i);
			format(strings, sizeof(strings), "Вы положили на счет отеля {"#DC_WHITE"}$%d.{"#DC_MAIN"} Текущий баланс отеля: {"#DC_WHITE"}$%d.", price, HotelInfo[i][hMoney]);
			SendMes(playerid, COLOR_MAIN, strings);
		    return 1;
		}
		case did_hotel_take:
		{
			if(!response) return cmd_hotel(playerid, inputtext);
			new price;
			new i = PlayerInfo[playerid][pHotel];
			new money = HotelInfo[i][hMoney];
			if(sscanf(inputtext, "i", price))
			{
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета отеля\nТекущий баланс отеля: $%d.", HotelInfo[i][hMoney]);
				return SPD(playerid, did_hotel_take, DSI, "{"#DC_MAIN"}Снятие со счета отеля", totalstring, "Далее", "Отмена");
			}
			if(price < 1)
			{
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета отеля\nТекущий баланс отеля: $%d.", HotelInfo[i][hMoney]);
				return SPD(playerid, did_hotel_take, DSI, "{"#DC_MAIN"}Снятие со счета отеля", totalstring, "Далее", "Отмена");
			}
			if(money < price)
			{
			    SendMes(playerid, COLOR_DARKORANGE, "На вашем счету в отеле нет столько денег.");
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета отеля\nТекущий баланс отеля: $%d.", HotelInfo[i][hMoney]);
				return SPD(playerid, did_hotel_take, DSI, "{"#DC_MAIN"}Снятие со счета отеля", totalstring, "Далее", "Отмена");
			}
			HotelInfo[i][hMoney] -= price;
			ServerMoney(playerid, "Снял со счета отеля", price, 0);
			SaveHotel(i);
			format(strings, sizeof(strings), "Вы вывели со счета отеля {"#DC_WHITE"}$%d.{"#DC_MAIN"} Текущий баланс отеля: {"#DC_WHITE"}$%d.", price, HotelInfo[i][hMoney]);
			SendMes(playerid, COLOR_MAIN, strings);
		    return 1;
		}
		case did_hotel_sell:
		{
			if(!response) return 1;
			new i = PlayerInfo[playerid][pHotel];
			strmid(HotelInfo[i][hOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
			SendMes(playerid, COLOR_MAIN, "Вы продали отель за {"#DC_WHITE"}$%d.", HotelInfo[i][hPrice]+HotelInfo[i][hMoney]);
			ServerMoney(playerid, "Продажа отеля", HotelInfo[i][hPrice]+HotelInfo[i][hMoney], 0);
			format(strings, sizeof(strings), "Игрок %s продал отель %d за %d. Наличные: %d", PlayerInfo[playerid][pName], i, HotelInfo[i][hPrice]+HotelInfo[i][hMoney], PlayerInfo[playerid][pCash]);
			WriteLog("logs_sellhotel", strings);
			HotelInfo[i][hMoney] = 0;
			HotelInfo[i][hEnter] = 0;
			HotelInfo[i][hRoom] = 500;
			HotelInfo[i][hBlocking] = 0;
			HotelInfo[i][hTaxes] = 0;
			SaveHotel(i);
			UpdateHotel(i);
			PlayerInfo[playerid][pHotel] = 0;
		    return 1;
		}
		case did_menu:
		{
			if(!response) return 1;
			switch(listitem)
			{
				case 0: OnPlayerShowStats(playerid, playerid);
				case 1: SPD(playerid, did_help, DSL, "{"#DC_MAIN"}Помощь по игре", "{"#DC_MAIN"}1.{"#DC_WHITE"} О проекте\n{"#DC_MAIN"}2.{"#DC_WHITE"} FAQ\n{"#DC_MAIN"}3.{"#DC_WHITE"} С чего начать\n{"#DC_MAIN"}4.{"#DC_WHITE"} Термины\n{"#DC_MAIN"}5.{"#DC_WHITE"} Работы\n{"#DC_MAIN"}6.{"#DC_WHITE"} Рыбалка\n{"#DC_MAIN"}7.{"#DC_WHITE"} Охота\n{"#DC_MAIN"}8.{"#DC_WHITE"} Квесты\n{"#DC_MAIN"}9.{"#DC_WHITE"} Ежедневные задания", "Далее", "Отмена");
				case 2: SPD(playerid, did_command_list, DSL, "{"#DC_MAIN"}Команды сервера", "{"#DC_MAIN"}1.{"#DC_WHITE"} Основные команды\n{"#DC_MAIN"}2.{"#DC_WHITE"} Команды чата\n{"#DC_MAIN"}3.{"#DC_WHITE"} Команды работы\n{"#DC_MAIN"}4.{"#DC_WHITE"} Команды организации\n{"#DC_MAIN"}5.{"#DC_WHITE"} Команды семьи\n{"#DC_MAIN"}6.{"#DC_WHITE"} Команды имущества\n{"#DC_MAIN"}7.{"#DC_WHITE"} Команды транспорта\n{"#DC_MAIN"}8.{"#DC_WHITE"} Команды лидеров", "Далее", "Отмена");
				case 3: SPD(playerid, did_settings, DSL, "{"#DC_MAIN"}Настройки", "{"#DC_MAIN"}1.{"#DC_WHITE"} Настройки безопасности\n{"#DC_MAIN"}2.{"#DC_WHITE"} Настройки чата\n{"#DC_MAIN"}3.{"#DC_WHITE"} Настройки интерфейса\n{"#DC_MAIN"}4.{"#DC_WHITE"} Дополнительные настройки", "Далее", "Отмена");
				case 4: SPD(playerid, did_menu_admin, DSI, "{"#DC_MAIN"}Связь с администрацией", "{"#DC_WHITE"}Введите своё обращение к администрации:", "Далее", "Отмена");
				case 5: cmd_inv(playerid, "/0");
				case 6: cmd_jobskill(playerid, "/0");
				case 7: cmd_quest(playerid, "/0");
				case 8: cmd_task(playerid, "/0");
				case 9: cmd_achievement(playerid, "/0");
				case 10: cmd_bonus(playerid, "/0");
				case 11: SPD(playerid, did_menu_promocode, DSI, "{"#DC_MAIN"}Промокод", "{"#DC_WHITE"}Введите промокод:\n\nПри достижении 5-ого игрового уровня выдается 100000$.", "Далее", "Отмена");
				case 12: cmd_donate(playerid, "/0");
			}
			return 1;
		}
		case did_settings:
		{
			if(!response) return cmd_mm(playerid, inputtext);
			switch(listitem)
			{
			    case 0:
			    {
					totalstring = "";
					format(totalstring, sizeof(totalstring), "\
					{"#DC_MAIN"}1.{"#DC_WHITE"} E-mail: %s\n\
					{"#DC_MAIN"}2.{"#DC_WHITE"} Google Authenticator: %s", (!PlayerInfo[playerid][pEmail]) ? ("{"#DC_LRED"}Нет") : ("{"#DC_GREEN"}Подтвержден"), (!PlayerInfo[playerid][pGoogleStatus]) ? ("{"#DC_LRED"}Нет") : ("{"#DC_GREEN"}Привязан"));
					SPD(playerid, did_settingss, DSL, "{"#DC_MAIN"}Настройки безопасности", totalstring, "Далее", "Отмена");
			    }
				case 1:
				{
					totalstring = "";
					format(totalstring, sizeof(totalstring), "\
					{"#DC_MAIN"}1.{"#DC_WHITE"} Общий чат: %s\n\
					{"#DC_MAIN"}2.{"#DC_WHITE"} Сообщения от администрации: %s\n\
					{"#DC_MAIN"}3.{"#DC_WHITE"} Действия администрации: %s\n\
					{"#DC_MAIN"}4.{"#DC_WHITE"} Гос. новости: %s\n\
					{"#DC_MAIN"}5.{"#DC_WHITE"} Объявления: %s\n\
					{"#DC_MAIN"}6.{"#DC_WHITE"} Остальное: %s\n\
					{"#DC_MAIN"}7.{"#DC_WHITE"} Чат организации: %s\n\
					{"#DC_MAIN"}8.{"#DC_WHITE"} Чат работы: %s\n\
					{"#DC_MAIN"}9.{"#DC_WHITE"} Чат фермы: %s\n\
					{"#DC_MAIN"}10.{"#DC_WHITE"} Чат СТО: %s",
					(!PlayerInfo[playerid][pChatSetting][1]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pChatSetting][2]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pChatSetting][3]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pChatSetting][4]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pChatSetting][5]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pChatSetting][6]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pChatSetting][7]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pChatSetting][8]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pChatSetting][9]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pChatSetting][10]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"));
					SPD(playerid, did_settings_chat, DSL, "{"#DC_MAIN"}Настройки", totalstring, "Далее", "Отмена");
				}
				case 2:
				{
					totalstring = "";
					format(totalstring, sizeof(totalstring), "\
					{"#DC_MAIN"}1.{"#DC_WHITE"} Ники: %s\n\
					{"#DC_MAIN"}2.{"#DC_WHITE"} Инвентарь и крафт: %s\n\
					{"#DC_MAIN"}3.{"#DC_WHITE"} Информация о квестах: %s\n\
					{"#DC_MAIN"}4.{"#DC_WHITE"} Информация о заданиях: %s\n\
					{"#DC_MAIN"}5.{"#DC_WHITE"} Логотип: %s\n\
					{"#DC_MAIN"}6.{"#DC_WHITE"} Спидометр: %s",
					(!PlayerInfo[playerid][pInterfaceSetting][0]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pInterfaceSetting][1]) ? ("{"#DC_LRED"}Стандартный") : ("{"#DC_GREEN"}Инновационный"),
					(!PlayerInfo[playerid][pInterfaceSetting][2]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pInterfaceSetting][3]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pInterfaceSetting][4]) ? ("{"#DC_LRED"}Выключен") : ("{"#DC_GREEN"}Включен"),
					(!PlayerInfo[playerid][pInterfaceSetting][5]) ? ("{"#DC_LRED"}Стандартный") : ("{"#DC_GREEN"}Инновационный"));
					SPD(playerid, did_settings_interface, DSL, "{"#DC_MAIN"}Настройки", totalstring, "Далее", "Отмена");
				}
				case 3: SPD(playerid, did_settings_other, DSL, "{"#DC_MAIN"}Дополнительные настройки", "{"#DC_MAIN"}1.{"#DC_WHITE"} Сменить ник\n{"#DC_MAIN"}2.{"#DC_WHITE"} Сменить пароль\n{"#DC_MAIN"}3.{"#DC_WHITE"} Сменить пол\n{"#DC_MAIN"}4.{"#DC_WHITE"} Изменить место появления", "Далее", "Отмена");
			}
			return 1;
		}
		case did_settings_other:
		{
			if(!response) return SPD(playerid, did_settings, DSL, "{"#DC_MAIN"}Настройки", "{"#DC_MAIN"}1.{"#DC_WHITE"} Настройки безопасности\n{"#DC_MAIN"}2.{"#DC_WHITE"} Настройки чата\n{"#DC_MAIN"}3.{"#DC_WHITE"} Настройки интерфейса\n{"#DC_MAIN"}4.{"#DC_WHITE"} Дополнительные настройки", "Далее", "Отмена");
			switch(listitem)
			{
			    case 0: SPD(playerid, did_settings_other_name, DSI, "{"#DC_MAIN"}Сменить ник", "{"#DC_WHITE"}Введите желаемый ник:", "Далее", "Отмена");
			    case 1: SPD(playerid, did_settings_other_pass, DSI, "{"#DC_MAIN"}Смена пароля", "{"#DC_WHITE"}Введите ваш действующий пароль:", "Далее", "Отмена");
			    case 2: SPD(playerid, did_settings_other_sex, DSM, "{"#DC_MAIN"}Сменить пол", "{"#DC_WHITE"}Выберите пол персонажа:", "Мужской", "Женский");
			    case 3: SPD(playerid, did_settings_other_spawn, DSL, "{"#DC_MAIN"}Изменить место появления", "{"#DC_MAIN"}1.{"#DC_WHITE"} Стандарт\n{"#DC_MAIN"}2.{"#DC_WHITE"} Дом\n{"#DC_MAIN"}3.{"#DC_WHITE"} Отель\n{"#DC_MAIN"}4.{"#DC_WHITE"} Фракция\n{"#DC_MAIN"}5.{"#DC_WHITE"} Семейный дом", "Далее", "Отмена");
			}
			return 1;
		}
		case did_settings_other_name:
		{
		    if(!response) return SPD(playerid, did_settings_other, DSL, "{"#DC_MAIN"}Дополнительные настройки", "{"#DC_MAIN"}1.{"#DC_WHITE"} Сменить ник\n{"#DC_MAIN"}2.{"#DC_WHITE"} Сменить пароль\n{"#DC_MAIN"}3.{"#DC_WHITE"} Сменить пол\n{"#DC_MAIN"}4.{"#DC_WHITE"} Изменить место появления", "Далее", "Отмена");
			new name[32];
			if(sscanf(inputtext, "s[22]", name)) return SPD(playerid, did_settings_other_name, DSI, "{"#DC_MAIN"}Сменить ник", "{"#DC_WHITE"}Введите желаемый ник:", "Далее", "Отмена");
			if(!strlen(inputtext) || strlen(inputtext) < 8 || strlen(inputtext) > 20)  return SPD(playerid, did_settings_other_name, DSI, "{"#DC_MAIN"}Сменить ник", "{"#DC_WHITE"}Введите желаемый ник:\n\n{"#DC_RED"}Ошибка: Длина имени должна быть от 8 до 20 символов.", "Далее", "Отмена");
			if(strlen(name) < 8 || strlen(name) > 20) return SPD(playerid, did_settings_other_name, DSI, "{"#DC_MAIN"}Сменить ник", "{"#DC_WHITE"}Введите желаемый ник:\n\n{"#DC_RED"}Ошибка: Длина ника должна быть от 8 до 20 символов.", "Далее", "Отмена");
			if(IsTextInvalid(name)) return SPD(playerid, did_settings_other_name, DSI, "{"#DC_MAIN"}Сменить ник", "{"#DC_WHITE"}Введите желаемый ник:\n\n{"#DC_RED"}Ошибка: Вы ввели запрещенные символы.", "Далее", "Отмена");
			if(IsTextRussian(name)) return SPD(playerid, did_settings_other_name, DSI, "{"#DC_MAIN"}Сменить ник", "{"#DC_WHITE"}Введите желаемый ник:\n\n{"#DC_RED"}Ошибка: Вы использовали русские буквы.", "Далее", "Отмена");
			mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", name);
			mysql_tquery(mysql, request, "OnPlayerCheckNameInBase", "dds", playerid, 1, name);
			return 1;
		}
		case did_settings_other_pass:
		{
			if(!response) return SPD(playerid, did_settings_other, DSL, "{"#DC_MAIN"}Дополнительные настройки", "{"#DC_MAIN"}1.{"#DC_WHITE"} Сменить ник\n{"#DC_MAIN"}2.{"#DC_WHITE"} Сменить пароль\n{"#DC_MAIN"}3.{"#DC_WHITE"} Сменить пол\n{"#DC_MAIN"}4.{"#DC_WHITE"} Изменить место появления", "Далее", "Отмена");
			new password[32];
			if(sscanf(inputtext, "s[32]", password)) return SPD(playerid, did_settings_other_pass, DSI, "{"#DC_MAIN"}Смена пароля", "{"#DC_WHITE"}Введите ваш действующий пароль:", "Далее", "Отмена");
			if(!strcmp(MD5_Hash(password), PlayerInfo[playerid][pPassword], true)) SPD(playerid, did_settings_other_pass_new, DSI, "{"#DC_MAIN"}Смена пароля", "{"#DC_WHITE"}Введите новый пароль:", "Далее", "Отмена");
			else SPD(playerid, did_settings_other_pass, DSI, "{"#DC_MAIN"}Смена пароля", "{"#DC_WHITE"}Введите ваш действующий пароль:\n\n{"#DC_RED"}Ошибка: Вы ввели неверный пароль.", "Далее", "Отмена");
			return 1;
		}
		case did_settings_other_pass_new:
		{
			if(!response) return SPD(playerid, did_settings_other, DSL, "{"#DC_MAIN"}Дополнительные настройки", "{"#DC_MAIN"}1.{"#DC_WHITE"} Сменить ник\n{"#DC_MAIN"}2.{"#DC_WHITE"} Сменить пароль\n{"#DC_MAIN"}3.{"#DC_WHITE"} Сменить пол\n{"#DC_MAIN"}4.{"#DC_WHITE"} Изменить место появления", "Далее", "Отмена");
			new password[32];
			if(sscanf(inputtext, "s[32]", password)) return SPD(playerid, did_settings_other_pass_new, DSI, "{"#DC_MAIN"}Смена пароля", "{"#DC_WHITE"}Введите новый пароль:", "Далее", "Отмена");
			if(strlen(password) < 6 || strlen(password) > 16) return SPD(playerid, did_settings_other_pass_new, DSI, "{"#DC_MAIN"}Смена пароля", "{"#DC_WHITE"}Введите новый пароль:\n\n{"#DC_RED"}Ошибка: Количество символов в пароле должно быть от 8 до 16.", "Далее", "Отмена");
			if(IsTextInvalid(password)) return SPD(playerid, did_settings_other_pass_new, DSI, "{"#DC_MAIN"}Смена пароля", "{"#DC_WHITE"}Введите новый пароль:\n\n{"#DC_RED"}Ошибка: Вы ввели запрещенные символы.", "Далее", "Отмена");
			if(IsTextRussian(password)) return SPD(playerid, did_settings_other_pass_new, DSI, "{"#DC_MAIN"}Смена пароля", "{"#DC_WHITE"}Введите новый пароль:\n\n{"#DC_RED"}Ошибка: В пароле нельзя использовать русские буквы.", "Далее", "Отмена");
			format(PlayerInfo[playerid][pPassword], 128, MD5_Hash(password));
			SendMes(playerid, COLOR_MAIN, "Вы изменили пароль.");
			SendMes(playerid, COLOR_MAIN, "Новый пароль: {"#DC_WHITE"}%s", inputtext);
			SendMes(playerid, COLOR_MAIN, "Рекомендуется сделать скриншот. Клавиша: F8");
			SetPlayerStr(PlayerInfo[playerid][pID], "password", PlayerInfo[playerid][pPassword]);
			return 1;
		}
		case did_settings_other_sex:
		{
			new sex[12];
			if(!response) sex = "Женский", PlayerInfo[playerid][pSex] = 2;
			else sex = "Мужской", PlayerInfo[playerid][pSex] = 1;
			SendMes(playerid, COLOR_MAIN, "Вы изменили пол своего персонажа на {"#DC_WHITE"}%s.", sex);
			SetPlayerInt(PlayerInfo[playerid][pID], "sex", PlayerInfo[playerid][pSex]);
			return 1;
		}
		case did_settings_other_spawn:
		{
			if(!response) return SPD(playerid, did_settings_other, DSL, "{"#DC_MAIN"}Дополнительные настройки", "{"#DC_MAIN"}1.{"#DC_WHITE"} Сменить ник\n{"#DC_MAIN"}2.{"#DC_WHITE"} Сменить пароль\n{"#DC_MAIN"}3.{"#DC_WHITE"} Сменить пол\n{"#DC_MAIN"}4.{"#DC_WHITE"} Изменить место появления", "Далее", "Отмена");
			switch(listitem)
			{
				case 0:
				{
					PlayerInfo[playerid][pSpawnChange] = 0;
					SendMes(playerid, COLOR_MAIN, "Место респауна изменено. Теперь вы будете появляться на стандартном респауне.");
				}
				case 1:
				{
					if(PlayerInfo[playerid][pHouse] == 0)
					{
						SPD(playerid, did_settings_other_spawn, DSL, "{"#DC_MAIN"}Изменить место появления", "{"#DC_MAIN"}1.{"#DC_WHITE"} Стандарт\n{"#DC_MAIN"}2.{"#DC_WHITE"} Дом\n{"#DC_MAIN"}3.{"#DC_WHITE"} Отель\n{"#DC_MAIN"}4.{"#DC_WHITE"} Фракция\n{"#DC_MAIN"}5.{"#DC_WHITE"} Семейный дом", "Далее", "Отмена");
						return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет дома.");
					}
					PlayerInfo[playerid][pSpawnChange] = 1;
					SendMes(playerid, COLOR_MAIN, "Место респауна изменено. Теперь вы будете появляться в вашем доме.");
				}
				case 2:
				{
					if(PlayerInfo[playerid][pHotelID] == 0)
					{
						SPD(playerid, did_settings_other_spawn, DSL, "{"#DC_MAIN"}Изменить место появления", "{"#DC_MAIN"}1.{"#DC_WHITE"} Стандарт\n{"#DC_MAIN"}2.{"#DC_WHITE"} Дом\n{"#DC_MAIN"}3.{"#DC_WHITE"} Отель\n{"#DC_MAIN"}4.{"#DC_WHITE"} Фракция\n{"#DC_MAIN"}5.{"#DC_WHITE"} Семейный дом", "Далее", "Отмена");
						return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет номера в отеле.");
					}
					PlayerInfo[playerid][pSpawnChange] = 2;
					SendMes(playerid, COLOR_MAIN, "Место респауна изменено. Теперь вы будете появляться в отеле.");
				}
				case 3:
				{
					if(FracInfo[PlayerInfo[playerid][pMember]][fSpawn] == 0 || PlayerInfo[playerid][pMember] == 0)
					{
						SPD(playerid, did_settings_other_spawn, DSL, "{"#DC_MAIN"}Изменить место появления", "{"#DC_MAIN"}1.{"#DC_WHITE"} Стандарт\n{"#DC_MAIN"}2.{"#DC_WHITE"} Дом\n{"#DC_MAIN"}3.{"#DC_WHITE"} Отель\n{"#DC_MAIN"}4.{"#DC_WHITE"} Фракция\n{"#DC_MAIN"}5.{"#DC_WHITE"} Семейный дом", "Далее", "Отмена");
						return SendMes(playerid, COLOR_DARKORANGE, "У вашей фракции нет своего респауна.");
					}
					PlayerInfo[playerid][pSpawnChange] = 3;
					SendMes(playerid, COLOR_MAIN, "Место респауна изменено. Теперь вы будете появляться на респауне фракции.");
				}
				case 4:
				{
				    new idx = PlayerInfo[playerid][pFamily];
				    if(idx == 0)
					{
						SPD(playerid, did_settings_other_spawn, DSL, "{"#DC_MAIN"}Изменить место появления", "{"#DC_MAIN"}1.{"#DC_WHITE"} Стандарт\n{"#DC_MAIN"}2.{"#DC_WHITE"} Дом\n{"#DC_MAIN"}3.{"#DC_WHITE"} Отель\n{"#DC_MAIN"}4.{"#DC_WHITE"} Фракция\n{"#DC_MAIN"}5.{"#DC_WHITE"} Семейный дом", "Далее", "Отмена");
						return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в семье.");
				    }
					if(FamiliesInfo[idx][fHouse] == 0)
					{
						SPD(playerid, did_settings_other_spawn, DSL, "{"#DC_MAIN"}Изменить место появления", "{"#DC_MAIN"}1.{"#DC_WHITE"} Стандарт\n{"#DC_MAIN"}2.{"#DC_WHITE"} Дом\n{"#DC_MAIN"}3.{"#DC_WHITE"} Отель\n{"#DC_MAIN"}4.{"#DC_WHITE"} Фракция\n{"#DC_MAIN"}5.{"#DC_WHITE"} Семейный дом", "Далее", "Отмена");
						return SendMes(playerid, COLOR_DARKORANGE, "У Вашей семьи нет дома.");
				    }
					if(FamiliesInfo[idx][fHouseStatus] == 0)
					{
                        SPD(playerid, did_settings_other_spawn, DSL, "{"#DC_MAIN"}Изменить место появления", "{"#DC_MAIN"}1.{"#DC_WHITE"} Стандарт\n{"#DC_MAIN"}2.{"#DC_WHITE"} Дом\n{"#DC_MAIN"}3.{"#DC_WHITE"} Отель\n{"#DC_MAIN"}4.{"#DC_WHITE"} Фракция\n{"#DC_MAIN"}5.{"#DC_WHITE"} Семейный дом", "Далее", "Отмена");
						return SendMes(playerid, COLOR_DARKORANGE, "Владелец семьи не дал разрешение на появление в доме семьи.");
				    }
					PlayerInfo[playerid][pSpawnChange] = 4;
					SendMes(playerid, COLOR_MAIN, "Место респауна изменено. Теперь вы будете появляться в семейном доме.");
				}
			}
			SPD(playerid, did_settings_other, DSL, "{"#DC_MAIN"}Дополнительные настройки", "{"#DC_MAIN"}1.{"#DC_WHITE"} Сменить ник\n{"#DC_MAIN"}2.{"#DC_WHITE"} Сменить пароль\n{"#DC_MAIN"}3.{"#DC_WHITE"} Сменить пол\n{"#DC_MAIN"}4.{"#DC_WHITE"} Изменить место появления", "Далее", "Отмена");
			return 1;
		}
		case did_settings_chat:
		{
			if(!response) return SPD(playerid, did_settings, DSL, "{"#DC_MAIN"}Настройки", "{"#DC_MAIN"}1.{"#DC_WHITE"} Настройки безопасности\n{"#DC_MAIN"}2.{"#DC_WHITE"} Настройки чата\n{"#DC_MAIN"}3.{"#DC_WHITE"} Настройки интерфейса\n{"#DC_MAIN"}4.{"#DC_WHITE"} Дополнительные настройки", "Далее", "Отмена");
			switch(listitem)
			{
				case 0: if(PlayerInfo[playerid][pChatSetting][1] == 0) PlayerInfo[playerid][pChatSetting][1] = 1; else PlayerInfo[playerid][pChatSetting][1] = 0;
				case 1: if(PlayerInfo[playerid][pChatSetting][2] == 0) PlayerInfo[playerid][pChatSetting][2] = 1; else PlayerInfo[playerid][pChatSetting][2] = 0;
				case 2: if(PlayerInfo[playerid][pChatSetting][3] == 0) PlayerInfo[playerid][pChatSetting][3] = 1; else PlayerInfo[playerid][pChatSetting][3] = 0;
				case 3: if(PlayerInfo[playerid][pChatSetting][4] == 0) PlayerInfo[playerid][pChatSetting][4] = 1; else PlayerInfo[playerid][pChatSetting][4] = 0;
				case 4: if(PlayerInfo[playerid][pChatSetting][5] == 0) PlayerInfo[playerid][pChatSetting][5] = 1; else PlayerInfo[playerid][pChatSetting][5] = 0;
				case 5: if(PlayerInfo[playerid][pChatSetting][6] == 0) PlayerInfo[playerid][pChatSetting][6] = 1; else PlayerInfo[playerid][pChatSetting][6] = 0;
				case 6: if(PlayerInfo[playerid][pChatSetting][7] == 0) PlayerInfo[playerid][pChatSetting][7] = 1; else PlayerInfo[playerid][pChatSetting][7] = 0;
				case 7: if(PlayerInfo[playerid][pChatSetting][8] == 0) PlayerInfo[playerid][pChatSetting][8] = 1; else PlayerInfo[playerid][pChatSetting][8] = 0;
				case 8: if(PlayerInfo[playerid][pChatSetting][9] == 0) PlayerInfo[playerid][pChatSetting][9] = 1; else PlayerInfo[playerid][pChatSetting][9] = 0;
				case 9: if(PlayerInfo[playerid][pChatSetting][10] == 0) PlayerInfo[playerid][pChatSetting][10] = 1; else PlayerInfo[playerid][pChatSetting][10] = 0;
			}
			format(PlayerInfo[playerid][pChatSettings], 64, "1, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, 1, 1, 1",
			PlayerInfo[playerid][pChatSetting][1], PlayerInfo[playerid][pChatSetting][2], PlayerInfo[playerid][pChatSetting][3], PlayerInfo[playerid][pChatSetting][4],
			PlayerInfo[playerid][pChatSetting][5], PlayerInfo[playerid][pChatSetting][6], PlayerInfo[playerid][pChatSetting][7], PlayerInfo[playerid][pChatSetting][8],
			PlayerInfo[playerid][pChatSetting][9], PlayerInfo[playerid][pChatSetting][10]);
			SetPlayerStr(PlayerInfo[playerid][pID], "chatsettings", PlayerInfo[playerid][pChatSettings]);
			totalstring = "";
			format(totalstring, sizeof(totalstring), "\
			{"#DC_MAIN"}1.{"#DC_WHITE"} Общий чат: %s\n\
			{"#DC_MAIN"}2.{"#DC_WHITE"} Сообщения от администрации: %s\n\
			{"#DC_MAIN"}3.{"#DC_WHITE"} Действия администрации: %s\n\
			{"#DC_MAIN"}4.{"#DC_WHITE"} Гос. новости: %s\n\
			{"#DC_MAIN"}5.{"#DC_WHITE"} Объявления: %s\n\
			{"#DC_MAIN"}6.{"#DC_WHITE"} Остальное: %s\n\
			{"#DC_MAIN"}7.{"#DC_WHITE"} Чат организации: %s\n\
			{"#DC_MAIN"}8.{"#DC_WHITE"} Чат работы: %s\n\
			{"#DC_MAIN"}9.{"#DC_WHITE"} Чат фермы: %s\n\
			{"#DC_MAIN"}10.{"#DC_WHITE"} Чат СТО: %s",
			(!PlayerInfo[playerid][pChatSetting][1]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pChatSetting][2]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pChatSetting][3]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pChatSetting][4]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pChatSetting][5]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pChatSetting][6]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pChatSetting][7]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pChatSetting][8]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pChatSetting][9]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pChatSetting][10]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"));
			SPD(playerid, did_settings_chat, DSL, "{"#DC_MAIN"}Настройки", totalstring, "Далее", "Отмена");
			return 1;
		}
		case did_settings_interface:
		{
			if(!response) return SPD(playerid, did_settings, DSL, "{"#DC_MAIN"}Настройки", "{"#DC_MAIN"}1.{"#DC_WHITE"} Настройки безопасности\n{"#DC_MAIN"}2.{"#DC_WHITE"} Настройки чата\n{"#DC_MAIN"}3.{"#DC_WHITE"} Настройки интерфейса\n{"#DC_MAIN"}4.{"#DC_WHITE"} Дополнительные настройки", "Далее", "Отмена");
			switch(listitem)
			{
				case 0:
				{
					SendMes(playerid, COLOR_DARKORANGE, "Данная возможность временно недоступна.");
					/*if(PlayerInfo[playerid][pInterfaceSetting][0] == 0)
					{
						PlayerInfo[playerid][pInterfaceSetting][0] = 1;
						foreach(new i:Player) ShowPlayerNameTagForPlayer(playerid, i, 1);
					}
					else
					{
						PlayerInfo[playerid][pInterfaceSetting][0] = 0;
						foreach(new i:Player) ShowPlayerNameTagForPlayer(playerid, i, 0);
					}*/
				}
				case 1:
				{
					PlayerInfo[playerid][pInterfaceSetting][1] ^= 1;
				}
				case 2:
				{
					PlayerInfo[playerid][pInterfaceSetting][2] ^= 1;
				}
				case 3:
				{
					PlayerInfo[playerid][pInterfaceSetting][3] ^= 1;
				}
				case 4:
				{
					if(PlayerInfo[playerid][pInterfaceSetting][4] == 0)
					{
						PlayerInfo[playerid][pInterfaceSetting][4] = 1;
						for(new i = 0; i < 11; i++) TextDrawShowForPlayer(playerid, ServerLogo[i]);
					}
					else
					{
						PlayerInfo[playerid][pInterfaceSetting][4] = 0;
						for(new i = 0; i < 11; i++) TextDrawHideForPlayer(playerid, ServerLogo[i]);
					}
				}
				case 5:
				{
					if(PlayerInfo[playerid][pInterfaceSetting][5] == 0)
					{
						PlayerInfo[playerid][pInterfaceSetting][5] = 1;
						if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
						{
							for(new i = 0; i < 31; i++) PlayerTextDrawShow(playerid, Speedometer[playerid][i]);
							for(new i = 1; i < 5; i++) OnPlayerUpdateVehicleInfo(playerid, i);
						}
					}
					else
					{
						PlayerInfo[playerid][pInterfaceSetting][5] = 0;
						for(new i = 0; i < 31; i++) PlayerTextDrawHide(playerid, Speedometer[playerid][i]);
					}
				}
			}
			format(PlayerInfo[playerid][pInterfaceSettings], 32, "%d, %d, %d, %d, %d, %d",
			PlayerInfo[playerid][pInterfaceSetting][0], PlayerInfo[playerid][pInterfaceSetting][1], PlayerInfo[playerid][pInterfaceSetting][2], PlayerInfo[playerid][pInterfaceSetting][3], PlayerInfo[playerid][pInterfaceSetting][4], PlayerInfo[playerid][pInterfaceSetting][5]);
			SetPlayerStr(PlayerInfo[playerid][pID], "interfacesettings", PlayerInfo[playerid][pInterfaceSettings]);
			totalstring = "";
			format(totalstring, sizeof(totalstring), "\
			{"#DC_MAIN"}1.{"#DC_WHITE"} Ники: %s\n\
			{"#DC_MAIN"}2.{"#DC_WHITE"} Инвентарь и крафт: %s\n\
			{"#DC_MAIN"}3.{"#DC_WHITE"} Информация о квестах: %s\n\
			{"#DC_MAIN"}4.{"#DC_WHITE"} Информация о заданиях: %s\n\
			{"#DC_MAIN"}5.{"#DC_WHITE"} Логотип: %s\n\
			{"#DC_MAIN"}6.{"#DC_WHITE"} Спидометр: %s",
			(!PlayerInfo[playerid][pInterfaceSetting][0]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pInterfaceSetting][1]) ? ("{"#DC_LRED"}Стандартный") : ("{"#DC_GREEN"}Инновационный"),
			(!PlayerInfo[playerid][pInterfaceSetting][2]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pInterfaceSetting][3]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pInterfaceSetting][4]) ? ("{"#DC_LRED"}Выключен") : ("{"#DC_GREEN"}Включен"),
			(!PlayerInfo[playerid][pInterfaceSetting][5]) ? ("{"#DC_LRED"}Стандартный") : ("{"#DC_GREEN"}Инновационный"));
			SPD(playerid, did_settings_interface, DSL, "{"#DC_MAIN"}Настройки", totalstring, "Далее", "Отмена");
			return 1;
		}
		case did_settingss:
		{
			if(!response) return SPD(playerid, did_settings, DSL, "{"#DC_MAIN"}Настройки", "{"#DC_MAIN"}1.{"#DC_WHITE"} Настройки безопасности\n{"#DC_MAIN"}2.{"#DC_WHITE"} Настройки чата\n{"#DC_MAIN"}3.{"#DC_WHITE"} Настройки интерфейса\n{"#DC_MAIN"}4.{"#DC_WHITE"} Дополнительные настройки", "Далее", "Отмена");
			switch(listitem)
			{
				case 0:
				{
				    /*SendMes(playerid, COLOR_DARKORANGE, "Настройка E-Mail временно недоступна.");*/
					if(!PlayerInfo[playerid][pEmail]) SPD(playerid, did_settingss_email, DSI, "{"#DC_MAIN"}Электронная почта", "{"#DC_WHITE"}Пожалуйста введите свой действующий E-mail адрес!\n\nЭто поможет вам восстановить доступ к своему аккаунту в случае его утери.", "Далее", "Отмена");
					else
					{
						SendMes(playerid, COLOR_MAIN, "Ваш E-mail: {"#DC_WHITE"}%s", PlayerInfo[playerid][pEmail]);
						totalstring = "";
						format(totalstring, sizeof(totalstring), "\
						{"#DC_MAIN"}1.{"#DC_WHITE"} E-mail: %s\n\
						{"#DC_MAIN"}2.{"#DC_WHITE"} Google Authenticator: %s", (!PlayerInfo[playerid][pEmail]) ? ("{"#DC_LRED"}Нет") : ("{"#DC_GREEN"}Подтвержден"), (!PlayerInfo[playerid][pGoogleStatus]) ? ("{"#DC_LRED"}Нет") : ("{"#DC_GREEN"}Привязан"));
						return SPD(playerid, did_settingss, DSL, "{"#DC_MAIN"}Настройки безопасности", totalstring, "Далее", "Отмена");
					}
				}
				case 1:
				{
				    /*SendMes(playerid, COLOR_DARKORANGE, "Настройка Google Authenticator временно недоступна.");*/
				    if(!PlayerInfo[playerid][pEmail]) return SendMes(playerid, COLOR_DARKORANGE, "Настройка Google Authenticator возможна при подтвержденном E-Mail.");
					if(PlayerInfo[playerid][pGoogleStatus])
					{
						SendMes(playerid, COLOR_DARKORANGE, "У Вас уже настроен Google Authenticator.");
						totalstring = "";
						format(totalstring, sizeof(totalstring), "\
						{"#DC_MAIN"}1.{"#DC_WHITE"} E-mail: %s\n\
						{"#DC_MAIN"}2.{"#DC_WHITE"} Google Authenticator: %s", (!PlayerInfo[playerid][pEmail]) ? ("{"#DC_LRED"}Нет") : ("{"#DC_GREEN"}Подтвержден"), (!PlayerInfo[playerid][pGoogleStatus]) ? ("{"#DC_LRED"}Нет") : ("{"#DC_GREEN"}Привязан"));
						return SPD(playerid, did_settingss, DSL, "{"#DC_MAIN"}Настройки безопасности", totalstring, "Далее", "Отмена");
					} else SPD(playerid, did_settingss_google, DSM, "{"#DC_MAIN"}Google Authenticator", "{"#DC_WHITE"}Приветствую Вас, друг. Google Authenticator - это инструмент от Google\nдля защиты разнообразных аккаунтов.\nМы подключили его, чтобы ты мог лучше обезопасить свой игровой\nаккаунт. Перейти к настройке Google Authenticator?", "Далее", "Отмена");
				}
			}
			return 1;
		}
		case did_settingss_email:
		{
			if(!response)
			{
				totalstring = "";
				format(totalstring, sizeof(totalstring), "\
				{"#DC_MAIN"}1.{"#DC_WHITE"} E-mail: %s\n\
				{"#DC_MAIN"}2.{"#DC_WHITE"} Google Authenticator: %s", (!PlayerInfo[playerid][pEmail]) ? ("{"#DC_LRED"}Нет") : ("{"#DC_GREEN"}Подтвержден"), (!PlayerInfo[playerid][pGoogleStatus]) ? ("{"#DC_LRED"}Нет") : ("{"#DC_GREEN"}Привязан"));
				return SPD(playerid, did_settingss, DSL, "{"#DC_MAIN"}Настройки безопасности", totalstring, "Далее", "Отмена");
			}
   			if(strlen(inputtext) < 1 || strlen(inputtext) > 36) return SPD(playerid, did_settingss_email, DSI, "{"#DC_MAIN"}Электронная почта", "{"#DC_WHITE"}Пожалуйста введите свой E-mail адрес!\nНа него придет письмо с кодом подтверждения.\
			\n\nЭто поможет вам восстановить доступ к своему аккаунту в случае его утери.", "Далее", "Отмена");
			for(new i = strlen(inputtext); i != 0; --i)
			switch(inputtext[i])
			{
				case 'А'..'Я', 'а'..'я', ' ': return SPD(playerid, did_settingss_email, DSI, "{"#DC_MAIN"}Электронная почта", "{"#DC_WHITE"}Пожалуйста введите действующий свой E-mail адрес!\nНа него будет отправлено письмо с кодом подтверждения.\
				\n\nЭто поможет вам восстановить доступ к своему аккаунту в случае его утери.\n\n{"#DC_RED"}Ошибка: Такого E-mail не существует!", "Далее", "Отмена");
			}
			if(strfind(inputtext, "@", true) == -1 || strfind(inputtext, ".", true) == -1)
			{
				return SPD(playerid, did_settingss_email, DSI, "{"#DC_MAIN"}Электронная почта", "{"#DC_WHITE"}Пожалуйста введите свой действующий E-mail адрес!\nНа него будет отправлено письмо с кодом подтверждения.\
				\n\nЭто поможет вам восстановить доступ к своему аккаунту в случае его утери.\n\n{"#DC_RED"}Ошибка: Такого E-mail не существует!", "Далее", "Отмена");
			}
			if(IsAEmailInUsed(inputtext)) return SPD(playerid, did_settingss_email, DSI, "{"#DC_MAIN"}Электронная почта", "{"#DC_WHITE"}Пожалуйста введите свой действующий E-mail адрес!\nНа него будет отправлено письмо с кодом подтверждения.\
			\n\nЭто поможет вам восстановить доступ к своему аккаунту в случае его утери.\n\n{"#DC_RED"}Ошибка: Этот E-mail уже используется на нашем сервере!", "Далее", "Отмена");
			format(EmailTemp[playerid], 64, inputtext);
			new code = 1000 + random(9999);
			new tempquery[256];
			format(tempquery, sizeof(tempquery), "hdbdisjguakfb.gta-server.ru/good_mailer/44send_mail.php?text=Ваш код: %d&subject=Подтверждение E-Mail&to=%s", code, inputtext);
			HTTP(playerid, HTTP_POST, tempquery, "", "CheckHTTPResponse");
			ReMailCode[playerid] = code;
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}На E-mail %s отправлено письмо с кодом подтверждения.\nВведите этот код в диалоговое окно.\n\nЧтобы свернуть игру нажмите Alt + Tab.", EmailTemp[playerid]);
   			SPD(playerid, did_settingss_email_confirm, DSI, "{"#DC_MAIN"}Подтверждение E-mail", totalstring, "Далее", "Отмена");
			return 1;
		}
		case did_settingss_email_confirm:
		{
			if(!response) return SPD(playerid, did_settingss_email, DSI, "{"#DC_MAIN"}Электронная почта", "{"#DC_WHITE"}Пожалуйста введите свой E-mail адрес!\nНа него придет письмо с кодом подтверждения.\
			\n\nЭто поможет вам восстановить доступ к своему аккаунту в случае его утери.", "Далее", "Отмена");
			if(!strlen(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не ввели код.");
			if(strval(inputtext) == ReMailCode[playerid])
			{
			    format(PlayerInfo[playerid][pEmail], 64, EmailTemp[playerid]);
			    SetPlayerStr(PlayerInfo[playerid][pID], "mail", PlayerInfo[playerid][pEmail]);
			    SendMes(playerid, COLOR_MAIN, "Вы привязали E-mail {"#DC_WHITE"}%s{"#DC_MAIN"} к учетной записи.", PlayerInfo[playerid][pEmail]);
			}
			else SendMes(playerid, COLOR_DARKORANGE, "Вы ввели неверный код.");
			return 1;
		}
		case did_settingss_google:
		{
		    if(!response)
		    {
		        totalstring = "";
				format(totalstring, sizeof(totalstring), "\
				{"#DC_MAIN"}1.{"#DC_WHITE"} E-mail: %s\n\
				{"#DC_MAIN"}2.{"#DC_WHITE"} Google Authenticator: %s", (!PlayerInfo[playerid][pEmail]) ? ("{"#DC_LRED"}Нет") : ("{"#DC_GREEN"}Подтвержден"), (!PlayerInfo[playerid][pGoogleStatus]) ? ("{"#DC_LRED"}Нет") : ("{"#DC_GREEN"}Привязан"));
				return 1;
		    }
		    SPD(playerid, did_settingss_google_confirm, DSM, "{"#DC_MAIN"}Google Authenticator", "{"#DC_WHITE"}\
		    Сейчас начнется настройка Google Authenticator, перед настройкой\n\
			необходимо прочитать информацию до конца:\n\n\
			{"#DC_MAIN"}1.{"#DC_WHITE"} При нажатии кнопки {"#DC_MAIN"}\"Далее\"{"#DC_WHITE"} на экране появится секретный ключ.\n\
			Запомните и запишите его, восстановлению он не подлежит.\n\n\
			{"#DC_MAIN"}2.{"#DC_WHITE"} Далее необходимо зайти в магазин приложений (в зависимости от ОС,\n\
			это может быть Play Market, App Store, Microsoft Store).\n\n\
			{"#DC_MAIN"}3.{"#DC_WHITE"} В поиске найдите Authenticator от Google и установите его.\n\n\
			{"#DC_MAIN"}4.{"#DC_WHITE"} Зайдите в приложение и нажмите на кнопку в виде плюса, или же\n\
			нажмите \"Ввести код\".\n\n\
			{"#DC_MAIN"}5.{"#DC_WHITE"} В поле {"#DC_MAIN"}\"Код\"{"#DC_WHITE"} нужно ввести тот самый секретный ключ, который Вы\n\
			записали ранее. В поле {"#DC_MAIN"}\"Имя\"{"#DC_WHITE"} можно ввести любую информацию, она\n\
			никак не повлияет на степень защиты.\n\n\
			{"#DC_MAIN"}6.{"#DC_WHITE"} Подтвердите всю информацию и нажмите {"#DC_MAIN"}\"Сохранить\".{"#DC_WHITE"}\n\n\
			{"#DC_MAIN"}7.{"#DC_WHITE"} Поздравляем, настройка завершена. Теперь при входе на сервер\n\
			или настройки {"#DC_MAIN"}\"Google Authenticator\"{"#DC_WHITE"} нужно будет вводить код из\n\
			приложения - это комбинация цифр, меняющаяся каждые 30 секунд в меню\n\
			приложения.", "Далее", "Отмена");
			return 1;
		}
		case did_settingss_google_confirm:
		{
		    if(!response) return SPD(playerid, did_settingss_google, DSM, "{"#DC_MAIN"}Google Authenticator", "{"#DC_WHITE"}Приветствую Вас, друг. Google Authenticator - это инструмент от Google\nдля защиты разнообразных аккаунтов.\nМы подключили его, чтобы ты мог лучше обезопасить свой игровой\nаккаунт. Перейти к настройке Google Authenticator?", "Далее", "Отмена");
		    if(strlen(PlayerInfo[playerid][pGoogle]) < 5)
            {
                new passwo11rd[17];
                for(new i; i < 17; i ++) strcat(passwo11rd, gBase64Alphabet[random(sizeof(gBase64Alphabet)-1)]);
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Ваш код: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\nСохраните его в свой Authenticator.\n\n{"#DC_LRED"}Обратите внимание, код восстановить нельзя.", passwo11rd);
	   			SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Google Authenticator", totalstring, "ОК", "");
                PlayerInfo[playerid][pGoogleStatus] = 1;
                PlayerInfo[playerid][pGoogleType] = 2;
                format(PlayerInfo[playerid][pGoogle], sizeof(passwo11rd), passwo11rd);
                SetPlayerInt(PlayerInfo[playerid][pID], "otp_status", PlayerInfo[playerid][pGoogleStatus]);
                SetPlayerInt(PlayerInfo[playerid][pID], "otp_auth_type", PlayerInfo[playerid][pGoogleType]);
                SetPlayerStr(PlayerInfo[playerid][pID], "otp_token", PlayerInfo[playerid][pGoogle]);
                return 1;
            }
		}
		case did_menu_question:
		{
		    if(!response) return cmd_mm(playerid, inputtext);
			if(QuestionFlood[playerid] != 0)
			{
				SendMes(playerid, COLOR_DARKORANGE, "Отправлять вопрос можно раз в 40 секунд.");
				return cmd_mm(playerid, inputtext);
			}
			if(PlayerInfo[playerid][pMute] > 0)
			{
				SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
				return cmd_mm(playerid, inputtext);
			}
			if(!strlen(inputtext)) return SPD(playerid, did_menu_question, DSI, "{"#DC_MAIN"}Задать вопрос помощникам", "{"#DC_WHITE"}Введите свой вопрос помощникам:", "Далее", "Отмена");
			format(strings, sizeof(strings), "[S] [ASK] %s [%d]: {"#DC_ADMIN_THREE"}%s", PlayerInfo[playerid][pName], playerid, inputtext);
			SendSupportMessage(COLOR_ADMIN_TWO, strings), SendAdminMessage(COLOR_ADMIN_TWO, strings, 9);
			format(strings, sizeof(strings), "Вопрос от %s [%d]: {"#DC_WHITE"}%s", PlayerInfo[playerid][pName], playerid, inputtext);
			SendMes(playerid, COLOR_MAIN, strings);
			SendMes(playerid, COLOR_MAIN, "Ваш вопрос был отправлен помощникам.");
			QuestionFlood[playerid] = 40;
			return 1;
		}
		case did_menu_admin:
		{
		    if(!response) return cmd_mm(playerid, inputtext);
			if(ReportFlood[playerid] != 0)
			{
				SendMes(playerid, COLOR_DARKORANGE, "Отправлять обращение можно раз в 2 минуты.");
				return cmd_mm(playerid, inputtext);
			}
			if(PlayerInfo[playerid][pMute] > 0)
			{
				SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
				return cmd_mm(playerid, inputtext);
			}
			if(!strlen(inputtext)) return SPD(playerid, did_menu_admin, DSI, "{"#DC_MAIN"}Связь с администрацией", "{"#DC_WHITE"}Введите свое обращение к администрации:", "Далее", "Отмена");
			format(strings, sizeof(strings), "[A] [REPORT] %s [%d]: {"#DC_ADMIN_THREE"}%s", PlayerInfo[playerid][pName], playerid, inputtext);
			SendAdminMessage(COLOR_ADMIN_TWO, strings, 4);
			format(strings, sizeof(strings), "Обращение от %s [%d]: {"#DC_WHITE"}%s", PlayerInfo[playerid][pName], playerid, inputtext);
			SendMes(playerid, COLOR_MAIN, strings);
			SendMes(playerid, COLOR_MAIN, "Ваше обращение было отправлено администрации.");
			ReportFlood[playerid] = 120;
			for(new i = 1; i < MAX_ADMIN_REPORTS; i++)
		    {
		        if(aReportInfo[i][rPlayerID] != -1) continue;
		        aReportInfo[i][rIsTooked] = false;
		        aReportInfo[i][rID] = i;
		        aReportInfo[i][rPlayerID] = playerid;
		        format(strings, sizeof(strings), "%s", inputtext);
		        strmid(aReportInfo[i][rText], strings, 0, MAX_ADMIN_REPORT_TEXT_LENGTH, MAX_ADMIN_REPORT_TEXT_LENGTH);
		        aReportInfo[i][rWhenWroted_Time] = gettime();
		        new hour, minute, second;
		        gettime(hour, minute, second);
		        format(strings, sizeof(strings), "%02d:%02d:%02d", hour, minute, second);
		        strmid(aReportInfo[i][rWhenWroted_Text], strings, 0, 10, 10);
		        SetPVarInt(playerid, "report_id", i);
		        totaladminreports++;
		        break;
		    }
			return 1;
		}
		case did_menu_promocode:
		{
		    if(!response) return cmd_mm(playerid, inputtext);
			if(strcmp(PlayerInfo[playerid][pPromocode], "None", true)) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже активирован промокод или Вы указали имя пригласившего Вас на сервер.");
			if(!strlen(inputtext)) return SPD(playerid, did_menu_promocode, DSI, "{"#DC_MAIN"}Промокод", "{"#DC_WHITE"}Введите промокод:\n\nПри достижении 5-ого игрового уровня выдается 100000$.", "Далее", "Отмена");
			if(strlen(inputtext) < 1 || strlen(inputtext) > MAX_PLAYER_NAME) return SPD(playerid, did_menu_promocode, DSI, "{"#DC_MAIN"}Промокод", "{"#DC_WHITE"}Введите промокод:\n\nПри достижении 5-ого игрового уровня выдается 100000$.", "Далее", "Отмена");
			if(IsTextRussian(inputtext))
			{
				SPD(playerid, did_menu_promocode, DSI, "{"#DC_MAIN"}Промокод", "{"#DC_WHITE"}Введите промокод:\n\nПри достижении 5-ого игрового уровня выдается 100000$.\n{"#DC_RED"}Ошибка: Вы использовали русские символы.", "Далее", "Отмена");
			}
			if(!strcmp(inputtext, "#LRP", true) && PlayerInfo[playerid][pLevel] > 1) return SendMes(playerid, COLOR_DARKORANGE, "Промокодом \"#LRP\" можно воспользоваться на первом уровне.");
			new count = 0;
            for(new i; i < sizeof(PromocodeInfo); i++) if(!strcmp(inputtext, PromocodeInfo[i], true)) count++;
			if(count == 0) return SPD(playerid, did_menu_promocode, DSI, "{"#DC_MAIN"}Промокод", "{"#DC_WHITE"}Введите промокод:\n\nПри достижении 5-ого игрового уровня выдается 100000$.\n{"#DC_RED"}Ошибка: Такого промокода нет.", "Далее", "Отмена");
			strmid(PlayerInfo[playerid][pPromocode], inputtext, 0, strlen(inputtext), MAX_PLAYER_NAME);
			SetPlayerStr(PlayerInfo[playerid][pID], "promocode", PlayerInfo[playerid][pPromocode]);
			if(!strcmp(PlayerInfo[playerid][pPromocode], "#LRP", true))
			{
			    for(new i = 0; i < 5; i++)
				{
					PlayerInfo[playerid][pLic][i] = 1;
				}
				PlayerInfo[playerid][pLevel] = 2;
				SetPlayerScore(playerid, PlayerInfo[playerid][pLevel]);
				PlayerInfo[playerid][pLic][0] = 1;
				SendMes(playerid, COLOR_MAIN, "За регистрацию с промокодом {"#DC_WHITE"}\"#LRP\"{"#DC_MAIN"} Вам выдан второй игровой уровень и комплект лицензий.");
				SendMes(playerid, COLOR_MAIN, "При достижении пятого игрового уровня Вам начислится {"#DC_WHITE"}$100000.");
			}
			SendMes(playerid, COLOR_MAIN, "Вы активировали промокод или указали имя пригласившего Вас на сервер.");
		    return 1;
		}
		case did_command_list:
		{
			if(!response) return cmd_mm(playerid, inputtext);
			switch(listitem)
			{
			  	case 0:
				{
					SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Основные команды", "\
					{"#DC_MAIN"}/id{"#DC_WHITE"} - найти игрока\n\
					{"#DC_MAIN"}/online{"#DC_WHITE"} - онлайн сервера\n\
					{"#DC_MAIN"}/yes{"#DC_WHITE"} - принять предложение\n\
					{"#DC_MAIN"}/no{"#DC_WHITE"} - отказаться от предложение\n\
					{"#DC_MAIN"}/c(all){"#DC_WHITE"} - позвонить игроку\n\
					{"#DC_MAIN"}/p(ickup){"#DC_WHITE"} - ответить на звонок игрока\n\
					{"#DC_MAIN"}/h(angup){"#DC_WHITE"} - закончить разговор с игроком\n\
					{"#DC_MAIN"}/sms{"#DC_WHITE"} - отправить SMS игроку\n\
					{"#DC_MAIN"}/phone{"#DC_WHITE"} - посмотреть номер телефона игрока\n\
					{"#DC_MAIN"}/sellsim{"#DC_WHITE"} - продать номер телефона игроку\n\
					{"#DC_MAIN"}/dir{"#DC_WHITE"} - телефонная книга\n\
					{"#DC_MAIN"}/pay{"#DC_WHITE"} - передать деньги игроку\n\
					{"#DC_MAIN"}/hi{"#DC_WHITE"} - поздороваться с игроком\n\
					{"#DC_MAIN"}/kiss{"#DC_WHITE"} - поцеловаться с игроком\n\
					{"#DC_MAIN"}/sex{"#DC_WHITE"} - заняться сексом с игроком\n\
					{"#DC_MAIN"}/married{"#DC_WHITE"} - пожениться с игроком\n\
					{"#DC_MAIN"}/unmarried{"#DC_WHITE"} - развестись с игроком\n\
					{"#DC_MAIN"}/gps{"#DC_WHITE"} - GPS навигатор\n\
					{"#DC_MAIN"}/inv{"#DC_WHITE"} - инвентарь\n\
					{"#DC_MAIN"}/craft{"#DC_WHITE"} - крафт\n\
					{"#DC_MAIN"}/fish{"#DC_WHITE"} - меню рыбалки\n\
					{"#DC_MAIN"}/hunting{"#DC_WHITE"} - меню охоты\n\
					{"#DC_MAIN"}/quest{"#DC_WHITE"} - список квестов\n\
					{"#DC_MAIN"}/priz{"#DC_WHITE"} - список призов\n\
					{"#DC_MAIN"}/animlist{"#DC_WHITE"} - список анимации\n\
					{"#DC_MAIN"}/pass{"#DC_WHITE"} - показать паспорт игроку\n\
					{"#DC_MAIN"}/lic{"#DC_WHITE"} - показать список лицензий игроку\n\
					{"#DC_MAIN"}/showmc{"#DC_WHITE"} - показать мед. карту игроку\n\
					{"#DC_MAIN"}/satiety{"#DC_WHITE"} - узнать уровень сытости\n\
					{"#DC_MAIN"}/force{"#DC_WHITE"} - узнать уровень силы\n\
					{"#DC_MAIN"}/namestore{"#DC_WHITE"} - посмотреть историю изменения ников игрока\n\
					{"#DC_MAIN"}/ad{"#DC_WHITE"} - подать объявление в радиостанцию\n\
					{"#DC_MAIN"}/ratingnews{"#DC_WHITE"} - статистика радиостанций\n\
					{"#DC_MAIN"}/radio{"#DC_WHITE"} - включить/выключить радиостанцию\n\
					{"#DC_MAIN"}/gate{"#DC_WHITE"} - открыть/закрыть шлагбаум\n\
					{"#DC_MAIN"}/setspawn{"#DC_WHITE"} - изменить место появления\n\
					{"#DC_MAIN"}/end{"#DC_WHITE"} - снять с себя все объекты выданные администрацией\n\
					{"#DC_MAIN"}/quitjob{"#DC_WHITE"} - уволиться с работы\n\
					{"#DC_MAIN"}/unrent{"#DC_WHITE"} - отменить аренду транспорта\n\
					{"#DC_MAIN"}/report{"#DC_WHITE"} - связь с администрацией\n\
					{"#DC_MAIN"}/leaders{"#DC_WHITE"} - список лидеров\n\
					{"#DC_MAIN"}/members{"#DC_WHITE"} - состав организации\n\
					{"#DC_MAIN"}/picklist{"#DC_WHITE"} - результаты выборов\n\
					{"#DC_MAIN"}/mask{"#DC_WHITE"} - надеть/снять маску\n\
					{"#DC_MAIN"}/healme{"#DC_WHITE"} - использовать аптечку\n\
					{"#DC_MAIN"}/set{"#DC_WHITE"} - начать/завершить тренировку в спортзале\n\
					{"#DC_MAIN"}/reset{"#DC_WHITE"} - положить спортивный инвентарь в спортзале\n\
					{"#DC_MAIN"}/warninfo{"#DC_WHITE"} - информация о предупреждениях на аккаунте\n\
					{"#DC_MAIN"}/go{"#DC_WHITE"} - телепортироваться на стандартное мероприятие\n\
					{"#DC_MAIN"}/gotomp{"#DC_WHITE"} - телепортироваться на мероприятие от администрации\n\
					{"#DC_MAIN"}/hospital{"#DC_WHITE"} - занять койку в больнице\n\
					{"#DC_MAIN"}/binder{"#DC_WHITE"} - настройки биндера\n\
					{"#DC_MAIN"}/b{"#DC_WHITE"} - использовать биндер", "Далее", "Отмена");
					/*{"#DC_MAIN"}/music{"#DC_WHITE"} - онлайн радио\n\*/
					/*{"#DC_MAIN"}/ask{"#DC_WHITE"} - задать вопрос помощникам\n\*/
					/*{"#DC_MAIN"}/supports{"#DC_WHITE"} - список помощников\n\*/
					/*{"#DC_MAIN"}/style{"#DC_WHITE"} - изменить стиль боя\n\*/
					/*{"#DC_MAIN"}/skill{"#DC_WHITE"} - показать навыки владения оружием игроку\n\*/
				}
				case 1:
				{
					SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Команды чата", "\
					{"#DC_MAIN"}/me{"#DC_WHITE"} - действие от 1-ого лица\n\
					{"#DC_MAIN"}/do{"#DC_WHITE"} - действие от 3-его лица\n\
					{"#DC_MAIN"}/try{"#DC_WHITE"} - попытка совершить действие\n\
					{"#DC_MAIN"}/todo{"#DC_WHITE"} - сообщение от 1-ого лица с действием\n\
					{"#DC_MAIN"}/gov{"#DC_WHITE"} - гос. новости\n\
					{"#DC_MAIN"}/s{"#DC_WHITE"} - кричать\n\
					{"#DC_MAIN"}/n{"#DC_WHITE"} - OOC чат\n\
					{"#DC_MAIN"}/r{"#DC_WHITE"} - чат организации\n\
					{"#DC_MAIN"}/rb{"#DC_WHITE"} - OOC чат организации\n\
					{"#DC_MAIN"}/d{"#DC_WHITE"} - чат департамента\n\
					{"#DC_MAIN"}/db{"#DC_WHITE"} - OOC чат департамента\n\
					{"#DC_MAIN"}/lc{"#DC_WHITE"} - чат лидеров\n\
					{"#DC_MAIN"}/lcb{"#DC_WHITE"} - OOC чат лидеров\n\
					{"#DC_MAIN"}/w{"#DC_WHITE"} - шептать", "Далее", "Отмена");
				}
				case 2:
				{
					if(PlayerInfo[playerid][pJob] == 0) return SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Команды работы", "{"#DC_WHITE"}Вы нигде не работаете.", "Далее", "Отмена");
					if(PlayerInfo[playerid][pJob] == J_TAXI)
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Работа водителя такси", "\
						{"#DC_MAIN"}/start{"#DC_WHITE"} - начать/завершить рабочий день", "Далее", "Отмена");
					}
					if(PlayerInfo[playerid][pJob] == J_BUS)
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Работа водителя автобуса", "\
						{"#DC_MAIN"}/start{"#DC_WHITE"} - начать/завершить рабочий день", "Далее", "Отмена");
					}
					if(PlayerInfo[playerid][pJob] == J_MECHANIC)
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Работа автомеханика", "\
						{"#DC_MAIN"}/start{"#DC_WHITE"} - начать/завершить рабочий день\n\
						{"#DC_MAIN"}/gcontract{"#DC_WHITE"} - подписать/расторгнуть контракт с заправкой\n\
						{"#DC_MAIN"}/refill{"#DC_WHITE"} - заправить транспорт\n\
						{"#DC_MAIN"}/repair{"#DC_WHITE"} - отремонтировать транспорт", "Далее", "Отмена");
					}
					if(PlayerInfo[playerid][pJob] == J_PRODUCT)
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Работа развозчика продуктов", "\
						{"#DC_MAIN"}/pmenu{"#DC_WHITE"} - основное меню", "Далее", "Отмена");
					}
					if(PlayerInfo[playerid][pJob] == J_FIREMAN)
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Работа пожарного", "\
						У Вашей работы нет команд.", "Далее", "Отмена");
					}
					if(PlayerInfo[playerid][pJob] == J_ROADMAN)
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Работа в дорожной службе", "\
						{"#DC_WHITE"}У Вашей работы нет команд.", "Готово", "Назад");
					}
					if(PlayerInfo[playerid][pJob] == J_PILOT)
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Работа пилота", "\
						{"#DC_MAIN"}/job{"#DC_WHITE"} - начать/закончить работу", "Готово", "Назад");
					}
					if(PlayerInfo[playerid][pJob] == J_PIZZABOY)
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Работа развозчика пиццы", "\
						У Вашей работы нет команд.", "Далее", "Отмена");
					}
					if(PlayerInfo[playerid][pJob] == J_POSTMAN)
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Работа почтальона", "\
						У Вашей работы нет команд.", "Далее", "Отмена");
					}
					if(PlayerInfo[playerid][pJob] == J_TAX)
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Работа работника налоговой", "\
						У Вашей работы нет команд.", "Далее", "Отмена");
					}
					if(PlayerInfo[playerid][pJob] == J_COLLECTOR)
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Работа инкассатора", "\
						У Вашей работы нет команд.", "Далее", "Отмена");
					}
					if(PlayerInfo[playerid][pJob] == J_FLOWERSBOY)
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Работа развозчика цветов", "\
						У Вашей работы нет команд.", "Далее", "Отмена");
					}
					if(PlayerInfo[playerid][pJob] == J_TRUCK)
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Работа дальнобойщика", "\
						У Вашей работы нет команд.", "Далее", "Отмена");
					}
				}
				case 3:
				{
					if(PlayerInfo[playerid][pMember] == 0) return SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Команды организации", "{"#DC_WHITE"}Вы не состоите в организации.", "Далее", "Отмена");
					if(IsAMayor(playerid))
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Мэрия", "\
						{"#DC_MAIN"}/tazer{"#DC_WHITE"} - оглушить игрока\n\
						{"#DC_MAIN"}/hold{"#DC_WHITE"} - вести игрока за собой\n\
						{"#DC_MAIN"}/release{"#DC_WHITE"} - освободить игрока из тюрьмы\n\
						{"#DC_MAIN"}/jailinfo{"#DC_WHITE"} - список игроков под стражей\n\
						{"#DC_MAIN"}/debtorsell{"#DC_WHITE"} - опечатать имущество\n\
						{"#DC_MAIN"}/debtorlist{"#DC_WHITE"} - имущество должников\n\
						{"#DC_MAIN"}/exchequer{"#DC_WHITE"} - казна\n\
						{"#DC_MAIN"}/myfstats{"#DC_WHITE"} - статистика организации", "Далее", "Отмена");
					}
					if(IsACop(playerid))
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Полиция и ФБР", "\
						{"#DC_MAIN"}/ud{"#DC_WHITE"} - предъявить удостоверение игроку\n\
						{"#DC_MAIN"}/take{"#DC_WHITE"} - изъять что-либо у игрока\n\
						{"#DC_MAIN"}/dplant{"#DC_WHITE"} - сорвать куст марихуаны\n\
						{"#DC_MAIN"}/clear{"#DC_WHITE"} - снять розыск с игрока\n\
						{"#DC_MAIN"}/hold{"#DC_WHITE"} - вести игрока за собой\n\
						{"#DC_MAIN"}/jailinfo{"#DC_WHITE"} - список игроков под стражей\n\
						{"#DC_MAIN"}/mdc{"#DC_WHITE"} - полицейский компьютер\n\
						{"#DC_MAIN"}/unmask{"#DC_WHITE"} - снять маску с игрока\n\
						{"#DC_MAIN"}/m{"#DC_WHITE"} - мегафон\n\
						{"#DC_MAIN"}/incar{"#DC_WHITE"} - посадить игрока в транспорт\n\
						{"#DC_MAIN"}/patrul{"#DC_WHITE"} - начать патруль\n\
						{"#DC_MAIN"}/pursuit{"#DC_WHITE"} - начать погоню за игроком\n\
						{"#DC_MAIN"}/search{"#DC_WHITE"} - найти игрока\n\
						{"#DC_MAIN"}/tazer{"#DC_WHITE"} - оглушить игрока\n\
						{"#DC_MAIN"}/su{"#DC_WHITE"} - объявить игрока в розыск\n\
						{"#DC_MAIN"}/fine{"#DC_WHITE"} - выписать штраф игроку\n\
						{"#DC_MAIN"}/frisk{"#DC_WHITE"} - обыскать игрока\n\
						{"#DC_MAIN"}/arrest{"#DC_WHITE"} - произвести арест игрока\n\
						{"#DC_MAIN"}/cuff{"#DC_WHITE"} - надеть наручники на игрока\n\
						{"#DC_MAIN"}/uncuff{"#DC_WHITE"} - снять наручники с игрока\n\
						{"#DC_MAIN"}/wanted{"#DC_WHITE"} - список игроков в розыске\n\
						{"#DC_MAIN"}/ram{"#DC_WHITE"} - выбить дверь в дом\n\
						{"#DC_MAIN"}/break{"#DC_WHITE"} - установить объекты\n\
						{"#DC_MAIN"}/dbreak{"#DC_WHITE"} - удалить объекты\n\
						{"#DC_MAIN"}/tie{"#DC_WHITE"} - связать игрока\n\
						{"#DC_MAIN"}/untie{"#DC_WHITE"} - развязать игрока\n\
						{"#DC_MAIN"}/myfstats{"#DC_WHITE"} - статистика организации", "Далее", "Отмена");
					}
					if(IsAMedic(playerid))
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Больница", "\
						{"#DC_MAIN"}/heal{"#DC_WHITE"} - вылечить игрока\n\
						{"#DC_MAIN"}/aninjection{"#DC_WHITE"} - сделать укол от болезни игроку\n\
						{"#DC_MAIN"}/addiction{"#DC_WHITE"} - сделать укол от наркозависимости игроку\n\
						{"#DC_MAIN"}/givemc{"#DC_WHITE"} - выдать мед. карту игроку\n\
						{"#DC_MAIN"}/sethealcost{"#DC_WHITE"} - изменить стоимость лечения\n\
						{"#DC_MAIN"}/sethealdrugs{"#DC_WHITE"} - изменить стоимость лечения от наркозависимости\n\
						{"#DC_MAIN"}/sethealdisease{"#DC_WHITE"} - изменить стоимость лечения болезней\n\
						{"#DC_MAIN"}/m{"#DC_WHITE"} - мегафон\n\
						{"#DC_MAIN"}/myfstats{"#DC_WHITE"} - статистика организации", "Далее", "Отмена");
					}
					if(IsAArmy(playerid))
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Армия", "\
						{"#DC_MAIN"}/ud{"#DC_WHITE"} - предъявить удостоверение игроку\n\
						{"#DC_MAIN"}/load{"#DC_WHITE"} - начать загрузку боеприпасов\n\
						{"#DC_MAIN"}/unload{"#DC_WHITE"} - начать разгрузку боеприпасов\n\
						{"#DC_MAIN"}/unmask{"#DC_WHITE"} - снять маску с игрока\n\
						{"#DC_MAIN"}/m{"#DC_WHITE"} - мегафон\n\
						{"#DC_MAIN"}/myfstats{"#DC_WHITE"} - статистика организации", "Далее", "Отмена");
					}
					if(IsANews(playerid))
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Радиоцентр", "\
						{"#DC_MAIN"}/news{"#DC_WHITE"} - новостное меню\n\
						{"#DC_MAIN"}/edit{"#DC_WHITE"} - редактирования объявлений\n\
						{"#DC_MAIN"}/invitebc{"#DC_WHITE"} - пригласить/выгнать игрока с эфира\n\
						{"#DC_MAIN"}/myfstats{"#DC_WHITE"} - статистика организации", "Далее", "Отмена");
					}
					if(IsAGang(playerid))
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Банда", "\
						{"#DC_MAIN"}/load{"#DC_WHITE"} - начать загрузку боеприпасов\n\
						{"#DC_MAIN"}/unload{"#DC_WHITE"} - начать разгрузку боеприпасов\n\
						{"#DC_MAIN"}/plant{"#DC_WHITE"} - посадить семена марихуаны\n\
						{"#DC_MAIN"}/harvest{"#DC_WHITE"} - сорвать куст марихуаны\n\
						{"#DC_MAIN"}/usedrugs{"#DC_WHITE"} - употребить наркотики\n\
						{"#DC_MAIN"}/selldrugs{"#DC_WHITE"} - продать наркотики\n\
						{"#DC_MAIN"}/sellgun{"#DC_WHITE"} - продать оружие\n\
						{"#DC_MAIN"}/capture{"#DC_WHITE"} - начать захват территории\n\
						{"#DC_MAIN"}/makegun{"#DC_WHITE"} - собрать оружие из материалов\n\
						{"#DC_MAIN"}/myfstats{"#DC_WHITE"} - статистика организации", "Далее", "Отмена");
					}
					if(IsAMafia(playerid))
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Мафия", "\
						{"#DC_MAIN"}/load{"#DC_WHITE"} - начать загрузку боеприпасов\n\
						{"#DC_MAIN"}/unload{"#DC_WHITE"} - начать разгрузку боеприпасов\n\
						{"#DC_MAIN"}/tie{"#DC_WHITE"} - связать игрока\n\
						{"#DC_MAIN"}/untie{"#DC_WHITE"} - развязать игрока\n\
						{"#DC_MAIN"}/getmafia{"#DC_WHITE"} - взять имущество под свой контроль\n\
						{"#DC_MAIN"}/mafialist{"#DC_WHITE"} - список имущества под контролем мафии\n\
						{"#DC_MAIN"}/mafiawar{"#DC_WHITE"} - начать захват имущества\n\
						{"#DC_MAIN"}/incar{"#DC_WHITE"} - посадить игрока в транспорт\n\
						{"#DC_MAIN"}/makegun{"#DC_WHITE"} - собрать оружие из материалов\n\
						{"#DC_MAIN"}/myfstats{"#DC_WHITE"} - статистика организации", "Далее", "Отмена");
					}
					if(IsABiker(playerid))
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Байкеры", "\
						{"#DC_MAIN"}/load{"#DC_WHITE"} - начать загрузку боеприпасов\n\
						{"#DC_MAIN"}/unload{"#DC_WHITE"} - начать разгрузку боеприпасов\n\
						{"#DC_MAIN"}/getbiker{"#DC_WHITE"} - взять имущество под свой контроль\n\
						{"#DC_MAIN"}/bikerlist{"#DC_WHITE"} - список имущества под контролем байкеров\n\
						{"#DC_MAIN"}/bikerwar{"#DC_WHITE"} - начать захват имущества\n\
						{"#DC_MAIN"}/makegun{"#DC_WHITE"} - собрать оружие из материалов\n\
						{"#DC_MAIN"}/myfstats{"#DC_WHITE"} - статистика организации", "Далее", "Отмена");
					}
					if(IsADriving(playerid))
					{
						SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Автошкола", "\
						{"#DC_MAIN"}/selllic{"#DC_WHITE"} - продать лицензии игроку\n\
						{"#DC_MAIN"}/myfstats{"#DC_WHITE"} - статистика организации", "Далее", "Отмена");
					}
				}
				case 4:
				{
					SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Команды семьи", "{"#DC_WHITE"}\
                    {"#DC_MAIN"}/family{"#DC_WHITE"} - панель семьи\n\
                    {"#DC_MAIN"}/finvite{"#DC_WHITE"} - пригласить игрока в семью\n\
                    {"#DC_MAIN"}/funinvite{"#DC_WHITE"} - выгнать игрока из семьи\n\
                    {"#DC_MAIN"}/offfuninvite{"#DC_WHITE"} - выгнать игрока из семьи\n\
                    {"#DC_MAIN"}/fgiverank{"#DC_WHITE"} - изменить ранг игрока в семье\n\
                    {"#DC_MAIN"}/fc{"#DC_WHITE"} - IC чат семьи\n\
                    {"#DC_MAIN"}/fcb{"#DC_WHITE"} - OOC чат семьи", "Далее", "Отмена");
				}
				case 5:
				{
					SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Команды имущества", "{"#DC_WHITE"}\
					Дом:\n\
					{"#DC_MAIN"}/house{"#DC_WHITE"} - панель дома\n\
                    {"#DC_MAIN"}/sellmyhouse{"#DC_WHITE"} - продать дом\n\
                    {"#DC_MAIN"}/safe{"#DC_WHITE"} - сейф дома\n\
                    {"#DC_MAIN"}/store{"#DC_WHITE"} - шкаф дома\n\
                    {"#DC_MAIN"}/buyinterior{"#DC_WHITE"} - приобрести интерьер дома\n\n\
					Бизнес:\n\
                    {"#DC_MAIN"}/biz{"#DC_WHITE"} - панель бизнеса\n\
                    {"#DC_MAIN"}/buybiz{"#DC_WHITE"} - купить бизнес\n\
                    {"#DC_MAIN"}/sellmybiz{"#DC_WHITE"} - продать бизнес\n\
                    {"#DC_MAIN"}/bizprofit{"#DC_WHITE"} - прибыль бизнеса\n\n\
					Отель:\n\
                    {"#DC_MAIN"}/hotel{"#DC_WHITE"} - панель отеля\n\
                    {"#DC_MAIN"}/buyhotel{"#DC_WHITE"} - купить отель\n\
                    {"#DC_MAIN"}/sellmyhotel{"#DC_WHITE"} - продать отель\n\
                    {"#DC_MAIN"}/hotelprofit{"#DC_WHITE"} - прибыль отеля\n\n\
					Ферма:\n\
                    {"#DC_MAIN"}/farm{"#DC_WHITE"} - панель фермы\n\
                    {"#DC_MAIN"}/buyfarm{"#DC_WHITE"} - купить ферму\n\
                    {"#DC_MAIN"}/finfo{"#DC_WHITE"} - информация о ферме\n\
                    {"#DC_MAIN"}/ffixcar{"#DC_WHITE"} - доставить транспорт к ферме\n\
                    {"#DC_MAIN"}/funload{"#DC_WHITE"} - разгрузить урожай фермы\n\
                    {"#DC_MAIN"}/pmenu{"#DC_WHITE"} - меню продуктов фермы\n\
                    {"#DC_MAIN"}/fs{"#DC_WHITE"} - IC чат фермы\n\
                    {"#DC_MAIN"}/fsb{"#DC_WHITE"} - OOC чат фермы\n\n\
					СТО:\n\
                    {"#DC_MAIN"}/service{"#DC_WHITE"} - панель СТО\n\
                    {"#DC_MAIN"}/buyservice{"#DC_WHITE"} - купить СТО\n\
                    {"#DC_MAIN"}/sinfo{"#DC_WHITE"} - информация о СТО\n\
                    {"#DC_MAIN"}/tune{"#DC_WHITE"} - меню тюнинга\n\
                    {"#DC_MAIN"}/f{"#DC_WHITE"} - IC чат СТО\n\
                    {"#DC_MAIN"}/fb{"#DC_WHITE"} - OOC чат СТО", "Далее", "Отмена");
				}
				case 6:
				{
					SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Команды транспорта", "{"#DC_WHITE"}\
                    {"#DC_MAIN"}/en(gine){"#DC_WHITE"} - завести/заглушить транспорт\n\
                    {"#DC_MAIN"}/lig(ht){"#DC_WHITE"} - включить/выключить фары на транспортном средстве\n\
                    {"#DC_MAIN"}/lim(it){"#DC_WHITE"} - включить/выключить ограничитель скорости на транспортном средстве\n\
                    {"#DC_MAIN"}/lock{"#DC_WHITE"} - открыть/закрыть транспорт\n\
                    {"#DC_MAIN"}/car{"#DC_WHITE"} - личный транспорт\n\
                    {"#DC_MAIN"}/fixcar{"#DC_WHITE"} - эвакуировать транспорт\n\
                    {"#DC_MAIN"}/park{"#DC_WHITE"} - припарковать транспорт\n\
                    {"#DC_MAIN"}/sellcar{"#DC_WHITE"} - продать транспорт\n\
                    {"#DC_MAIN"}/sellmycar{"#DC_WHITE"} - продать транспорт игроку\n\
                    {"#DC_MAIN"}/carpass{"#DC_WHITE"} - паспорт транспорта\n\
                    {"#DC_MAIN"}/trunk{"#DC_WHITE"} - багажник транспорта\n\
                    {"#DC_MAIN"}/fill{"#DC_WHITE"} - заправить транспорт на заправке\n\
                    {"#DC_MAIN"}/fillcar{"#DC_WHITE"} - заправить транспорт с помощью канистры\n\
                    {"#DC_MAIN"}/getfuel{"#DC_WHITE"} - приобрести канистру на заправке\n\
                    {"#DC_MAIN"}/repaircar{"#DC_WHITE"} - отремонтировать транспорт с помощью рем. комплекта\n\
                    {"#DC_MAIN"}/givecarkey{"#DC_WHITE"} - дать игроку ключи от транспорта\n\
                    {"#DC_MAIN"}/getcarkey{"#DC_WHITE"} - забрать у игрока ключи от транспорта\n\
                    {"#DC_MAIN"}/eject{"#DC_WHITE"} - выбросить игрока из транспорта", "Далее", "Отмена");
				}
				case 7:
				{
					SPD(playerid, did_command_list_back, DSM, "{"#DC_MAIN"}Команды лидеров", "\
					{"#DC_MAIN"}/fraction{"#DC_WHITE"} - панель организации\n\
					{"#DC_MAIN"}/invite{"#DC_WHITE"} - пригласить игрока в организацию\n\
					{"#DC_MAIN"}/uninvite{"#DC_WHITE"} - выгнать игрока из организации\n\
					{"#DC_MAIN"}/offuninvite{"#DC_WHITE"} - выгнать игрока из организации\n\
					{"#DC_MAIN"}/giverank{"#DC_WHITE"} - изменить ранг игрока\n\
					{"#DC_MAIN"}/giveskin{"#DC_WHITE"} - изменить скин игрока\n\
					{"#DC_MAIN"}/fracwarn{"#DC_WHITE"} - выдать выговор игроку\n\
					{"#DC_MAIN"}/fracunwarn{"#DC_WHITE"} - снять выговор с игрока\n\
					{"#DC_MAIN"}/offfracwarn{"#DC_WHITE"} - выдать выговор игроку\n\
					{"#DC_MAIN"}/offfracunwarn{"#DC_WHITE"} - снять выговор с игрока\n\
					{"#DC_MAIN"}/black{"#DC_WHITE"} - добавить игрока в чёрный список\n\
					{"#DC_MAIN"}/unblack{"#DC_WHITE"} - убрать игрока из чёрного списка\n\
					{"#DC_MAIN"}/fstats{"#DC_WHITE"} - статистика игрока\n\
					{"#DC_MAIN"}/skip{"#DC_WHITE"} - выдать / забрать пропуск", "Далее", "Отмена");
				}
			}
			return 1;
		}
		case did_command_list_back:
		{
			if(!response) return SPD(playerid, did_command_list, DSL, "{"#DC_MAIN"}Команды сервера", "{"#DC_MAIN"}1.{"#DC_WHITE"} Основные команды\n{"#DC_MAIN"}2.{"#DC_WHITE"} Команды чата\n{"#DC_MAIN"}3.{"#DC_WHITE"} Команды работы\n{"#DC_MAIN"}4.{"#DC_WHITE"} Команды организации\n{"#DC_MAIN"}5.{"#DC_WHITE"} Команды семьи\n{"#DC_MAIN"}6.{"#DC_WHITE"} Команды имущества\n{"#DC_MAIN"}7.{"#DC_WHITE"} Команды транспорта\n{"#DC_MAIN"}8.{"#DC_WHITE"} Команды лидеров", "Далее", "Отмена");
		}
		case did_help:
		{
			if(!response)
			{
				if(IsAPPos(playerid, 15.0, 1160.5316,-1769.9084,16.5938)) return 1;
				else return cmd_mm(playerid, inputtext);
			}
			switch(listitem)
			{
				case 0:
				{
				    totalstring = "";
		    		for(new i; i < sizeof(ProjectInfoList); i++) strcat(totalstring, ProjectInfoList[i]);
			    	SPD(playerid, did_help_back, DSM, "{"#DC_MAIN"}О проекте", totalstring, "Далее", "Отмена");
				}
				case 1:
				{
				    bigstring = "";
		    		for(new i; i < sizeof(FAQInfoList); i++) strcat(bigstring, FAQInfoList[i]);
			    	SPD(playerid, did_help_back, DSM, "{"#DC_MAIN"}FAQ", bigstring, "Далее", "Отмена");
				}
				case 2:
				{
				    totalstring = "";
		    		for(new i; i < sizeof(StartInfoList); i++) strcat(totalstring, StartInfoList[i]);
			    	SPD(playerid, did_help_back, DSM, "{"#DC_MAIN"}С чего начать", totalstring, "Далее", "Отмена");
				}
				case 3:
				{
				    bigstring = "";
		    		for(new i; i < sizeof(TermsInfoList); i++) strcat(bigstring, TermsInfoList[i]);
			    	SPD(playerid, did_help_back, DSM, "{"#DC_MAIN"}Термины", bigstring, "Далее", "Отмена");
				}
				case 4:
				{
					SPD(playerid, did_help_job, DSL, "{"#DC_MAIN"}Работы", "\
					{"#DC_MAIN"}1.{"#DC_WHITE"} Ремонтник железнодорожных путей\n{"#DC_MAIN"}2.{"#DC_WHITE"} Дворник\n{"#DC_MAIN"}3.{"#DC_WHITE"} Садовник\n{"#DC_MAIN"}4.{"#DC_WHITE"} Уборщик пляжа\n{"#DC_MAIN"}5.{"#DC_WHITE"} Работник зоопарка\n{"#DC_MAIN"}6.{"#DC_WHITE"} Волонтер\n{"#DC_MAIN"}7.{"#DC_WHITE"} Закладчик\n{"#DC_MAIN"}8.{"#DC_WHITE"} Золотодобытчик\n{"#DC_MAIN"}9.{"#DC_WHITE"} Строитель\n\
					{"#DC_MAIN"}10.{"#DC_WHITE"} Развозчик пиццы\n{"#DC_MAIN"}11.{"#DC_WHITE"} Почтальон\n{"#DC_MAIN"}12.{"#DC_WHITE"} Развозчик цветов\n{"#DC_MAIN"}13.{"#DC_WHITE"} Водитель такси\n{"#DC_MAIN"}14.{"#DC_WHITE"} Водитель автобуса\n{"#DC_MAIN"}15.{"#DC_WHITE"} Автомеханик\n{"#DC_MAIN"}16.{"#DC_WHITE"} Развозчик продуктов\n{"#DC_MAIN"}17.{"#DC_WHITE"} Ремонтник дорог\n{"#DC_MAIN"}18.{"#DC_WHITE"} Инкассатор\n{"#DC_MAIN"}19.{"#DC_WHITE"} Пилот\n{"#DC_MAIN"}20.{"#DC_WHITE"} Работник налоговой\n{"#DC_MAIN"}21.{"#DC_WHITE"} Пожарный\n{"#DC_MAIN"}22.{"#DC_WHITE"} Дальнобойщик", "Далее", "Отмена");
				}
				case 5:
				{
				    totalstring = "";
				    for(new i; i < sizeof(FishInfoList); i++) strcat(totalstring, FishInfoList[i]);
			 		SPD(playerid, did_help_back, DSM, "{"#DC_MAIN"}Рыбалка", totalstring, "Далее", "Отмена");
				}
				case 6:
				{
				    totalstring = "";
					for(new i; i < sizeof(HuntingInfoList); i++) strcat(totalstring, HuntingInfoList[i]);
			 		SPD(playerid, did_help_back, DSM, "{"#DC_MAIN"}Охота", totalstring, "Далее", "Отмена");
				}
				case 7:
				{
		            SPD(playerid, did_help_back, DSM, "{"#DC_MAIN"}Квесты", "\
					{"#DC_WHITE"}Привет! Квесты - это система сюжетных заданий, которые помогут тебе последовательно освоиться с системами сервера.\n\n\
					Выполняй их, по мере прохождения сюжета ты будешь получать награды: в сумме ты можешь получить до {"#DC_MAIN"}$500000.{"#DC_WHITE"}\n\
					Но ты не можешь отменить какой-то квест и перейти к другому: ты должен сначала выполнить предыдущее задание, поэтому только самые упорные достигнут миллиона.\n\n\
					Если ты начал выполнение задания, но не завершил его, не беспокойся. Твой прогресс сохранится, поэтому ты можешь проходить квесты каждый день небольшими порциями,\n\
					так будет даже приятнее. Вспомнить о текущем задании ты можешь с помощью команды {"#DC_MAIN"}/quest,{"#DC_WHITE"} либо у {"#DC_MAIN"}квестовых персонажей{"#DC_WHITE"} — твоих ботов-помощников.\n\n\
					А при прохождении всех квестов ты получишь несколько наград: {"#DC_MAIN"}$250000, 250 DONATE-COINS и несколько уникальных аксессуаров.", "Далее", "Отмена");
				}
				case 8:
				{
		            SPD(playerid, did_help_back, DSM, "{"#DC_MAIN"}Ежедневные задания", "\
					{"#DC_WHITE"}Помимо интересных квестов на нашем сервере присутствует система ежедневных заданий.\n\n\
					Каждый день Вы сможете выполнять множество заданий, наградой за выполнение которых станут игровой опыт, игровая валюта, а также {"#DC_MAIN"}DONATE{"#DC_WHITE"} COINS.\n\n\
					Каждые сутки ровно в полночь Ваш прогресс по прохождению заданий обнуляется, а значит, их можно выполнить снова на следующий день, заработав на этом.\n\n\
					Список заданий очень разнообразен, поэтому скучно точно не будет. Выполняйте их и прокачивайте свой аккаунт ещё быстрее!\n\n\
		 			Посмотреть все задания ты можешь с помощью команды {"#DC_MAIN"}/task,{"#DC_WHITE"} либо у {"#DC_MAIN"}квестовых персонажей{"#DC_WHITE"} — твоих ботов-помощников.", "Далее", "Отмена");
				}
			}
			return 1;
		}
		case did_help_job:
		{
			if(!response) return SPD(playerid, did_help, DSL, "{"#DC_MAIN"}Помощь", "{"#DC_MAIN"}1.{"#DC_WHITE"} О проекте\n{"#DC_MAIN"}2.{"#DC_WHITE"} FAQ\n{"#DC_MAIN"}3.{"#DC_WHITE"} С чего начать\n{"#DC_MAIN"}4.{"#DC_WHITE"} Термины\n{"#DC_MAIN"}5.{"#DC_WHITE"} Работы\n{"#DC_MAIN"}6.{"#DC_WHITE"} Рыбалка\n{"#DC_MAIN"}7.{"#DC_WHITE"} Охота\n{"#DC_MAIN"}8.{"#DC_WHITE"} Квесты\n{"#DC_MAIN"}9.{"#DC_WHITE"} Ежедневные задания", "Далее", "Отмена");
			switch(listitem)
			{
			    case 0:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(TrainmanInfoList); i++) strcat(totalstring, TrainmanInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Ремонтник железнодорожных путей", totalstring, "Далее", "Отмена");
			    }
			    case 1:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(JanitorInfoList); i++) strcat(totalstring, JanitorInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Дворник", totalstring, "Далее", "Отмена");
			    }
			    case 2:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(GardenerInfoList); i++) strcat(totalstring, GardenerInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Садовник", totalstring, "Далее", "Отмена");
			    }
			    case 3:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(CleanerInfoList); i++) strcat(totalstring, CleanerInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Уборщик пляжа", totalstring, "Далее", "Отмена");
			    }
			    case 4:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(ZooWorkerInfoList); i++) strcat(totalstring, ZooWorkerInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Работник зоопарка", totalstring, "Далее", "Отмена");
			    }
			    case 5:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(VolunteerInfoList); i++) strcat(totalstring, VolunteerInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Волонтер", totalstring, "Далее", "Отмена");
			    }
			    case 6:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(DrugMakerInfoList); i++) strcat(totalstring, DrugMakerInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Закладчик", totalstring, "Далее", "Отмена");
			    }
			    case 7:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(GoldMinerInfoList); i++) strcat(totalstring, GoldMinerInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Золотодобытчик", totalstring, "Далее", "Отмена");
			    }
			    case 8:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(ConstructionInfoList); i++) strcat(totalstring, ConstructionInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Строитель", totalstring, "Далее", "Отмена");
			    }
			    case 9:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(PizzaboyInfoList); i++) strcat(totalstring, PizzaboyInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Развозчик пиццы", totalstring, "Далее", "Отмена");
			    }
			    case 10:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(PostmanInfoList); i++) strcat(totalstring, PostmanInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Почтальон", totalstring, "Далее", "Отмена");
			    }
			    case 11:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(FlowersboyInfoList); i++) strcat(totalstring, FlowersboyInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Развозчик цветов", totalstring, "Далее", "Отмена");
			    }
			    case 12:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(TaxiInfoList); i++) strcat(totalstring, TaxiInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Водитель такси", totalstring, "Далее", "Отмена");
			    }
			    case 13:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(BusInfoList); i++) strcat(totalstring, BusInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Водитель автобуса", totalstring, "Далее", "Отмена");
			    }
			    case 14:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(MechanicInfoList); i++) strcat(totalstring, MechanicInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Автомеханик", totalstring, "Далее", "Отмена");
			    }
			    case 15:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(ProductInfoList); i++) strcat(totalstring, ProductInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Развозчик продуктов", totalstring, "Далее", "Отмена");
			    }
			    case 16:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(RoadmanInfoList); i++) strcat(totalstring, RoadmanInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Работник дорожной службы", totalstring, "Далее", "Отмена");
			    }
			    case 17:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(CollectorInfoList); i++) strcat(totalstring, CollectorInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Инкассатор", totalstring, "Далее", "Отмена");
			    }
			    case 18:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(PilotInfoList); i++) strcat(totalstring, PilotInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Пилот", totalstring, "Далее", "Отмена");
			    }
			    case 19:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(TaxInfoList); i++) strcat(totalstring, TaxInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Работник налоговой", totalstring, "Далее", "Отмена");
			    }
			    case 20:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(FireInfoList); i++) strcat(totalstring, FireInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Пожарный", totalstring, "Далее", "Отмена");
			    }
			    case 21:
			    {
			        totalstring = "";
		    		for(new i; i < sizeof(TruckInfoList); i++) strcat(totalstring, TruckInfoList[i]);
			    	SPD(playerid, did_help_job_back, DSM, "{"#DC_MAIN"}Дальнобойщик", totalstring, "Далее", "Отмена");
			    }
			}
			return 1;
		}
		case did_help_back:
		{
			if(!response) return SPD(playerid, did_help, DSL, "{"#DC_MAIN"}Помощь", "{"#DC_MAIN"}1.{"#DC_WHITE"} О проекте\n{"#DC_MAIN"}2.{"#DC_WHITE"} FAQ\n{"#DC_MAIN"}3.{"#DC_WHITE"} С чего начать\n{"#DC_MAIN"}4.{"#DC_WHITE"} Термины\n{"#DC_MAIN"}5.{"#DC_WHITE"} Работы\n{"#DC_MAIN"}6.{"#DC_WHITE"} Рыбалка\n{"#DC_MAIN"}7.{"#DC_WHITE"} Охота\n{"#DC_MAIN"}8.{"#DC_WHITE"} Квесты\n{"#DC_MAIN"}9.{"#DC_WHITE"} Ежедневные задания", "Далее", "Отмена");
		}
		case did_help_job_back:
		{
		    if(!response)
		    {
				SPD(playerid, did_help_job, DSL, "{"#DC_MAIN"}Работы", "\
				{"#DC_MAIN"}1.{"#DC_WHITE"} Ремонтник железнодорожных путей\n{"#DC_MAIN"}2.{"#DC_WHITE"} Дворник\n{"#DC_MAIN"}3.{"#DC_WHITE"} Садовник\n{"#DC_MAIN"}4.{"#DC_WHITE"} Уборщик пляжа\n{"#DC_MAIN"}5.{"#DC_WHITE"} Работник зоопарка\n{"#DC_MAIN"}6.{"#DC_WHITE"} Волонтер\n{"#DC_MAIN"}7.{"#DC_WHITE"} Закладчик\n{"#DC_MAIN"}8.{"#DC_WHITE"} Золотодобытчик\n{"#DC_MAIN"}9.{"#DC_WHITE"} Строитель\n\
				{"#DC_MAIN"}10.{"#DC_WHITE"} Развозчик пиццы\n{"#DC_MAIN"}11.{"#DC_WHITE"} Почтальон\n{"#DC_MAIN"}12.{"#DC_WHITE"} Развозчик цветов\n{"#DC_MAIN"}13.{"#DC_WHITE"} Водитель такси\n{"#DC_MAIN"}14.{"#DC_WHITE"} Водитель автобуса\n{"#DC_MAIN"}15.{"#DC_WHITE"} Автомеханик\n{"#DC_MAIN"}16.{"#DC_WHITE"} Развозчик продуктов\n{"#DC_MAIN"}17.{"#DC_WHITE"} Ремонтник дорог\n{"#DC_MAIN"}18.{"#DC_WHITE"} Инкассатор\n{"#DC_MAIN"}19.{"#DC_WHITE"} Пилот\n{"#DC_MAIN"}20.{"#DC_WHITE"} Работник налоговой\n{"#DC_MAIN"}21.{"#DC_WHITE"} Пожарный\n{"#DC_MAIN"}22.{"#DC_WHITE"} Дальнобойщик", "Далее", "Отмена");
				return 1;
			}
		}
		case did_fish:
		{
			if(!response) return 1;
		    switch(listitem)
		    {
		        case 0:
		        {
					if(HuntingStart[playerid]) return SendMes(playerid, COLOR_DARKORANGE, "Для начала закончите охотиться.");
					if(FishStart[playerid] == 0) StartFish(playerid);
					else StopFish(playerid, 0);
		        }
		        case 1: 
		        {
		            if(PlayerInfo[playerid][pInventoryItems][TYPE_FISH] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет рыбы.");
					SendMes(playerid, COLOR_MAIN, "Вы съели рыбу.");
					PlayerInfo[playerid][pInventoryItems][TYPE_FISH]--;
					SavePlayerInventoryItems(playerid, TYPE_FISH);
					if(PlayerInfo[playerid][pSatiety] + 25 > 100)
					{
						SetSatiety(playerid, 100);
				   		SendMes(playerid, COLOR_MAIN, "Вы полностью наелись.");
					}
					else
					{
						SetSatiety(playerid, PlayerInfo[playerid][pSatiety] += 25);
						SendMes(playerid, COLOR_MAIN, "Ваша сытость повышена до {"#DC_WHITE"}%d.", PlayerInfo[playerid][pSatiety]);
					}
		        }
		        case 2:
		        {
				    totalstring = "";
				    for(new i; i < sizeof(FishInfoList); i++) strcat(totalstring, FishInfoList[i]);
			 		SPD(playerid, did_fish_back, DSM, "{"#DC_MAIN"}Информация", totalstring, "Далее", "Отмена");
		        }
		    }
			return 1;
		}
		case did_fish_sell:
		{
			if(!response) return 1;
		    new count = strval(inputtext);
		    if(count < 1 || count > PlayerInfo[playerid][pInventoryItems][TYPE_FISH]) return SendMes(playerid, COLOR_DARKORANGE, "Кол-во кг. рыбы должно быть не менее 1 и не более %d.", PlayerInfo[playerid][pInventoryItems][TYPE_FISH]);
			new i = GetPVarInt(playerid, "UseBiz");
		    if(GetPlayerVirtualWorld(playerid) != BizInfo[i][bWorld]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не в бизнесе.");
		    if(BizInfo[i][bType] != 3) return SendMes(playerid, COLOR_DARKORANGE, "Этот бизнес не является закусочной.");
			if(!strcmp(BizInfo[i][bOwner], "None", true)) return SendMes(playerid, COLOR_DARKORANGE, "В бизнесе нет владельца.");
			new price = count * 25;
			if(BizInfo[i][bMoney] < price) return SendMes(playerid, COLOR_DARKORANGE, "В бизнесе нет денег чтобы приобрести данное кол-во кг. рыбы.");
			new maxprod = 20000;
            if(BizInfo[i][bProduct] + price / 2 > maxprod) return SendMes(playerid, COLOR_DARKORANGE, "В бизнесе нет места на такое кол-во кг. рыбы.");
		    BizInfo[i][bMoney] -= price;
		    BizInfo[i][bProduct] += price / 2;
		    SaveBiz(i);
	    	format(strings, sizeof(strings), "Вы продали {"#DC_WHITE"}%d{"#DC_MAIN"} кг. рыбы за {"#DC_WHITE"}$%d.", count, price);
			SendMes(playerid, COLOR_MAIN, strings);
			ServerMoney(playerid, "Продажа рыбы в закусочной", price, 0);
			PlayerInfo[playerid][pInventoryItems][TYPE_FISH] -= count;
			SavePlayerInventoryItems(playerid, TYPE_FISH);
			return 1;
		}
		case did_fish_back:
		{
			if(!response) return ShowFishMenu(playerid);
		}
		case did_hunting:
		{
			if(!response) return 1;
		    switch(listitem)
		    {
		        case 0:
		        {
					if(PlayerInfo[playerid][pLic][3] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет лицезии на оружие.");
					if(FishStart[playerid]) return SendMes(playerid, COLOR_DARKORANGE, "Для начала закончите рыбачить.");
					if(IsAPPos(playerid, 250.0, -1640.0566,-2240.6355,31.4766) || IsAPPos(playerid, 250.0, 870.2867,-25.2779,63.9615))
					{
						if(HuntingStart[playerid] == 0)
						{
						    HuntingStart[playerid] = 1;
							SendMes(playerid, COLOR_MAIN, "Вы начали охотиться на оленя.");
							SendMes(playerid, COLOR_MAIN, "Если вы подойдете слишком близко к оленю, вы можете спугнуть его.");
							SendMes(playerid, COLOR_MAIN, "Чтобы нейтрализовать его, стреляйте с {"#DC_WHITE"}Shotgun, AK-47, M4.{"#DC_MAIN"} После заберите мясо как можно скорее.");
						}
						else
						{
						    HuntingStart[playerid] = 0;
							SendMes(playerid, COLOR_MAIN, "Вы закончили охотиться на оленя.");
						}
					} else return SendMes(playerid, COLOR_DARKORANGE, "Вы далеко от места охоты! Найти место для охоты можно в GPS навигаторе.");
		        }
		        case 1:
		        {
		            if(HuntingStart[playerid] == 0) SendMes(playerid, COLOR_DARKORANGE, "Вы должны начать охоту.");
					if(IsAPPos(playerid, 250.0, -1640.0566,-2240.6355,31.4766) || IsAPPos(playerid, 250.0, 870.2867,-25.2779,63.9615))
					{
						if(IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться не в транспортном средстве.");
	                    for(new idx = 0; idx < sizeof(HuntingInfo); idx++)
						{
							if(!IsPlayerInRangeOfPoint(playerid, 5.0, HuntingInfo[idx][hPos][0], HuntingInfo[idx][hPos][1], HuntingInfo[idx][hPos][2])) continue;
							if(HuntingInfo[idx][hObject] == -1) continue;
							if(HuntingInfo[idx][hStatus] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот олень живой, нейтрализуйте его.");
							new amount = RandomEx(5,10);
							new max_value;
							GetPlayerMaxInventoryItems(playerid, TYPE_DEER, max_value);
							if(PlayerInfo[playerid][pInventoryItems][TYPE_DEER] + amount > max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_DEER][InvUnitName], Inventory[TYPE_DEER][InvStringName]);
                            PlayerInfo[playerid][pInventoryItems][TYPE_DEER] += amount;
                            SavePlayerInventoryItems(playerid, TYPE_DEER);
							format(strings, sizeof(strings), "Вы подняли мясо оленя в размере %d кг.", amount);
							SendMes(playerid, COLOR_MAIN, strings);
							if(HuntingInfo[idx][hObject] != INVALID_OBJECT_ID) DestroyObject(HuntingInfo[idx][hObject]);
							HuntingInfo[idx][hObject] = -1;
							HuntingInfo[idx][hRespawn] = 5;
							return 1;
						}
						SendMes(playerid, COLOR_DARKORANGE, "Рядом с Вами нет мёртвого оленя.");
					} else return SendMes(playerid, COLOR_DARKORANGE, "Вы далеко от места охоты! Найти место для охоты можно в GPS навигаторе.");
		        }
		        case 2:
		        {
		            if(PlayerInfo[playerid][pInventoryItems][TYPE_DEER] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет мяса.");
					SendMes(playerid, COLOR_MAIN, "Вы съели мясо оленя.");
					PlayerInfo[playerid][pInventoryItems][TYPE_DEER]--;
					SavePlayerInventoryItems(playerid, TYPE_DEER);
					if(PlayerInfo[playerid][pSatiety] + 25 > 100)
					{
						SetSatiety(playerid, 100);
				   		SendMes(playerid, COLOR_MAIN, "Вы полностью наелись.");
					}
					else
					{
						SetSatiety(playerid, PlayerInfo[playerid][pSatiety] += 25);
						SendMes(playerid, COLOR_MAIN, "Ваша сытость повышена до {"#DC_WHITE"}%d.", PlayerInfo[playerid][pSatiety]);
					}
		        }
		        case 3:
		        {
				    totalstring = "";
				    for(new i; i < sizeof(HuntingInfoList); i++) strcat(totalstring, HuntingInfoList[i]);
			 		SPD(playerid, did_hunting_back, DSM, "{"#DC_MAIN"}Информация", totalstring, "Далее", "Отмена");
		        }
		    }
			return 1;
		}
		case did_hunting_sell:
		{
		    if(!response) return 1;
		    new count = strval(inputtext);
		    if(count < 1 || count > PlayerInfo[playerid][pInventoryItems][TYPE_DEER]) return SendMes(playerid, COLOR_DARKORANGE, "Кол-во кг. мяса оленя должно быть не менее 1 и не более %d.", PlayerInfo[playerid][pInventoryItems][TYPE_DEER]);
			new i = GetPVarInt(playerid, "UseBiz");
			if(GetPlayerVirtualWorld(playerid) != BizInfo[i][bWorld]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не в бизнесе.");
			if(BizInfo[i][bType] != 3) return SendMes(playerid, COLOR_DARKORANGE, "Этот бизнес не является закусочной.");
			if(!strcmp(BizInfo[i][bOwner], "None", true)) return SendMes(playerid, COLOR_DARKORANGE, "В бизнесе нет владельца.");
			new price = count * 50;
			if(BizInfo[i][bMoney] < price) return SendMes(playerid, COLOR_DARKORANGE, "В бизнесе нет денег чтобы приобрести данное кол-во кг. мяса оленя.");
			new maxprod = 20000;
            if(BizInfo[i][bProduct] + price / 2 > maxprod) return SendMes(playerid, COLOR_DARKORANGE, "В бизнесе нет места на такое кол-во кг. мяса оленя.");
		    BizInfo[i][bMoney] -= price;
		    BizInfo[i][bProduct] += price / 2;
		    SaveBiz(i);
	    	format(strings, sizeof(strings), "Вы продали {"#DC_WHITE"}%d{"#DC_MAIN"} кг. мяса оленя за {"#DC_WHITE"}$%d.", count, price);
			SendMes(playerid, COLOR_MAIN, strings);
			ServerMoney(playerid, "Продажа мяса оленя в закусочной", price, 0);
			PlayerInfo[playerid][pInventoryItems][TYPE_DEER] -= count;
			SavePlayerInventoryItems(playerid, TYPE_DEER);
			return 1;
		}
		case did_hunting_back:
		{
			if(!response) return ShowHuntingMenu(playerid);
		}
		case did_quest_npc:
		{
			if(!response) return 1;
			ShowQuestMenu(playerid);
			return 1;
		}
		case did_quest:
		{
		    if(!response) return 1;
		    switch(listitem)
		    {
		        case 0: ShowQuestLine(playerid);
		        case 1: ShowQuestInfo(playerid);
		        case 2: SPD(playerid, did_quest_menu, DSL, "{"#DC_MAIN"}Информация", "{"#DC_MAIN"}1.{"#DC_WHITE"} Квестовый персонаж\n{"#DC_MAIN"}2.{"#DC_WHITE"} Информация", "Далее", "Отмена");
		        case 3:
		        {
					SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Награда за прохождение всех квестов", "{"#DC_WHITE"}\
					За прохождение всех квестов выдаётся:\n\n\
					- {"#DC_MAIN"}$250000{"#DC_WHITE"}\n\
					- {"#DC_MAIN"}250{"#DC_WHITE"} DONATE-COINS\n\
					- аксессуар {"#DC_MAIN"}\"Трость\"{"#DC_WHITE"}\n\
					- аксессуар {"#DC_MAIN"}\"Клюшка для гольфа\"{"#DC_WHITE"}\n\
					- аксессуар {"#DC_MAIN"}\"Полицейская дубинка\"{"#DC_WHITE"}\n\
					- аксессуар {"#DC_MAIN"}\"Бита\"{"#DC_WHITE"}\n\
					- аксессуар {"#DC_MAIN"}\"Лопата\"{"#DC_WHITE"}\n\
					- аксессуар {"#DC_MAIN"}\"Кий для бильярда\"{"#DC_WHITE"}\n\
					- аксессуар {"#DC_MAIN"}\"Катана\"{"#DC_WHITE"}", "Отмена", "");
				}
		    }
			return 1;
		}
		case did_quest_menu:
		{
		    if(!response) return ShowQuestMenu(playerid);
		    switch(listitem)
		    {
		        case 0:
		        {
			       	new idx = PlayerInfo[playerid][pQuestSelect];
					format(strings, sizeof(strings), "{"#DC_MAIN"}%s", QuestInfo[idx][qName]);
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}%s", QuestInfo[idx][qInfo]);
					SPD(playerid, did_null, DSM, strings, totalstring, "Отмена", "");
		        }
		        case 1:
		        {
		            SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация", "\
		            {"#DC_WHITE"}Привет! Квесты - это система сюжетных заданий, которые помогут тебе последовательно освоиться с системами сервера.\n\n\
					Выполняй их, по мере прохождения сюжета ты будешь получать награды: в сумме ты можешь получить до {"#DC_MAIN"}$500000.{"#DC_WHITE"}\n\
					Но ты не можешь отменить какой-то квест и перейти к другому: ты должен сначала выполнить предыдущее задание, поэтому только самые упорные достигнут миллиона.\n\n\
					Если ты начал выполнение задания, но не завершил его, не беспокойся. Твой прогресс сохранится, поэтому ты можешь проходить квесты каждый день небольшими порциями,\n\
					так будет даже приятнее. Вспомнить о текущем задании ты можешь с помощью команды {"#DC_MAIN"}/quest,{"#DC_WHITE"} либо у {"#DC_MAIN"}квестовых персонажей{"#DC_WHITE"} — твоих ботов-помощников.\n\n\
					А при прохождении всех квестов ты получишь несколько наград: {"#DC_MAIN"}$250000, 250 DONATE-COINS и несколько уникальных аксессуаров.", "Отмена", "");
		        }
		    }
			return 1;
		}
		case did_quest_line:
		{
		    if(!response) return cmd_quest(playerid, inputtext);
			new idx;
			format(strings, sizeof(strings), "{"#DC_MAIN"}%s", QuestLineName[listitem]);
			totalstring = "", bigstring = "";
			for(new i = 0; i < sizeof(QuestInfo); i++)
			{
				if(QuestInfo[i][qLine] != listitem + 1) continue;
				format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s: %s\n", idx + 1, QuestInfo[i][qName], (!PlayerInfo[playerid][pQuestInfo][i]) ? ("{"#DC_RED"}Не выполнено{"#DC_WHITE"}") : ("{"#DC_GREEN"}Выполнено{"#DC_WHITE"}"));
				strcat(bigstring, totalstring);
				PlayerGUIItem[playerid][idx] = i;
				idx++;
			}
			SPD(playerid, did_quest_line_info, DSL, strings, bigstring, "Далее", "Отмена");
			return 1;
		}
		case did_quest_line_info:
		{
		    if(!response) return ShowQuestLine(playerid);
		    new idx = PlayerGUIItem[playerid][listitem];
		    if(PlayerInfo[playerid][pQuestSelect] != idx) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете посмотреть информацию о квесте, который Вы не выполняете.");
		    ShowQuestInfo(playerid);
			return 1;
		}
		case did_task_npc:
		{
		    if(!response) return 1;
		    ShowTaskMenu(playerid);
			return 1;
		}
		case did_menu_task:
		{
			if(!response) return 1;
			switch(listitem)
			{
			    case 0:
			    {
			        new idx = 0;
			        totalstring = "", bigstring = "";
					for(new i = 0; i < 5; i++)
					{
                        new use_idx = PlayerInfo[playerid][pTaskUse][i];
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s (%s)\n", idx + 1, TaskInfo[use_idx][tName], (PlayerInfo[playerid][pTask][use_idx] != TaskInfo[use_idx][tProgress]) ? ("{"#DC_RED"}Не выполнено{"#DC_WHITE"}") : ("{"#DC_GREEN"}Выполнено{"#DC_WHITE"}"));
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = use_idx;
						idx++;
					}
					SPD(playerid, did_menu_task_main, DSL, "{"#DC_MAIN"}Общие", bigstring, "Далее", "Отмена");
			    }
			    case 1: SPD(playerid, did_menu_task_flist, DSL, "{"#DC_MAIN"}Фракционные", "{"#DC_MAIN"}1.{"#DC_WHITE"} Мэрия\n{"#DC_MAIN"}2.{"#DC_WHITE"} Полиция и ФБР\n{"#DC_MAIN"}3.{"#DC_WHITE"} Больница\n{"#DC_MAIN"}4.{"#DC_WHITE"} Армия\n{"#DC_MAIN"}5.{"#DC_WHITE"} Радиоцентры\n{"#DC_MAIN"}6.{"#DC_WHITE"} Автошкола\n{"#DC_MAIN"}7.{"#DC_WHITE"} Банды\n{"#DC_MAIN"}8.{"#DC_WHITE"} Мафии\n{"#DC_MAIN"}9.{"#DC_WHITE"} Байкеры", "Далее", "Отмена");
			    case 2:
			    {
		            SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация", "\
					{"#DC_WHITE"}Помимо интересных квестов на нашем сервере присутствует система ежедневных заданий.\n\n\
					Каждый день Вы сможете выполнять множество заданий, наградой за выполнение которых станут игровой опыт, игровая валюта, а также {"#DC_MAIN"}DONATE{"#DC_WHITE"} COINS.\n\n\
					Каждые сутки ровно в полночь Ваш прогресс по прохождению заданий обнуляется, а значит, их можно выполнить снова на следующий день, заработав на этом.\n\n\
					Список заданий очень разнообразен, поэтому скучно точно не будет. Выполняйте их и прокачивайте свой аккаунт ещё быстрее!\n\n\
		 			Посмотреть все задания ты можешь с помощью команды {"#DC_MAIN"}/task,{"#DC_WHITE"} либо у {"#DC_MAIN"}квестовых персонажей{"#DC_WHITE"} — твоих ботов-помощников.", "Далее", "Отмена");
		        }
			}
			return 1;
		}
		case did_menu_task_main:
		{
		    if(!response) return ShowTaskMenu(playerid);
		    ShowTaskInfo(playerid, PlayerGUIItem[playerid][listitem]);
			return 1;
		}
		case did_menu_task_flist:
		{
		    if(!response) return ShowTaskMenu(playerid);
		    new idx = 0;
			totalstring = "", bigstring = "";
			for(new i = 0; i < sizeof(TaskInfo); i++)
			{
			    if(TaskInfo[i][tType] != listitem + 1) continue;
				format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s (%s)\n", idx + 1, TaskInfo[i][tName], (PlayerInfo[playerid][pTask][i] != TaskInfo[i][tProgress]) ? ("{"#DC_RED"}Не выполнено{"#DC_WHITE"}") : ("{"#DC_GREEN"}Выполнено{"#DC_WHITE"}"));
				strcat(bigstring, totalstring);
				PlayerGUIItem[playerid][idx] = i;
			    idx++;
			}
			SPD(playerid, did_menu_task_fraction, DSL, "{"#DC_MAIN"}Фракционные", bigstring, "Далее", "Отмена");
			return 1;
		}
		case did_menu_task_fraction:
		{
		    if(!response) return SPD(playerid, did_menu_task_flist, DSL, "{"#DC_MAIN"}Фракционные", "{"#DC_MAIN"}1.{"#DC_WHITE"} Мэрия\n{"#DC_MAIN"}2.{"#DC_WHITE"} Полиция и ФБР\n{"#DC_MAIN"}3.{"#DC_WHITE"} Больница\n{"#DC_MAIN"}4.{"#DC_WHITE"} Армия\n{"#DC_MAIN"}5.{"#DC_WHITE"} Радиоцентры\n{"#DC_MAIN"}6.{"#DC_WHITE"} Автошкола\n{"#DC_MAIN"}7.{"#DC_WHITE"} Банды\n{"#DC_MAIN"}8.{"#DC_WHITE"} Мафии\n{"#DC_MAIN"}9.{"#DC_WHITE"} Байкеры", "Далее", "Отмена");
		    ShowTaskInfo(playerid, PlayerGUIItem[playerid][listitem]);
			return 1;
		}
		case did_menu_achievement:
		{
			if(!response) return 1;
			switch(listitem)
			{
			    case 0:
			    {
			        new idx = 0;
			        totalstring = "", bigstring = "";
					for(new i = 0; i < sizeof(AchievementInfo); i++)
					{
					    if(AchievementInfo[i][aType] != 0) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s (%s)\n", idx + 1, AchievementInfo[i][aName], (PlayerInfo[playerid][pAchievement][i] != AchievementInfo[i][aProgress]) ? ("{"#DC_RED"}Не получено{"#DC_WHITE"}") : ("{"#DC_GREEN"}Получено{"#DC_WHITE"}"));
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					SPD(playerid, did_menu_achievement_main, DSL, "{"#DC_MAIN"}Общие", bigstring, "Далее", "Отмена");
			    }
			    case 1: SPD(playerid, did_menu_achievement_flist, DSL, "{"#DC_MAIN"}Фракционные", "{"#DC_MAIN"}1.{"#DC_WHITE"} Мэрия\n{"#DC_MAIN"}2.{"#DC_WHITE"} Полиция и ФБР\n{"#DC_MAIN"}3.{"#DC_WHITE"} Больница\n{"#DC_MAIN"}4.{"#DC_WHITE"} Армия\n{"#DC_MAIN"}5.{"#DC_WHITE"} Радиоцентры\n{"#DC_MAIN"}6.{"#DC_WHITE"} Автошкола\n{"#DC_MAIN"}7.{"#DC_WHITE"} Банды\n{"#DC_MAIN"}8.{"#DC_WHITE"} Мафии\n{"#DC_MAIN"}9.{"#DC_WHITE"} Байкеры", "Далее", "Отмена");
			    case 2:
			    {
		            SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация", "\
					{"#DC_WHITE"}Помимо интересных квестов на нашем сервере присутствует система ежедневных заданий.\n\n\
					Каждый день Вы сможете выполнять множество заданий, наградой за выполнение которых станут игровой опыт, игровая валюта, а также {"#DC_MAIN"}DONATE{"#DC_WHITE"} COINS.\n\n\
					Каждые сутки ровно в полночь Ваш прогресс по прохождению заданий обнуляется, а значит, их можно выполнить снова на следующий день, заработав на этом.\n\n\
					Список заданий очень разнообразен, поэтому скучно точно не будет. Выполняйте их и прокачивайте свой аккаунт ещё быстрее!\n\n\
		 			Посмотреть все задания ты можешь с помощью команды {"#DC_MAIN"}/task,{"#DC_WHITE"} либо у {"#DC_MAIN"}квестовых персонажей{"#DC_WHITE"} — твоих ботов-помощников.", "Далее", "Отмена");
		        }
			}
			return 1;
		}
		case did_menu_achievement_main:
		{
		    if(!response) return ShowAchievementMenu(playerid);
		    ShowAchievementInfo(playerid, PlayerGUIItem[playerid][listitem]);
			return 1;
		}
		case did_menu_achievement_flist:
		{
		    if(!response) return ShowAchievementMenu(playerid);
		    new idx = 0;
			totalstring = "", bigstring = "";
			for(new i = 0; i < sizeof(AchievementInfo); i++)
			{
			    if(AchievementInfo[i][aType] != listitem + 1) continue;
				format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s (%s)\n", idx + 1, AchievementInfo[i][aName], (PlayerInfo[playerid][pAchievement][i] != AchievementInfo[i][aProgress]) ? ("{"#DC_RED"}Не получено{"#DC_WHITE"}") : ("{"#DC_GREEN"}Получено{"#DC_WHITE"}"));
				strcat(bigstring, totalstring);
				PlayerGUIItem[playerid][idx] = i;
			    idx++;
			}
			SPD(playerid, did_menu_achievement_fraction, DSL, "{"#DC_MAIN"}Фракционные", bigstring, "Далее", "Отмена");
			return 1;
		}
		case did_menu_achievement_fraction:
		{
		    if(!response) return SPD(playerid, did_menu_achievement_flist, DSL, "{"#DC_MAIN"}Фракционные", "{"#DC_MAIN"}1.{"#DC_WHITE"} Мэрия\n{"#DC_MAIN"}2.{"#DC_WHITE"} Полиция и ФБР\n{"#DC_MAIN"}3.{"#DC_WHITE"} Больница\n{"#DC_MAIN"}4.{"#DC_WHITE"} Армия\n{"#DC_MAIN"}5.{"#DC_WHITE"} Радиоцентры\n{"#DC_MAIN"}6.{"#DC_WHITE"} Автошкола\n{"#DC_MAIN"}7.{"#DC_WHITE"} Банды\n{"#DC_MAIN"}8.{"#DC_WHITE"} Мафии\n{"#DC_MAIN"}9.{"#DC_WHITE"} Байкеры", "Далее", "Отмена");
		    ShowAchievementInfo(playerid, PlayerGUIItem[playerid][listitem]);
			return 1;
		}
		case did_menu_job_skill:
		{
		    if(!response) return 1;
		    ShowJobSkillInfo(playerid, listitem);
			return 1;
		}
		case did_menu_job_skill_act:
		{
			if(!response) return ShowJobSkillMenu(playerid);
			new i = GetPVarInt(playerid, "UseJobSkill");
			if(PlayerInfo[playerid][pJobSkill][i] != JobSkillInfo[i][jsMax]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас не максимальный навык на данной работе."), ShowJobSkillMenu(playerid);
            if(PlayerInfo[playerid][pJobSkillAccessories][i] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет аксессуара на данной работе."), ShowJobSkillMenu(playerid);
            new idx = GetPlayerSlotAccessories(playerid);
	        if(idx == -1) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет свободного места под аксессуар."), ShowJobSkillMenu(playerid);
	        else
	        {
                new aidx = JobSkillInfo[i][jsAccessories];
   				SendMes(playerid, COLOR_MAIN, "Вам выдан аксессуар.");
   				GivePlayerSlotAccessories(playerid, idx, aidx);
            	PlayerInfo[playerid][pJobSkillAccessories][i] = 0;
            	ShowJobSkillMenu(playerid);
	        }
		    return 1;
		}
		case did_menu_bonus:
		{
		    if(!response) return 1;
		    new idx = strval(inputtext);
		    if(idx < 1 || idx > 3) return ShowBonusMenu(playerid);
			new BonusMoneyPriz[7] = {1000, 2500, 5000, 7500, 10000, 12500, 15000}, BonusEXPPriz[7] = {1, 2, 3, 4, 5, 6, 7};
		    switch(idx)
		    {
		        case 1:
		        {
					SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Ежедневные награды", "{"#DC_WHITE"}\
					На нашем сервере существуют ежедневные награды. Выдаются они за каждые отыгранные 3 часа на сервере.\n\n\
					Качество вероятных наград зависит от того, сколько дней подряд в Вы проведёте, играя на Luxury RolePlay.\n\n\
					Однако же, если пропустить хотя бы один день, то прогресс достижения придётся начинать заново.", "Отмена", "");
		        }
		        case 2:
		        {
		            totalstring = "", bigstring = "";
					for(new i = 0; i < 7; i++)
					{
					    format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} $%d и очки опыта: %d.\n", i + 1, BonusMoneyPriz[i], BonusEXPPriz[i]);
						strcat(bigstring, totalstring);
					}
					SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Ежедневные награды", bigstring, "Отмена", "");
		        }
		        case 3:
		        {
			        if(PlayerInfo[playerid][pBonusToday] == 1) return SendMes(playerid, COLOR_DARKORANGE, "На сегодня наград больше нет.");
	                if(PlayerInfo[playerid][pBonusTime] < 10800) return SendMes(playerid, COLOR_DARKORANGE, "Вы еще не отыграли 3 часа.");
	                PlayerInfo[playerid][pBonusToday] = 1;
					SetPlayerInt(PlayerInfo[playerid][pID], "bonustoday", PlayerInfo[playerid][pBonusToday]);
	                if(PlayerInfo[playerid][pBonusDays] >= 6) PlayerInfo[playerid][pBonusDays] = 0;
	                PlayerInfo[playerid][pBonusDays]++;
					SetPlayerInt(PlayerInfo[playerid][pID], "bonusdays", PlayerInfo[playerid][pBonusDays]);
	                new i = PlayerInfo[playerid][pBonusDays];
					SendMes(playerid, COLOR_MAIN, "Ваша награда:");
					SendMes(playerid, COLOR_WHITE, "$%d.", BonusMoneyPriz[i]);
					SendMes(playerid, COLOR_WHITE, "Очки опыта: %d.", BonusEXPPriz[i]);
					ServerMoney(playerid, "Ежедневная награда", BonusMoneyPriz[i], 0);
					PlayerInfo[playerid][pExp] += BonusEXPPriz[i];
					if(PlayerInfo[playerid][pExp] >= PlayerInfo[playerid][pLevel]*4)
					{
						SendMes(playerid, COLOR_MAIN, "Поздравляем, Вы перешли на следующий уровень.");
						PlayerInfo[playerid][pLevel]++;
						PlayerInfo[playerid][pExp] = 0;
						SetPlayerScore(playerid, PlayerInfo[playerid][pLevel]);
						PlayerLevelUP(playerid);
					}
		        }
		    }
		    return 1;
		}
		case did_donate:
		{
		    if(!response) return 1;
			switch(listitem)
			{
			    case 0:
			    {
			        totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Если Вы желаете сконвертировать валюту, то введите сумму которую\nВы хотите обменять.\n\nВ данный момент ставка конвертирования равна: 1 {"#DC_MAIN"}DONATE{"#DC_WHITE"} COINS = $%d.", donate_conversion);
					SPD(playerid, did_donate_money, DSI, "{"#DC_MAIN"}Конвертирование игровой валюты", totalstring, "Далее", "Отмена");
			    }
				case 1:
				{
				    totalstring = "";
					format(totalstring, sizeof(totalstring), "\
					{"#DC_MAIN"}1.{"#DC_WHITE"} Приобрести {"#DC_BRONZE"}VIP{"#DC_WHITE"} Bronze: {"#DC_MAIN"}%d{"#DC_WHITE"} COINS\n\
					{"#DC_MAIN"}2.{"#DC_WHITE"} Приобрести {"#DC_SILVER"}VIP{"#DC_WHITE"} Silver: {"#DC_MAIN"}%d{"#DC_WHITE"} COINS\n\
					{"#DC_MAIN"}3.{"#DC_WHITE"} Приобрести {"#DC_GOLD"}VIP{"#DC_WHITE"} Gold: {"#DC_MAIN"}%d{"#DC_WHITE"} COINS", SET_BRONZE_PRICE, SET_SILVER_PRICE, SET_GOLD_PRICE);
					SPD(playerid, did_donate_vip, DSL, "{"#DC_MAIN"}VIP | {"#DC_MAIN"}/viphelp", totalstring, "Далее", "Отмена");
				}
				case 2:
				{
				    totalstring = "";
					format(totalstring, sizeof(totalstring), "\
					{"#DC_MAIN"}1.{"#DC_WHITE"} Вылечить персонажа от всех болезней: {"#DC_MAIN"}%d{"#DC_WHITE"} COINS\n\
					{"#DC_MAIN"}2.{"#DC_WHITE"} Вылечить персонажа от наркозависимости: {"#DC_MAIN"}%d{"#DC_WHITE"} COINS", SET_DISEASE_PRICE, SET_DRUGS_PRICE);
					SPD(playerid, did_donate_heal, DSL, "{"#DC_MAIN"}Вылечить персонажа", totalstring, "Далее", "Отмена");
				}
				case 3: SPD(playerid, did_donate_phone, DSI, "{"#DC_MAIN"}Номер телефона", "{"#DC_WHITE"}Введите номер телефона от 3 до 6 цифр:\n\nОт количества одинаковых цифры зависит стоимость номера.", "Далее", "Отмена");
				case 4:
				{
				    totalstring = "";
					format(totalstring, sizeof(totalstring), "\
					{"#DC_MAIN"}1.{"#DC_WHITE"} Приобрести \"Комплект лицензий\": {"#DC_MAIN"}%d{"#DC_WHITE"} COINS\n\
					{"#DC_MAIN"}2.{"#DC_WHITE"} Приобрести \"Комплект законопослушности\": {"#DC_MAIN"}%d{"#DC_WHITE"} COINS", SET_LICENSE_PRICE, SET_LAW_PRICE);
					SPD(playerid, did_donate_kit, DSL, "{"#DC_MAIN"}Игровые комплекты", totalstring, "Далее", "Отмена");
				    /*totalstring = "";
					format(totalstring, sizeof(totalstring), "\
					{"#DC_MAIN"}1.{"#DC_WHITE"} Приобрести \"Комплект лицензий\": {"#DC_MAIN"}%d{"#DC_WHITE"} COINS\n\
					{"#DC_MAIN"}2.{"#DC_WHITE"} Приобрести \"Комплект законопослушности\": {"#DC_MAIN"}%d{"#DC_WHITE"} COINS\n\
					{"#DC_MAIN"}3.{"#DC_WHITE"} Приобрести \"Комплект навыков владения оружием\": {"#DC_MAIN"}%d{"#DC_WHITE"} COINS\n\
					{"#DC_MAIN"}4.{"#DC_WHITE"} Приобрести \"Комплект стилей боя\": {"#DC_MAIN"}%d{"#DC_WHITE"} COINS", SET_LICENSE_PRICE, SET_LAW_PRICE, SET_GUN_SKILL_PRICE, SET_STYLE_PRICE);
					SPD(playerid, did_donate_kit, DSL, "{"#DC_MAIN"}Игровые комплекты", totalstring, "Далее", "Отмена");*/
				}
				case 5:
				{
					totalstring = "", bigstring = "";
					for(new i = 0; i < sizeof(JobSkillInfo); i++)
					{
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s (%s): %d {"#DC_MAIN"}DONATE{"#DC_WHITE"} COINS\n", i + 1, JobSkillInfo[i][jsName], AccessoriesInfo[JobSkillInfo[i][jsAccessories]-1][aName], JobSkillInfo[i][jsDonatePrice]);
						strcat(bigstring, totalstring);
					}
					SPD(playerid, did_donate_jobskill, DSL, "{"#DC_MAIN"}Навыки", bigstring, "Далее", "Отмена");
				}
			    case 6:
			    {
					totalstring = "", bigstring = "";
					for(new i = 0; i < sizeof(accessories_idx); i++)
					{
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s: %d {"#DC_MAIN"}DONATE{"#DC_WHITE"} COINS\n", i + 1, AccessoriesInfo[accessories_idx[i]-1][aName], accessories_price[i]);
						strcat(bigstring, totalstring);
					}
					SPD(playerid, did_donate_accessories, DSL, "{"#DC_MAIN"}Аксессуары", bigstring, "Далее", "Отмена");
			    }
			    case 7:
			    {
					totalstring = "", bigstring = "";
					for(new i = 0; i < sizeof(vehicle_idx); i++)
					{
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s: %d {"#DC_MAIN"}DONATE{"#DC_WHITE"} COINS\n", i + 1, VehicleNameS[vehicle_idx[i]-400], vehicle_price[i]);
						strcat(bigstring, totalstring);
					}
					SPD(playerid, did_donate_vehicle, DSL, "{"#DC_MAIN"}Транспорт", bigstring, "Далее", "Отмена");
			    }
			    case 8:
       			{
       			    if(!PlayerInfo[playerid][pWarn]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет предупреждений."), ShowDonateMenu(playerid);
					if(SET_WARN_PRICE > PlayerInfo[playerid][pDonateMoney]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько DONATE COINS."), ShowDonateMenu(playerid);
					else
					{
                        if(PlayerInfo[playerid][pWarn] > 1)
						{
							PlayerInfo[playerid][pWarn]--;
							format(PlayerInfo[playerid][pWarnReason], 64, "None");
							PlayerInfo[playerid][pWarnTime] = gettime() + 7*86400;
							SetPlayerInt(PlayerInfo[playerid][pID], "warn", PlayerInfo[playerid][pWarn]);
							SetPlayerStr(PlayerInfo[playerid][pID], "warnreason", PlayerInfo[playerid][pWarnReason]);
							SetPlayerInt(PlayerInfo[playerid][pID], "warntime", PlayerInfo[playerid][pWarnTime]);
						} else {
							PlayerInfo[playerid][pWarn] = 0;
							format(PlayerInfo[playerid][pWarnReason], 64, "None");
							PlayerInfo[playerid][pWarnTime] = 0;
							SetPlayerInt(PlayerInfo[playerid][pID], "warn", PlayerInfo[playerid][pWarn]);
							SetPlayerStr(PlayerInfo[playerid][pID], "warnreason", PlayerInfo[playerid][pWarnReason]);
							SetPlayerInt(PlayerInfo[playerid][pID], "warntime", PlayerInfo[playerid][pWarnTime]);
						}
						SendMes(playerid, COLOR_MAIN, "Вы сняли предупреждение со своего аккунта.");
						PlayerInfo[playerid][pDonateMoney] -= SET_WARN_PRICE;
						format(strings, sizeof(strings), "C вашего счета снятно {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS. Остаток на счете: {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", SET_WARN_PRICE, PlayerInfo[playerid][pDonateMoney]);
						SendMes(playerid, COLOR_MAIN, strings);
						SetPlayerInt(PlayerInfo[playerid][pID], "donate", PlayerInfo[playerid][pDonateMoney]);
						format(strings, sizeof(strings), "Игрок %s потратил %d DONATE COINS на снятие варна. Остаток на счете: %d DONATE COINS.", PlayerInfo[playerid][pName], SET_WARN_PRICE, PlayerInfo[playerid][pDonateMoney]);
						WriteLog("logs_donate", strings);
						ShowDonateMenu(playerid);
					}
			    }
				case 9:
				{
				    SPD(playerid, did_donate_nickname, DSI, "{"#DC_MAIN"}Смена ника", "{"#DC_WHITE"}Введите желаемый ник:", "Далее", "Отмена");
				}
			}
			return 1;
		}
		case did_donate_money:
		{
	        if(!response) return ShowDonateMenu(playerid);
			if(strval(inputtext) < 1 || strval(inputtext) > 10000)
			{
	            totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Если Вы желаете сконвертировать валюту, то введите сумму которую\nВы хотите обменять.\n\nВ данный момент ставка конвертирования равна: 1 {"#DC_MAIN"}DONATE{"#DC_WHITE"} COINS = $%d.\n\n{"#DC_RED"}Ошибка: Кол-во DONATE COINS должно быть от 1 до 10000.", donate_conversion);
				SPD(playerid, did_donate_money, DSI, "{"#DC_MAIN"}"NAME_GAMEMODE":{"#DC_WHITE"} Конвертирование игровой валюты", totalstring, "Далее", "Отмена");
				return 1;
			}
			if(strval(inputtext) > PlayerInfo[playerid][pDonateMoney])
			{
	            totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Если Вы желаете сконвертировать валюту, то введите сумму которую\nВы хотите обменять.\n\nВ данный момент ставка конвертирования равна: 1 {"#DC_MAIN"}DONATE{"#DC_WHITE"} COINS = $%d.\n\n{"#DC_RED"}Ошибка: У Вас нет столько DONATE COINS.", donate_conversion);
				SPD(playerid, did_donate_money, DSI, "{"#DC_MAIN"}"NAME_GAMEMODE":{"#DC_WHITE"} Конвертирование игровой валюты", totalstring, "Далее", "Отмена");
				return 1;
			}
			ServerMoney(playerid, "Донат", donate_conversion * strval(inputtext), 0);
			PlayerInfo[playerid][pDonateMoney] -= strval(inputtext);
			mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_ACCOUNT" SET `donate` = '%d', `cash` = '%d' WHERE `name` = '%e' LIMIT 1", PlayerInfo[playerid][pDonateMoney], PlayerInfo[playerid][pCash], PlayerInfo[playerid][pName]);
			mysql_query(mysql, request, false);
			format(strings, sizeof(strings), "Вы обменяли {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS на {"#DC_WHITE"}$%d.{"#DC_MAIN"} Остаток на счете: {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", strval(inputtext), donate_conversion * strval(inputtext), PlayerInfo[playerid][pDonateMoney]);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "Игрок %s обменял %d DONATE COINS на $%d. Остаток на счете: %d DONATE COINS.", PlayerInfo[playerid][pName], strval(inputtext), donate_conversion * strval(inputtext), PlayerInfo[playerid][pDonateMoney]);
			WriteLog("logs_donate", strings);
			ShowDonateMenu(playerid);
			return 1;
		}
		case did_donate_nickname:
		{
	        if(!response) return ShowDonateMenu(playerid);
			new name[32];
			if(SET_NAME_PRICE > PlayerInfo[playerid][pDonateMoney]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько DONATE COINS.");
			if(sscanf(inputtext, "s[22]", name)) return SPD(playerid, did_donate_nickname, DSI, "{"#DC_MAIN"}Смена ника", "{"#DC_WHITE"}Введите желаемый ник:", "Далее", "Отмена");
			if(!strlen(inputtext) || strlen(inputtext) < 8 || strlen(inputtext) > 20)  return SPD(playerid, did_donate_nickname, DSI, "{"#DC_MAIN"}Смена ника", "{"#DC_WHITE"}Введите желаемый ник:\n\n{"#DC_RED"}Ошибка: Длина имени должна быть от 8 до 20 символов.", "Далее", "Отмена");
			if(strlen(name) < 8 || strlen(name) > 20) return SPD(playerid, did_donate_nickname, DSI, "{"#DC_MAIN"}Смена ника", "{"#DC_WHITE"}Введите желаемый ник:\n\n{"#DC_RED"}Ошибка: Длина ника должна быть от 8 до 20 символов.", "Далее", "Отмена");
			if(IsTextInvalid(name)) return SPD(playerid, did_donate_nickname, DSI, "{"#DC_MAIN"}Смена ника", "{"#DC_WHITE"}Введите желаемый ник:\n\n{"#DC_RED"}Ошибка: Вы ввели запрещенные символы.", "Далее", "Отмена");
			if(IsTextRussian(name)) return SPD(playerid, did_donate_nickname, DSI, "{"#DC_MAIN"}Смена ника", "{"#DC_WHITE"}Введите желаемый ник:\n\n{"#DC_RED"}Ошибка: Вы использовали русские буквы.", "Далее", "Отмена");
			mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", name);
			mysql_tquery(mysql, request, "OnPlayerCheckNameInBase", "dds", playerid, 2, name);
			return 1;
		}
		case did_donate_vip:
	    {
	    	if(!response) return ShowDonateMenu(playerid);
	    	switch(listitem)
	    	{
	    	    case 0:
	    	    {
	         		if(SET_BRONZE_PRICE > PlayerInfo[playerid][pDonateMoney]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько DONATE COINS."), ShowDonateMenu(playerid);
				    if(PlayerInfo[playerid][pVIP] >= 1) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть VIP."), ShowDonateMenu(playerid);
				    PlayerInfo[playerid][pVIP] = 1;
				    PlayerInfo[playerid][pDonateMoney] -= SET_BRONZE_PRICE;
					SendMes(playerid, COLOR_MAIN, "Вы приобрели VIP BRONZE.");
					SendMes(playerid, COLOR_MAIN, "Информация про VIP: {"#DC_WHITE"}/viphelp.");
					format(strings, sizeof(strings), "C вашего счета снятно {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS. Остаток на счете: {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", SET_BRONZE_PRICE, PlayerInfo[playerid][pDonateMoney]);
					SendMes(playerid, COLOR_MAIN, strings);
					SetPlayerInt(PlayerInfo[playerid][pID], "donate", PlayerInfo[playerid][pDonateMoney]);
					SetPlayerInt(PlayerInfo[playerid][pID], "vip", PlayerInfo[playerid][pVIP]);
					format(strings, sizeof(strings), "Игрок %s потратил %d DONATE COINS на VIP BRONZE. Остаток на счете: %d DONATE COINS.", PlayerInfo[playerid][pName], SET_BRONZE_PRICE, PlayerInfo[playerid][pDonateMoney]);
					WriteLog("logs_donate", strings);
					ShowDonateMenu(playerid);
	    	    }
	    	    case 1:
	    	    {
	    	    	if(SET_SILVER_PRICE > PlayerInfo[playerid][pDonateMoney]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько DONATE COINS."), ShowDonateMenu(playerid);
				    if(PlayerInfo[playerid][pVIP] >= 2) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть VIP."), ShowDonateMenu(playerid);
				    PlayerInfo[playerid][pVIP] = 2;
				    PlayerInfo[playerid][pDonateMoney] -= SET_SILVER_PRICE;
					SendMes(playerid, COLOR_MAIN, "Вы приобрели VIP SILVER.");
					SendMes(playerid, COLOR_MAIN, "Информация про VIP: {"#DC_WHITE"}/viphelp.");
					format(strings, sizeof(strings), "C вашего счета снятно {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS. Остаток на счете: {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", SET_SILVER_PRICE, PlayerInfo[playerid][pDonateMoney]);
					SendMes(playerid, COLOR_MAIN, strings);
					SetPlayerInt(PlayerInfo[playerid][pID], "donate", PlayerInfo[playerid][pDonateMoney]);
					SetPlayerInt(PlayerInfo[playerid][pID], "vip", PlayerInfo[playerid][pVIP]);
					format(strings, sizeof(strings), "Игрок %s потратил %d DONATE COINS на VIP SILVER. Остаток на счете: %d DONATE COINS.", PlayerInfo[playerid][pName], SET_SILVER_PRICE, PlayerInfo[playerid][pDonateMoney]);
					WriteLog("logs_donate", strings);
					ShowDonateMenu(playerid);
				}
	    	    case 2:
	    	    {
	    	        if(SET_GOLD_PRICE > PlayerInfo[playerid][pDonateMoney]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько DONATE COINS."), ShowDonateMenu(playerid);
				    if(PlayerInfo[playerid][pVIP] >= 3) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть VIP."), ShowDonateMenu(playerid);
				    PlayerInfo[playerid][pVIP] = 3;
				    PlayerInfo[playerid][pDonateMoney] -= SET_GOLD_PRICE;
					SendMes(playerid, COLOR_MAIN, "Вы приобрели VIP GOLD.");
					SendMes(playerid, COLOR_MAIN, "Информация про VIP: {"#DC_WHITE"}/viphelp.");
					format(strings, sizeof(strings), "C вашего счета снятно {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS. Остаток на счете: {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", SET_GOLD_PRICE, PlayerInfo[playerid][pDonateMoney]);
					SendMes(playerid, COLOR_MAIN, strings);
					SetPlayerInt(PlayerInfo[playerid][pID], "donate", PlayerInfo[playerid][pDonateMoney]);
					SetPlayerInt(PlayerInfo[playerid][pID], "vip", PlayerInfo[playerid][pVIP]);
					format(strings, sizeof(strings), "Игрок %s потратил %d DONATE COINS на VIP GOLD. Остаток на счете: %d DONATE COINS.", PlayerInfo[playerid][pName], SET_GOLD_PRICE, PlayerInfo[playerid][pDonateMoney]);
					WriteLog("logs_donate", strings);
					ShowDonateMenu(playerid);
	    	    }
	    	}
	    	return 1;
	    }
	    case did_donate_heal:
	    {
	    	if(!response) return ShowDonateMenu(playerid);
	    	switch(listitem)
	    	{
	    	    case 0:
	    	    {
	         		if(SET_DISEASE_PRICE > PlayerInfo[playerid][pDonateMoney]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько DONATE COINS."), ShowDonateMenu(playerid);
				    for(new i = 0; i < 3; i++)
				    {
				        PlayerInfo[playerid][pDisease][i] = 0;
				    }
				    PlayerInfo[playerid][pDonateMoney] -= SET_DISEASE_PRICE;
					SendMes(playerid, COLOR_MAIN, "Вы вылечились от всех болезней.");
					format(strings, sizeof(strings), "C вашего счета снятно {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS. Остаток на счете: {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", SET_DISEASE_PRICE, PlayerInfo[playerid][pDonateMoney]);
					SendMes(playerid, COLOR_MAIN, strings);
					SetPlayerInt(PlayerInfo[playerid][pID], "donate", PlayerInfo[playerid][pDonateMoney]);
					format(strings, sizeof(strings), "Игрок %s потратил %d DONATE COINS на лечение всех болезней. Остаток на счете: %d DONATE COINS.", PlayerInfo[playerid][pName], SET_DISEASE_PRICE, PlayerInfo[playerid][pDonateMoney]);
					WriteLog("logs_donate", strings);
					ShowDonateMenu(playerid);
	    	    }
	    	    case 1:
	    	    {
	    	    	if(SET_DRUGS_PRICE > PlayerInfo[playerid][pDonateMoney]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько DONATE COINS."), ShowDonateMenu(playerid);
				    for(new i = 0; i < 3; i++)
				    {
				        PlayerInfo[playerid][pAddictionInfo][i] = 0;
				    }
					PlayerInfo[playerid][pAddictionLimit] = 0;
				    PlayerInfo[playerid][pDonateMoney] -= SET_DRUGS_PRICE;
					SendMes(playerid, COLOR_MAIN, "Вы вылечились от наркозависимости.");
					format(strings, sizeof(strings), "C вашего счета снятно {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS. Остаток на счете: {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", SET_DRUGS_PRICE, PlayerInfo[playerid][pDonateMoney]);
					SendMes(playerid, COLOR_MAIN, strings);
					SetPlayerInt(PlayerInfo[playerid][pID], "donate", PlayerInfo[playerid][pDonateMoney]);
					format(strings, sizeof(strings), "Игрок %s потратил %d DONATE COINS на лечение от наркозависимости. Остаток на счете: %d DONATE COINS.", PlayerInfo[playerid][pName], SET_DRUGS_PRICE, PlayerInfo[playerid][pDonateMoney]);
					WriteLog("logs_donate", strings);
					ShowDonateMenu(playerid);
				}
	    	}
	    	return 1;
	    }
		case did_donate_phone:
		{
	        if(!response) return ShowDonateMenu(playerid);
			new number = strlen(inputtext);
			if(!number) return SPD(playerid, did_donate_phone, DSI, "{"#DC_MAIN"}Номер телефона", "{"#DC_WHITE"}Введите номер телефона от 3 до 6 цифр:\n\nОт количества одинаковых цифры зависит стоимость номера.", "Далее", "Отмена");
			if(number < 3 || number > 6) return SPD(playerid, did_donate_phone, DSI, "{"#DC_MAIN"}Номер телефона", "{"#DC_WHITE"}Введите номер телефона от 3 до 6 цифр:\n\nОт количества одинаковых цифры зависит стоимость номера.\n\n{"#DC_RED"}Ошибка: Длина номера должна быть от 3 до 6 цифр.", "Далее", "Отмена");
			if(inputtext[0] == '0') return SPD(playerid, did_donate_phone, DSI, "{"#DC_MAIN"}Номер телефона", "{"#DC_WHITE"}Введите номер телефона от 3 до 6 цифр:\n\nОт количества одинаковых цифры зависит стоимость номера.\n\n{"#DC_RED"}Ошибка: Номер не должен начинаться с 0.", "Далее", "Отмена");
			new nums[10];
			for(new i = 0; i < number; i++)
			{
				if(inputtext[i] < '0' || inputtext[i] > '9') return SPD(playerid, did_donate_phone, DSI, "{"#DC_MAIN"}Номер телефона", "{"#DC_WHITE"}Введите номер телефона от 3 до 6 цифр:\n\nОт количества одинаковых цифры зависит стоимость номера.\n\n{"#DC_RED"}Ошибка: Номер телефона должен состоять из цифр.", "Далее", "Отмена");
				nums[inputtext[i] - '0']++;
			}
			new number_price = 100;
			switch(number)
			{
				case 3: number_price += SET_NUMBER_PRICE * 3;
				case 4: number_price += SET_NUMBER_PRICE * 2;
				case 5: number_price += SET_NUMBER_PRICE;
			}
			for(new i; i < 10; i++)
			{
				if(nums[i] <= 1) continue;
				number_price += (nums[i]  - 1) * SET_NUMBER_PRICE;
			}
			SetPVarInt(playerid, "DonateNumberPhone", strval(inputtext));
			SetPVarInt(playerid, "DonateNumberPhonePrice", number_price);
	        mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `phonenumber` = '%d' LIMIT 1", strval(inputtext));
			mysql_tquery(mysql, request, "OnPlayerSelectBase", "ddds", playerid, 17, 1, inputtext);
			return 1;
		}
		case did_donate_kit:
	    {
	    	if(!response) return ShowDonateMenu(playerid);
	    	switch(listitem)
	    	{
	    	    case 0:
	    	    {
	         		if(SET_LICENSE_PRICE > PlayerInfo[playerid][pDonateMoney]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько DONATE COINS."), ShowDonateMenu(playerid);
				    for(new i = 0; i < 5; i++)
					{
					    PlayerInfo[playerid][pLic][i] = 1;
					}
				    PlayerInfo[playerid][pDonateMoney] -= SET_LICENSE_PRICE;
				    SendMes(playerid, COLOR_MAIN, "Вы приобрели комплект лицензий.");
					format(strings, sizeof(strings), "C вашего счета снятно {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS. Остаток на счете: {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", SET_LICENSE_PRICE, PlayerInfo[playerid][pDonateMoney]);
					SendMes(playerid, COLOR_MAIN, strings);
					SetPlayerInt(PlayerInfo[playerid][pID], "donate", PlayerInfo[playerid][pDonateMoney]);
					format(strings, sizeof(strings), "Игрок %s потратил %d DONATE COINS на комплект лицензий. Остаток на счете: %d DONATE COINS.", PlayerInfo[playerid][pName], SET_LICENSE_PRICE, PlayerInfo[playerid][pDonateMoney]);
					WriteLog("logs_donate", strings);
					ShowDonateMenu(playerid);
	    	    }
	    	    case 1:
	    	    {
	    	    	if(SET_LAW_PRICE > PlayerInfo[playerid][pDonateMoney]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько DONATE COINS."), ShowDonateMenu(playerid);
				    PlayerInfo[playerid][pLaw] = 100;
				    PlayerInfo[playerid][pDonateMoney] -= SET_LAW_PRICE;
					SendMes(playerid, COLOR_MAIN, "Вы подняли законопослушность до {"#DC_WHITE"}%d.", PlayerInfo[playerid][pLaw]);
					format(strings, sizeof(strings), "C вашего счета снятно {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS. Остаток на счете: {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", SET_LAW_PRICE, PlayerInfo[playerid][pDonateMoney]);
					SendMes(playerid, COLOR_MAIN, strings);
					SetPlayerInt(PlayerInfo[playerid][pID], "donate", PlayerInfo[playerid][pDonateMoney]);
					SetPlayerInt(PlayerInfo[playerid][pID], "law", PlayerInfo[playerid][pLaw]);
					format(strings, sizeof(strings), "Игрок %s потратил %d DONATE COINS на поднятие законопослушности. Остаток на счете: %d DONATE COINS.", PlayerInfo[playerid][pName], SET_LAW_PRICE, PlayerInfo[playerid][pDonateMoney]);
					WriteLog("logs_donate", strings);
					ShowDonateMenu(playerid);
				}
	    	    /*case 2:
	    	    {
	    	    	if(SET_GUN_SKILL_PRICE > PlayerInfo[playerid][pDonateMoney]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько DONATE COINS."), ShowDonateMenu(playerid);
				    for(new i = 0; i < 6; i++)
					{
					    PlayerInfo[playerid][pSkill][i] = 100;
					}
				    PlayerInfo[playerid][pDonateMoney] -= SET_GUN_SKILL_PRICE;
				    SendMes(playerid, COLOR_MAIN, "Вы приобрели навыки владения оружием.");
					format(strings, sizeof(strings), "C вашего счета снятно {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS. Остаток на счете: {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", SET_GUN_SKILL_PRICE, PlayerInfo[playerid][pDonateMoney]);
					SendMes(playerid, COLOR_MAIN, strings);
					SetPlayerInt(PlayerInfo[playerid][pID], "donate", PlayerInfo[playerid][pDonateMoney]);
					SetPlayerSkills(playerid);
					format(strings, sizeof(strings), "Игрок %s потратил %d DONATE COINS на навыки владения оружием. Остаток на счете: %d DONATE COINS.", PlayerInfo[playerid][pName], SET_GUN_SKILL_PRICE, PlayerInfo[playerid][pDonateMoney]);
					WriteLog("logs_donate", strings);
					ShowDonateMenu(playerid);
				}*/
	    	    /*case 3:
	    	    {
	    	    	if(SET_STYLE_PRICE > PlayerInfo[playerid][pDonateMoney]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько DONATE COINS."), ShowDonateMenu(playerid);
				    for(new i = 0; i < 4; i++)
					{
					    PlayerInfo[playerid][pStyle][i] = 1;
					}
				    PlayerInfo[playerid][pDonateMoney] -= SET_STYLE_PRICE;
				    SendMes(playerid, COLOR_MAIN, "Вы приобрели навыки стилей боя.");
					format(strings, sizeof(strings), "C вашего счета снятно {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS. Остаток на счете: {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", SET_STYLE_PRICE, PlayerInfo[playerid][pDonateMoney]);
					SendMes(playerid, COLOR_MAIN, strings);
					SetPlayerInt(PlayerInfo[playerid][pID], "donate", PlayerInfo[playerid][pDonateMoney]);
					format(strings, sizeof(strings), "Игрок %s потратил %d DONATE COINS на навыки стилей боя. Остаток на счете: %d DONATE COINS.", PlayerInfo[playerid][pName], SET_STYLE_PRICE, PlayerInfo[playerid][pDonateMoney]);
					WriteLog("logs_donate", strings);
					ShowDonateMenu(playerid);
				}*/
	    	}
	    	return 1;
	    }
	    case did_donate_jobskill:
	    {
	        if(!response) return ShowDonateMenu(playerid);
	        if(JobSkillInfo[listitem][jsDonatePrice] > PlayerInfo[playerid][pDonateMoney]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько DONATE COINS.");
			if(PlayerInfo[playerid][pJobSkill][listitem] == JobSkillInfo[listitem][jsMax]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас максимальный навык на данной работе.");
			if(PlayerInfo[playerid][pJobSkillAccessories][listitem] != 0)
			{
			    new idx = JobSkillInfo[listitem][jsAccessories];
				InsertRoulettePriz(playerid, 2, PlayerInfo[playerid][pID], 1, idx);
				PlayerInfo[playerid][pJobSkillAccessories][listitem] = 0;
			}
            PlayerInfo[playerid][pJobSkill][listitem] = JobSkillInfo[listitem][jsMax];
            PlayerInfo[playerid][pJobSkillProgress][listitem] = 0;
			PlayerInfo[playerid][pDonateMoney] -= JobSkillInfo[listitem][jsDonatePrice];
	    	format(strings, sizeof(strings), "C вашего счета снятно {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS. Остаток на счете: {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", JobSkillInfo[listitem][jsDonatePrice], PlayerInfo[playerid][pDonateMoney]);
			SendMes(playerid, COLOR_MAIN, strings);
			SetPlayerInt(PlayerInfo[playerid][pID], "donate", PlayerInfo[playerid][pDonateMoney]);
			format(strings, sizeof(strings), "Игрок %s потратил %d DONATE COINS на навык %s. Остаток на счете: %d DONATE COINS.", PlayerInfo[playerid][pName], JobSkillInfo[listitem][jsDonatePrice], JobSkillInfo[listitem][jsName], PlayerInfo[playerid][pDonateMoney]);
			WriteLog("logs_donate", strings);
			ShowDonateMenu(playerid);
	    }
		case did_donate_accessories:
		{
	        if(!response) return ShowDonateMenu(playerid);
	        if(accessories_price[listitem] > PlayerInfo[playerid][pDonateMoney]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько DONATE COINS.");
	        new idx = accessories_idx[listitem];
			InsertRoulettePriz(playerid, 2, PlayerInfo[playerid][pID], 1, idx);
			PlayerInfo[playerid][pDonateMoney] -= accessories_price[listitem];
	    	format(strings, sizeof(strings), "C вашего счета снятно {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS. Остаток на счете: {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", accessories_price[listitem], PlayerInfo[playerid][pDonateMoney]);
			SendMes(playerid, COLOR_MAIN, strings);
			SetPlayerInt(PlayerInfo[playerid][pID], "donate", PlayerInfo[playerid][pDonateMoney]);
			format(strings, sizeof(strings), "Игрок %s потратил %d DONATE COINS на аксессуар %s. Остаток на счете: %d DONATE COINS.", PlayerInfo[playerid][pName], accessories_price[listitem] / 2, AccessoriesInfo[idx-1][aName], PlayerInfo[playerid][pDonateMoney]);
			WriteLog("logs_donate", strings);
			ShowDonateMenu(playerid);
			return 1;
		}
		case did_donate_vehicle:
		{
	        if(!response) return ShowDonateMenu(playerid);
	        if(vehicle_price[listitem] > PlayerInfo[playerid][pDonateMoney]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько DONATE COINS.");
	        new idx = vehicle_idx[listitem];
			InsertRoulettePriz(playerid, 3, PlayerInfo[playerid][pID], 2, idx);
			PlayerInfo[playerid][pDonateMoney] -= vehicle_price[listitem];
	    	format(strings, sizeof(strings), "C вашего счета снятно {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS. Остаток на счете: {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", vehicle_price[listitem], PlayerInfo[playerid][pDonateMoney]);
			SendMes(playerid, COLOR_MAIN, strings);
			SetPlayerInt(PlayerInfo[playerid][pID], "donate", PlayerInfo[playerid][pDonateMoney]);
			format(strings, sizeof(strings), "Игрок %s потратил %d DONATE COINS на транспорт %s. Остаток на счете: %d DONATE COINS.", PlayerInfo[playerid][pName], vehicle_price[listitem], VehicleNameS[idx-400], PlayerInfo[playerid][pDonateMoney]);
			WriteLog("logs_donate", strings);
			ShowDonateMenu(playerid);
			return 1;
		}
		case did_donate_phone_act:
		{
		    if(!response) return SPD(playerid, did_donate_phone, DSI, "{"#DC_MAIN"}Номер телефона", "{"#DC_WHITE"}Введите номер телефона от 3 до 6 цифр:\n\nОт количества одинаковых цифры зависит стоимость номера.", "Далее", "Отмена");
		    new number = GetPVarInt(playerid, "DonateNumberPhone"), price = GetPVarInt(playerid, "DonateNumberPhonePrice");
			if(price > PlayerInfo[playerid][pDonateMoney]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько DONATE COINS.");
			PlayerInfo[playerid][pPhone] = 1;
			PlayerInfo[playerid][pPhoneNumber] = number;
   			PlayerInfo[playerid][pDonateMoney] -= price;
			SendMes(playerid, COLOR_MAIN, "Вы изменили номер на {"#DC_WHITE"}%d.", PlayerInfo[playerid][pPhoneNumber]);
			format(strings, sizeof(strings), "C вашего счета снятно {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS. Остаток на счете: {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", price, PlayerInfo[playerid][pDonateMoney]);
			SendMes(playerid, COLOR_MAIN, strings);
			SetPlayerInt(PlayerInfo[playerid][pID], "donate", PlayerInfo[playerid][pDonateMoney]);
			SetPlayerInt(PlayerInfo[playerid][pID], "phone", PlayerInfo[playerid][pPhone]);
			SetPlayerInt(PlayerInfo[playerid][pID], "phonenumber", PlayerInfo[playerid][pPhoneNumber]);
			format(strings, sizeof(strings), "Игрок %s потратил %d DONATE COINS на номер телефона %d. Остаток на счете: %d DONATE COINS.", PlayerInfo[playerid][pName], price, number, PlayerInfo[playerid][pDonateMoney]);
			WriteLog("logs_donate", strings);
			ShowDonateMenu(playerid);
			return 1;
		}
		case did_faq:
		{
			if(!response) return 1;
			switch(listitem)
			{
				case 0:
				{
				    SPD(playerid, did_faq_back, DSM, "{"#DC_MAIN"}Что же такое SA-MP?", "{"#DC_WHITE"}\
					SA-MP - платформа на базе знакомой всем GTA: San Andreas, в которую теперь можно играть по сети.\n\
					Однако же теперь не нужно следовать какому-то сюжету и бесконечно выполнять миссии - только Вы решаете,\n\
					как правильно строить свою игру!\n\n\
					SA-MP довольно-таки неприхотлив в техническом плане и, именно поэтому он полюбился многим ценителям\n\
					мультиплеерных игр.\n\n\
					В SA-MP существует множество разных серверов с отличными друг от друга режимами. Игра даёт необходимую\n\
					базу и игровую карту, а разработчики сервера, в свою очередь, создают его неповторимый облик и сами решают,\n\
					каким он будет выглядеть и что на нём можно будет делать.", "Далее", "Отмена");
				}
				case 1:
				{
				    SPD(playerid, did_faq_back, DSM, "{"#DC_MAIN"}Почему Luxury RP - самый крутой проект?", "{"#DC_WHITE"}\
					На просторах SA-MP Mobile существует множество разных серверов и проектов, однако, лишь немногие являются\n\
					действительно уникальными и интересными для игроков площадками. Один из таких проектов - Luxury RolePlay.\n\n\
					Наш игровой мод является крайне стабильным, а главное, разнообразным. Мы продумали всё - на Luxury RolePlay\n\
					существует множество интересных, увлекательных работ, разнообразные квесты и ежедневные задания, благодаря\n\
					которым можно не только лучше узнать наш сервер, но и быстрее прокачать своего персонажа. Также существует,\n\
					например, система крафта, благодаря которой Вы сможете создавать уникальные предметы одежды и аксессуары,\n\
					которых нет в продаже на сервере.\n\n\
					Помимо \"начинки\" сервера в виде его мода, мы позаботились о его внешнем виде. Именно поэтому каждая\n\
					организация (полиция, больница, мафии и т.п.) и важное общественное место (банк, автошкола и т.п.) имеют\n\
					свой собственный красивый интерьер. Также мы создали функциональный и яркий сайт проекта, с которым Вы ещё\n\
					познакомитесь в процессе игры.", "Далее", "Отмена");
				}
				case 2:
				{
				    SPD(playerid, did_faq_back, DSM, "{"#DC_MAIN"}Что такое RolePlay?", "{"#DC_WHITE"}\
					Играя в SA-MP, вы часто будете видеть в названиях проектов словосочетание RolePlay (RP). Что же это значит?\n\
					Ответ прост - ролевая игра. Каждый игрок сам выбирает себе роль и старается развивать своего персонажа,\n\
					соответствуя ей. Например, один игрок решит стать сначала полицейским, а потом и вовсе лидером полиции,\n\
					поэтому будет вынужден вести себя как настоящий лидер полиции. Второй игрок может быть вообще не устроен\n\
					в организациях и иметь свой бизнес, зарабатывая приличные деньги - это также его роль.\n\n\
					Важно понимать, что при ролевом режиме игры она становится реалистичнее, поэтому в обычный чат нельзя писать\n\
					вещи, не относящиеся к игре и Вашему персонажу (IC), пример: Привет, я Коля, мне 15 лет, живу в Питере. Всё\n\
					это относится к реальной жизни, и именно для этой информации (ООС) существует отдельный чат, писать в который\n\
					можно с помощью команды (/n). Таким образом, если Вас в обычный чат спрашивают, сколько Вам лет, то речь идёт\n\
					не о Вас как игроке, а о Вашем персонаже, возраст которого должен соответствовать информации в его паспорте.\n\n\
					При устройстве в организацию Вы часто можете слышать вопросы с различными терминами. Например, что такое ДМ (DM),\n\
					МГ (MG) и т.д.? Всё это - RP-термины, прочитать про каждый из которых можно на нашем форуме: ссылка. Помните,\n\
					что в игре есть IC (игровой мир) и OOC (реальный мир) информация, и если в обычный чат Вас спрашивают, что такое DM,\n\
					то сразу нужно вспомнить, что в IC не существует никакого ДМ, RolePlay и прочего, ведь это аналог реального мира, в\n\
					котором мы тоже не знаем, что такое, например, DB. Соответственно, Ваш ответ должен быть таким: наверное, марка автомобиля.\n\
					Если же подобный вопрос прозвучит в ООС чате, то смело отвечайте, что DM - убийство/урон без причины.\n\n\
					На нашем сервере, как и в реальной жизни, за нарушение правил сервера последует наказание. Подробнее о правилах читайте\n\
					на нашем форуме: forum.gta-server.ru", "Далее", "Отмена");
				}
				case 3:
				{
				    SPD(playerid, did_faq_back, DSM, "{"#DC_MAIN"}Что такое lvl, exp и прочее?", "{"#DC_WHITE"}\
					Lvl (Level) - уровень Вашего персонажа. Он состоит из очков опыта - exp (experience), которые выдаются каждый отыгранный час,\n\
					а также за прохождение наших квестов и ежедневных заданий. От Вашего уровня зависят некоторые игровые возможности (основные\n\
					работы, покупка того или иного предмета, устройство в организацию). Также если Вас в IC-чат спрашивают, сколько лет Вы в штате,\n\
					подразумевается Ваш игровой уровень.\n\n\
					HP - уровень Вашего здоровья, который можно пополнить с помощью пищи или аптечек.\n\n\
					Payday - автоматическое начисление Вам зарплаты каждый отыгранный час.\n\n\
					МП - мероприятие, проводимое администраторами сервера. Существует много видов мероприятий, а их победители получают приз в виде\n\
					игровой валюты.\n\n\
					ID - Ваш идентификационный номер на сервере. Он обновляется с каждым новым входом в игру, и отображается при нажатии клавиши Tab\n\
					в строке с Вашим никнеймом.", "Далее", "Отмена");
				}
				case 4:
				{
				    SPD(playerid, did_faq_back, DSM, "{"#DC_MAIN"}Зачем нужны сайт, форум и прочие ресурсы проекта?", "{"#DC_WHITE"}\
					У нашего проекта существуют собственные информационные ресурсы: сайт, форум, группы VK. Разберёмся, зачем же они нужны.\n\n\
					Наш сайт не только красивый и функциональный, но и очень полезный ресурс. Во-первых, оттуда можно скачать все необходимые для\n\
					игры файлы и просмотреть промо-ролик о проекте. Там расположены удобные ссылки на все наши ресурсы, а также мониторинг онлайна\n\
					на сервере в режиме реального времени. Также именно на сайте можно пополнить свой донат-счёт, чтобы получать уникальные возможности\n\
					и имущество в игре, быстрее прокачивая своего персонажа.\n\n\
					Форум проекта - неотъемлемая часть игрового процесса. Именно на форуме производится тщательный разбор жалоб на игроков, пишутся заявки\n\
					на лидерство и проводятся разнообразные конкурсы, создаются семьи и выполняется отчёт о выполненной во фракции работе для повышения\n\
					должности. Если вдруг Вам нужно узнать какую-либо информацию об игре или её режиме - зайдите на форум, наверняка, там Вы найдёте все\n\
					необходимое.\n\n\
					Всего у Luxury RolePlay существует 3 официальных паблика VK: основной, свободный и технической поддержки. В первом мы размещаем все\n\
					анонсы обновлений и проводим разнообразные конкурсы. Свободный паблик служит площадкой для общения игроков и покупки/продажи игровых\n\
					предметов. В технической группе мы выкладываем ранние анонсы разных обновлений, проводим опросы о том, что бы Вы хотели видеть на сервере\n\
					и собираем информацию о багах/недоработках, чтобы скорее их исправить.", "Далее", "Отмена");
				}
				case 5:
				{
				    SPD(playerid, did_faq_back, DSM, "{"#DC_MAIN"}Как правильно начать игру и играть дальше?", "{"#DC_WHITE"}\
					Мы советуем Вам начать с прохождения наших квестов, которые помогут освоиться Вам на сервере. По мере движения сюжетных линий,\n\
					Вы получите необходимые документы и знания, чтобы двигаться дальше.\n\n\
					Когда все квесты будут пройдены, Вы можете действовать по своему усмотрению - например, приобрести бизнес, работать таксистом\n\
					или даже попытаться стать лидером фракции. Важно помнить - соблюдайте RP-режим и пользуйтесь системами ежедневных заданий,\n\
					наград и достижений для быстрой прокачки своего персонажа.", "Далее", "Отмена");
				}
				case 6:
				{
				    SPD(playerid, did_faq_back, DSM, "{"#DC_MAIN"}Как получить помощь в игре?", "{"#DC_WHITE"}\
					Случаются ситуации, в которых Вам необходима помощь администрации, будь то какая-то подсказка или телепортация Вас при застревании\n\
					в объектах. Задать вопрос администрации и попросить помощи Вы можете с помощью репорта (/report), специалисты постараются быстро\n\
					найти решение для Вашего вопроса.\n\n\
					Если же дело касается игрового нарушения, жалобы на игрока или обжалования собственного наказания, то необходимо перейти на форум\n\
					и оставить жалобу в соответствующем разделе по необходимой форме и со всеми доказательствами.\n\n\
					Важно помнить - администраторы очень заняты контролем игрового процесса, поэтому пишите в репорт только по делу и не просите\n\
					администратора телепортироваться к Вам, чтобы просто поговорить.", "Далее", "Отмена");
				}
				case 7:
				{
				    SPD(playerid, did_faq_back, DSM, "{"#DC_MAIN"}Как обновить внешний вид персонажа?", "{"#DC_WHITE"}\
					Для того, чтобы Ваш персонаж выглядел свежо и модно, регулярно обновляйте его внешний вид. Сделать это можно с помощью магазинов\n\
					одежды, где продаются новые скины (полный внешний облик персонажа) и аксессуары. Кстати, аксессуаров на Luxury RolePlay действительно\n\
					много - более 100 видов!\n\n\
					Также помимо покупки желаемый предмет можно получить с помощью системы крафта.", "Далее", "Отмена");
				}
				case 8:
				{
				    SPD(playerid, did_faq_back, DSM, "{"#DC_MAIN"}Различия фракций и общественных работ", "{"#DC_WHITE"}\
					Фракции (организации) и работы сильно отличаются друг от друга. На работах (начальных и основных) Вы просто зарабатываете деньги,\n\
					выполняя определённые действия, тут нет должностей и отделов, каждый работает на себя. Проще говоря, работы - нечто вроде серверной\n\
					системы, где Вы просто получаете деньги.\n\n\
					Если говорить о фракциях, это совершенно другая структура. У каждой организации есть персональный интерьер, функционал и лидер,\n\
					полностью отвечающий за её работу и состояние. Фракции - аналог настоящих работ, где можно получить повышение за проделанную работу\n\
					(повышение происходит через форум, где оставляются отчёты о проделанной работе в виде скриншотов). Фракции бывают государственными\n\
					(армия, полиция, мэрия и т.д.) и нелегальными (банды, мафии, байкеры).\n\n\
					Отметим, что все эти две системы задают темп жизни на сервере. Так, если бы не было развозчиков продуктов, бизнесы были бы пусты,\n\
					а при отсутствии прессы, игроки бы не смогли предоставлять или заказывать разные предметы и услуги. Как ни крути, важен каждый работник.\n\n\
					Независимо от того, заняты ли Вы на общественной работе или трудоустроены во фракции, необходимо соответствовать своей роли.", "Далее", "Отмена");
				}
				case 9:
				{
				    SPD(playerid, did_faq_back, DSM, "{"#DC_MAIN"}О читах и анти-чите", "{"#DC_WHITE"}\
					Как и в любой игре, на Luxury RolePlay запрещено получать любое техническое преимущество над любыми игроками. Это значит, что под\n\
					запретом абсолютно любой читерский софт - от SpeedHack и AIM и до Sobeit и прочих вредоносных программ.\n\n\
					Наказанием за использование читов станет перманентный бан игрового аккаунта по IP, а значит, нарушитель потеряет возможность играть\n\
					на Luxury RolePlay.\n\n\
					Для предотвращения попыток использования читов на нашем проекте разработан комплексный анти-чит, надёжно защищающий игроков от\n\
					злоумышленников.", "Далее", "Отмена");
				}
				case 10:
				{
				    SPD(playerid, did_faq_back, DSM, "{"#DC_MAIN"}О нормативах наказаний", "{"#DC_WHITE"}\
					Как и в любой другой игре с режимом игры RolePlay, на нашем проекте существуют нормативы наказаний игроков.\n\n\
					Нарушения могут происходить как в чате (метагейминг, оскорбления, флуд и пр.), так и непосредственно в игровом действии (от DM, DB и до\n\
					использования читов).\n\n\
					В первом случае наказания, в основном, выдаются в виде мута (запрета писать в чат на определённое время), реже выдаётся бан аккаунта\n\
					(оскорбления родных, администрации, реклама и пр.). Что касается нарушений игрового процесса, то санкции могут быть разными - от тюрьмы\n\
					или варна вплоть до бана игрового аккаунта.\n\n\
					Подробнее о нормативах и возможных причинах выдачи наказаний Вы можете прочитать на нашем форуме: forum.gta-server.ru", "Далее", "Отмена");
				}
				case 11:
				{
				    SPD(playerid, did_faq_back, DSM, "{"#DC_MAIN"}Кто такие лидеры и администраторы?", "{"#DC_WHITE"}\
					Для стабильной работы всего сервера важен каждый игрок, но в особенности - администрация и лидеры организаций.\n\n\
					Лидеры возглавляют фракции и полностью управляют их работой. Именно от этих людей зависят многие вещи: будет ли соблюдаться режим игры\n\
					сотрудниками, по каким критериям пройдут наборы в организации, как именно фракции будут участвовать в жизни сервера. Стать лидером можно\n\
					в случае, если Вы подходите под определённые критерии, написав заявку на форуме проекта и пройдя обзвон на соответствующий пост. Если лидер\n\
					показывает себя достойным и ответственным человеком, то он может претендовать на пост администратора.\n\n\
					Администрация контролирует существование сервера и соблюдение режима игры. В отличие от лидеров, администраторы - не игровые персонажи, а значит,\n\
					контакт с ними происходит в особом порядке. Администрация занимается выдачей наказаний, проведением мероприятий, организацией слаженной работы\n\
					фракций и контролем за комфортом каждого игрока.", "Далее", "Отмена");
				}
				case 12:
				{
				    SPD(playerid, did_faq_back, DSM, "{"#DC_MAIN"}Развлечения на сервере", "{"#DC_WHITE"}\
					На Luxury RolePlay существует много видов развлечений, благодаря которым Вы можете разнообразить свой игровой процесс и заработать игровую\n\
					валюту.\n\n\
					Охота и рыбалка доступны каждому игроку. Для осуществления любого из этих занятий необходимо наличие определённых предметов (удочка для рыбалки,\n\
					винтовка - для охоты). Для поиска ближайшего места проведения охоты или рыбалки воспользуйтесь GPS и следуйте полученным инструкциям. Добычу можно\n\
					либо продать в заведения общепита, либо употребить самому.\n\n\
					Ещё один вид развлечений - мероприятия. Они бывают системными и проводимыми администрацией. В любом из этих случаев в чате Вы увидите инструкции для\n\
					телепортации на место сбора. Победители мероприятий, как правило, выигрывают немало денег.\n\n\
					Остальные виды развлечений связаны с бизнесами. Так, Вы можете попытать свою удачу в роскошном казино, или же как следует оторваться в ближайшем баре.", "Далее", "Отмена");
				}
			}
			return 1;
		}
		case did_faq_back:
		{
			if(!response)
			{
				SPD(playerid, did_faq, DSL, "{"#DC_MAIN"}Подсказки", "\
				{"#DC_MAIN"}1.{"#DC_WHITE"} Что же такое SA-MP?\n\
				{"#DC_MAIN"}2.{"#DC_WHITE"} Почему Luxury RP - самый крутой проект?\n\
				{"#DC_MAIN"}3.{"#DC_WHITE"} Что такое RolePlay?\n\
				{"#DC_MAIN"}4.{"#DC_WHITE"} Что такое lvl, exp и прочее?\n\
				{"#DC_MAIN"}5.{"#DC_WHITE"} Зачем нужны сайт, форум и прочие ресурсы проекта?\n\
				{"#DC_MAIN"}6.{"#DC_WHITE"} Как правильно начать игру и играть дальше?\n\
				{"#DC_MAIN"}7.{"#DC_WHITE"} Как получить помощь в игре?\n\
				{"#DC_MAIN"}8.{"#DC_WHITE"} Как обновить внешний вид персонажа?\n\
				{"#DC_MAIN"}9.{"#DC_WHITE"} Различия фракций и общественных работ\n\
				{"#DC_MAIN"}10.{"#DC_WHITE"} О читах и анти-чите\n\
				{"#DC_MAIN"}11.{"#DC_WHITE"} О нормативах наказаний\n\
				{"#DC_MAIN"}12.{"#DC_WHITE"} Кто такие лидеры и администраторы?\n\
				{"#DC_MAIN"}13.{"#DC_WHITE"} Развлечения на сервере", "Далее", "Отмена");
				return 1;
			}
		}
		case did_car:
		{
		    if(!response) return 1;
		    new vehicleid = PlayerInfo[playerid][pVehicle];
			switch(listitem)
			{
			    case 0: cmd_carpass(playerid, inputtext);
			    case 1: cmd_lock(playerid, inputtext);
			    case 2: cmd_park(playerid, inputtext);
			    case 3: cmd_sellcar(playerid, inputtext);
				case 4: cmd_fixcar(playerid, inputtext);
			    case 5:
			    {
		        	new Float:X[2], Float:Y[2], Float:Z[2];
		        	GetVehiclePos(vehicleid, X[0], Y[0], Z[0]);
					SetPVarFloat(playerid, "GPSX", X[0]);
					SetPVarFloat(playerid, "GPSY", Y[0]);
					SetPVarFloat(playerid, "GPSZ", Z[0]);
					GetPlayerPos(playerid, X[1], Y[1], Z[1]);
					SetPVarInt(playerid, "pGPSWork", 1);
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerRaceCheckpoint(playerid, 1, GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ"), 0, 0, 0, 5.0);
					SendMes(playerid, COLOR_MAIN, "Местоположение {"#DC_WHITE"}транспорта{"#DC_MAIN"} отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
					SendMes(playerid, COLOR_MAIN, "Расстояние: {"#DC_WHITE"}%.1f метров.", GetDistanceBetweenPoints(X[1], Y[1], Z[1], GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ")));
			    }
			    case 6:
			    {
			        SaveVehicle(vehicleid);
					SaveVehicleDetails(vehicleid);
					DestroyVehicleEx(vehicleid);
					PlayerInfo[playerid][pVehicle] = 0;
					PlayerInfo[playerid][pVehicleIDx] = 0;
					TOTALVEH--;
					SendMes(playerid, COLOR_MAIN, "Вы выгрузили транспортное средство.");
			    }
			}
			return 1;
		}
		case did_car_list:
		{
		    if(!response) return 1;
		    if(listitem < 0) return 1;
		    if(PlayerGUIItem[playerid][listitem] == -1) return 1;
			mysql_format(mysql, request, sizeof(request), "SELECT * FROM `"TABLE_VEHICLE"` WHERE `id` = '%d' AND `fraction` = '0'", PlayerGUIItem[playerid][listitem]);
			mysql_tquery(mysql, request, "OnPlayerLoadVehicle", "d", playerid);
		    return 1;
		}
		case did_admin_centre:
		{
			if(!response) return 1;
			switch(listitem)
			{
				case 0:
				{
					if(PlayerInfo[playerid][pAdmin] >= 1) SendMes(playerid, COLOR_LYELLOW, "Уровень администратора - 1: {"#DC_WHITE"}/arep /pm /ans /rr /gg /re /reoff /a /jailinfo /ghide /mhide /bhide /getstats /gethp /offleaders");
					if(PlayerInfo[playerid][pAdmin] >= 2) SendMes(playerid, COLOR_LYELLOW, "Уровень администратора - 2: {"#DC_WHITE"}/mute /unmute /tp /tpcoord /slap /fly /onlinestats /awarninfo /guninfo /fraclist /flip /hp");
					if(PlayerInfo[playerid][pAdmin] >= 3) SendMes(playerid, COLOR_LYELLOW, "Уровень администратора - 3: {"#DC_WHITE"}/kick /skick /jail /unjail /sethp /setam /agetip /getip /tpcapture /tpmafiawar /tpbikerwar");
					if(PlayerInfo[playerid][pAdmin] >= 3) SendMes(playerid, COLOR_LYELLOW, "Уровень администратора - 3: {"#DC_WHITE"}/goto /gotocar /spawn /setinterior /setvirtworld /templeader");
					if(PlayerInfo[playerid][pAdmin] >= 4) SendMes(playerid, COLOR_LYELLOW, "Уровень администратора - 4: {"#DC_WHITE"}/o /warn /agetstats /pgetip /offmute /offjail /gethere /getcar /freeze /alock /setfuel");
					if(PlayerInfo[playerid][pAdmin] >= 5) SendMes(playerid, COLOR_LYELLOW, "Уровень администратора - 5: {"#DC_WHITE"}/togooc /ban /offwarn /startmp /msg /setskin /setskinr /veh /dveh /scar /scarr /givegun /givegunr");
					if(PlayerInfo[playerid][pAdmin] >= 5) SendMes(playerid, COLOR_LYELLOW, "Уровень администратора - 5: {"#DC_WHITE"}/resetgun /resetgunr /sethpr /setamr /intt /res /freezer /unfreezer /dvehr /aclear /createobject");
					if(PlayerInfo[playerid][pAdmin] >= 5) SendMes(playerid, COLOR_LYELLOW, "Уровень администратора - 5: {"#DC_WHITE"}/editobject /deleteobject /dvehid /stopcapture /stopmafiawar /stopbikerwar");
					if(PlayerInfo[playerid][pAdmin] >= 6) SendMes(playerid, COLOR_LYELLOW, "Уровень администратора - 6: {"#DC_WHITE"}/offban /unwarn /agivelic /atake /auninvite /aoffuninvite /htp /btp /hltp /ftp /stp /setname /setfuelr");
					if(PlayerInfo[playerid][pAdmin] >= 6) SendMes(playerid, COLOR_LYELLOW, "Уровень администратора - 6: {"#DC_WHITE"}/lip /gzcolor /gmafia /gbiker");
					if(PlayerInfo[playerid][pAdmin] >= 7) SendMes(playerid, COLOR_LYELLOW, "Уровень администратора - 7: {"#DC_WHITE"}/makeleader /spawnr /ainvite /agiverank /agiveskin /offadmins /fracwarn /fracunwarn /readsms /guse /muse /buse");
					if(PlayerInfo[playerid][pAdmin] >= 7) SendMes(playerid, COLOR_LYELLOW, "Уровень администратора - 7: {"#DC_WHITE"}/unban /clearchat");
					if(PlayerInfo[playerid][pAdmin] >= 8) SendMes(playerid, COLOR_LYELLOW, "Уровень администратора - 8: {"#DC_WHITE"}/sban /pick /getpick /iban /offiban /disband /clearmafia /clearbiker");
					if(PlayerInfo[playerid][pAdmin] >= 9) SendMes(playerid, COLOR_LYELLOW, "Уровень администратора - 9: {"#DC_WHITE"}/changeskin /setwarehouse /setfwarehouse /setexp /setlvl /setskill /setdonate /givemoney");
					if(PlayerInfo[playerid][pAdmin] >= 9) SendMes(playerid, COLOR_LYELLOW, "Уровень администратора - 9: {"#DC_WHITE"}/promocodestats /checkmoney /payday /top /banip /unbanip /saveacc");

							/*/setbizprod - установить значение продуктов в бизнесе,
							/setfraction - управление фракцией, /sethousepos - изменить позицию дома\n\
							/sethouseprice - изменить стоимость дома, /sethousepark - изменить пароковочное место у дом\n\
							/sethousetype - изменить тип дома, /setbizpos - изменить позицию бизнеса\n\
							/setbizprice - изменить стоимость бизнеса, /setbizint - изменить интерьер бизнеса\n\
							/setbizbank - изменить кол-во денег в бизнесе, /setbizname - изменить название бизнеса\n\
							/setbizmenu - изменить позицию меню покупок в бизнесе\n\
							/setepos - изменить позицию входа, /setbiztype - изменить тип бизнеса\n\
							/setppos - изменить позицию пикапа, /setopos - изменить позицию объекта\n\
							/setvmodel - изменить модель транспорта, /setgps - изменить GPS\n\
							/givemoney - выдать деньги, /makesupport - назначить на должность помощника, /makeadmin - назначить на должность администратора\n\
							/fset - изменить значения фракции, /setallgarage - изменить гаражи для всех домов\n\
						 	/setfraction - управление фракцией, setfwarehouse - управление складами фракций\n\
						 	/fspawn - изменить позицию спавна для фракции, /delfspawn - удалить позицию спавна во фракции\n\
						 	/setveh - изменить фракцию для транспорта, fwarehouse - изменить позицию склада во фракции\n\
						 	/bddelveh - удалить транспорт из базы данных\n\
							/netstats - статистика сервера, /add - панель создания недвижимости и прочего\n\
							/entinfo - информация о входе, /picinfo - информация о пикапе\n\
							/actorcreate - создать актера, /actoranim - изменить анимацию актеру\n\
							/asetpos - изменить позицию актеру, /asetanim - изменить анимацию актеру\n\
							/giveexchequer - изменить значение денег в казне, /totalinfo - полная информация\n\
							/create3dtext - создать 3D текст, /asellhouse - продать дом\n\
							/asellbiz - продать бизнес, /restart - сделать рестарт сервера\n\
							/delacc - удалить аккаунт, /resetmoney - забрать деньги у игрока", "Далее", "Отмена");*/
				}
				case 1:
				{
					totalstring = "";
					format(totalstring, sizeof(totalstring), "\
					{"#DC_MAIN"}1.{"#DC_WHITE"} Сообщения о входе и выходе игрока: %s\n\
					{"#DC_MAIN"}2.{"#DC_WHITE"} Сообщения о разных IP: %s\n\
					{"#DC_MAIN"}3.{"#DC_WHITE"} Сообщения от античита: %s\n\
					{"#DC_MAIN"}4.{"#DC_WHITE"} Сообщение из репорта: %s\n\
					{"#DC_MAIN"}5.{"#DC_WHITE"} Килл-инфо: %s\n\
					{"#DC_MAIN"}6.{"#DC_WHITE"} Сообщение из ответа: %s\n\
					{"#DC_MAIN"}7.{"#DC_WHITE"} Сообщение из админ. чата: %s\n\
					{"#DC_MAIN"}8.{"#DC_WHITE"} Сообщения о действиях: %s\n\
					{"#DC_MAIN"}9.{"#DC_WHITE"} Вопросы помощникам: %s\n\
					{"#DC_MAIN"}10.{"#DC_WHITE"} Ответы помощников: %s\n\
					{"#DC_MAIN"}11.{"#DC_WHITE"} Чат помощников: %s",
					(!PlayerInfo[playerid][pAdminSetting][1]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pAdminSetting][2]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pAdminSetting][3]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pAdminSetting][4]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pAdminSetting][5]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pAdminSetting][6]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pAdminSetting][7]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pAdminSetting][8]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pAdminSetting][9]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pAdminSetting][10]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
					(!PlayerInfo[playerid][pAdminSetting][11]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"));
					if(PlayerInfo[playerid][pAdmin] > 0) SPD(playerid, did_admin_centre_settings, DSL, "{"#DC_MAIN"}Личные настройки", totalstring, "Далее", "Отмена");
				}
			}
			return 1;
		}
		case did_admin_centre_settings:
		{
			if(!response) if(PlayerInfo[playerid][pAdmin] > 0) return SPD(playerid, did_admin_centre, DSL, "{"#DC_MAIN"}Центр администратора", "{"#DC_MAIN"}1.{"#DC_WHITE"} Команды\n{"#DC_MAIN"}2.{"#DC_WHITE"} Настройки", "Далее", "Отмена");
			switch(listitem)
			{
				case 0: if(PlayerInfo[playerid][pAdminSetting][1] == 0) PlayerInfo[playerid][pAdminSetting][1] = 1; else PlayerInfo[playerid][pAdminSetting][1] = 0;
				case 1: if(PlayerInfo[playerid][pAdminSetting][2] == 0) PlayerInfo[playerid][pAdminSetting][2] = 1; else PlayerInfo[playerid][pAdminSetting][2] = 0;
				case 2: if(PlayerInfo[playerid][pAdminSetting][3] == 0) PlayerInfo[playerid][pAdminSetting][3] = 1; else PlayerInfo[playerid][pAdminSetting][3] = 0;
				case 3: if(PlayerInfo[playerid][pAdminSetting][4] == 0) PlayerInfo[playerid][pAdminSetting][4] = 1; else PlayerInfo[playerid][pAdminSetting][4] = 0;
				case 4: if(PlayerInfo[playerid][pAdminSetting][5] == 0) PlayerInfo[playerid][pAdminSetting][5] = 1; else PlayerInfo[playerid][pAdminSetting][5] = 0;
				case 5: if(PlayerInfo[playerid][pAdminSetting][6] == 0) PlayerInfo[playerid][pAdminSetting][6] = 1; else PlayerInfo[playerid][pAdminSetting][6] = 0;
				case 6: if(PlayerInfo[playerid][pAdminSetting][7] == 0) PlayerInfo[playerid][pAdminSetting][7] = 1; else PlayerInfo[playerid][pAdminSetting][7] = 0;
				case 7: if(PlayerInfo[playerid][pAdminSetting][8] == 0) PlayerInfo[playerid][pAdminSetting][8] = 1; else PlayerInfo[playerid][pAdminSetting][8] = 0;
				case 8: if(PlayerInfo[playerid][pAdminSetting][9] == 0) PlayerInfo[playerid][pAdminSetting][9] = 1; else PlayerInfo[playerid][pAdminSetting][9] = 0;
				case 9: if(PlayerInfo[playerid][pAdminSetting][10] == 0) PlayerInfo[playerid][pAdminSetting][10] = 1; else PlayerInfo[playerid][pAdminSetting][10] = 0;
				case 10: if(PlayerInfo[playerid][pAdminSetting][11] == 0) PlayerInfo[playerid][pAdminSetting][11] = 1; else PlayerInfo[playerid][pAdminSetting][11] = 0;
			}
			format(PlayerInfo[playerid][pAdminSettings], 64, "1, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, 1, 1",
			PlayerInfo[playerid][pAdminSetting][1], PlayerInfo[playerid][pAdminSetting][2], PlayerInfo[playerid][pAdminSetting][3], PlayerInfo[playerid][pAdminSetting][4],
			PlayerInfo[playerid][pAdminSetting][5], PlayerInfo[playerid][pAdminSetting][6], PlayerInfo[playerid][pAdminSetting][7], PlayerInfo[playerid][pAdminSetting][8],
			PlayerInfo[playerid][pAdminSetting][9], PlayerInfo[playerid][pAdminSetting][10], PlayerInfo[playerid][pAdminSetting][11]);
			SetPlayerStr(PlayerInfo[playerid][pID], "adminsettings", PlayerInfo[playerid][pAdminSettings]);
			totalstring = "";
			format(totalstring, sizeof(totalstring), "\
			{"#DC_MAIN"}1.{"#DC_WHITE"} Сообщения о входе и выходе игрока: %s\n\
			{"#DC_MAIN"}2.{"#DC_WHITE"} Сообщения о разных IP: %s\n\
			{"#DC_MAIN"}3.{"#DC_WHITE"} Сообщения от античита: %s\n\
			{"#DC_MAIN"}4.{"#DC_WHITE"} Сообщение из репорта: %s\n\
			{"#DC_MAIN"}5.{"#DC_WHITE"} Килл-инфо: %s\n\
			{"#DC_MAIN"}6.{"#DC_WHITE"} Сообщение из ответа: %s\n\
			{"#DC_MAIN"}7.{"#DC_WHITE"} Сообщение из админ. чата: %s\n\
			{"#DC_MAIN"}8.{"#DC_WHITE"} Сообщения о действиях: %s\n\
			{"#DC_MAIN"}9.{"#DC_WHITE"} Вопросы помощникам: %s\n\
			{"#DC_MAIN"}10.{"#DC_WHITE"} Ответы помощников: %s\n\
			{"#DC_MAIN"}11.{"#DC_WHITE"} Чат помощников: %s",
			(!PlayerInfo[playerid][pAdminSetting][1]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pAdminSetting][2]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pAdminSetting][3]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pAdminSetting][4]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pAdminSetting][5]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pAdminSetting][6]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pAdminSetting][7]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pAdminSetting][8]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pAdminSetting][9]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pAdminSetting][10]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"),
			(!PlayerInfo[playerid][pAdminSetting][11]) ? ("{"#DC_LRED"}Выключено") : ("{"#DC_GREEN"}Включено"));
			if(PlayerInfo[playerid][pAdmin] > 0) SPD(playerid, did_admin_centre_settings, DSL, "{"#DC_MAIN"}Личные настройки", totalstring, "Далее", "Отмена");
			return 1;
		}
		case did_casino:
		{
			if(!response) return SelectTextDraw(playerid, 0x007FFFFF);
			if(PlayerInfo[playerid][pDiceTable] != -1) ExitDice(playerid);
			else if(PlayerInfo[playerid][pSlotMachine] != -1) ExitSlotMachine(playerid);
			return 1;
		}
		case did_casino_bet:
		{
		    if(!response) return 1;
		    new bet = strval(inputtext);
			if(bet < 1000 || bet > 50000000) return SendMes(playerid, COLOR_DARKORANGE, "Вы указали неверную ставку.");
			new table = PlayerInfo[playerid][pDiceTable];
			new null = 0;
			for(new i; i < 5; i++)
			{
				if(DiceInfo[table][bPlayers][i] == INVALID_PLAYER_ID) continue;
				if(DiceInfo[table][bPlayers][i] == -1 || DiceInfo[table][bStatus][i]) null++;
			}
			if(null > 0) return SendMes(playerid, COLOR_DARKORANGE, "Кто-то из игроков уже поставил ставку.");
			if(DiceInfo[table][GameTimer] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете изменять ставку в процессе игры.");
			DiceInfo[table][bBet] = bet;
			SendMes(playerid, COLOR_MAIN, "Вы изменили ставку. Новая ставка: {"#DC_WHITE"}$%d.", bet);
			UpdateDice(table);
		    return 1;
		}
		case did_register:
		{
			if(response)
			{
				if(!strlen(inputtext) || strlen(inputtext) < 6 || strlen(inputtext) > 24)
				{
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
     				Добро пожаловать на сервер {"#DC_MAIN"}"NAME_SERVER".{"#DC_WHITE"}\n\
					Аккаунт {"#DC_MAIN"}%s,{"#DC_WHITE"} не зарегистрирован.\n\
					Для регистрации введите пароль:\n\n\
					{"#DC_RED"}Ошибка: Длина пароля должна быть не меньше 6 и не больше 24 символов.", PlayerInfo[playerid][pName]);
					return SPD(playerid, did_register, DSI, "{"#DC_MAIN"}Регистрация", totalstring, "Отмена", "");
				}
				if(IsTextInvalid(inputtext))
				{
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
					Добро пожаловать на сервер {"#DC_MAIN"}"NAME_SERVER".{"#DC_WHITE"}\n\
					Аккаунт {"#DC_MAIN"}%s,{"#DC_WHITE"} не зарегистрирован.\n\
					Для регистрации введите пароль:\n\n\
					{"#DC_RED"}Ошибка: Вы ввели запрещенные символы.", PlayerInfo[playerid][pName]);
					return SPD(playerid, did_register, DSI, "{"#DC_MAIN"}Регистрация", totalstring, "Отмена", "");
				}
				if(IsTextRussian(inputtext))
				{
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
					Добро пожаловать на сервер {"#DC_MAIN"}"NAME_SERVER".{"#DC_WHITE"}\n\
					Аккаунт {"#DC_MAIN"}%s,{"#DC_WHITE"} не зарегистрирован.\n\
					Для регистрации введите пароль:\n\n\
					{"#DC_RED"}Ошибка: Вы использовали русские символы.", PlayerInfo[playerid][pName]);
					return SPD(playerid, did_register, DSI, "{"#DC_MAIN"}Регистрация", totalstring, "Отмена", "");
				}
				else
				{
				    format(PlayerInfo[playerid][pPassword], 128, MD5_Hash(inputtext));
					SPD(playerid, did_register_referral, DSI, "{"#DC_MAIN"}Регистрация", "{"#DC_WHITE"}Введите имя игрока, пригласившего Вас на сервер:\nЕсли вы пришли сами, то нажмите \"Пропуск\".", "Далее", "Пропуск");
				}
			}
			else KickWithMessage(playerid, COLOR_DARKORANGE, "Вы отменили регистрацию. Введите (/q)");
			return 1;
		}
		case did_register_referral:
		{
			if(!response)
			{
				strmid(PlayerInfo[playerid][pReferral], "None", 0, strlen("None"), MAX_PLAYER_NAME);
				SPD(playerid, did_register_sex, DSM, "{"#DC_MAIN"}Регистрация", "{"#DC_WHITE"}Выберите пол вашего персонажа:", "Мужской", "Женский");
				return 1;
			}
			if(strlen(inputtext) < 1 || strlen(inputtext) > MAX_PLAYER_NAME) return SPD(playerid, did_register_referral, DSI, "{"#DC_MAIN"}Регистрация", "{"#DC_WHITE"}Введите имя игрока, пригласившего Вас на сервер:\nЕсли вы пришли сами, то нажмите \"Пропуск\".", "Далее", "Пропуск");
			if(IsTextRussian(inputtext))
			{
				SPD(playerid, did_register_referral, DSI, "{"#DC_MAIN"}Регистрация", "{"#DC_WHITE"}Введите имя игрока, пригласившего Вас на сервер:\nЕсли вы пришли сами, то нажмите \"Пропуск\".\n\n{"#DC_RED"}Ошибка: Вы использовали русские символы.", "Далее", "Пропуск");
			}
			for(new i; i < sizeof(PromocodeInfo); i++)
			{
				if(!strcmp(inputtext, PromocodeInfo[i], true))
				{
					SPD(playerid, did_register_referral, DSI, "{"#DC_MAIN"}Регистрация", "{"#DC_WHITE"}Введите имя игрока, пригласившего Вас на сервер:\nЕсли вы пришли сами, то нажмите \"Пропуск\".\n\n{"#DC_RED"}Ошибка: Вы использовали промокод, его необходимо вводить после регистрации.", "Далее", "Пропуск");
					break;
				}
			}
			strmid(PlayerInfo[playerid][pReferral], inputtext, 0, strlen(inputtext), MAX_PLAYER_NAME);
			SPD(playerid, did_register_sex, DSM, "{"#DC_MAIN"}Регистрация", "{"#DC_WHITE"}Выберите пол вашего персонажа:", "Мужской", "Женский");
			return 1;
		}
		case did_register_sex:
		{
			switch(response)
			{
				case 1: PlayerInfo[playerid][pSex] = 1;
				default: PlayerInfo[playerid][pSex] = 2;
			}
			UseRegister[playerid] = true;
			PlayerPlaySound(playerid, 1098, 0.0, 0.0, 0.0);
			ClothesRound[playerid] = 1;
			PlayerLogged[playerid] = true;
			SetHealth(playerid, 100);
			SetSpawnInfo(playerid, 255, PlayerInfo[playerid][pSkin], 0, 0, 0, 1.0, -1, -1, -1, -1, -1, -1);
			SpawnPlayer(playerid);
			return 1;
		}
		case did_login:
		{
			if(PlayerLogged[playerid] == 1) return OnCheatDetected(playerid, "", 0, 53);
			if(response)
			{
				if(!strlen(inputtext) || strlen(inputtext) < 6 || strlen(inputtext) > 24)
				{
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
					Добро пожаловать на сервер {"#DC_MAIN"}"NAME_SERVER"{"#DC_WHITE"}\n\
					Аккаунт {"#DC_MAIN"}%s,{"#DC_WHITE"} зарегистрирован.\n\
					Для авторизации введите пароль:\n\n\
					{"#DC_RED"}Ошибка: Длина пароля должна быть не меньше 6 и не больше 24 символов.", PlayerInfo[playerid][pName]);
					return SPD(playerid, did_login, DSP, "{"#DC_MAIN"}Авторизация", totalstring, "Войти", "Восст.");
				}
				if(IsTextInvalid(inputtext))
				{
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
					Добро пожаловать на сервер {"#DC_MAIN"}"NAME_SERVER"{"#DC_WHITE"}\n\
					Аккаунт {"#DC_MAIN"}%s,{"#DC_WHITE"} зарегистрирован.\n\
					Для авторизации введите пароль:\n\n\
					{"#DC_RED"}Ошибка: Вы ввели запрещенные символы.", PlayerInfo[playerid][pName]);
					return SPD(playerid, did_login, DSP, "{"#DC_MAIN"}Авторизация", totalstring, "Войти", "Восст.");
				}
				if(IsTextRussian(inputtext))
				{
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
					Добро пожаловать на сервер {"#DC_MAIN"}"NAME_SERVER"{"#DC_WHITE"}\n\
					Аккаунт {"#DC_MAIN"}%s,{"#DC_WHITE"} зарегистрирован.\n\
					Для авторизации введите пароль:\n\n\
					{"#DC_RED"}Ошибка: Вы использовали русские символы.", PlayerInfo[playerid][pName]);
					return SPD(playerid, did_login, DSP, "{"#DC_MAIN"}Авторизация", totalstring, "Войти", "Восст.");
				}
				if(GetPVarInt(playerid, "Login") > gettime())
				{
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
					Добро пожаловать на сервер {"#DC_MAIN"}"NAME_SERVER"{"#DC_WHITE"}\n\
					Аккаунт {"#DC_MAIN"}%s,{"#DC_WHITE"} зарегистрирован.\n\
					Для авторизации введите пароль:\n\n\
					{"#DC_RED"}Ошибка: Нельзя так быстро вводить символы.", PlayerInfo[playerid][pName]);
					return SPD(playerid, did_login, DSP, "{"#DC_MAIN"}Авторизация", totalstring, "Войти", "Восст.");
				}
				if(!strcmp(MD5_Hash(inputtext), PlayerInfo[playerid][pPassword], true))
				{
				    CheckGoogleAuthenticator(playerid);
					return 1;
				}
				else
				{
					new logtires = 3 - PlayerLogTries[playerid];
					PlayerLogTries[playerid]++;
					if(PlayerLogTries[playerid] == 4) return KickWithMessage(playerid, COLOR_DARKORANGE, "Вы были кикнуты по подозрению во взломе аккаунта. Введите (/q)");
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
					Добро пожаловать на сервер {"#DC_MAIN"}"NAME_SERVER"{"#DC_WHITE"}\n\
					Аккаунт {"#DC_MAIN"}%s,{"#DC_WHITE"} зарегистрирован.\n\
					Для авторизации введите пароль:\n\n\
					{"#DC_RED"}Ошибка: Вы ввели неверный пароль! У вас осталось %d попытк(-а/-и)!", PlayerInfo[playerid][pName], logtires);
					return SPD(playerid, did_login, DSP, "{"#DC_MAIN"}Авторизация", totalstring, "Войти", "Восст.");
				}
			}
			else
			{
			    if(!strcmp(PlayerInfo[playerid][pEmail], "None", true))
				{
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
					Добро пожаловать на сервер {"#DC_MAIN"}"NAME_SERVER"{"#DC_WHITE"}\n\
					Аккаунт {"#DC_MAIN"}%s,{"#DC_WHITE"} зарегистрирован.\n\
					Для авторизации введите пароль:\n\n\
					{"#DC_RED"}Ошибка: На этом аккаунте не подтвержден E-mail адрес.", PlayerInfo[playerid][pName]);
					return SPD(playerid, did_login, DSP, "{"#DC_MAIN"}Авторизация", totalstring, "Войти", "Восст.");
				} else SPD(playerid, did_recovery, DSM, "{"#DC_MAIN"}Восстановление", "{"#DC_WHITE"}Вы желаете начать процедуру восстановления аккаунта?", "Да", "Нет");
			}
			return 1;
		}
		case did_recovery:
		{
		    if(!response)
		    {
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
				Добро пожаловать на сервер {"#DC_MAIN"}"NAME_SERVER"{"#DC_WHITE"}\n\
				Аккаунт {"#DC_MAIN"}%s,{"#DC_WHITE"} зарегистрирован.\n\
				Для авторизации введите пароль:", PlayerInfo[playerid][pName]);
				return SPD(playerid, did_login, DSP, "{"#DC_MAIN"}Авторизация", totalstring, "Войти", "Восст.");
		    }
			new code = 1000 + random(9999);
			new tempquery[256];
			format(tempquery, sizeof(tempquery), "hdbdisjguakfb.gta-server.ru/good_mailer/44send_mail.php?text=Ваш код: %d&subject=Подтверждение E-Mail&to=%s", code, PlayerInfo[playerid][pEmail]);
			new result = HTTP(0, HTTP_HEAD, tempquery, "", "CheckHTTPResponse");
			if(!result) return SendMes(playerid, COLOR_DARKORANGE, "Произошла ошибка при отправке запроса.");
			ReMailCode[playerid] = code;
			totalstring = "";
		    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}На E-mail привязанный к аккаунту отправлено письмо с кодом подтверждения.\nВведите этот код в диалоговое окно.\n\nЧтобы свернуть игру нажмите Alt + Tab.");
		    SPD(playerid, did_recovery_code, DSI, "{"#DC_MAIN"}Восстановление", totalstring, "Отмена", "");
			return 1;
		}
		case did_recovery_code:
		{
		    if(!response) return KickWithMessage(playerid, COLOR_DARKORANGE, "Вы отменили восстановление. Введите (/q)");
			if(!strlen(inputtext))
			{
				totalstring = "";
			    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}На E-mail привязанный к аккаунту отправлено письмо с кодом подтверждения.\nВведите этот код в диалоговое окно.\n\nЧтобы свернуть игру нажмите Alt + Tab.");
			    return SPD(playerid, did_recovery_code, DSI, "{"#DC_MAIN"}Восстановление", totalstring, "Отмена", "");
			}
			if(strval(inputtext) == ReMailCode[playerid]) return SPD(playerid, did_recovery_password, DSI, "{"#DC_MAIN"}Восстановление", "{"#DC_WHITE"}Введите новый пароль:", "Отмена", "");
			else
			{
				new errorpass = 3 - PlayerLogTries[playerid];
				PlayerLogTries[playerid]++;
				if(PlayerLogTries[playerid] == 4) return KickWithMessage(playerid, COLOR_DARKORANGE, "Вы были кикнуты по подозрению во взломе аккаунта. Введите (/q)");
				totalstring = "";
			    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}На E-mail привязанный к аккаунту отправлено письмо с кодом подтверждения.\nВведите этот код в диалоговое окно.\n\nЧтобы свернуть игру нажмите Alt + Tab.\n\n{"#DC_RED"}Ошибка: Неверный код. У вас осталось %d попытк(-а/-и)!", errorpass);
			    SPD(playerid, did_recovery_code, DSI, "{"#DC_MAIN"}Восстановление", totalstring, "Отмена", "");
			}
			return 1;
		}
		case did_recovery_password:
		{
		    if(!response) return KickWithMessage(playerid, COLOR_DARKORANGE, "Вы отменили восстановление. Введите (/q)");
		    if(!strlen(inputtext) || strlen(inputtext) < 6 || strlen(inputtext) > 24) return SPD(playerid, did_recovery_password, DSI, "{"#DC_MAIN"}Восстановление", "{"#DC_WHITE"}Введите новый пароль:\n\n{"#DC_RED"}Ошибка: Длина пароля должна быть не меньше 6 и не больше 24 символов.", "Отмена", "");
			if(IsTextInvalid(inputtext)) return SPD(playerid, did_recovery_password, DSI, "{"#DC_MAIN"}Восстановление", "{"#DC_WHITE"}Введите новый пароль:\n\n{"#DC_RED"}Ошибка: Вы ввели запрещенные символы.", "Отмена", "");
			if(IsTextRussian(inputtext)) return SPD(playerid, did_recovery_password, DSI, "{"#DC_MAIN"}Восстановление", "{"#DC_WHITE"}Введите новый пароль:\n\n{"#DC_RED"}Ошибка: Вы использовали русские символы.", "Отмена", "");
			if(strfind(inputtext, ", ", true) != -1) return SPD(playerid, did_recovery_password, DSI, "{"#DC_MAIN"}Восстановление", "{"#DC_WHITE"}Введите новый пароль:\n\n{"#DC_RED"}Ошибка: Вы использовали запрещенные символы.", "Отмена", "");
			else
			{
			    PlayerInfo[playerid][pGoogleStatus] = 0;
			    PlayerInfo[playerid][pGoogleType] = 0;
				format(PlayerInfo[playerid][pGoogleReservs], 64, "0, 0, 0, 0, 0, 0");
				format(PlayerInfo[playerid][pGoogle], 32, "");
				mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_ACCOUNT" SET `otp_status` = '0', `otp_auth_type` = '0', `otp_request_expire` = '0', `otp_update_hash` = '', `otp_token` = '', `otp_reserve_codes` = '0, 0, 0, 0, 0, 0' WHERE `name` = '%e'", PlayerInfo[playerid][pName]);
				mysql_query(mysql, request, false);
				format(PlayerInfo[playerid][pPassword], 128, MD5_Hash(inputtext));
				SendMes(playerid, COLOR_MAIN, "Ваш пароль изменен.");
				SendMes(playerid, COLOR_MAIN, "Новый пароль: {"#DC_WHITE"}%s", inputtext);
				SendMes(playerid, COLOR_MAIN, "Рекомендуется сделать скриншот. Клавиша: F8");
				SendMes(playerid, COLOR_MAIN, "Для полной безопасности аккаунта настройте Google Authenticator.");
				SetPlayerStr(PlayerInfo[playerid][pID], "password", PlayerInfo[playerid][pPassword]);
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Добро пожаловать на сервер {"#DC_MAIN"}"NAME_SERVER".{"#DC_WHITE"}\nАккаунт {"#DC_MAIN"}%s{"#DC_WHITE"} зарегистрирован.\n\nДля авторизации введите пароль:", PlayerInfo[playerid][pName]);
				SPD(playerid, did_login, DSP, "{"#DC_MAIN"}Авторизация", totalstring, "Войти", "Восст.");
			}
			return 1;
		}
	    case did_leave:
		{
			if(!response) return 1;
			SendMes(playerid, COLOR_MAIN, "Вы уволились из организации {"#DC_WHITE"}%s.", FracInfo[PlayerInfo[playerid][pMember]][fName]);
			LeaveFractionPlayer(playerid, 1);
			return 1;
		}
		case did_accessories_shop:
	    {
  			if(!response) return 1;
  			new skin = GetPlayerSkin(playerid);
  			new
			Float:fOffsetX = AccessoriesCoords[listitem][skin][0], Float:fOffsetY = AccessoriesCoords[listitem][skin][1], Float:fOffsetZ = AccessoriesCoords[listitem][skin][2],
			Float:fRotX = AccessoriesCoords[listitem][skin][3], Float:fRotY = AccessoriesCoords[listitem][skin][4], Float:fRotZ = AccessoriesCoords[listitem][skin][5],
			Float:fScaleX = AccessoriesCoords[listitem][skin][6], Float:fScaleY = AccessoriesCoords[listitem][skin][7], Float:fScaleZ = AccessoriesCoords[listitem][skin][8];
  			if(fOffsetX == 0.0 && fOffsetY == 0.0 && fOffsetZ == 0.0 && fRotX == 0.0 && fRotY == 0.0 && fRotZ == 0.0 && fScaleX == 0.0 && fScaleY == 0.0 && fScaleZ == 0.0) return SendMes(playerid, COLOR_DARKORANGE, "В данной группе нет подходящего аксессуара для Вашего скина.");
  			SetPVarInt(playerid, "AccessoriesCoords", listitem), SetPVarInt(playerid, "AccessoriesInfo", listitem + 1);
			SavePlayerWeapon(playerid);
			SelectCharPlace[playerid] = 1;
			ClothesRound[playerid] = 3;
			SpawnInterior[playerid] = GetPlayerInterior(playerid);
			SpawnVirtualWorld[playerid] = GetPlayerVirtualWorld(playerid);
			GetPlayerPos(playerid, SpawnPos[playerid][0], SpawnPos[playerid][1], SpawnPos[playerid][2]);
			GetPlayerFacingAngle(playerid, SpawnPos[playerid][3]);
			for(new i = 0; i < MAX_PLAYER_ACCESSORIES; i++)
			{
			    if(PlayerInfo[playerid][pAccessoriesUse][i] == 0) continue;
				new idx = PlayerInfo[playerid][pAccessories][i] - 1, slot = AccessoriesInfo[idx][aSlot];
				if(IsPlayerAttachedObjectSlotUsed(playerid, slot)) RemovePlayerAttachedObject(playerid, slot);
			    PlayerInfo[playerid][pAccessoriesUse][i] = 0;
			}
			SpawnPlayer(playerid);
			return 1;
	    }
		case did_police:
		{
		    if(!response) return 1;
		    switch(listitem)
		    {
		        case 0:
		        {
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}В данном месте Вы можете получить номер на свое транспортное средство.\nВам будет выдан рандомный номер из 6-ти символов, если же Вы\nжелаете приобрести номер на выбор, отправляйтесь в один из\nмагазинов номерных знаков.\n\nВы желаете получить рандомный номер?");
					return SPD(playerid, did_police_number, DSM, "{"#DC_MAIN"}Выдача номера", totalstring, "Да", "Нет");
				}
		    }
			return 1;
		}
		case did_police_number:
		{
	     	if(!response) return 1;
     		new vehicle = 0, idx = 0, v;
			totalstring = "", bigstring = "";
			if(PlayerInfo[playerid][pVehicle] != 0)
			{
				v = PlayerInfo[playerid][pVehicle];
				if(v != INVALID_VEHICLE_ID && GetVehicleModel(v) != 0)
				{
					if(!strcmp(VehInfo[v][vOwner], PlayerInfo[playerid][pName], true))
					{
						vehicle++;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx + 1, VehicleNameS[GetVehicleModel(PlayerInfo[playerid][pVehicle])-400]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = PlayerInfo[playerid][pVehicle];
						idx++;
					}
				}
			}
			if(vehicle != 0)
			{
				SPD(playerid, did_police_number_list, DSL, "{"#DC_MAIN"}Транспорт", bigstring, "Далее", "Отмена");
			}
			else if(vehicle == 0)
			{
				PlayerGUIItem[playerid][0] = -1;
				SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Транспорт", "{"#DC_WHITE"}У Вас нет транспортного средства.", "Отмена", "");
			}
			return 1;
		}
		case did_police_number_list:
		{
		    if(!response) return 1;
			SetPVarInt(playerid, "VehicleNumberID", PlayerGUIItem[playerid][listitem]);
		    NumberPlatesRandom[playerid][0] = EOS;
			for(new i = 0; i < 6; i++) format(NumberPlatesRandom[playerid], 7, "%s%s%d", NumberPlatesRandom[playerid], abc[random(sizeof(abc))], random(9));
		    mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_VEHICLE" WHERE `number` = '%e' LIMIT 1", NumberPlatesRandom[playerid]);
			mysql_tquery(mysql, request, "OnPlayerSelectBase", "ddds", playerid, 10, 1, NumberPlatesRandom[playerid]);
			return 1;
		}
		case did_police_number_install:
		{
		    if(!response)
			{
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}В данном месте Вы можете получить номер на свое транспортное средство.\nВам будет выдан рандомный номер из 6-ти символов, если же Вы\nжелаете приобрести номер на выбор, отправляйтесь в один из\nмагазинов номерных знаков.\n\nВы желаете получить рандомный номер?");
				return SPD(playerid, did_police_number, DSM, "{"#DC_MAIN"}{"#DC_WHITE"}Выдача номера", totalstring, "Да", "Нет");
			}
			new vehicleid = GetPVarInt(playerid, "VehicleNumberID");
			if(strcmp(VehInfo[vehicleid][vNumber], "NUMBER", true)) return SendMes(playerid, COLOR_DARKORANGE, "На это транспортное средство уже зарегистрирован номерной знак.");
			strmid(VehInfo[vehicleid][vNumber], NumberPlatesRandom[playerid], 0, strlen(NumberPlatesRandom[playerid]), 10);
			/*SetVehicleNumberPlate(vehicleid, VehInfo[vehicleid][vNumber]);*/
			SaveVehicle(vehicleid);
			SendMes(playerid, COLOR_MAIN, "Номер {"#DC_WHITE"}%s{"#DC_MAIN"} присвоен к выбранному транспорту.", VehInfo[vehicleid][vNumber]);
			new Float:x, Float:y, Float:z, Float:r;
			GetVehiclePos(vehicleid, x, y, z);
			GetVehicleZAngle(vehicleid, r);
			new virtualworld = GetVehicleVirtualWorld(vehicleid);
			SetVehicleToRespawn(vehicleid);
			SetVehiclePos(vehicleid, x, y, z);
			SetVehicleZAngle(vehicleid, r);
			LinkVehicleToInterior(vehicleid, 0);
			SetVehicleVirtualWorld(vehicleid, virtualworld);
			return 1;
		}
		case did_police_su:
		{
			if(!response) return 1;
			switch(listitem)
			{
				case 0: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Неподчинение", "- Неподчинение сотруднику - {"#DC_LRED"}2 звезды\n- Отказ выплаты штрафа - {"#DC_LRED"}2 звезды\n- Попытка ухода/побега - {"#DC_LRED"}2 звезды\n- Отказ предъявить документы - {"#DC_LRED"}2 звезды", "Далее", "Отмена");
				case 1: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Соучастие в преступлении", "- Соучастие в преступлении - {"#DC_LRED"}3 звезды\n- Соучастие в тяжком преступлении - {"#DC_LRED"}6 звезд", "Далее", "Отмена");
				case 2: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Ложный вызов", "- Ложный вызов сотрудников - {"#DC_LRED"}2 звезды\n- Ложное сообщение об акте терроризма - {"#DC_LRED"}4 звезды", "Далее", "Отмена");
				case 3: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Наркотические препараты", "- Хранение небольшого количества наркотических средств - {"#DC_LRED"}1 звезда\n- Хранение наркотических средств в крупном объеме - {"#DC_LRED"}3 звезды\n- Употребление наркотических средств - {"#DC_LRED"}4 звезды\n- Торговля, сбыт наркотических средств - {"#DC_LRED"}6 звезд", "Далее", "Отмена");
				case 4: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Взятка", "- Попытка дачи взятки должностному лицу - {"#DC_LRED"}2 звезды", "Далее", "Отмена");
				case 5: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Использование предметов гос. назначения", "- Подделка документов, удостоверений - {"#DC_LRED"}3 звезды\n- Ношение формы гос. служащего - {"#DC_LRED"}5 звезд", "Далее", "Отмена");
				case 6: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Угон транспортного средства", "- Угон/попытка угона гос. транспорта - {"#DC_LRED"}2 звезды\n- Угон транспорта - {"#DC_LRED"}3 звезды", "Далее", "Отмена");
				case 7: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Шантаж, вымогательство", "- Вымогательство денежных средств - {"#DC_LRED"}2 звезды\n- Угроза разглашения с целью вымогательства - {"#DC_LRED"}5 звезд", "Далее", "Отмена");
				case 8: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Национализм", "- Проявление национализма или расизма - {"#DC_LRED"}5 звезд", "Далее", "Отмена");
				case 9: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Бандитизм", "- Ограбление или попытка лица или помещения - {"#DC_LRED"}4 звезды", "Далее", "Отмена");
				case 10: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Терроризм", "- Планирование, либо исполнения теракта - {"#DC_LRED"}6 звезд", "Далее", "Отмена");
				case 11: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Заложники", "- Взятие в заложники 1 гражданина - {"#DC_LRED"}5 звезд\n- Взятие в заложники 2 и более граждан - {"#DC_LRED"}6 звезд", "Далее", "Отмена");
				case 12: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Преступления против государства", "- Организация или участие в несанкц. митингах - {"#DC_LRED"}5 звезд\n- Шпионаж, разглашение секретной информации - {"#DC_LRED"}6 звезд\n- Нападение на высокопоставленное гос. лицо - {"#DC_LRED"}6 звезд", "Далее", "Отмена");
				case 13: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Угрозы", "- Угрозы в адрес гражданских - {"#DC_LRED"}1 звезда\n- Угрозы в адрес сотрудников - {"#DC_LRED"}3 звезды\n- Угрозы увольнением в адрес сотрудников - {"#DC_LRED"}1 звезда\n- Угрозы убийством или избиением - {"#DC_LRED"}3 звезды", "Далее", "Отмена");
				case 14: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Оружие", "- Хранение оружия без лицензии - {"#DC_LRED"}2 звезды\n- Продажа оружия - {"#DC_LRED"}4 звезды", "Далее", "Отмена");
				case 15: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Попрошайничество", "- Выпрашивание денег - {"#DC_LRED"}2 звезды", "Далее", "Отмена");
				case 16: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Превышение должностных полномочий", "- Превышение должностных полномочий - {"#DC_LRED"}6 звезд\n- Разглашение государственных тайн - {"#DC_LRED"}6 звезд", "Далее", "Отмена");
				case 17: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Проникновение", "- Проникновение на охраняемую территорию - {"#DC_LRED"}3 звезд\n- Проникновение на территорию министерства обороны - {"#DC_LRED"}6 звезд", "Далее", "Отмена");
				case 18: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Оскорбление", "- Оскорбление граждан - {"#DC_LRED"}2 звезды\n- Оскорбление сотрудников правоохранительных органов - {"#DC_LRED"}4 звезды", "Далее", "Отмена");
				case 19: SPD(playerid, did_police_su_give, DSL, "{"#DC_MAIN"}Нападение", "- Нападение на гражданских - {"#DC_LRED"}2 звезды\n- Нападение на сотрудников правоохранительных органов - {"#DC_LRED"}4 звезды", "Далее", "Отмена");
			}
			return 1;
		}
		case did_police_su_give:
		{
			if(!response) return 1;
			new scdplayerid = GetPVarInt(playerid, "SuspectID");
			new level, reason[128];
			format(reason, sizeof(reason), inputtext);
			strdel(reason, 0, strfind(reason, "-") + 2);
			strdel(reason, strfind(reason, "-") - 1, strlen(reason));
			level = strval(inputtext[strfind(inputtext, " -") + 2]);
			if(level < 1) return 1;
			PlayerInfo[scdplayerid][pWanted] += level;
			PlayerInfo[scdplayerid][pLaw] -= level;
			if(PlayerInfo[scdplayerid][pWanted] > 6) PlayerInfo[scdplayerid][pWanted] = 6;
			SetPlayerWantedLevel(scdplayerid, PlayerInfo[scdplayerid][pWanted]);
			format(strings, sizeof(strings), "[F] %s объявлен в розыск. Причина: %s, (+%d). Сообщил: %s", PlayerInfo[scdplayerid][pName], reason, level, PlayerInfo[playerid][pName]);
			SendGMes(COLOR_LRED, strings, 1);
			format(strings, sizeof(strings), "Вы объявлены в розыск. Причина: %s, (+%d). Сообщил: %s", reason, level, PlayerInfo[playerid][pName]);
			SendMes(scdplayerid, COLOR_LRED, strings);
			CheckQuest(playerid, 25);
			CheckTask(playerid, 45);
			CheckAchievement(playerid, 25);
			PlayerInfo[playerid][pData][3]++;
			new cmd_string[12];
			format(cmd_string, sizeof(cmd_string), "%d", scdplayerid);
  	 		if(IsPlayerInRangeOfPlayer(25.0, playerid, scdplayerid)) return cmd_pursuit(playerid, cmd_string);
			return 1;
		}
		case did_buypnumber:
		{
			if(!response) return 1;
			if(!strval(inputtext)) return SPD(playerid, did_buypnumber, DSI, "{"#DC_MAIN"}Номер телефона", "{"#DC_WHITE"}Укажите номер телефона, который Вы хотите приобрести:\n\nНомер должен состоять из 6-ти цифр, первая цифра не должна быть 0.\n\n{"#DC_RED"}Ошибка: Номер должен состоять из цифр.", "Далее", "Отмена");
			if(strlen(inputtext) != 6 || inputtext[0] == '0' || !isNumerics(inputtext)) return SPD(playerid, did_buypnumber, DSI, "{"#DC_MAIN"}Номер телефона", "{"#DC_WHITE"}Укажите номер телефона, который Вы хотите приобрести:\n\nНомер должен состоять из 6-ти цифр, первая цифра не должна быть 0.\n\n{"#DC_RED"}Ошибка: Номер должен состоять из 6-ти цифр и первая цифра не должна быть 0.", "Далее", "Отмена");
			mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `phonenumber` = '%d' LIMIT 1", strval(inputtext));
			mysql_tquery(mysql, request, "OnPlayerSelectBase", "ddd", playerid, 14, strval(inputtext));
			return 1;
		}
		case did_music:
		{
		    if(!response) return 1;
		    switch(listitem)
			{
			    case 0: PlayAudioStreamForPlayer(playerid, "http://ep128.hostingradio.ru:8030/ep128");
				case 1: PlayAudioStreamForPlayer(playerid, "http://online.radiorecord.ru:8101/rr_128");
				case 2: PlayAudioStreamForPlayer(playerid, "http://striiming.trio.ee/dfm64.mp3.m3u");
				case 3: PlayAudioStreamForPlayer(playerid, "http://icecast.radiohitfm.cdnvideo.ru/hit.mp3");
				case 4: PlayAudioStreamForPlayer(playerid, "http://ic7.101.ru:8000/v1_1?userid=0&amp;setst=6jr9579rccta1bughkekh4k1q7&amp;city=187223");
				case 5: PlayAudioStreamForPlayer(playerid, "http://www.radiomelodia.ua/MelodiaFM.m3u");
				case 6: PlayAudioStreamForPlayer(playerid, "http://radio02-cn03.akadostream.ru:8108/shanson128.mp3");
				case 7: PlayAudioStreamForPlayer(playerid, "http://www.kissfm.ua/KissFM.m3u");
				case 8: PlayAudioStreamForPlayer(playerid, "http://radiopotok.ru/f/m3u/station_666.m3u");
				case 9: PlayAudioStreamForPlayer(playerid, "http://skycast.su:2007/rock-online.m3u");
				case 10: PlayAudioStreamForPlayer(playerid, "https://blackstarradio.hostingradio.ru:8024/blackstarradio128.mp3");
				case 11: SPD(playerid, did_music_url, DSI, "{"#DC_MAIN"}Ввод URL", "{"#DC_WHITE"}Введите URL музыки, которую хотите включить:", "Включить", "Отмена");
			}
			if(listitem != 11)
			{
				SendMes(playerid, COLOR_MAIN, "Вы включили радио, используйте {"#DC_WHITE"}/music{"#DC_MAIN"} чтобы выключить.");
				SetPVarInt(playerid, "UseMusic", 1);
			}
			return 1;
		}
		case did_music_url:
		{
			if(!response) return 1;
			if(isnull(inputtext)) return SPD(playerid, did_music_url, DSI, "{"#DC_MAIN"}Ввод URL", "{"#DC_WHITE"}Введите URL музыки, которую хотите включить:", "Включить", "Отмена");
			if(strlen(inputtext)) PlayAudioStreamForPlayer(playerid, inputtext);
			SendMes(playerid, COLOR_MAIN, "Вы включили радио, используйте {"#DC_WHITE"}/music{"#DC_MAIN"} чтобы выключить.");
			SetPVarInt(playerid, "UseMusic", 1);
			return 1;
		}
		/*case did_boombox:
		{
		    if(!response) return 1;
			switch(listitem)
			{
				case 0:
				{
				    if(GetPVarInt(playerid, "PlacedBB") != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже установили BoomBox, теперь включите его.");
				    for(new i = 0; i < MAX_GREEN_ZONE; i++) if(IsPlayerInDynamicArea(playerid, AreasInfo[arGreenZone][i])) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете установить BoomBox в \"Зеленой зоне\".");
					new Float:BBCoord[4];
					GetPlayerPos(playerid, BBCoord[0], BBCoord[1], BBCoord[2]);
					GetPlayerFacingAngle(playerid, BBCoord[3]);
					SetPVarFloat(playerid, "BBX", BBCoord[0]);
					SetPVarFloat(playerid, "BBY", BBCoord[1]);
					SetPVarFloat(playerid, "BBZ", BBCoord[2]);
					BBCoord[0] += (2 * floatsin(-BBCoord[3], degrees));
					BBCoord[1] += (2 * floatcos(-BBCoord[3], degrees));
					BBCoord[2] -= 1.0;
					if(GetPVarInt(playerid, "PlacedBB") != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже установили BoomBox, теперь включите его.");
					foreach(new i:Player)
					{
						if(GetPVarType(i, "PlacedBB") != 0)
						{
							if(IsAPPos(playerid, 30.0, GetPVarFloat(i, "BBX"), GetPVarFloat(i, "BBY"), GetPVarFloat(i, "BBZ")))
							{
								SendMes(playerid, COLOR_DARKORANGE, "Вы не можете поставить BoomBox в этом месте.");
								return 1;
							}
						}
					}
					format(strings, sizeof(strings), "%s поставил(-а) бумбокс", PlayerInfo[playerid][pName]);
					SRM(playerid, 10.0, COLOR_LPURPLE, strings);
					SetPVarInt(playerid, "PlacedBB", CreateDynamicObject(2226, BBCoord[0], BBCoord[1], BBCoord[2], 0.0, 0.0, 0.0, .worldid = GetPlayerVirtualWorld(playerid), .interiorid = GetPlayerInterior(playerid)));
					format(strings, sizeof(strings), "BoomBox\nВладелец: %s", PlayerInfo[playerid][pName]);
					SetPVarInt(playerid, "BBLabel", _:CreateDynamic3DTextLabel(strings, -1, BBCoord[0], BBCoord[1], BBCoord[2]+0.5, 5, .worldid = GetPlayerVirtualWorld(playerid), .interiorid = GetPlayerInterior(playerid)));
					SetPVarInt(playerid, "BBArea", CreateDynamicSphere(BBCoord[0], BBCoord[1], BBCoord[2], 30.0, GetPlayerVirtualWorld(playerid), GetPlayerInterior(playerid)));
					ApplyAnimation(playerid, "BOMBER", "BOM_Plant", 4.0, 0, 0, 0, 0, 0);
					ApplyAnimation(playerid, "BOMBER", "BOM_Plant", 4.0, 0, 0, 0, 0, 0);
					return 1;
				}
				case 1:
				{
					if(GetPVarType(playerid, "PlacedBB") == 0) return SendMes(playerid, COLOR_DARKORANGE, "Сначала установите Ваш BoomBox.");
					if(IsAPPos(playerid, 3.0, GetPVarFloat(playerid, "BBX"), GetPVarFloat(playerid, "BBY"), GetPVarFloat(playerid, "BBZ")))
					{
						SPD(playerid, did_boombox_list, DSL, "{"#DC_MAIN"}Выбор радиостанции", "{"#DC_MAIN"}1.{"#DC_WHITE"} Радио Европа Plus\n{"#DC_MAIN"}2.{"#DC_WHITE"} Радио Рекорд\n{"#DC_MAIN"}3.{"#DC_WHITE"} Радио DFM\n{"#DC_MAIN"}4.{"#DC_WHITE"} Радио Хит FM\n{"#DC_MAIN"}5.{"#DC_WHITE"} Радио Energy\n{"#DC_MAIN"}6.{"#DC_WHITE"} Радио Мелодия\n{"#DC_MAIN"}7.{"#DC_WHITE"} Радио Шансон\n{"#DC_MAIN"}8.{"#DC_WHITE"} Радио Kiss FM (UA)\n{"#DC_MAIN"}9.{"#DC_WHITE"} Радио \"Лучшие песни\"\n{"#DC_MAIN"}10.{"#DC_WHITE"} Радио Rock Online\n{"#DC_MAIN"}11.{"#DC_WHITE"} Black Star Radio\n{"#DC_MAIN"}12.{"#DC_WHITE"} Ввод URL\n{"#DC_MAIN"}13.{"#DC_WHITE"} Выключить", "Далее", "Отмена");
					}
					else return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом со своим BoomBox.");
					return 1;
				}
				case 2:
				{
					if(GetPVarInt(playerid, "PlacedBB") == 0) return SendMes(playerid, COLOR_WHITE, "Сначала установите Ваш BoomBox.");
					if(IsAPPos(playerid, 3.0, GetPVarFloat(playerid, "BBX"), GetPVarFloat(playerid, "BBY"), GetPVarFloat(playerid, "BBZ")))
					{
						PickUpBoombox(playerid);
						SendMes(playerid, COLOR_MAIN, "Вы забрали свой BoomBox.");
					}
					return 1;
				}
			}
			return 1;
		}
		case did_boombox_list:
		{
			if(!response) return 1;
			new url[128] = "";
			switch(listitem)
			{
			    case 0: url = "http://ep128.hostingradio.ru:8030/ep128";
				case 1: url = "http://online.radiorecord.ru:8101/rr_128";
				case 2: url = "http://striiming.trio.ee/dfm64.mp3.m3u";
				case 3: url = "http://icecast.radiohitfm.cdnvideo.ru/hit.mp3";
				case 4: url = "http://ic7.101.ru:8000/v1_1?userid=0&amp;setst=6jr9579rccta1bughkekh4k1q7&amp;city=187223";
				case 5: url = "http://www.radiomelodia.ua/MelodiaFM.m3u";
				case 6: url = "http://radio02-cn03.akadostream.ru:8108/shanson128.mp3";
				case 7: url = "http://www.kissfm.ua/KissFM.m3u";
				case 8: url = "http://radiopotok.ru/f/m3u/station_666.m3u";
				case 9: url = "http://skycast.su:2007/rock-online.m3u";
				case 10: url = "https://blackstarradio.hostingradio.ru:8024/blackstarradio128.mp3";
				case 11: SPD(playerid, did_boombox_url, DSI, "{"#DC_MAIN"}Ввод URL", "{"#DC_WHITE"}Введите URL музыки, которую хотите включить:", "Включить", "Отмена");
				case 12:
				{
					if(GetPVarType(playerid, "BBArea") == 0) return 1;
					format(strings, sizeof(strings), "%s выключил(-а) свой бумбокс", PlayerInfo[playerid][pName]);
					SRM(playerid, 10.0, COLOR_LPURPLE, strings);
					foreach(new i:Player)
					{
						if(IsPlayerInDynamicArea(i, GetPVarInt(playerid, "BBArea"))) StopStream(i);
					}
					DeletePVar(playerid, "BBStation");
				}
			}
			if(listitem != 11 && listitem != 12)
			{
				if(GetPVarType(playerid, "PlacedBB") == 0) return 1;
				foreach(new i:Player)
				{
					if(!IsPlayerInDynamicArea(i, GetPVarInt(playerid, "BBArea"))) continue;
					PlayStream(i, url, GetPVarFloat(playerid, "BBX"), GetPVarFloat(playerid, "BBY"), GetPVarFloat(playerid, "BBZ"), 30.0, 1);
				}
				SetPVarString(playerid, "BBStation", url);
			}
			return 1;
		}
		case did_boombox_url:
		{
			if(!response) return 1;
			if(isnull(inputtext)) return SPD(playerid, did_boombox_url, DSI, "{"#DC_MAIN"}Ввод URL", "{"#DC_WHITE"}Введите URL музыки, которую хотите включить:", "Включить", "Отмена");
			if(strlen(inputtext))
			{
				if(GetPVarType(playerid, "PlacedBB") == 0) return 1;
				foreach(new i:Player)
				{
					if(!IsPlayerInDynamicArea(i, GetPVarInt(playerid, "BBArea"))) continue;
					PlayStream(i, inputtext, GetPVarFloat(playerid, "BBX"), GetPVarFloat(playerid, "BBY"), GetPVarFloat(playerid, "BBZ"), 30.0, 1);
				}
				SetPVarString(playerid, "BBStation", inputtext);
			}
			return 1;
		}*/
		case did_recon_mute:
		{
			if(!response) return 1;
			if(!strlen(inputtext)) return SPD(playerid, did_recon_mute, DSI, "{"#DC_MAIN"}Mute", "{"#DC_WHITE"}Введите кол-во минут и причину бана чата:", "Далее", "Отмена");
			new string[128];
			format(string, sizeof(string), "%d %s", SpectatePlayer[playerid], inputtext);
			cmd_mute(playerid, string);
			return 1;
		}
		case did_recon_kick:
		{
			if(!response) return 1;
			if(!strlen(inputtext)) return SPD(playerid, did_recon_kick, DSI, "{"#DC_MAIN"}Kick", "{"#DC_WHITE"}Введите причину кика:", "Далее", "Отмена");
			new string[128];
			format(string, sizeof(string), "%d %s", SpectatePlayer[playerid], inputtext);
			cmd_kick(playerid, string);
			return 1;
		}
		case did_recon_jail:
		{
			if(!response) return 1;
			if(!strlen(inputtext)) return SPD(playerid, did_recon_warn, DSI, "{"#DC_MAIN"}Jail", "{"#DC_WHITE"}Введите кол-во минут и причину тюрьмы:", "Далее", "Отмена");
			new string[128];
			format(string, sizeof(string), "%d %s", SpectatePlayer[playerid], inputtext);
			cmd_jail(playerid, string);
			return 1;
		}
		case did_recon_warn:
		{
			if(!response) return 1;
			if(!strlen(inputtext)) return SPD(playerid, did_recon_warn, DSI, "{"#DC_MAIN"}Warn", "{"#DC_WHITE"}Введите причину варна:", "Далее", "Отмена");
			new string[128];
			format(string, sizeof(string), "%d %s", SpectatePlayer[playerid], inputtext);
			cmd_warn(playerid, string);
			return 1;
		}
		case did_recon_ban:
		{
			if(!response) return 1;
			if(!strlen(inputtext)) return SPD(playerid, did_recon_ban, DSI, "{"#DC_MAIN"}Ban", "{"#DC_WHITE"}Введите через запятую, кол-во дней и причину бана:", "Далее", "Отмена");
			new string[128];
			format(string, sizeof(string), "%d %s", SpectatePlayer[playerid], inputtext);
			cmd_ban(playerid, string);
			return 1;
		}
		case did_recon_banip:
		{
			if(!response) return 1;
			new string[128];
			format(string, sizeof(string), "%s", PlayerInfo[SpectatePlayer[playerid]][pIP]);
			cmd_banip(playerid, string);
			return 1;
		}
		case did_top:
		{
		    if(!response) return 1;
		    switch(listitem)
		    {
		        case 0:
		        {
		            mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" ORDER BY `level` DESC, `exp` DESC");
					new Cache:result = mysql_query(mysql, request);
					if(cache_num_rows())
					{
						new name[32], level;
						totalstring = "", bigstring = "";
						for(new i = 0; i < 25; i++)
						{
							if(i >= cache_num_rows()) break;
							cache_get_value_name(i, "name", name, MAX_PLAYER_NAME);
       						cache_get_value_name_int(i, "level", level);
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s: %d\n", i+1, name, level);
							strcat(bigstring, totalstring);
						}
						SPD(playerid, did_top_back, DSM, "{"#DC_MAIN"}TOP: {"#DC_WHITE"}Уровни", bigstring, "Далее", "Отмена");
					} else SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
					return cache_delete(result);
				}
		        case 1:
		        {
		            mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `cash`+`bank` != '0' ORDER BY `cash`+`bank` DESC");
					new Cache:result = mysql_query(mysql, request);
					if(cache_num_rows())
					{
						new name[32], cash, bank, money;
						totalstring = "", bigstring = "";
						for(new i = 0; i < 25; i++)
						{
							if(i >= cache_num_rows()) break;
							cache_get_value_name(i, "name", name, MAX_PLAYER_NAME);
							cache_get_value_name_int(i, "cash", cash);
							cache_get_value_name_int(i, "bank", bank);
							money = cash + bank;
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s: $%d\n", i+1, name, money);
							strcat(bigstring, totalstring);
						}
						SPD(playerid, did_top_back, DSM, "{"#DC_MAIN"}TOP: {"#DC_WHITE"}Деньги", bigstring, "Далее", "Отмена");
					} else SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
					return cache_delete(result);
				}
		        case 2:
		        {
		            if(PlayerInfo[playerid][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет доступа.");
		            mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `donatetotal` != '0' AND `admin` = '0' ORDER BY `donatetotal` DESC");
					new Cache:result = mysql_query(mysql, request);
					if(cache_num_rows())
					{
						new name[32], donate;
						totalstring = "", bigstring = "";
						for(new i = 0; i < 25; i++)
						{
							if(i >= cache_num_rows()) break;
							cache_get_value_name(i, "name", name, MAX_PLAYER_NAME);
							cache_get_value_name_int(i, "donatetotal", donate);
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s: %d\n", i+1, name, donate);
							strcat(bigstring, totalstring);
						}
						SPD(playerid, did_top_back, DSM, "{"#DC_MAIN"}TOP: {"#DC_WHITE"}Донат", bigstring, "Далее", "Отмена");
					} else SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
					return cache_delete(result);
				}
		    }
			return 1;
		}
		case did_top_back:
		{
	    	if(!response) return SPD(playerid, did_top, DSL, "{"#DC_MAIN"}TOP", "{"#DC_MAIN"}1.{"#DC_WHITE"} TOP Уровни\n{"#DC_MAIN"}2.{"#DC_WHITE"} TOP Деньги\n{"#DC_MAIN"}3.{"#DC_WHITE"} TOP Донат", "Далее", "Отмена");
		}
		case did_mtop:
		{
		    if(!response) return 1;
		    switch(listitem)
		    {
		        case 0:
		        {
		            mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `topexp` != '0' ORDER BY `topexp` DESC");
					new Cache:result = mysql_query(mysql, request);
					if(cache_num_rows())
					{
						new name[32], topexp;
						totalstring = "", bigstring = "";
						for(new i = 0; i < 25; i++)
						{
							if(i >= cache_num_rows()) break;
							cache_get_value_name(i, "name", name, MAX_PLAYER_NAME);
       						cache_get_value_name_int(i, "topexp", topexp);
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s: %d\n", i+1, name, topexp);
							strcat(bigstring, totalstring);
						}
						SPD(playerid, did_mtop_back, DSM, "{"#DC_MAIN"}TOP: {"#DC_WHITE"}Отыгранных часов", bigstring, "Далее", "Отмена");
					} else SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
					return cache_delete(result);
				}
		        case 1:
		        {
		            mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `topsalary` != '0' ORDER BY `topsalary` DESC");
					new Cache:result = mysql_query(mysql, request);
					if(cache_num_rows())
					{
						new name[32], topsalary;
						totalstring = "", bigstring = "";
						for(new i = 0; i < 25; i++)
						{
							if(i >= cache_num_rows()) break;
							cache_get_value_name(i, "name", name, MAX_PLAYER_NAME);
							cache_get_value_name_int(i, "topsalary", topsalary);
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s: $%d\n", i+1, name, topsalary);
							strcat(bigstring, totalstring);
						}
						SPD(playerid, did_mtop_back, DSM, "{"#DC_MAIN"}TOP: {"#DC_WHITE"}Заработанных денег на работах", bigstring, "Далее", "Отмена");
					} else SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
					return cache_delete(result);
				}
		        case 2:
		        {
		            mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `topquest` != '0' ORDER BY `topquest` DESC");
					new Cache:result = mysql_query(mysql, request);
					if(cache_num_rows())
					{
						new name[32], topquest;
						totalstring = "", bigstring = "";
						for(new i = 0; i < 25; i++)
						{
							if(i >= cache_num_rows()) break;
							cache_get_value_name(i, "name", name, MAX_PLAYER_NAME);
							cache_get_value_name_int(i, "topquest", topquest);
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s: %d\n", i+1, name, topquest);
							strcat(bigstring, totalstring);
						}
						SPD(playerid, did_mtop_back, DSM, "{"#DC_MAIN"}TOP: {"#DC_WHITE"}Выполненных квестов", bigstring, "Далее", "Отмена");
					} else SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
					return cache_delete(result);
				}
		        case 3:
		        {
		            mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `toptask` != '0' ORDER BY `toptask` DESC");
					new Cache:result = mysql_query(mysql, request);
					if(cache_num_rows())
					{
						new name[32], toptask;
						totalstring = "", bigstring = "";
						for(new i = 0; i < 25; i++)
						{
							if(i >= cache_num_rows()) break;
							cache_get_value_name(i, "name", name, MAX_PLAYER_NAME);
							cache_get_value_name_int(i, "toptask", toptask);
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s: %d\n", i+1, name, toptask);
							strcat(bigstring, totalstring);
						}
						SPD(playerid, did_mtop_back, DSM, "{"#DC_MAIN"}TOP: {"#DC_WHITE"}Выполненных ежедневных заданий", bigstring, "Далее", "Отмена");
					} else SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
					return cache_delete(result);
				}
		        case 4:
		        {
		            mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `topachievement` != '0' ORDER BY `topachievement` DESC");
					new Cache:result = mysql_query(mysql, request);
					if(cache_num_rows())
					{
						new name[32], topachievement;
						totalstring = "", bigstring = "";
						for(new i = 0; i < 25; i++)
						{
							if(i >= cache_num_rows()) break;
							cache_get_value_name(i, "name", name, MAX_PLAYER_NAME);
							cache_get_value_name_int(i, "topachievement", topachievement);
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s: %d\n", i+1, name, topachievement);
							strcat(bigstring, totalstring);
						}
						SPD(playerid, did_mtop_back, DSM, "{"#DC_MAIN"}TOP: {"#DC_WHITE"}Полученных достижений", bigstring, "Далее", "Отмена");
					} else SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
					return cache_delete(result);
				}
				case 5:
				{
				    SPD(playerid, did_mtop_back, DSM, "{"#DC_MAIN"}TOP: {"#DC_WHITE"}Информация", "{"#DC_WHITE"}\
					Проводите время на нашем сервере и ежемесячно зарабатывайте до {"#DC_MAIN"}15000{"#DC_WHITE"} тысяч рублей\n\
					соревнуясь с другими игроками в различных направлениях.\n\n\
					Победители определяются раз в месяц. Выигрыш выплачивается на банковские счета,\n\
					карты, QIWI, WebMoney и прочие платежные системы.", "Далее", "Отмена");
				}
		    }
			return 1;
		}
		case did_mtop_back:
		{
	    	if(!response) return SPD(playerid, did_mtop, DSL, "{"#DC_MAIN"}TOP", "{"#DC_MAIN"}1.{"#DC_WHITE"} TOP Отыгранных часов: 5000 рублей\n{"#DC_MAIN"}2.{"#DC_WHITE"} TOP Заработанных денег на работах: 2500 рублей\n{"#DC_MAIN"}3.{"#DC_WHITE"} TOP Выполненных квестов: 2500 рублей\n{"#DC_MAIN"}4.{"#DC_WHITE"} TOP Выполненных ежедневных заданий: 2500 рублей\n{"#DC_MAIN"}5.{"#DC_WHITE"} TOP Полученных достижений: 2500 рублей\n{"#DC_MAIN"}6.{"#DC_WHITE"} Информация", "Далее", "Отмена");
		}
		case did_directory:
		{
			if(!response) return 1;
			new total = 0;
			switch(listitem)
			{
				case 0:
				{
					totalstring = "", bigstring = "";
					foreach(new i:Player)
					{
						if(PlayerLogged[i] == 0) continue;
						if(IsADriving(i))
						{
							format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}%s [ID: %d] %d\n", PlayerInfo[i][pName], i, PlayerInfo[i][pPhoneNumber]);
							strcat(bigstring, totalstring);
							total++;
						}
					}
					if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент лицензёров нет в сети.");
					SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Лицензёры", bigstring, "Отмена", "");
				}
				case 1:
				{
					totalstring = "", bigstring = "";
					foreach(new i:Player)
					{
						if(PlayerLogged[i] == 0) continue;
						if(IsAMayor(i) && PlayerInfo[i][pRank] == 2)
						{
							format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}%s [ID: %d] %d\n", PlayerInfo[i][pName], i, PlayerInfo[i][pPhoneNumber]);
							strcat(bigstring, totalstring);
							total++;
						}
					}
					if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент адвокатов нет в сети.");
					SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Адвокаты", bigstring, "Отмена", "");
				}
				case 2:
				{
					totalstring = "", bigstring = "";
					foreach(new i:Player)
					{
						if(PlayerLogged[i] == 0) continue;
						if(IsAMedic(i))
						{
							format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}%s [ID: %d] %d\n", PlayerInfo[i][pName], i, PlayerInfo[i][pPhoneNumber]);
							strcat(bigstring, totalstring);
							total++;
						}
					}
					if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент медиков нет в сети.");
					SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Медики", bigstring, "Отмена", "");
				}
				case 3:
				{
					totalstring = "", bigstring = "";
					foreach(new i:Player)
					{
						if(PlayerLogged[i] == 0) continue;
						if(PlayerInfo[i][pJob] == J_TAXI)
						{
							format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}%s [ID: %d] %d\n", PlayerInfo[i][pName], i, PlayerInfo[i][pPhoneNumber]);
							strcat(bigstring, totalstring);
							total++;
						}
					}
					if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент таксистов нет в сети.");
					SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Таксисты", bigstring, "Отмена", "");
				}
				case 4:
				{
					totalstring = "", bigstring = "";
					foreach(new i:Player)
					{
						if(PlayerLogged[i] == 0) continue;
						if(PlayerInfo[i][pJob] == J_MECHANIC)
						{
							format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}%s [ID: %d] %d\n", PlayerInfo[i][pName], i, PlayerInfo[i][pPhoneNumber]);
							strcat(bigstring, totalstring);
							total++;
						}
					}
					if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент механиков нет в сети.");
					SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Механики", bigstring, "Отмена", "");
				}
				case 5:
				{
					totalstring = "", bigstring = "";
					foreach(new i:Player)
					{
						if(PlayerLogged[i] == 0) continue;
						if(PlayerInfo[i][pJob] == J_PRODUCT)
						{
							format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}%s [ID: %d] %d\n", PlayerInfo[i][pName], i, PlayerInfo[i][pPhoneNumber]);
							strcat(bigstring, totalstring);
							total++;
						}
					}
					if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент развозчиков продуктов нет в сети.");
					SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Развозчики продуктов", bigstring, "Отмена", "");
				}
			}
			return 1;
		}
		case did_autoschool:
		{
			if(!response) return 1;
			if(GetMoney(playerid) < 500) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			bigstring = "";
    		for(new i; i < sizeof(VehicleSchoolHelp); i++)
			{
				format(bigstring, sizeof(bigstring), "%s%s\n", bigstring, VehicleSchoolHelp[i]);
			}
	    	SPD(playerid, did_autoschool_help, DSM, "{"#DC_MAIN"}Помощь", bigstring, "Да", "Нет");
			return 1;
		}
		case did_autoschool_help:
		{
		    if(!response) return SendMes(playerid, COLOR_MAIN, "Вы отказались от сдачи экзамена на водительское удостоверение.");
		    else VehicleSchoolExam(playerid, 0, 3, did_autoschool_exam_one, -1);
			return 1;
		}
		case did_autoschool_exam_one:
		{
		    if(!response) return SendMes(playerid, COLOR_MAIN, "Вы отказались от сдачи экзамена на водительское удостоверение.");
		    new qid = GetPVarInt(playerid, "VehicleSchoolQuestID");
			if(!listitem) return VehicleSchoolExam(playerid, 0, 3, did_autoschool_exam_one, qid);
			if(listitem != VehicleSchoolTrueAnswer[qid]) return DeletePVar(playerid, "VehicleSchoolQuestID"), SendMes(playerid, COLOR_DARKORANGE, "Вы ответили неверно.");
			else SendMes(playerid, COLOR_MAIN, "Вы ответили верно.");
			DeletePVar(playerid, "VehicleSchoolQuestID");
			VehicleSchoolExam(playerid, 3, 6, did_autoschool_exam_two, -1);
			return 1;
		}
		case did_autoschool_exam_two:
		{
		    if(!response) return SendMes(playerid, COLOR_MAIN, "Вы отказались от сдачи экзамена на водительское удостоверение.");
		    new qid = GetPVarInt(playerid, "VehicleSchoolQuestID");
			if(!listitem) return VehicleSchoolExam(playerid, 3, 6, did_autoschool_exam_two, qid);
			if(listitem != VehicleSchoolTrueAnswer[qid]) return DeletePVar(playerid, "VehicleSchoolQuestID"), SendMes(playerid, COLOR_DARKORANGE, "Вы ответили неверно.");
			else SendMes(playerid, COLOR_MAIN, "Вы ответили верно.");
			DeletePVar(playerid, "VehicleSchoolQuestID");
			VehicleSchoolExam(playerid, 6, 9, did_autoschool_exam_three, -1);
			return 1;
		}
		case did_autoschool_exam_three:
		{
		    if(!response) return SendMes(playerid, COLOR_MAIN, "Вы отказались от сдачи экзамена на водительское удостоверение.");
		    new qid = GetPVarInt(playerid, "VehicleSchoolQuestID");
			if(!listitem) return VehicleSchoolExam(playerid, 6, 9, did_autoschool_exam_three, qid);
			if(listitem != VehicleSchoolTrueAnswer[qid]) return DeletePVar(playerid, "VehicleSchoolQuestID"), SendMes(playerid, COLOR_DARKORANGE, "Вы ответили неверно.");
			else SendMes(playerid, COLOR_MAIN, "Вы ответили верно.");
			DeletePVar(playerid, "VehicleSchoolQuestID");
			VehicleSchoolExam(playerid, 9, 11, did_autoschool_exam_four, -1);
			return 1;
		}
		case did_autoschool_exam_four:
		{
		    if(!response) return SendMes(playerid, COLOR_MAIN, "Вы отказались от сдачи экзамена на водительское удостоверение.");
		    new qid = GetPVarInt(playerid, "VehicleSchoolQuestID");
			if(!listitem) return VehicleSchoolExam(playerid, 9, 11, did_autoschool_exam_four, qid);
			if(listitem != VehicleSchoolTrueAnswer[qid]) return DeletePVar(playerid, "VehicleSchoolQuestID"), SendMes(playerid, COLOR_DARKORANGE, "Вы ответили неверно.");
			else SendMes(playerid, COLOR_MAIN, "Вы ответили верно.");
			DeletePVar(playerid, "VehicleSchoolQuestID");
			VehicleSchoolExam(playerid, 11, 14, did_autoschool_exam_five, -1);
			return 1;
		}
		case did_autoschool_exam_five:
		{
		    if(!response) return SendMes(playerid, COLOR_MAIN, "Вы отказались от сдачи экзамена на водительское удостоверение.");
		    new qid = GetPVarInt(playerid, "VehicleSchoolQuestID");
			if(!listitem) return VehicleSchoolExam(playerid, 11, 14, did_autoschool_exam_five, qid);
			if(listitem != VehicleSchoolTrueAnswer[qid]) return DeletePVar(playerid, "VehicleSchoolQuestID"), SendMes(playerid, COLOR_DARKORANGE, "Вы ответили неверно.");
			else SendMes(playerid, COLOR_MAIN, "Вы ответили верно.");
			DeletePVar(playerid, "VehicleSchoolQuestID");
			if(GetMoney(playerid) < 500) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			SendMes(playerid, COLOR_MAIN, "Для продолжения сядьте в {"#DC_WHITE"}\"Washington\"{"#DC_MAIN"} красного цвета на переднем дворе.");
			SetPVarInt(playerid, "LicTest", 2);
			ServerMoney(playerid, "Экзамен в автошколе", -500, 0);
			return 1;
		}
		case did_lic:
		{
			if(!response) return DeletePVar(playerid, "SELLLicID");
			new text[32], price, scdplayerid = GetPVarInt(playerid, "SELLLicID");
			switch(listitem)
			{
			    case 0:
			    {
			        if(PlayerInfo[scdplayerid][pLic][0]) return SendMes(playerid, COLOR_DARKORANGE, "У игрока уже есть эта лицензия.");
			        else text = "наземный транспорт", price = 1000;
			    }
			    case 1:
			    {
			        if(PlayerInfo[playerid][pRank] < 3) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к продаже этой лицензии требуется более высокий ранг.");
			        if(PlayerInfo[scdplayerid][pLic][1]) return SendMes(playerid, COLOR_DARKORANGE, "У игрока уже есть эта лицензия.");
			        else text = "водный транспорт", price = 5000;
			    }
			    case 2:
			    {
			        if(PlayerInfo[playerid][pRank] < 5) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к продаже этой лицензии требуется более высокий ранг.");
			        if(PlayerInfo[scdplayerid][pLic][2]) return SendMes(playerid, COLOR_DARKORANGE, "У игрока уже есть эта лицензия.");
			        else text = "воздушный транспорт", price = 10000;
			    }
			    case 3:
			    {
			        if(PlayerInfo[playerid][pRank] < 7) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к продаже этой лицензии требуется более высокий ранг.");
					if(PlayerInfo[scdplayerid][pLevel] < 2) return SendMes(playerid, COLOR_DARKORANGE, "У игрока нет 2-ого уровня.");
			        if(PlayerInfo[scdplayerid][pLic][3]) return SendMes(playerid, COLOR_DARKORANGE, "У игрока уже есть эта лицензия.");
			        else text = "оружие", price = 25000;
			    }
			}
			format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} купить лицензию на {"#DC_WHITE"}%s{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[scdplayerid][pName], text, price);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "%s{"#DC_MAIN"} предложил Вам купить лицензию на {"#DC_WHITE"}%s{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], text, price);
			SendMes(scdplayerid, COLOR_WHITE, strings);
			SendMes(scdplayerid, COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
			PlayerInfo[scdplayerid][pSLICSeller] = playerid;
			PlayerInfo[scdplayerid][pSLICSIDx] = PlayerInfo[playerid][pID];
			PlayerInfo[scdplayerid][pSLICPrice] = price;
			PlayerInfo[scdplayerid][pSLICType] = listitem;
			SetPVarString(scdplayerid, "LicensesText", text);
			return 1;
		}
		/*case did_break:
		{
			if(!response) return 1;
			new total = 0;
			for(new i = 0; i < MAX_PLAYER_BREAK; i++)
			{
			    if(Break[playerid][i] == 0)
			    {
			        new Float:x, Float:y, Float:z, Float:angle;
					GetPlayerPos(playerid, x, y, z);
					GetPlayerFacingAngle(playerid, angle);
					x += floatsin(-angle, degrees);
					y += floatcos(-angle, degrees);
					SendMes(playerid, COLOR_MAIN, "Чтобы сохранить объект нажмите на кнопку со значком дискеты.");
					SendMes(playerid, COLOR_MAIN, "Если вы хотите отменить установку нажмите клавишу ESC.");
					Break[playerid][i] = CreateDynamicObject(BreakListObjectIDx[listitem], x, y, z, 0.0, 0.0, 0.0, -1, -1, -1, 120.00, 120.00);
					SetPVarInt(playerid, "LoadBreak", i + 1);
					SetPVarInt(playerid, "BreakObject", BreakListObjectIDx[listitem]);
					EditDynamicObject(playerid, Break[playerid][i]);
					total++;
					break;
			    }
			}
			if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете поставить больше объектов.");
			return 1;
		}*/
		case did_lic_take:
		{
			if(!response) return DeletePVar(playerid, "LicName");
			if(IsPlayerInRangeOfPlayer(5.0, playerid, GetPVarInt(playerid, "LicName")))
			{
				if(listitem >= 0 && listitem < 4)
				{
					if(PlayerInfo[GetPVarInt(playerid, "LicName")][pLic][listitem] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У игрока нет данной лицензии.");
					PlayerInfo[GetPVarInt(playerid, "LicName")][pLic][listitem] = 0;
					if(IsPlayerInAnyVehicle(GetPVarInt(playerid, "LicName")) && listitem < 3) RemoveFromVehicle(GetPVarInt(playerid, "LicName"));
					if(LastTakeID[playerid] != GetPVarInt(playerid, "LicName")) CheckQuest(playerid, 29), PlayerInfo[playerid][pData][4]++;
					LastTakeID[playerid] = GetPVarInt(playerid, "LicName");
				}
				else if(listitem == 4)
				{
				    if(PlayerInfo[GetPVarInt(playerid, "LicName")][pInventoryItems][TYPE_DRUGS] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У игрока нет наркотиков.");
				    PlayerInfo[playerid][pData][5] += PlayerInfo[GetPVarInt(playerid, "LicName")][pInventoryItems][TYPE_DRUGS];
					PlayerInfo[GetPVarInt(playerid, "LicName")][pInventoryItems][TYPE_DRUGS] = 0;
					SavePlayerInventoryItems(GetPVarInt(playerid, "LicName"), TYPE_DRUGS);
					if(LastTakeID[playerid] != GetPVarInt(playerid, "LicName")) CheckQuest(playerid, 30), CheckTask(playerid, 46), CheckAchievement(playerid, 26);
					LastTakeID[playerid] = GetPVarInt(playerid, "LicName");
				}
				else if(listitem == 5)
				{
				    if(PlayerInfo[GetPVarInt(playerid, "LicName")][pInventoryItems][TYPE_MATERIALS] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У игрока нет материалов.");
				    PlayerInfo[playerid][pData][6] += PlayerInfo[GetPVarInt(playerid, "LicName")][pInventoryItems][TYPE_MATERIALS];
					PlayerInfo[GetPVarInt(playerid, "LicName")][pInventoryItems][TYPE_MATERIALS] = 0;
					SavePlayerInventoryItems(GetPVarInt(playerid, "LicName"), TYPE_MATERIALS);
					if(LastTakeID[playerid] != GetPVarInt(playerid, "LicName")) CheckQuest(playerid, 31), CheckTask(playerid, 46), CheckAchievement(playerid, 26);
					LastTakeID[playerid] = GetPVarInt(playerid, "LicName");
				}
				else if(listitem == 6)
				{
				    ResetPlayerWeapon(GetPVarInt(playerid, "LicName"));
					ResetPlayerWeaponBase(GetPVarInt(playerid, "LicName"));
					if(LastTakeID[playerid] != GetPVarInt(playerid, "LicName")) CheckQuest(playerid, 32), CheckTask(playerid, 46), CheckAchievement(playerid, 26);
					LastTakeID[playerid] = GetPVarInt(playerid, "LicName");
				}
				new text[32];
				switch(listitem)
				{
					case 0: text = "лицензию на наземный транспорт";
					case 1: text = "лицензию на водный транспорт";
					case 2: text = "лицензию на воздушный транспорт";
					case 3: text = "лицензию на оружие";
					case 4: text = "наркотики";
					case 5: text = "материалы";
					case 6: text = "оружие";
				}
				format(strings, sizeof(strings), "Вы забрали у {"#DC_WHITE"}%s %s.", PlayerInfo[GetPVarInt(playerid, "LicName")][pName], text);
				SendMes(playerid, COLOR_MAIN, strings);
				format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} забрал у Вас {"#DC_WHITE"}%s.", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], text);
				SendMes(GetPVarInt(playerid, "LicName"), COLOR_WHITE, strings);
			}
			else SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
			DeletePVar(playerid, "LicName");
			return 1;
		}
		case did_lic_agive:
		{
			if(!response) return DeletePVar(playerid, "LicName");
			new text[32];
			switch(listitem)
			{
				case 0: text = "наземный транспорт";
				case 1: text = "водный транспорт";
				case 2: text = "воздушный транспорт";
				case 3: text = "оружие";
			}
			format(strings, sizeof(strings), "Вы выдали {"#DC_WHITE"}%s{"#DC_MAIN"} лицензию на {"#DC_WHITE"}%s.", PlayerInfo[GetPVarInt(playerid, "LicName")][pName], text);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} выдал вам лицензию на {"#DC_WHITE"}%s.", PlayerInfo[playerid][pName], text);
			SendMes(GetPVarInt(playerid, "LicName"), COLOR_MAIN, strings);
			format(strings, sizeof(strings), "[A] %s [%d] выдал лицензию на %s игроку %s [%d].", PlayerInfo[playerid][pName],playerid, text, PlayerInfo[GetPVarInt(playerid, "LicName")][pName],GetPVarInt(playerid, "LicName"));
			SendAdminMessage(COLOR_GREY, strings, 8);
			PlayerInfo[GetPVarInt(playerid, "LicName")][pLic][listitem] = 1;
			DeletePVar(playerid, "LicName");
			return 1;
		}
		case did_lic_atake:
		{
			if(!response) return DeletePVar(playerid, "LicName");
			new text[32];
			switch(listitem)
			{
				case 0: text = "водительские права";
				case 1: text = "лицензию на судоходство";
				case 2: text = "лицензию на полеты";
				case 3: text = "лицензию на оружие";
				case 4: text = "наркотики";
				case 5: text = "оружие";
			}
			format(strings, sizeof(strings), "Вы забрали у {"#DC_WHITE"}%s [%d] %s.", PlayerInfo[GetPVarInt(playerid, "LicName")][pName], GetPVarInt(playerid, "LicName"), text);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s [%d]{"#DC_MAIN"} забрал у Вас {"#DC_WHITE"}%s.", PlayerInfo[playerid][pName], playerid, text);
			SendMes(GetPVarInt(playerid, "LicName"), COLOR_MAIN, strings);
			if(listitem >= 0 && listitem < 4)
			{
				PlayerInfo[GetPVarInt(playerid, "LicName")][pLic][listitem] = 0;
				if(IsPlayerInAnyVehicle(GetPVarInt(playerid, "LicName")) && listitem < 3) RemoveFromVehicle(GetPVarInt(playerid, "LicName"));
			}
			else if(listitem == 4)
			{
				PlayerInfo[GetPVarInt(playerid, "LicName")][pInventoryItems][TYPE_DRUGS] = 0;
				SavePlayerInventoryItems(GetPVarInt(playerid, "LicName"), TYPE_DRUGS);
			}
			else if(listitem == 5) ResetPlayerWeapon(GetPVarInt(playerid, "LicName")), ResetPlayerWeaponBase(GetPVarInt(playerid, "LicName"));
			return 1;
		}
		case did_alogin:
		{
			if(!response) return 1;
			if(!strlen(inputtext))
			{
				if(GetPVarInt(playerid, "Alogin") == 1) return SPD(playerid, did_alogin, DSI, "{"#DC_MAIN"}Регистрация администратора", "{"#DC_WHITE"}Зарегистрируйте ваш пароль для доступа к правам администратора:", "Далее", "Отмена");
				else if(GetPVarInt(playerid, "Alogin") == 2) return SPD(playerid, did_alogin, DSI, "{"#DC_MAIN"}Авторизация", "{"#DC_WHITE"}Введите пароль администратора:", "Далее", "Отмена");
			}
			new password[16];
			if(GetPVarInt(playerid, "Alogin") == 1)
			{
				if(sscanf(inputtext, "s[16]", password)) SPD(playerid, did_alogin, DSI, "{"#DC_MAIN"}Регистрация администратора", "{"#DC_WHITE"}Зарегистрируйте ваш пароль для доступа к правам администратора:", "Далее", "Отмена");
				if(!strcmp(inputtext, "qwerty", true)) return SPD(playerid, did_alogin, DSI, "{"#DC_MAIN"}Регистрация администратора", "{"#DC_WHITE"}Зарегистрируйте ваш пароль для доступа к правам администратора:", "Далее", "Отмена");
				if(strlen(inputtext) < 6 || strlen(inputtext) > 16) return SPD(playerid, did_alogin, DSI, "{"#DC_MAIN"}Регистрация администратора", "{"#DC_WHITE"}Зарегистрируйте ваш пароль для доступа к правам администратора:", "Далее", "Отмена");
				SetPlayerStr(PlayerInfo[playerid][pID], "adminpassword", MD5_Hash(password));
				AdminLogged[playerid] = true;
				format(PlayerInfo[playerid][pAdminPassword], 64, MD5_Hash(password));
				format(strings, sizeof(strings), "[A] {"#DC_WHITE"}%s [%d]{"#DC_MAIN"} авторизовался как администратор {"#DC_WHITE"}%d {"#DC_MAIN"}уровня.", PlayerInfo[playerid][pName], playerid, PlayerInfo[playerid][pAdmin]);
				SendAdminMessage(COLOR_MAIN, strings, 8);
				SendMes(playerid, COLOR_MAIN, "Вы авторизировались как администратор {"#DC_WHITE"}%d{"#DC_MAIN"} уровня.", PlayerInfo[playerid][pAdmin]);
				SetPlayerTeamColor(playerid);
			}
			else if(GetPVarInt(playerid, "Alogin") == 2)
			{
				if(strcmp(MD5_Hash(inputtext), PlayerInfo[playerid][pAdminPassword], true))
				{
					format(strings, sizeof(strings), "[A] {"#DC_WHITE"}%s [%d]{"#DC_LRED"} ввел неверный пароль администратора!", PlayerInfo[playerid][pName], playerid);
					SendAdminMessage(COLOR_LRED, strings, 8);
					format(strings, sizeof(strings), "[A] IP: {"#DC_WHITE"}%s", PlayerInfo[playerid][pIP]);
					SendAdminMessage(COLOR_LRED, strings, 8);
					KickWithMessage(playerid, COLOR_DARKORANGE, "Неверный пароль администратора. Введите (/q)");
					return 1;
				}
				AdminLogged[playerid] = true;
				if(PlayerInfo[playerid][pAdmin] < 9)
				{
					format(strings, sizeof(strings), "[A] {"#DC_WHITE"}%s [%d]{"#DC_MAIN"} авторизовался как администратор {"#DC_WHITE"}%d {"#DC_MAIN"}уровня.", PlayerInfo[playerid][pName], playerid, PlayerInfo[playerid][pAdmin]);
					SendAdminMessage(COLOR_MAIN, strings, 8);
				}
				SendMes(playerid, COLOR_MAIN, "Вы авторизировались как администратор {"#DC_WHITE"}%d{"#DC_MAIN"} уровня.", PlayerInfo[playerid][pAdmin]);
				SetPlayerTeamColor(playerid);
			}
			return 1;
		}
		case did_buy_gun:
		{
		    if(!response) return 1;
            new i = GetPVarInt(playerid, "UseBiz"), till = BizInfo[i][bTill];
			new cost, weaponid, ammo;
		    switch(listitem)
		    {
		        case 0: cost = 2500, weaponid = 23, ammo = 17;
		        case 1: cost = 9000, weaponid = 24, ammo = 21;
		        case 2: cost = 3000, weaponid = 25, ammo = 10;
				case 3: cost = 5000, weaponid = 29, ammo = 30;
				case 4: cost = 7000, weaponid = 31, ammo = 50;
				case 5: cost = 6000, weaponid = 30, ammo = 30;
				case 6:
				{
				    if(GetMoney(playerid) < 2500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				    BuyPlayerThing(playerid, i, till, 2500);
					format(strings, sizeof(strings), "Вы приобрели бронежилет. Стоимость: {"#DC_WHITE"}$%d.", 2500 * till);
					SendMes(playerid, COLOR_MAIN, strings);
	                SetArmour(playerid, 100.0);
				}
				case 7:
				{
					if(!IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в банде, мафии или байкерском клубе.");
					totalstring = "";
				    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите кол-во материалов, которое Вы желаете\nприобрести на склад банды или мафии:\n\nСтоимость 1 материала: $%d.", till * 5);
					SPD(playerid, did_buy_gun_materials, DSI, "{"#DC_MAIN"}Материалы", totalstring, "Далее", "Отмена");
		    	}
			}
			if(listitem < 7)
			{
			    if(GetMoney(playerid) < cost * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				BuyPlayerThing(playerid, i, till, cost);
				format(strings, sizeof(strings), "Вы приобрели {"#DC_WHITE"}%s с %d{"#DC_MAIN"} патронами. Стоимость: {"#DC_WHITE"}$%d.", GunNames[weaponid], ammo, cost * till);
				SendMes(playerid, COLOR_MAIN, strings);
                GiveWeapon(playerid, weaponid, ammo);
			}
			GunsList(playerid, i);
			return 1;
		}
		/*case did_buy_gun:
		{
		    if(!response) return 1;
            new i = GetPVarInt(playerid, "UseBiz"), till = BizInfo[i][bTill];
			new cost, weaponid, ammo;
		    switch(listitem)
		    {
		        case 0: cost = 2500, weaponid = 23, ammo = 17;
		        case 1: cost = 9000, weaponid = 24, ammo = 21;
		        case 2: cost = 3000, weaponid = 25, ammo = 10;
				case 3: cost = 5000, weaponid = 29, ammo = 30;
				case 4: cost = 7000, weaponid = 31, ammo = 50;
				case 5: cost = 6000, weaponid = 30, ammo = 30;
				case 6: cost = 150, weaponid = 33, ammo = 1;
				case 7: cost = 300, weaponid = 34, ammo = 1;
				case 8:
				{
				    if(GetMoney(playerid) < 2500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				    BuyPlayerThing(playerid, i, till, 2500);
					format(strings, sizeof(strings), "Вы приобрели бронежилет. Стоимость: {"#DC_WHITE"}$%d.", 2500 * till);
					SendMes(playerid, COLOR_MAIN, strings);
	                SetArmour(playerid, 100.0);
				}
				case 9:
				{
					if(!IsACriminal(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в банде, мафии или байкерском клубе.");
					totalstring = "";
				    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите кол-во материалов, которое Вы желаете\nприобрести на склад банды или мафии:\n\nСтоимость 1 материала: $%d.", till * 5);
					SPD(playerid, did_buy_gun_materials, DSI, "{"#DC_MAIN"}Материалы", totalstring, "Далее", "Отмена");
		    	}
			}
			if(listitem < 8)
			{
			    if(GetMoney(playerid) < cost * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				BuyPlayerThing(playerid, i, till, cost);
				format(strings, sizeof(strings), "Вы приобрели {"#DC_WHITE"}%s с %d{"#DC_MAIN"} патронами. Стоимость: {"#DC_WHITE"}$%d.", GunNames[weaponid], ammo, cost * till);
				SendMes(playerid, COLOR_MAIN, strings);
                GiveWeapon(playerid, weaponid, ammo);
			}
			GunsList(playerid, i);
			return 1;
		}*/
		case did_buy_gun_materials:
		{
		    new i = GetPVarInt(playerid, "UseBiz"), till = BizInfo[i][bTill];
		    if(!response) return GunsList(playerid, i);
		    new count;
			if(sscanf(inputtext, "i", count))
		    {
				totalstring = "";
		    	format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите кол-во материалов, которое Вы желаете\nприобрести на склад банды или мафии:\n\nСтоимость 1 материала: $%d.\n\n{"#DC_RED"}Ошибка: Вы не ввели кол-во материалов.", till * 4);
				return SPD(playerid, did_buy_gun_materials, DSI, "{"#DC_MAIN"}Материалы", totalstring, "Далее", "Отмена");
		    }
			if(count < 1 || count > 100000)
		    {
				totalstring = "";
		    	format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите кол-во материалов, которое Вы желаете\nприобрести на склад банды или мафии:\n\nСтоимость 1 материала: $%d.\n\n{"#DC_RED"}Ошибка: Введите кол-во материалов от 1 до 100000.", till * 4);
				return SPD(playerid, did_buy_gun_materials, DSI, "{"#DC_MAIN"}Материалы", totalstring, "Далее", "Отмена");
		    }
			new price = count * till * 5;
			if(GetMoney(playerid) < price)
			{
				totalstring = "";
		    	format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите кол-во материалов, которое Вы желаете\nприобрести на склад банды или мафии:\n\nСтоимость 1 материала: $%d.\n\n{"#DC_RED"}Ошибка: У Вас нет столько денег. Используйте: /donate", till * 4);
				return SPD(playerid, did_buy_gun_materials, DSI, "{"#DC_MAIN"}Материалы", totalstring, "Далее", "Отмена");
			}
			ServerMoney(playerid, "Покупка материалов для склада", -price, 0);
			format(strings, sizeof(strings), "Вы приобрели {"#DC_WHITE"}%d{"#DC_MAIN"} материалов на склад. Стоимость: {"#DC_WHITE"}$%d.", count, price);
			SendMes(playerid, COLOR_MAIN, strings);
			PayBizProfit(i, count, price);
			new member = PlayerInfo[playerid][pMember];
			SetWarehouse(member, count);
			return 1;
		}
		case did_shooting_gallery:
		{
		    if(!response) return 1;
			new cost, weaponid, ammo;
		    switch(listitem)
		    {
		        case 0: cost = 600, weaponid = 23, ammo = 51;
		        case 1: cost = 900, weaponid = 24, ammo = 42;
		        case 2: cost = 1800, weaponid = 25, ammo = 50;
				case 3: cost = 1500, weaponid = 29, ammo = 90;
				case 4: cost = 3000, weaponid = 31, ammo = 150;
				case 5: cost = 3000, weaponid = 30, ammo = 90;
				case 6: cost = 6000, weaponid = 34, ammo = 10;
			}
			if(GetMoney(playerid) < cost) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			ServerMoney(playerid, "Покупка оружия в тире", -cost, 0);
			format(strings, sizeof(strings), "Вы приобрели {"#DC_WHITE"}%s с %d{"#DC_MAIN"} патронами. Стоимость: {"#DC_WHITE"}$%d.", GunNames[weaponid], ammo, cost);
			SendMes(playerid, COLOR_MAIN, strings);
   			GiveWeapon(playerid, weaponid, ammo);
			ShootingGallery(playerid);
			return 1;
		}
		/*case did_buy_gym:
		{
			if(!response) return 1;
			new i = GetPVarInt(playerid, "UseBiz"), till = BizInfo[i][bTill];
		    switch(listitem)
		    {
		        case 0:
		        {
		            new cost = till*SET_GYM_TRAINING;
					if(GetMoney(playerid) < cost) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					ServerMoney(playerid, "Тренировка в спортзале", -cost, 0);
		            BizInfo[i][bMoney] += cost;
		   	 		SaveBiz(i);
					SetPVarInt(playerid, "GymTraining", true);
					SendMes(playerid, COLOR_MAIN, "Вы оплатили единоразовую тренировку, не выходите из спортзала.");
					SendMes(playerid, COLOR_MAIN, "Подойдите к месту выдачи спортивного инвентаря и приступайте к тренировке.");
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
				    switch(random(2))
				    {
				        case 0: SetPlayerSkin(playerid, 81);
				        case 1: SetPlayerSkin(playerid, 80);
				        default: SetPlayerSkin(playerid, 80);
				    }
		        }
		        case 1:
		        {
		            new cost = till*SET_GYM_BOXING;
		            if(PlayerInfo[playerid][pForce] < 50) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько ед. силы.");
		            if(PlayerInfo[playerid][pStyleStyde]) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже изучаете стиль боя.");
					if(GetMoney(playerid) < cost) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				   	BuyPlayerThing(playerid, i, till, SET_GYM_BOXING);
					SetPVarInt(playerid, "GymTrainingStyde", true);
					PlayerInfo[playerid][pStyleStyde] = 1;
					PlayerInfo[playerid][pStyleProgress] = 0;
					SendMes(playerid, COLOR_MAIN, "Вы оплатили изучение боксерского стиля.");
					SendMes(playerid, COLOR_MAIN, "Начинайте тренироваться с грушей для изучения стиля боя.");
					SendMes(playerid, COLOR_MAIN, "В любой момент Вы можете посетить любой спортивный зал и продолжить изучение.");
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
				    switch(random(2))
				    {
				        case 0: SetPlayerSkin(playerid, 81);
				        case 1: SetPlayerSkin(playerid, 80);
				        default: SetPlayerSkin(playerid, 80);
				    }
				  	SetPlayerFightingStyle(playerid, 5);
		        }
		        case 2:
		        {
		            new cost = till*SET_GYM_KUNGFU;
		            if(PlayerInfo[playerid][pForce] < 75) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько ед. силы.");
		            if(PlayerInfo[playerid][pStyleStyde]) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже изучаете стиль боя.");
					if(GetMoney(playerid) < cost) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				   	BuyPlayerThing(playerid, i, till, SET_GYM_KUNGFU);
					SetPVarInt(playerid, "GymTrainingStyde", true);
					PlayerInfo[playerid][pStyleStyde] = 2;
					PlayerInfo[playerid][pStyleProgress] = 0;
					SendMes(playerid, COLOR_MAIN, "Вы оплатили изучение Кунг-Фу.");
					SendMes(playerid, COLOR_MAIN, "Начинайте тренироваться с грушей для изучения стиля боя.");
					SendMes(playerid, COLOR_MAIN, "В любой момент Вы можете посетить любой спортивный зал и продолжить изучение.");
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
				    switch(random(2))
				    {
				        case 0: SetPlayerSkin(playerid, 81);
				        case 1: SetPlayerSkin(playerid, 80);
				        default: SetPlayerSkin(playerid, 80);
				    }
				  	SetPlayerFightingStyle(playerid, 6);
		        }
		        case 3:
		        {
		            new cost = till*SET_GYM_KNEEHEAD;
		            if(PlayerInfo[playerid][pForce] < 100) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько ед. силы.");
		            if(PlayerInfo[playerid][pStyleStyde]) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже изучаете стиль боя.");
					if(GetMoney(playerid) < cost) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				   	BuyPlayerThing(playerid, i, till, SET_GYM_KNEEHEAD);
					SetPVarInt(playerid, "GymTrainingStyde", true);
					PlayerInfo[playerid][pStyleStyde] = 3;
					PlayerInfo[playerid][pStyleProgress] = 0;
					SendMes(playerid, COLOR_MAIN, "Вы оплатили изучение Тейк-Ван-До.");
					SendMes(playerid, COLOR_MAIN, "Начинайте тренироваться с грушей для изучения стиля боя.");
					SendMes(playerid, COLOR_MAIN, "В любой момент Вы можете посетить любой спортивный зал и продолжить изучение.");
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
				    switch(random(2))
				    {
				        case 0: SetPlayerSkin(playerid, 81);
				        case 1: SetPlayerSkin(playerid, 80);
				        default: SetPlayerSkin(playerid, 80);
				    }
				  	SetPlayerFightingStyle(playerid, 7);
		        }
		    }
			return 1;
		}*/
		case did_buy_shop:
		{
			if(!response) return 1;
			new i = GetPVarInt(playerid, "UseBiz"), till = BizInfo[i][bTill];
			new randphone = 100000 + random(899999);
			switch(listitem)
			{
				case 0:
				{
				    if(GetMoney(playerid) < 1000 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					if(PlayerInfo[playerid][pPhone]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть мобильный телефон.");
				    BuyPlayerThing(playerid, i, till, 1000);
					PlayerInfo[playerid][pPhone] = 1;
					PlayerInfo[playerid][pPhoneNumber] = randphone;
					SendMes(playerid, COLOR_MAIN, "Вы приобрели мобильный телефон. Ваш номер: {"#DC_WHITE"}%d.", randphone);
				}
				case 1:
				{
					if(PlayerInfo[playerid][pPhone] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет мобильного телефона.");
					if(PlayerInfo[playerid][pLevel] < 2) return SendMes(playerid, COLOR_DARKORANGE, "Изменять номер телефона можно с 2-ого уровня.");
					if(GetMoney(playerid) < 500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					SPD(playerid, did_buypnumber, DSI, "{"#DC_MAIN"}Номер телефона", "{"#DC_WHITE"}Укажите номер телефона, который Вы хотите приобрести:\n\nНомер должен состоять из 6-ти цифр, первая цифра не должна быть 0.", "Далее", "Отмена");
				}
				case 2:
				{
				    if(GetMoney(playerid) < 2500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				    if(PlayerInfo[playerid][pPhoneBook]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть телефонная книга.");
				    BuyPlayerThing(playerid, i, till, 2500);
					PlayerInfo[playerid][pPhoneBook]++;
					SendMes(playerid, COLOR_MAIN, "Вы приобрели телефонную книгу. Используйте {"#DC_WHITE"}/dir, /phone{"#DC_MAIN"} для использования.");
				}
				case 3:
				{
				    if(PlayerInfo[playerid][pLevel] <= 1) return SendMes(playerid, COLOR_DARKORANGE, "Извините, данный товар еще не завезли.");
				    if(GetMoney(playerid) < 1000 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
    	 			BuyPlayerThing(playerid, i, till, 1000);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели фотоаппарат.");
					GiveWeapon(playerid, 43, 30);
				}
				case 4:
				{
				    if(GetMoney(playerid) < 500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			    	new max_value;
			        GetPlayerMaxInventoryItems(playerid, TYPE_MASK, max_value);
					if(PlayerInfo[playerid][pInventoryItems][TYPE_MASK] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_MASK][InvUnitName], Inventory[TYPE_MASK][InvStringName]);
				    BuyPlayerThing(playerid, i, till, 500);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели маску. Используйте {"#DC_WHITE"}/mask{"#DC_MAIN"} чтобы надеть ее.");
					PlayerInfo[playerid][pInventoryItems][TYPE_MASK]++;
					SavePlayerInventoryItems(playerid, TYPE_MASK);
				}
				case 5:
				{
    				if(GetMoney(playerid) < 500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					new max_value;
					GetPlayerMaxInventoryItems(playerid, TYPE_MEDICINE, max_value);
					if(PlayerInfo[playerid][pInventoryItems][TYPE_MEDICINE] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_MEDICINE][InvUnitName], Inventory[TYPE_MEDICINE][InvStringName]);
				    BuyPlayerThing(playerid, i, till, 500);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели аптечку. Используйте {"#DC_WHITE"}/healme{"#DC_MAIN"} для лечения.");
					PlayerInfo[playerid][pInventoryItems][TYPE_MEDICINE]++;
					SavePlayerInventoryItems(playerid, TYPE_MEDICINE);
				}
				case 6:
				{
					if(PlayerInfo[playerid][pLevel] < 2) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет 2-ого уровня.");
 					if(GetMoney(playerid) < 500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
     				BuyPlayerThing(playerid, i, till, 500);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели лопату.");
					GiveWeapon(playerid, 6, 1);
				}
				case 7:
				{
					if(PlayerInfo[playerid][pLevel] <= 1) return SendMes(playerid, COLOR_DARKORANGE, "Извините, данный товар еще не завезли.");
 					if(GetMoney(playerid) < 1000 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
     				BuyPlayerThing(playerid, i, till, 1000);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели балончик с краской.");
					GiveWeapon(playerid, 41, 2500);
				}
				case 8:
				{
 					if(GetMoney(playerid) < 500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					if(RobberyBankItems[playerid][0]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть отвёртка.");
     				BuyPlayerThing(playerid, i, till, 500);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели отвёртку.");
		    		SendMes(playerid, COLOR_MAIN, "Обратите внимание, после перезахода отвёртка пропадёт.");
					RobberyBankItems[playerid][0] = 1;
				}
				case 9:
				{
					if(GetMoney(playerid) < 1000 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					new max_value;
					GetPlayerMaxInventoryItems(playerid, TYPE_FISHING_ROD, max_value);
					if(PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_ROD] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_FISHING_ROD][InvUnitName], Inventory[TYPE_FISHING_ROD][InvStringName]);
				    PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_ROD]++;
				    SavePlayerInventoryItems(playerid, TYPE_FISHING_ROD);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели удочку. Используйте {"#DC_WHITE"}/fish{"#DC_MAIN"} для начала рыбалки.");
					BuyPlayerThing(playerid, i, till, 1000);
				}
			    case 10:
				{
					if(GetMoney(playerid) < 500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					new max_value;
					GetPlayerMaxInventoryItems(playerid, TYPE_FISHING_LINE, max_value);
					if(PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_LINE] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_FISHING_LINE][InvUnitName], Inventory[TYPE_FISHING_LINE][InvStringName]);
				    PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_LINE]++;
				    SavePlayerInventoryItems(playerid, TYPE_FISHING_LINE);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели леску. Используйте {"#DC_WHITE"}/fish{"#DC_MAIN"} для просмотра статистики.");
					BuyPlayerThing(playerid, i, till, 500);
				}
			    case 11:
				{
				    if(GetMoney(playerid) < 750 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					new max_value;
					GetPlayerMaxInventoryItems(playerid, TYPE_FISHING_COIL, max_value);
					if(PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_COIL] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_FISHING_COIL][InvUnitName], Inventory[TYPE_FISHING_COIL][InvStringName]);
				    PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_COIL]++;
				    SavePlayerInventoryItems(playerid, TYPE_FISHING_COIL);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели катушку. Используйте {"#DC_WHITE"}/fish{"#DC_MAIN"} для просмотра статистики.");
					BuyPlayerThing(playerid, i, till, 750);
				}
			    case 12:
				{
				    if(GetMoney(playerid) < 50 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					new max_value;
					GetPlayerMaxInventoryItems(playerid, TYPE_FISHING_HOOK, max_value);
					if(PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_HOOK] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_FISHING_HOOK][InvUnitName], Inventory[TYPE_FISHING_HOOK][InvStringName]);
				    PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_HOOK]++;
				    SavePlayerInventoryItems(playerid, TYPE_FISHING_HOOK);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели крючок. Используйте {"#DC_WHITE"}/fish{"#DC_MAIN"} для просмотра статистики.");
					BuyPlayerThing(playerid, i, till, 50);
				}
			    case 13:
				{
				    if(GetMoney(playerid) < 25 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					new max_value;
					GetPlayerMaxInventoryItems(playerid, TYPE_FISHING_WORM, max_value);
					if(PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_WORM] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_FISHING_WORM][InvUnitName], Inventory[TYPE_FISHING_WORM][InvStringName]);
				    PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_WORM]++;
				    SavePlayerInventoryItems(playerid, TYPE_FISHING_WORM);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели червяка. Используйте {"#DC_WHITE"}/fish{"#DC_MAIN"} для просмотра статистики.");
					BuyPlayerThing(playerid, i, till, 25);
				}
			}
			if(listitem != 1) CheckTask(playerid, 2);
			ShopList(playerid, i);
			return 1;
		}
		/*case did_buy_shop:
		{
			if(!response) return 1;
			new i = GetPVarInt(playerid, "UseBiz"), till = BizInfo[i][bTill];
			new randphone = 100000 + random(899999);
			switch(listitem)
			{
				case 0:
				{
				    if(GetMoney(playerid) < 1000 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					if(PlayerInfo[playerid][pPhone]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть мобильный телефон.");
				    BuyPlayerThing(playerid, i, till, 1000);
					PlayerInfo[playerid][pPhone] = 1;
					PlayerInfo[playerid][pPhoneNumber] = randphone;
					SendMes(playerid, COLOR_MAIN, "Вы приобрели мобильный телефон. Ваш номер: {"#DC_WHITE"}%d.", randphone);
				}
				case 1:
				{
					if(PlayerInfo[playerid][pPhone] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет мобильного телефона.");
					if(PlayerInfo[playerid][pLevel] < 2) return SendMes(playerid, COLOR_DARKORANGE, "Изменять номер телефона можно с 2-ого уровня.");
					if(GetMoney(playerid) < 500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					SPD(playerid, did_buypnumber, DSI, "{"#DC_MAIN"}Номер телефона", "{"#DC_WHITE"}Укажите номер телефона, который Вы хотите приобрести:\n\nНомер должен состоять из 6-ти цифр, первая цифра не должна быть 0.", "Далее", "Отмена");
				}
				case 2:
				{
				    if(GetMoney(playerid) < 2500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				    if(PlayerInfo[playerid][pPhoneBook]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть телефонная книга.");
				    BuyPlayerThing(playerid, i, till, 2500);
					PlayerInfo[playerid][pPhoneBook]++;
					SendMes(playerid, COLOR_MAIN, "Вы приобрели телефонную книгу. Используйте {"#DC_WHITE"}/dir, /phone{"#DC_MAIN"} для использования.");
				}
				case 3:
				{
				    if(GetMoney(playerid) < 5000 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					new max_value;
					GetPlayerMaxInventoryItems(playerid, TYPE_BOOMBOX, max_value);
					if(PlayerInfo[playerid][pInventoryItems][TYPE_BOOMBOX] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_BOOMBOX][InvUnitName], Inventory[TYPE_BOOMBOX][InvStringName]);
					BuyPlayerThing(playerid, i, till, 5000);
					PlayerInfo[playerid][pInventoryItems][TYPE_BOOMBOX]++;
					SavePlayerInventoryItems(playerid, TYPE_BOOMBOX);
					SendMes(playerid, COLOR_MAIN, "Вы купили BoomBox. Используйте {"#DC_WHITE"}/boombox{"#DC_MAIN"} для его установки.");
				}
				case 4:
				{
				    if(PlayerInfo[playerid][pLevel] <= 1) return SendMes(playerid, COLOR_DARKORANGE, "Извините, данный товар еще не завезли.");
				    if(GetMoney(playerid) < 1000 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
    	 			BuyPlayerThing(playerid, i, till, 1000);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели фотоаппарат.");
					GiveWeapon(playerid, 43, 30);
				}
				case 5:
				{
				    if(GetMoney(playerid) < 500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			    	new max_value;
			        GetPlayerMaxInventoryItems(playerid, TYPE_MASK, max_value);
					if(PlayerInfo[playerid][pInventoryItems][TYPE_MASK] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_MASK][InvUnitName], Inventory[TYPE_MASK][InvStringName]);
				    BuyPlayerThing(playerid, i, till, 500);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели маску. Используйте {"#DC_WHITE"}/mask{"#DC_MAIN"} чтобы надеть ее.");
					PlayerInfo[playerid][pInventoryItems][TYPE_MASK]++;
					SavePlayerInventoryItems(playerid, TYPE_MASK);
				}
				case 6:
				{
    				if(GetMoney(playerid) < 500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					new max_value;
					GetPlayerMaxInventoryItems(playerid, TYPE_MEDICINE, max_value);
					if(PlayerInfo[playerid][pInventoryItems][TYPE_MEDICINE] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_MEDICINE][InvUnitName], Inventory[TYPE_MEDICINE][InvStringName]);
				    BuyPlayerThing(playerid, i, till, 500);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели аптечку. Используйте {"#DC_WHITE"}/healme{"#DC_MAIN"} для лечения.");
					PlayerInfo[playerid][pInventoryItems][TYPE_MEDICINE]++;
					SavePlayerInventoryItems(playerid, TYPE_MEDICINE);
				}
				case 7:
				{
					if(PlayerInfo[playerid][pLevel] <= 1) return SendMes(playerid, COLOR_DARKORANGE, "Извините, данный товар еще не завезли.");
 					if(GetMoney(playerid) < 500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
     				BuyPlayerThing(playerid, i, till, 500);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели лопату.");
					GiveWeapon(playerid, 6, 1);
				}
				case 8:
				{
					if(PlayerInfo[playerid][pLevel] <= 1) return SendMes(playerid, COLOR_DARKORANGE, "Извините, данный товар еще не завезли.");
 					if(GetMoney(playerid) < 1000 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
     				BuyPlayerThing(playerid, i, till, 1000);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели балончик с краской.");
					GiveWeapon(playerid, 41, 2500);
				}
				case 9:
				{
 					if(GetMoney(playerid) < 500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					if(RobberyBankItems[playerid][0]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть отвёртка.");
     				BuyPlayerThing(playerid, i, till, 500);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели отвёртку.");
		    		SendMes(playerid, COLOR_MAIN, "Обратите внимание, после перезахода отвёртка пропадёт.");
					RobberyBankItems[playerid][0] = 1;
				}
				case 10:
				{
					if(GetMoney(playerid) < 1000 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					new max_value;
					GetPlayerMaxInventoryItems(playerid, TYPE_FISHING_ROD, max_value);
					if(PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_ROD] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_FISHING_ROD][InvUnitName], Inventory[TYPE_FISHING_ROD][InvStringName]);
				    PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_ROD]++;
				    SavePlayerInventoryItems(playerid, TYPE_FISHING_ROD);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели удочку. Используйте {"#DC_WHITE"}/fish{"#DC_MAIN"} для начала рыбалки.");
					BuyPlayerThing(playerid, i, till, 1000);
				}
			    case 11:
				{
					if(GetMoney(playerid) < 500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					new max_value;
					GetPlayerMaxInventoryItems(playerid, TYPE_FISHING_LINE, max_value);
					if(PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_LINE] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_FISHING_LINE][InvUnitName], Inventory[TYPE_FISHING_LINE][InvStringName]);
				    PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_LINE]++;
				    SavePlayerInventoryItems(playerid, TYPE_FISHING_LINE);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели леску. Используйте {"#DC_WHITE"}/fish{"#DC_MAIN"} для просмотра статистики.");
					BuyPlayerThing(playerid, i, till, 500);
				}
			    case 12:
				{
				    if(GetMoney(playerid) < 750 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					new max_value;
					GetPlayerMaxInventoryItems(playerid, TYPE_FISHING_COIL, max_value);
					if(PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_COIL] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_FISHING_COIL][InvUnitName], Inventory[TYPE_FISHING_COIL][InvStringName]);
				    PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_COIL]++;
				    SavePlayerInventoryItems(playerid, TYPE_FISHING_COIL);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели катушку. Используйте {"#DC_WHITE"}/fish{"#DC_MAIN"} для просмотра статистики.");
					BuyPlayerThing(playerid, i, till, 750);
				}
			    case 13:
				{
				    if(GetMoney(playerid) < 50 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					new max_value;
					GetPlayerMaxInventoryItems(playerid, TYPE_FISHING_HOOK, max_value);
					if(PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_HOOK] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_FISHING_HOOK][InvUnitName], Inventory[TYPE_FISHING_HOOK][InvStringName]);
				    PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_HOOK]++;
				    SavePlayerInventoryItems(playerid, TYPE_FISHING_HOOK);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели крючок. Используйте {"#DC_WHITE"}/fish{"#DC_MAIN"} для просмотра статистики.");
					BuyPlayerThing(playerid, i, till, 50);
				}
			    case 14:
				{
				    if(GetMoney(playerid) < 25 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					new max_value;
					GetPlayerMaxInventoryItems(playerid, TYPE_FISHING_WORM, max_value);
					if(PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_WORM] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_FISHING_WORM][InvUnitName], Inventory[TYPE_FISHING_WORM][InvStringName]);
				    PlayerInfo[playerid][pInventoryItems][TYPE_FISHING_WORM]++;
				    SavePlayerInventoryItems(playerid, TYPE_FISHING_WORM);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели червяка. Используйте {"#DC_WHITE"}/fish{"#DC_MAIN"} для просмотра статистики.");
					BuyPlayerThing(playerid, i, till, 25);
				}
			}
			if(listitem != 1) CheckTask(playerid, 2);
			ShopList(playerid, i);
			return 1;
		}*/
		case did_buy_eat:
		{
			if(!response) return 1;
			new i = GetPVarInt(playerid, "UseBiz"), till = BizInfo[i][bTill], Float:health;
			GetPlayerHealth(playerid, health);
			switch(listitem)
			{
				case 0:
				{
					if(GetMoney(playerid) < 250 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					UseEat(playerid, 20);
					BuyPlayerThing(playerid, i, till, 250);
				}
				case 1:
				{
					if(GetMoney(playerid) < 500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					UseEat(playerid, 40);
					BuyPlayerThing(playerid, i, till, 500);
				}
				case 2:
				{
					if(GetMoney(playerid) < 750 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					UseEat(playerid, 60);
					BuyPlayerThing(playerid, i, till, 750);
				}
				case 3: SPD(playerid, did_fish_sell, DSI, "{"#DC_MAIN"}Закусочная", "{"#DC_WHITE"}Введите кол-во кг. рыбы для продажи:\nСтоимость 1 кг. рыбы: {"#DC_MAIN"}$25.", "Далее", "Отмена");
				case 4: SPD(playerid, did_hunting_sell, DSI, "{"#DC_MAIN"}Закусочная", "{"#DC_WHITE"}Введите кол-во кг. мяса оленя для продажи:\nСтоимость 1 кг. мяса оленя: {"#DC_MAIN"}$50.", "Далее", "Отмена");
			}
			if(listitem < 3)
			{
				CheckTask(playerid, 0);
				EatList(playerid, i);
			}
			return 1;
		}
		case did_buy_club:
		{
			if(!response) return 1;
			new i = GetPVarInt(playerid, "UseBiz"), till = BizInfo[i][bTill], Float:health;
			GetPlayerHealth(playerid, health);
			switch(listitem)
			{
				case 0:
				{
					if(GetMoney(playerid) < 250 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					BuyPlayerThing(playerid, i, till, 250);
					format(strings, sizeof(strings), "%s выпил(-а) воды", PlayerInfo[playerid][pName]);
					SPM(playerid, strings);
					ApplyAnimation(playerid, "BAR", "dnk_stndF_loop", 4.1, 0, 0, 0, 0, 0, 1);
				}
				case 1:
				{
					if(GetMoney(playerid) < 250 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					BuyPlayerThing(playerid, i, till, 250);
					format(strings, sizeof(strings), "%s выпил(-а) кока-колы", PlayerInfo[playerid][pName]);
					SPM(playerid, strings);
					ApplyAnimation(playerid, "BAR", "dnk_stndF_loop", 4.1, 0, 0, 0, 0, 0, 1);
				}
				case 2:
				{
					if(GetMoney(playerid) < 500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					BuyPlayerThing(playerid, i, till, 500);
					format(strings, sizeof(strings), "%s выпил(-а) пиво", PlayerInfo[playerid][pName]);
					SPM(playerid, strings);
					if(GetPlayerDrunkLevel(playerid) < 20000) SetPlayerDrunkLevel(playerid, GetPlayerDrunkLevel(playerid)+1000);
					ApplyAnimation(playerid, "BAR", "dnk_stndF_loop", 4.1, 0, 0, 0, 0, 0, 1);
				}
				case 3:
				{
					if(GetMoney(playerid) < 1000 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					BuyPlayerThing(playerid, i, till, 1000);
					format(strings, sizeof(strings), "%s выпил(-а) водки", PlayerInfo[playerid][pName]);
					SPM(playerid, strings);
					if(GetPlayerDrunkLevel(playerid) < 20000) SetPlayerDrunkLevel(playerid, GetPlayerDrunkLevel(playerid)+2000);
					ApplyAnimation(playerid, "BAR", "dnk_stndF_loop", 4.1, 0, 0, 0, 0, 0, 1);
				}
				case 4:
				{
					if(GetMoney(playerid) < 1500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					BuyPlayerThing(playerid, i, till, 1500);
					format(strings, sizeof(strings), "%s выпил(-а) вино", PlayerInfo[playerid][pName]);
					SPM(playerid, strings);
					if(GetPlayerDrunkLevel(playerid) < 20000) SetPlayerDrunkLevel(playerid, GetPlayerDrunkLevel(playerid)+3000);
					ApplyAnimation(playerid, "BAR", "dnk_stndF_loop", 4.1, 0, 0, 0, 0, 0, 1);
				}
				case 5:
				{
					if(GetMoney(playerid) < 2000 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					BuyPlayerThing(playerid, i, till, 2000);
					format(strings, sizeof(strings), "%s выпил(-а) коньяк", PlayerInfo[playerid][pName]);
					SPM(playerid, strings);
					if(GetPlayerDrunkLevel(playerid) < 20000) SetPlayerDrunkLevel(playerid, GetPlayerDrunkLevel(playerid)+4000);
					ApplyAnimation(playerid, "BAR", "dnk_stndF_loop", 4.1, 0, 0, 0, 0, 0, 1);
				}
				case 6:
				{
					if(GetMoney(playerid) < 3000 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					BuyPlayerThing(playerid, i, till, 3000);
					if(GetPlayerDrunkLevel(playerid) < 20000) SetPlayerDrunkLevel(playerid, GetPlayerDrunkLevel(playerid)+5000);
					format(strings, sizeof(strings), "%s выпил(-а) абсент", PlayerInfo[playerid][pName]);
					SPM(playerid, strings);
					ApplyAnimation(playerid, "BAR", "dnk_stndF_loop", 4.1, 0, 0, 0, 0, 0, 1);
				}
			}
			CheckTask(playerid, 1);
			ClubList(playerid, i);
			if(GetPlayerDrunkLevel(playerid) > 20000) SetPlayerDrunkLevel(playerid, 20000);
			return 1;
		}
		case did_buy_service:
		{
		    if(!response) return 1;
			new i = GetPVarInt(playerid, "UseBiz"), till = BizInfo[i][bTill];
			switch(listitem)
			{
			    case 0:
			    {
			    	new max_value;
					GetPlayerMaxInventoryItems(playerid, TYPE_REPAIR_KIT, max_value);
					if(PlayerInfo[playerid][pInventoryItems][TYPE_REPAIR_KIT] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_REPAIR_KIT][InvUnitName], Inventory[TYPE_REPAIR_KIT][InvStringName]);
					if(GetMoney(playerid) < 1500 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					BuyPlayerThing(playerid, i, till, 1500);
					PlayerInfo[playerid][pInventoryItems][TYPE_REPAIR_KIT]++;
					SavePlayerInventoryItems(playerid, TYPE_REPAIR_KIT);
					SendMes(playerid, COLOR_MAIN, "Вы приобрели рем. комплект. Используйте {"#DC_WHITE"}/repaircar{"#DC_MAIN"} для починки машины.");
			    }
			    case 1:
			    {
			        if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в транспортном средстве.");
			        new vehicleid = GetPlayerVehicleID(playerid);
			        if(GetMoney(playerid) < 750 * till) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					BuyPlayerThing(playerid, i, till, 750);
					SendMes(playerid, COLOR_MAIN, "Вы починили своё транспортное средство.");
					RepairVehicle(vehicleid);
					format(strings, sizeof(strings), "%s воспользова(-лся/-лась) услугами автосервиса", PlayerInfo[playerid][pName]);
					SRM(playerid, 10.0, COLOR_LPURPLE, strings);
					SPCB(playerid, strings, COLOR_LPURPLE, 10.0, 1000);
			    }
			}
			ServiceList(playerid, i);
			return 1;
		}
		case did_realtor:
		{
		    if(!response) return 1;
		    new i = GetPVarInt(playerid, "UseBiz"), till = BizInfo[i][bTill];
		    if(GetMoney(playerid) < till * 500) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			BuyPlayerThing(playerid, i, till, 500);
   		 	SPD(playerid, did_realtor_list, DSL, "{"#DC_MAIN"}Дома", "{"#DC_MAIN"}1.{"#DC_WHITE"} Эконом\n{"#DC_MAIN"}2.{"#DC_WHITE"} Средний\n{"#DC_MAIN"}3.{"#DC_WHITE"} Высокий\n{"#DC_MAIN"}4.{"#DC_WHITE"} Элитный", "Далее", "Отмена");
			return 1;
		}
		case did_realtor_list:
		{
		    if(!response) return 1;
			switch(listitem)
			{
			    case 0:
			    {
			        new idx = 0, count = 0;
			        totalstring = "", bigstring = "";
			        for(new i = 1; i <= TOTALHOUSE; i++)
			        {
                        if(!strcmp(HouseInfo[i][hOwner], "None", true))
                        {
                            if(HouseInfo[i][hDiscript] != 1) continue;
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %d: $%d\n", idx+1, HouseInfo[i][id], HouseInfo[i][hPrice]);
							strcat(bigstring, totalstring);
							PlayerGUIItem[playerid][idx] = HouseInfo[i][id];
							count++;
							idx++;
                        }
						if(count == 100)
						{
			   				SendMes(playerid, COLOR_DARKORANGE, "Количество свободных домов эконом класса превышает 100, выведено 100 домов.");
						    break;
						}
					}
			       	if(!idx) return SendMes(playerid, COLOR_DARKORANGE, "В штате нет свободных домов эконом класса.");
				  	SPD(playerid, did_realtor_list_info, DSL, "{"#DC_MAIN"}Эконом", bigstring, "GPS", "Отмена");
			    }
			    case 1:
			    {
			        new idx = 0, count = 0;
			        totalstring = "", bigstring = "";
			        for(new i = 1; i <= TOTALHOUSE; i++)
			        {
                        if(!strcmp(HouseInfo[i][hOwner], "None", true))
                        {
                            if(HouseInfo[i][hDiscript] != 2) continue;
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %d: $%d\n", idx+1, HouseInfo[i][id], HouseInfo[i][hPrice]);
							strcat(bigstring, totalstring);
							PlayerGUIItem[playerid][idx] = HouseInfo[i][id];
							count++;
							idx++;
                        }
						if(count == 100)
						{
			   				SendMes(playerid, COLOR_DARKORANGE, "Количество свободных домов эконом класса превышает 100, выведено 100 домов.");
						    break;
						}
					}
			       	if(!idx) return SendMes(playerid, COLOR_DARKORANGE, "В штате нет свободных домов среднего класса.");
				  	SPD(playerid, did_realtor_list_info, DSL, "{"#DC_MAIN"}Средний", bigstring, "GPS", "Отмена");
			    }
			    case 2:
			    {
			        new idx = 0, count = 0;
			        totalstring = "", bigstring = "";
			        for(new i = 1; i <= TOTALHOUSE; i++)
			        {
                        if(!strcmp(HouseInfo[i][hOwner], "None", true))
                        {
                            if(HouseInfo[i][hDiscript] != 3) continue;
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %d: $%d\n", idx+1, HouseInfo[i][id], HouseInfo[i][hPrice]);
							strcat(bigstring, totalstring);
							PlayerGUIItem[playerid][idx] = HouseInfo[i][id];
							count++;
							idx++;
                        }
						if(count == 100)
						{
			   				SendMes(playerid, COLOR_DARKORANGE, "Количество свободных домов эконом класса превышает 100, выведено 100 домов.");
						    break;
						}
					}
			       	if(!idx) return SendMes(playerid, COLOR_DARKORANGE, "В штате нет свободных домов высокого класса.");
			        SPD(playerid, did_realtor_list_info, DSL, "{"#DC_MAIN"}Высокий", bigstring, "GPS", "Отмена");
			    }
			    case 3:
			    {
			        new idx = 0, count = 0;
			        totalstring = "", bigstring = "";
			        for(new i = 1; i <= TOTALHOUSE; i++)
			        {
                        if(!strcmp(HouseInfo[i][hOwner], "None", true))
                        {
                            if(HouseInfo[i][hDiscript] != 4) continue;
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %d: $%d\n", idx+1, HouseInfo[i][id], HouseInfo[i][hPrice]);
							strcat(bigstring, totalstring);
							PlayerGUIItem[playerid][idx] = HouseInfo[i][id];
							count++;
							idx++;
                        }
						if(count == 100)
						{
			   				SendMes(playerid, COLOR_DARKORANGE, "Количество свободных домов эконом класса превышает 100, выведено 100 домов.");
						    break;
						}
					}
			       	if(!idx) return SendMes(playerid, COLOR_DARKORANGE, "В штате нет свободных домов элитного класса.");
			        SPD(playerid, did_realtor_list_info, DSL, "{"#DC_MAIN"}Элитный", bigstring, "GPS", "Отмена");
			    }
			}
			return 1;
		}
		case did_realtor_list_info:
		{
		    if(!response) return SPD(playerid, did_realtor_list, DSL, "{"#DC_MAIN"}Дома", "{"#DC_MAIN"}1.{"#DC_WHITE"} Эконом\n{"#DC_MAIN"}2.{"#DC_WHITE"} Средний\n{"#DC_MAIN"}3.{"#DC_WHITE"} Высокий\n{"#DC_MAIN"}4.{"#DC_WHITE"} Элитный", "Далее", "Отмена");
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
            new houseid = PlayerGUIItem[playerid][listitem];
			SetPlayerRaceCheckpoint(playerid, 1, HouseInfo[houseid][hEnterX], HouseInfo[houseid][hEnterY], HouseInfo[houseid][hEnterZ], 0, 0, 0, 5.0);
			SendMes(playerid, COLOR_MAIN, "Выбранный дом отмечен на вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
			SetPVarInt(playerid, "pGPSWork", 1);
			return 1;
		}
		case did_pick:
		{
			if(!response) return SPD(playerid, did_mayor, DSL, "{"#DC_MAIN"}Мэрия", "{"#DC_MAIN"}1.{"#DC_WHITE"} Пожертвование\n{"#DC_MAIN"}2.{"#DC_WHITE"} Информация\n{"#DC_MAIN"}3.{"#DC_WHITE"} Выборы\n{"#DC_MAIN"}4.{"#DC_WHITE"} Создание семьи", "Далее", "Отмена");
			SendMes(playerid, COLOR_MAIN, "Вы проголосовали за {"#DC_WHITE"}%s.", PickName[listitem]);
			PickVote[listitem]++;
			format(PickVotes, 128, "%d, %d, %d, %d, %d, %d, %d", PickVote[0], PickVote[1], PickVote[2], PickVote[3], PickVote[4], PickVote[5], PickVote[6]);
			mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_MAYOR" SET `votes` = '%e'", PickVotes);
			mysql_query(mysql, request, false);
			PlayerInfo[playerid][pPick] = 1;
			return 1;
		}
		case did_pick_candidate:
		{
			if(!response) return 1;
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите имя кандидата на слот номер № %d:", listitem);
			SPD(playerid, did_pick_candidate_add, DSI, "{"#DC_MAIN"}Кандидат", totalstring, "Далее", "Отмена");
			SetPVarInt(playerid, "NumberPick", listitem);
			return 1;
		}
		case did_pick_candidate_add:
		{
			if(!response) { DeletePVar(playerid, "NumberPick"); return 1; }
			new c = GetPVarInt(playerid, "NumberPick");
			if(sscanf(inputtext, "s[32]", PickName[c]))
			{
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите имя кандидата на слот номер № %d:", c);
				return SPD(playerid, did_pick_candidate_add, DSI, "{"#DC_MAIN"}Кандидат", totalstring, "Далее", "Отмена");
			}
            if(!strlen(inputtext) || strlen(inputtext) < 4 || strlen(inputtext) > 32)
			{
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите имя кандидата на слот номер № %d:\n\n{"#DC_RED"}Ошибка: Длина имени должна быть от 4 до 32 символов.", c);
				return SPD(playerid, did_pick_candidate_add, DSI, "{"#DC_MAIN"}Кандидат", totalstring, "Далее", "Отмена");
			}
			format(PickNames, 256, "%s, %s, %s, %s, %s, %s, %s", PickName[0], PickName[1], PickName[2], PickName[3], PickName[4], PickName[5], PickName[6]);
			mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_MAYOR" SET `name` = '%e'", PickNames);
			mysql_query(mysql, request, false);
			SendMes(playerid, COLOR_MAIN, "Вы добавили {"#DC_WHITE"}%s{"#DC_MAIN"} в кандидаты.", PickName[c]);
			DeletePVar(playerid, "NumberPick");
			return 1;
		}
		case did_pick_settings:
		{
			if(!response) return 1;
			switch(listitem)
			{
				case 0:
				{
					if(Pick == true) return SendMes(playerid, COLOR_DARKORANGE, "В штате уже проходят выборы.");
					SCMTA(COLOR_NEWGREEN, "Внимание! В штате начались выборы. Длительность 12 часов.");
					PickDate = gettime()+43200;
					Pick = true;
					mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_MAYOR" SET `pick` = '1', `name` = 'None, None, None, None, None, None, None', `votes` = '0, 0, 0, 0, 0, 0, 0', `time` = '%d'", PickDate);
					mysql_query(mysql, request, false);
					for(new i = 0; i < 7; i++) { strmid(PickName[i], "None", 0, strlen("None"), MAX_PLAYER_NAME); PickVote[i] = 0; }
				}
				case 1:
				{
					if(Pick == false) return SendMes(playerid, COLOR_DARKORANGE, "В штате нет выборов.");
					SCMTA(COLOR_NEWGREEN, "Внимание! Выборы отменены администратором сервера.");
					ResetPick();
				}
				case 2:
				{
					if(Pick == false) return SendMes(playerid, COLOR_DARKORANGE, "В штате нет выборов.");
					totalstring = "", bigstring = "";
					for(new i = 0; i <= 6; i++)
					{
						format(totalstring, sizeof(totalstring), "Слот № %d - %s\n", i, PickName[i]);
						strcat(bigstring, totalstring);
					}
					SPD(playerid, did_pick_candidate, DSL, "{"#DC_MAIN"}Кандидаты", bigstring, "Далее", "Отмена");
				}
			}
			return 1;
		}
		case did_invite_fraction:
		{
			new scdplayerid = GetPVarInt(playerid, "PlayerInvite");
			if(response)
			{
				PlayerInfo[playerid][pMember] = PlayerInfo[scdplayerid][pMember];
				SendMes(playerid, COLOR_MAIN, "Вы присоединились к организации {"#DC_WHITE"}%s.", FracInfo[PlayerInfo[scdplayerid][pMember]][fName]);
				format(strings, sizeof(strings), "%s{"#DC_MAIN"} принял(-а) предложение присоединиться к {"#DC_WHITE"}%s.", PlayerInfo[playerid][pName], FracInfo[PlayerInfo[scdplayerid][pMember]][fName]);
				SendMes(scdplayerid, COLOR_WHITE, strings);
				format(strings, sizeof(strings), "[F] %s %s принял(-а) %s в организацию.", FracRank[PlayerInfo[scdplayerid][pMember]][PlayerInfo[scdplayerid][pRank]], PlayerInfo[scdplayerid][pName], PlayerInfo[playerid][pName]);
				SendFMes(PlayerInfo[scdplayerid][pMember], COLOR_NEWLBLUE, strings);
				PlayerInfo[playerid][pRank] = 1;
				PlayerInfo[playerid][pJob] = 0;
				PlayerInfo[playerid][pDuty] = 1;
				PlayerInfo[playerid][pSpawnChange] = 3;
				SetPlayerTeamColor(playerid);
				if(PlayerInfo[playerid][pSpawnChange] == 0 && FracInfo[PlayerInfo[playerid][pMember]][fSpawn] != 0) PlayerInfo[playerid][pSpawnChange] = 3;
				new total = 0;
				totalstring = "", bigstring = "";
				for(new i = 0; i <= MAX_SKINS; i++)
				{
					if(i == 23) break;
					if(FracInfo[PlayerInfo[playerid][pMember]][fSkin][i] == 0) break;
					format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Скин № %d\n", i + 1, FracInfo[PlayerInfo[playerid][pMember]][fSkin][i]);
					strcat(bigstring, totalstring);
					total++;
				}
				if(total == 0) return SendAdminMessage(COLOR_LRED, "[A] Ошибка #102! Сообщите разработчикам!", 8);
				SPD(scdplayerid, did_invite_skin, DSL, "{"#DC_MAIN"}Скин", bigstring, "Отмена", "");
				SendMes(playerid, COLOR_MAIN, "Ожидайте пока {"#DC_WHITE"}%s{"#DC_MAIN"} выдаст Вам одежду.", PlayerInfo[scdplayerid][pName]);
			}
			else
			{
				format(strings, sizeof(strings), "%s{"#DC_MAIN"} отклонил(-а) предложение присоединиться к {"#DC_WHITE"}%s.", PlayerInfo[playerid][pName], FracInfo[PlayerInfo[scdplayerid][pMember]][fName]);
				SendMes(scdplayerid, COLOR_WHITE, strings);
				DeletePVar(playerid, "PlayerInvite");
			}
			return 1;
		}
		case did_invite_skin:
		{
			new scdplayerid = GetPVarInt(playerid, "InviteID");
			if(!response)
			{
			    new total = 0;
				totalstring = "", bigstring = "";
				for(new i = 0; i <= MAX_SKINS; i++)
				{
					if(i == 23) break;
					if(FracInfo[PlayerInfo[playerid][pMember]][fSkin][i] == 0) break;
					format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Скин № %d\n", i + 1, FracInfo[PlayerInfo[playerid][pMember]][fSkin][i]);
					strcat(bigstring, totalstring);
					total++;
				}
				if(total == 0) return SendAdminMessage(COLOR_LRED, "[A] Ошибка #106! Сообщите разработчикам!", 8);
				SPD(playerid, did_invite_skin, DSL, "{"#DC_MAIN"}Скин", bigstring, "Отмена", "");
			}
			if(!IsPlayerConnected(scdplayerid)) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
			if(PlayerLogged[scdplayerid] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
			if(PlayerInfo[scdplayerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не находиться в организации.");
			if(PlayerInfo[scdplayerid][pMember] != PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в другой организации.");
			PlayerInfo[scdplayerid][pFracSkin] = FracInfo[PlayerInfo[playerid][pMember]][fSkin][listitem];
			SetPlayerSkin(scdplayerid, FracInfo[PlayerInfo[playerid][pMember]][fSkin][listitem]);
			if(IsACriminal(scdplayerid))
			{
			    if(CaptureZone != 0)
				{
					if(PlayerInfo[scdplayerid][pMember] == CaptureFrac[0] || PlayerInfo[scdplayerid][pMember] == CaptureFrac[1])
					{
						for(new idx = 0; idx < 11; idx++) TextDrawShowForPlayer(scdplayerid, GangWarMain[idx]);
						GangZoneFlashForPlayer(scdplayerid, CaptureZoneID, COLOR_RED);
					}
				}
				if(MafiaWarZone != 0)
				{
					if(PlayerInfo[scdplayerid][pMember] == MafiaWarFrac[0] || PlayerInfo[scdplayerid][pMember] == MafiaWarFrac[1])
					{
						for(new idx = 0; idx < 11; idx++) TextDrawShowForPlayer(scdplayerid, MafiaWarMain[idx]);
						GangZoneShowForPlayer(scdplayerid, MafiaWarZone, 0xFFFFFF65);
						GangZoneFlashForPlayer(scdplayerid, MafiaWarZone, COLOR_RED);
					}
				}
				if(BikerWarZone != 0)
				{
					if(PlayerInfo[scdplayerid][pMember] == BikerWarFrac[0] || PlayerInfo[scdplayerid][pMember] == BikerWarFrac[1])
					{
						for(new idx = 0; idx < 11; idx++) TextDrawShowForPlayer(scdplayerid, BikerWarMain[idx]);
						GangZoneShowForPlayer(scdplayerid, BikerWarZone, 0xFFFFFF65);
						GangZoneFlashForPlayer(scdplayerid, BikerWarZone, COLOR_RED);
					}
				}
			}
			return 1;
		}
		case did_invite_fraction_act:
		{
			new scdplayerid = GetPVarInt(playerid, "PlayerInvite");
			new member = GetPVarInt(playerid, "PlayerInviteAdmin");
			if(response)
			{
				PlayerInfo[playerid][pMember] = member;
				format(strings, sizeof(strings), "%s{"#DC_MAIN"} принял(-а) предложение присоединиться к {"#DC_WHITE"}%s.", PlayerInfo[playerid][pName], FracInfo[member][fName]);
				SendMes(scdplayerid, COLOR_WHITE, strings);
				SendMes(playerid, COLOR_MAIN, "Вы присоединились к организации {"#DC_WHITE"}%s.", FracInfo[member][fName]);
				PlayerInfo[playerid][pRank] = 1;
				PlayerInfo[playerid][pJob] = 0;
				PlayerInfo[playerid][pDuty] = 1;
				SetPlayerTeamColor(playerid);
				PlayerInfo[playerid][pSpawnChange] = 3;
				new total = 0;
				totalstring = "", bigstring = "";
				for(new i = 0; i <= MAX_SKINS; i++)
				{
					if(i == 23) break;
					if(FracInfo[PlayerInfo[playerid][pMember]][fSkin][i] == 0) break;
					format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Скин № %d\n", i + 1, FracInfo[PlayerInfo[playerid][pMember]][fSkin][i]);
					strcat(bigstring, totalstring);
					total++;
				}
				if(total == 0) return SendAdminMessage(COLOR_LRED, "[A] Ошибка #103! Сообщите разработчикам!", 8);
				SPD(scdplayerid, did_invite_fraction_skin, DSL, "{"#DC_MAIN"}Скин", bigstring, "Отмена", "");
				SendMes(playerid, COLOR_MAIN, "Ожидайте пока {"#DC_WHITE"}%s{"#DC_MAIN"} выдаст Вам одежду.", PlayerInfo[scdplayerid][pName]);
			}
			else
			{
				format(strings, sizeof(strings), "%s{"#DC_MAIN"} отклонил(-а) предложение присоединиться к {"#DC_WHITE"}%s.", PlayerInfo[playerid][pName], FracInfo[PlayerInfo[scdplayerid][pMember]][fName]);
				SendMes(scdplayerid, COLOR_WHITE, strings);
				DeletePVar(playerid, "PlayerInvite");
				DeletePVar(playerid, "PlayerInviteAdmin");
			}
			return 1;
		}
		case did_invite_fraction_skin:
		{
			new scdplayerid = GetPVarInt(playerid, "PlayerLeader");
			new member = GetPVarInt(scdplayerid, "PlayerInviteAdmin");
			if(!response)
			{
			    new total = 0;
				totalstring = "", bigstring = "";
				for(new i = 0; i <= MAX_SKINS; i++)
				{
					if(i == 23) break;
					if(FracInfo[member][fSkin][i] == 0) break;
					format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Скин № %d\n", i + 1, FracInfo[member][fSkin][i]);
					strcat(bigstring, totalstring);
					total++;
				}
				if(total == 0) return SendAdminMessage(COLOR_LRED, "[A] Ошибка #106! Сообщите разработчикам!", 8);
				SPD(playerid, did_invite_fraction_skin, DSL, "{"#DC_MAIN"}Скин", bigstring, "Отмена", "");
				return 1;
			}
			if(!IsPlayerConnected(scdplayerid)) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
			if(PlayerLogged[scdplayerid] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
			if(PlayerInfo[scdplayerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не находиться в организации.");
			PlayerInfo[scdplayerid][pFracSkin] = FracInfo[member][fSkin][listitem];
			SetPlayerSkin(scdplayerid, FracInfo[member][fSkin][listitem]);
			if(IsACriminal(scdplayerid))
			{
			    if(CaptureZone != 0)
				{
					if(PlayerInfo[scdplayerid][pMember] == CaptureFrac[0] || PlayerInfo[scdplayerid][pMember] == CaptureFrac[1])
					{
						for(new idx = 0; idx < 11; idx++) TextDrawShowForPlayer(scdplayerid, GangWarMain[idx]);
						GangZoneFlashForPlayer(scdplayerid, CaptureZoneID, COLOR_RED);
					}
				}
				if(MafiaWarZone != 0)
				{
					if(PlayerInfo[scdplayerid][pMember] == MafiaWarFrac[0] || PlayerInfo[scdplayerid][pMember] == MafiaWarFrac[1])
					{
						for(new idx = 0; idx < 11; idx++) TextDrawShowForPlayer(scdplayerid, MafiaWarMain[idx]);
						GangZoneShowForPlayer(scdplayerid, MafiaWarZone, 0xFFFFFF65);
						GangZoneFlashForPlayer(scdplayerid, MafiaWarZone, COLOR_RED);
					}
				}
				if(BikerWarZone != 0)
				{
					if(PlayerInfo[scdplayerid][pMember] == BikerWarFrac[0] || PlayerInfo[scdplayerid][pMember] == BikerWarFrac[1])
					{
						for(new idx = 0; idx < 11; idx++) TextDrawShowForPlayer(scdplayerid, BikerWarMain[idx]);
						GangZoneShowForPlayer(scdplayerid, BikerWarZone, 0xFFFFFF65);
						GangZoneFlashForPlayer(scdplayerid, BikerWarZone, COLOR_RED);
					}
				}
			}
			return 1;
		}
		/*case did_weather:
		{
			if(!response) return 1;
			SetWeather(listitem+1);
			SendMes(playerid, COLOR_MAIN, "Погода установлена.");
			return 1;
		}*/
		case did_bank:
		{
			if(!response) return DeletePVar(playerid, "PriceATM");
			switch(listitem)
			{
				case 0:
				{
				    totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Баланс банковского счета: $%d.", PlayerInfo[playerid][pBank]);
					SPD(playerid, did_bank_balance, DSM, "{"#DC_MAIN"}Баланс", totalstring, "Отмена", "");
				}
				case 1: SPD(playerid, did_bank_put, DSI, "{"#DC_MAIN"}Положить на счет", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена");
				case 2: SPD(playerid, did_bank_take, DSI, "{"#DC_MAIN"}Снять со счета", "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета:", "Далее", "Отмена");
				case 3:
				{
					if(PlayerInfo[playerid][pAdmin] > 1 && PlayerInfo[playerid][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "Вы администратор, действие невозможно.");
					if(PlayerInfo[playerid][pLevel] < 5) return SendMes(playerid, COLOR_DARKORANGE, "Чтобы переводить деньги, необходимо иметь не менее 5 уровня.");
					if(PlayerInfo[playerid][pGoogleStatus] == 0 || PlayerInfo[playerid][pGoogleType] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Для переводов необходимо настроить Google Authenticator.");
					SPD(playerid, did_bank_transfer, DSI, "{"#DC_MAIN"}Перевод игроку", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена");
				}
				case 4:
				{
					if(PlayerInfo[playerid][pHouse] == 0) { SendMes(playerid, COLOR_DARKORANGE, "У Вас нет дома."); return BankList(playerid); }
					BankHouse(playerid);
				}
				case 5:
				{
					if(PlayerInfo[playerid][pBiz] == 0) { SendMes(playerid, COLOR_DARKORANGE, "У Вас нет бизнеса."); return BankList(playerid); }
					BankBiz(playerid);
				}
				case 6:
				{
					if(PlayerInfo[playerid][pFarm] == 0) { SendMes(playerid, COLOR_DARKORANGE, "У Вас нет фермы."); return BankList(playerid); }
					BankFarm(playerid);
				}
				case 7:
				{
					if(PlayerInfo[playerid][pService] == 0) { SendMes(playerid, COLOR_DARKORANGE, "У Вас нет СТО."); return BankList(playerid); }
					BankService(playerid);
				}
				case 8:
				{
					if(PlayerInfo[playerid][pHotel] == 0) { SendMes(playerid, COLOR_DARKORANGE, "У Вас нет отеля."); return BankList(playerid); }
					BankHotel(playerid);
				}
				case 9: BankFracEnter(playerid);
                case 10: ShowBankDeposit(playerid);
                case 11:
                {
                    if(PlayerInfo[playerid][pLevel] < 10) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет 10-ого уровня.");
                    totalstring = "";
                    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
                    Пенсия — ежечасная выплата лицам, достигшим пенсионного возраста.\n\n\
                    Пенсионное накопление: {"#DC_MAIN"}$%d.{"#DC_WHITE"}\n\n\
                    Дополнительная информация:\n\n\
                    \t— Пенсионное накопление начинает действовать с 10 лет в штате и прибавляется по $250 каждый год.\n\n\
                    Вы хотите %s документы на получение пенсии?", 250 * (PlayerInfo[playerid][pLevel] - 9), (PlayerInfo[playerid][pBankPensionStatus] == 0) ? ("{"#DC_GREEN"}подписать{"#DC_WHITE"}") : ("{"#DC_RED"}расторгнуть{"#DC_WHITE"}"));
                    SPD(playerid, did_bank_pension, DSM, "{"#DC_MAIN"}Пенсия", totalstring, "Да", "Нет");
                }
			}
			return 1;
		}
		case did_bank_balance: return BankList(playerid);
		case did_bank_put:
		{
			if(!response) return BankList(playerid);
			new price;
			if(sscanf(inputtext, "i", price)) return SPD(playerid, did_bank_put, DSI, "{"#DC_MAIN"}Положить на счет", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена");
			if(price < 1) return SPD(playerid, did_bank_put, DSI, "{"#DC_MAIN"}Положить на счет", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена");
			if(GetMoney(playerid) < price) { SPD(playerid, did_bank_put, DSI, "{"#DC_MAIN"}Положить на счет", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"); }
			SetPVarInt(playerid, "PriceATM", 0);
			ServerMoney(playerid, "Перевел на банк счет", -price, 0);
			ServerMoney(playerid, "Пополнил банк счет", price, 1);
			format(strings, sizeof(strings), "Вы положили на счет {"#DC_WHITE"}$%d.{"#DC_MAIN"} Текущий баланс: {"#DC_WHITE"}$%d.", price, PlayerInfo[playerid][pBank]);
			SendMes(playerid, COLOR_MAIN, strings);
			BankList(playerid);
			return 1;
		}
		case did_bank_take:
		{
			if(!response) return BankList(playerid);
			new price;
			if(sscanf(inputtext, "i", price)) return SPD(playerid, did_bank_take, DSI, "{"#DC_MAIN"}Снять со счета", "{"#DC_WHITE"}Введите сумму,  которую хотите снять со счета:", "Далее", "Отмена");
			if(price < 1) return SPD(playerid, did_bank_take, DSI, "{"#DC_MAIN"}Снять со счета", "{"#DC_WHITE"}Введите сумму,  которую хотите снять со счета:", "Далее", "Отмена");
			if(GetBankMoney(playerid) < price) { SPD(playerid, did_bank_take, DSI, "{"#DC_MAIN"}Снять со счета", "{"#DC_WHITE"}Введите сумму,  которую хотите снять со счета:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "На вашем счету в банке нет столько денег."); }
			SetPVarInt(playerid, "PriceATM", 0);
			ServerMoney(playerid, "Снял с банк счета", price, 0);
			ServerMoney(playerid, "Перевел на наличный счет", -price, 1);
			format(strings, sizeof(strings), "Вы сняли со счета {"#DC_WHITE"}$%d.{"#DC_MAIN"} Текущий баланс: {"#DC_WHITE"}$%d.", price, PlayerInfo[playerid][pBank]);
			SendMes(playerid, COLOR_MAIN, strings);
			BankList(playerid);
			return 1;
		}
		case did_bank_transfer:
		{
			if(!response) return BankList(playerid);
			new scdplayerid, price;
			if(sscanf(inputtext, "p<,>ii", scdplayerid, price)) return SPD(playerid, did_bank_transfer, DSI, "{"#DC_MAIN"}Перевод игроку", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена");
			if(!IsPlayerConnected(scdplayerid)) { SPD(playerid, did_bank_transfer, DSI, "{"#DC_MAIN"}Перевод игроку", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре."); }
			if(PlayerLogged[scdplayerid] == 0) { SPD(playerid, did_bank_transfer, DSI, "{"#DC_MAIN"}Перевод игроку", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался."); }
			if(scdplayerid == playerid) { SPD(playerid, did_bank_transfer, DSI, "{"#DC_MAIN"}Перевод игроку", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе."); }
			if(GetBankMoney(playerid) < price) { SPD(playerid, did_bank_transfer, DSI, "{"#DC_MAIN"}Перевод игроку", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "На вашем счету в банке нет столько денег."); }
			if(price < 1) return SPD(playerid, did_bank_transfer, DSI, "{"#DC_MAIN"}Перевод игроку", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена");
			if(PlayerInfo[scdplayerid][pGoogleStatus] == 0 || PlayerInfo[scdplayerid][pGoogleType] == 0) { SPD(playerid, did_bank_transfer, DSI, "{"#DC_MAIN"}Перевод игроку", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "Для переводов игроку необходимо настроить Google Authenticator."); }
			if(PlayerInfo[scdplayerid][pLevel] < 5) { SPD(playerid, did_bank_transfer, DSI, "{"#DC_MAIN"}Перевод игроку", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "Чтобы переводить деньги, игроку необходимо иметь не менее 5 уровня."); }
			if(PlayerInfo[playerid][pBankLimit] + price > MAX_BANK_LIMIT) { SPD(playerid, did_bank_transfer, DSI, "{"#DC_MAIN"}Перевод игроку", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете перевести больше $%d.", MAX_BANK_LIMIT-PlayerInfo[playerid][pBankLimit]); }
			PlayerInfo[playerid][pBankLimit] += price;
			SetPlayerInt(PlayerInfo[playerid][pID], "banklimit", PlayerInfo[playerid][pBankLimit]);
			SetPVarInt(playerid, "PriceATM", 0);
			ServerMoney(playerid, "Перевел с банк счета игроку", -price, 1);
			ServerMoney(scdplayerid, "Перевод с банк счета от игрока", price, 1);
			format(strings, sizeof(strings), "Вы перевели на счет {"#DC_WHITE"}%s $%d.{"#DC_MAIN"} Остаток на счете: {"#DC_WHITE"}$%d.{"#DC_MAIN"} За сегодня Вы можете перевести еще {"#DC_WHITE"}$%d.", PlayerInfo[scdplayerid][pName], price, PlayerInfo[playerid][pBank], MAX_BANK_LIMIT-PlayerInfo[playerid][pBankLimit]);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "%s{"#DC_MAIN"} перевел на ваш счет {"#DC_WHITE"}$%d.{"#DC_MAIN"} Новый баланс: {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], price, PlayerInfo[scdplayerid][pBank]);
			SendMes(scdplayerid, COLOR_WHITE, strings);
			BankList(playerid);
			format(strings, sizeof(strings), "Игрок %s перевел игроку %s сумму в размере $%d", PlayerInfo[playerid][pName], PlayerInfo[scdplayerid][pName], price);
			WriteLog("logs_transfer", strings);
			return 1;
		}
		case did_bank_house:
		{
			if(!response) return BankList(playerid);
			if(strval(inputtext) < 1 || strval(inputtext) > 30)
			{
			    SendMes(playerid, COLOR_DARKORANGE, "Введите кол-во дней от 1 до 30.");
				return BankHouse(playerid);
			}
			new houseid = PlayerInfo[playerid][pHouse];
			if((HouseInfo[houseid][hPaymentDays] + strval(inputtext)) > 30)
			{
				SendMes(playerid, COLOR_DARKORANGE, "Вы не можете оплатить дом больше чем на 30 дней.");
				return BankHouse(playerid);
			}
			if(HouseInfo[houseid][hBlocking] != 0)
			{
				SendMes(playerid, COLOR_DARKORANGE, "Вы не можете оплатить дом, он опечатан сотрудниками мэрии.");
				return BankHouse(playerid);
			}
			new price = strval(inputtext) * HouseInfo[houseid][hDiscript] * 3000;
			if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"), BankHouse(playerid);
			HouseInfo[houseid][hPaymentDays] += strval(inputtext);
			ServerMoney(playerid, "Оплатил домашний счет", -price, 0);
			SaveHouse(houseid);
			Exchequer += price;
			SaveExchequer();
			format(strings, sizeof(strings), "Вы оплатили домашний счет на {"#DC_WHITE"}%d{"#DC_MAIN"} дней. Общее кол-во дней: {"#DC_WHITE"}%d.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", strval(inputtext), HouseInfo[houseid][hPaymentDays], price);
			SendMes(playerid, COLOR_MAIN, strings);
			CheckTask(playerid, 37);
			BankList(playerid);
			return 1;
		}
		case did_bank_biz:
		{
			if(!response) return BankList(playerid);
			if(strval(inputtext) < 1 || strval(inputtext) > 30)
			{
			    SendMes(playerid, COLOR_DARKORANGE, "Введите кол-во дней от 1 до 30.");
				return BankBiz(playerid);
			}
			new bizid = PlayerInfo[playerid][pBiz];
			if((BizInfo[bizid][bPaymentDays] + strval(inputtext)) > 30)
			{
				SendMes(playerid, COLOR_DARKORANGE, "Вы не можете оплатить бизнес больше чем на 30 дней.");
				return BankBiz(playerid);
			}
			if(BizInfo[bizid][bBlocking] != 0)
			{
				SendMes(playerid, COLOR_DARKORANGE, "Вы не можете оплатить бизнес, он опечатан сотрудниками мэрии.");
				return BankBiz(playerid);
			}
			new price = strval(inputtext) * BizInfo[bizid][bTax];
			if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"), BankBiz(playerid);
			BizInfo[bizid][bPaymentDays] += strval(inputtext);
			ServerMoney(playerid, "Оплатил счет бизнеса", -price, 0);
		    SaveBiz(bizid);
			Exchequer += price;
			SaveExchequer();
			format(strings, sizeof(strings), "Вы оплатили счет бизнеса на {"#DC_WHITE"}%d{"#DC_MAIN"} дней. Общее кол-во дней: {"#DC_WHITE"}%d.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", strval(inputtext), BizInfo[bizid][bPaymentDays], price);
			SendMes(playerid, COLOR_MAIN, strings);
			CheckTask(playerid, 38);
			BankList(playerid);
			return 1;
		}
		case did_bank_farm:
		{
			if(!response) return BankList(playerid);
			new farmid = PlayerInfo[playerid][pFarm];
			if(strval(inputtext) < 1 || strval(inputtext) > 30)
			{
			    SendMes(playerid, COLOR_DARKORANGE, "Введите кол-во дней от 1 до 30.");
				return BankFarm(playerid);
			}
			if(FarmInfo[farmid][fPaymentDays] + strval(inputtext) > 30)
			{
				SendMes(playerid, COLOR_DARKORANGE, "Вы не можете оплатить ферму больше чем на 30 дней.");
				return BankFarm(playerid);
			}
			if(FarmInfo[farmid][fBlocking] != 0)
			{
				SendMes(playerid, COLOR_DARKORANGE, "Вы не можете оплатить ферму, она опечатана сотрудниками мэрии.");
				return BankFarm(playerid);
			}
			new price = strval(inputtext) * FarmInfo[farmid][fTax];
			if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"), BankFarm(playerid);
			FarmInfo[farmid][fPaymentDays] += strval(inputtext);
			ServerMoney(playerid, "Оплатил счет фермы", -price, 0);
			Exchequer += price;
			SaveExchequer();
			format(strings, sizeof(strings), "Вы оплатили счет фермы на {"#DC_WHITE"}%d{"#DC_MAIN"} дней. Общее кол-во дней: {"#DC_WHITE"}%d.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", strval(inputtext), FarmInfo[farmid][fPaymentDays], price);
			SendMes(playerid, COLOR_MAIN, strings);
			CheckTask(playerid, 39);
			BankList(playerid);
			return 1;
		}
		case did_bank_service:
		{
			if(!response) return BankList(playerid);
			new serviceid = PlayerInfo[playerid][pService];
			if(strval(inputtext) < 1 || strval(inputtext) > 30)
			{
			    SendMes(playerid, COLOR_DARKORANGE, "Введите кол-во дней от 1 до 30.");
				return BankService(playerid);
			}
			if(ServiceInfo[serviceid][sPaymentDays] + strval(inputtext) > 30)
			{
				SendMes(playerid, COLOR_DARKORANGE, "Вы не можете оплатить СТО больше чем на 30 дней.");
				return BankService(playerid);
			}
			if(ServiceInfo[serviceid][sBlocking] != 0)
			{
				SendMes(playerid, COLOR_DARKORANGE, "Вы не можете оплатить СТО, оно опечатано сотрудниками мэрии.");
				return BankService(playerid);
			}
			new price = strval(inputtext) * ServiceInfo[serviceid][sTax];
			if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"), BankService(playerid);
			ServiceInfo[serviceid][sPaymentDays] += strval(inputtext);
			ServerMoney(playerid, "Оплатил счет СТО", -price, 0);
			Exchequer += price;
			SaveExchequer();
			format(strings, sizeof(strings), "Вы оплатили счет СТО на {"#DC_WHITE"}%d{"#DC_MAIN"} дней. Общее кол-во дней: {"#DC_WHITE"}%d.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", strval(inputtext), ServiceInfo[serviceid][sPaymentDays], price);
			SendMes(playerid, COLOR_MAIN, strings);
			CheckTask(playerid, 40);
			BankList(playerid);
			return 1;
		}
		case did_bank_hotel:
		{
			if(!response) return BankList(playerid);
			if(strval(inputtext) < 1 || strval(inputtext) > 30)
			{
			    SendMes(playerid, COLOR_DARKORANGE, "Введите кол-во дней от 1 до 30.");
				return BankHotel(playerid);
			}
			new hotelid = PlayerInfo[playerid][pHotel];
			if((HotelInfo[hotelid][hPaymentDays] + strval(inputtext)) > 30)
			{
				SendMes(playerid, COLOR_DARKORANGE, "Вы не можете оплатить отель больше чем на 30 дней.");
				return BankHotel(playerid);
			}
			if(HotelInfo[hotelid][hBlocking] != 0)
			{
				SendMes(playerid, COLOR_DARKORANGE, "Вы не можете оплатить отель, он опечатан сотрудниками мэрии.");
				return BankHotel(playerid);
			}
			new price = strval(inputtext) * HotelInfo[hotelid][hTax];
			if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"), BankHotel(playerid);
			HotelInfo[hotelid][hPaymentDays] += strval(inputtext);
			ServerMoney(playerid, "Оплатил счет отеля", -price, 0);
			SaveHotel(hotelid);
			Exchequer += price;
			SaveExchequer();
			format(strings, sizeof(strings), "Вы оплатили счет отеля на {"#DC_WHITE"}%d{"#DC_MAIN"} дней. Общее кол-во дней: {"#DC_WHITE"}%d.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", strval(inputtext), HotelInfo[hotelid][hPaymentDays], price);
			SendMes(playerid, COLOR_MAIN, strings);
			CheckTask(playerid, 41);
			BankList(playerid);
			return 1;
		}
		case did_bank_frac:
		{
			if(!response) return 1;
			switch(listitem)
			{
				case 0: SPD(playerid, did_bank_frac_take, DSI, "{"#DC_MAIN"}Снять деньги", "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета:", "Далее", "Отмена");
				case 1: SPD(playerid, did_bank_frac_put, DSI, "{"#DC_MAIN"}Положить деньги", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена");
				case 2: BankFracEnter(playerid);
			}
			return 1;
		}
		case did_bank_frac_take:
		{
			if(!response) return BankFracEnter(playerid);
			new price, bank;
			new member = PlayerInfo[playerid][pMember];
			new limit = 250000;
			if(IsACriminal(playerid)) limit = 500000;
			if(sscanf(inputtext, "i", price)) return SPD(playerid, did_bank_frac_take, DSI, "{"#DC_MAIN"}Снять со счета", "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета:", "Далее", "Отмена");
			bank = FracBank[member];
			if(price < 1 || price > bank)
			{
				SendMes(playerid, COLOR_DARKORANGE, "В банке недостаточно средств. Введите сумму от $1 до $%d!", limit);
				return SPD(playerid, did_bank_frac_take, DSI, "{"#DC_MAIN"}Снять со счета", "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета:", "Далее", "Отмена");
			}
			if(price+FracInfo[member][fBankGetLimit] > limit)
			{
				format(strings, sizeof(strings), "Нельзя снимать более $%d в сутки. Сейчас можно снять до $%d!", limit, limit-FracInfo[member][fBankGetLimit]);
				SendMes(playerid, COLOR_DARKORANGE, strings);
				return SPD(playerid, did_bank_frac_take, DSI, "{"#DC_MAIN"}Снять со счета", "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета:", "Далее", "Отмена");
			}
			format(strings, sizeof(strings), "Вы вывели {"#DC_WHITE"}$%d{"#DC_MAIN"} из банка организации. Текущий счет {"#DC_WHITE"}$%d.", price, bank-price);
			SendMes(playerid, COLOR_MAIN, strings);
   			format(strings, sizeof(strings), "[F] %s [%d] снял $%d с банка организации.", PlayerInfo[playerid][pName], playerid, price);
			SendFMes(member, COLOR_NEWLBLUE, strings);
			ServerMoney(playerid, "Снял с банка организации", price, 0);
			GiveFracBank(member, -price);
			FracInfo[member][fBankGetLimit] += price;
			format(strings, sizeof(strings), "Игрок %s вывел $%d со счета фракции %s.", PlayerInfo[playerid][pName], price, FracInfo[PlayerInfo[playerid][pLeader]][fName]);
			WriteLog("logs_takefracbank", strings);
			return 1;
		}
		case did_bank_frac_put:
		{
			if(!response)
			{
				if(IsAPPos(playerid, 5.0, -1300.5861,-2877.5083,1058.2000) || IsAPPos(playerid, 5.0, -1299.5646,-2881.3825,1058.2000) || IsAPPos(playerid, 5.0, -1300.5939,-2885.2648,1058.2000)) return BankFracEnter(playerid);
				else return ShowWarehouse(playerid);
			}
			new price, bank;
			new member = PlayerInfo[playerid][pMember];
			if(sscanf(inputtext, "i", price)) return SPD(playerid, did_bank_frac_put, DSI, "{"#DC_MAIN"}Положить на счет", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена");
			if(price < 1 || price > GetMoney(playerid))
			{
				SendMes(playerid, COLOR_DARKORANGE, "У Вас недостаточно средств. Введите сумму от $1 до $%d!", GetMoney(playerid));
				return SPD(playerid, did_bank_frac_put, DSI, "{"#DC_MAIN"}Положить на счет", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена");
			}
			if(sscanf(inputtext, "i", price)) return SPD(playerid, did_bank_frac_take, DSI, "{"#DC_MAIN"}Положить на счет", "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета:", "Далее", "Отмена");
            bank = FracBank[member];
			new sbank = bank+price;
			format(strings, sizeof(strings), "Вы перевели {"#DC_WHITE"}$%d{"#DC_MAIN"} на счет банка организации. Текущий счет {"#DC_WHITE"}$%d.", price, sbank);
			SendMes(playerid, COLOR_MAIN, strings);
   			format(strings, sizeof(strings), "[F] %s [%d] перевел $%d на банк организации.", PlayerInfo[playerid][pName], playerid, price);
			SendFMes(member, COLOR_NEWLBLUE, strings);
			ServerMoney(playerid, "Перевод на фракционный банк", -price, 0);
			GiveFracBank(member, price);
			format(strings, sizeof(strings), "Игрок %s перевел $%d на счет фракции %s.", PlayerInfo[playerid][pName], price, FracInfo[PlayerInfo[playerid][pLeader]][fName]);
			WriteLog("logs_putfracbank", strings);
			if(IsAPPos(playerid, 5.0, -1300.5861,-2877.5083,1058.2000) || IsAPPos(playerid, 5.0, -1299.5646,-2881.3825,1058.2000) || IsAPPos(playerid, 5.0, -1300.5939,-2885.2648,1058.2000)) BankFracEnter(playerid);
			else ShowWarehouse(playerid);
			return 1;
		}
		case did_atm:
		{
			if(!response) return DeletePVar(playerid, "PriceATM");
			switch(listitem)
			{
				case 0:
				{
   					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Баланс банковского счета: $%d.", PlayerInfo[playerid][pBank]);
					SPD(playerid, did_atm_balance, DSM, "{"#DC_MAIN"}Баланс", totalstring, "Отмена", "");
				}
				case 1: SPD(playerid, did_atm_take, DSI, "{"#DC_MAIN"}Снять со счета", "{"#DC_WHITE"}Введите сумму, которую желаете снять с банк. счета:", "Далее", "Отмена");
				case 2: SPD(playerid, did_atm_put, DSI, "{"#DC_MAIN"}Положить на счет", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена");
				case 3:
				{
					if(PlayerInfo[playerid][pPhone] == 0) { SendMes(playerid, COLOR_DARKORANGE, "У Вас нет телефона."); return OnPlayerShowATMList(playerid); }
   					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:\nТекущий баланс телефона: $%d.", PlayerInfo[playerid][pPhoneBalance]);
					SPD(playerid, did_atm_put_phone, DSI, "{"#DC_MAIN"}Положить на счет телефона", totalstring, "Далее", "Отмена");
				}
				case 4:
				{
					if(PlayerInfo[playerid][pPhone] == 0) { SendMes(playerid, COLOR_DARKORANGE, "У Вас нет телефона."); return OnPlayerShowATMList(playerid); }
   					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, которую хотите снять с мобильного счета:\nТекущий баланс телефона: $%d.", PlayerInfo[playerid][pPhoneBalance]);
					SPD(playerid, did_atm_take_phone, DSI, "{"#DC_MAIN"}Снять со счета телефона", totalstring, "Далее", "Отмена");
				}
			}
			return 1;
		}
		case did_atm_balance: return OnPlayerShowATMList(playerid);
		case did_atm_take:
		{
			if(!response) return OnPlayerShowATMList(playerid);
			new price;
			if(sscanf(inputtext, "i", price)) return SPD(playerid, did_atm_take, DSI, "{"#DC_MAIN"}Снять со счета", "{"#DC_WHITE"}Введите сумму, которую желаете снять с банк. счета:", "Далее", "Отмена");
			if(price < 1) return SPD(playerid, did_atm_take, DSI, "{"#DC_MAIN"}Снять со счета", "{"#DC_WHITE"}Введите сумму, которую желаете снять с банк. счета:", "Далее", "Отмена");
			if(GetBankMoney(playerid) < price) { SPD(playerid, did_atm_take, DSI, "{"#DC_MAIN"}Снять со счета", "{"#DC_WHITE"}Введите сумму, которую желаете снять с банк. счета:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "На вашем счету в банке нет столько денег."); }
			SetPVarInt(playerid, "PriceATM", 0);
			ServerMoney(playerid, "Снял с банк счета", price, 0);
			ServerMoney(playerid, "Перевел на наличный счет", -price, 1);
			format(strings, sizeof(strings), "Вы сняли со счета {"#DC_WHITE"}$%d.{"#DC_MAIN"} Текущий баланс: {"#DC_WHITE"}$%d.", price, PlayerInfo[playerid][pBank]);
			SendMes(playerid, COLOR_MAIN, strings);
			OnPlayerShowATMList(playerid);
			return 1;
		}
		case did_atm_put:
		{
			if(!response) return OnPlayerShowATMList(playerid);
			new price;
			if(sscanf(inputtext, "i", price)) return SPD(playerid, did_atm_put, DSI, "{"#DC_MAIN"}Положить на счет", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена");
			if(price < 1) return SPD(playerid, did_atm_put, DSI, "{"#DC_MAIN"}Положить на счет", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена");
			if(GetMoney(playerid) < price) { SPD(playerid, did_atm_put, DSI, "{"#DC_MAIN"}Положить на счет", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"); }
			SetPVarInt(playerid, "PriceATM", 0);
			ServerMoney(playerid, "Перевел на банк счет", -price, 0);
			ServerMoney(playerid, "Пополнил банк счет", price, 1);
			format(strings, sizeof(strings), "Вы положили на счет {"#DC_WHITE"}$%d.{"#DC_MAIN"} Текущий баланс: {"#DC_WHITE"}$%d.", price, PlayerInfo[playerid][pBank]);
			SendMes(playerid, COLOR_MAIN, strings);
			OnPlayerShowATMList(playerid);
			return 1;
		}
		case did_atm_put_phone:
		{
			if(!response) return OnPlayerShowATMList(playerid);
			new price;
			if(sscanf(inputtext, "i", price))
			{
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:\nТекущий баланс телефона: $%d.", PlayerInfo[playerid][pPhoneBalance]);
				return SPD(playerid, did_atm_put_phone, DSI, "{"#DC_MAIN"}Положить на счет телефона", totalstring, "Далее", "Отмена");
			}
			if(price < 1)
			{
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:\nТекущий баланс телефона: $%d.", PlayerInfo[playerid][pPhoneBalance]);
				return SPD(playerid, did_atm_put_phone, DSI, "{"#DC_MAIN"}Положить на счет телефона", totalstring, "Далее", "Отмена");
			}
			if(GetMoney(playerid) < price)
			{
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:\nТекущий баланс телефона: $%d.\n\n{"#DC_RED"}Ошибка: На счете мобильного телефона нет столько денег.", PlayerInfo[playerid][pPhoneBalance]);
				return SPD(playerid, did_atm_put_phone, DSI, "{"#DC_MAIN"}Положить на счет телефона", totalstring, "Далее", "Отмена");
			}
			if(PlayerInfo[playerid][pPhoneBalance] >= 50000)
			{
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:\nТекущий баланс телефона: $%d.\n\n{"#DC_RED"}Ошибка: Вы не можете положить более $50000.", PlayerInfo[playerid][pPhoneBalance]);
				return SPD(playerid, did_atm_put_phone, DSI, "{"#DC_MAIN"}Положить на счет телефона", totalstring, "Далее", "Отмена");
			}
			if(PlayerInfo[playerid][pPhoneBalance] + price > 50000)
			{
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:\nТекущий баланс телефона: $%d.\n\n{"#DC_RED"}Ошибка: Вы не можете положить более $50000.", PlayerInfo[playerid][pPhoneBalance]);
				return SPD(playerid, did_atm_put_phone, DSI, "{"#DC_MAIN"}Положить на счет телефона", totalstring, "Далее", "Отмена");
			}
			if(price > 50000)
			{
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:\nТекущий баланс телефона: $%d.\n\n{"#DC_RED"}Ошибка: Вы не можете положить более $50000.", PlayerInfo[playerid][pPhoneBalance]);
				return SPD(playerid, did_atm_put_phone, DSI, "{"#DC_MAIN"}Положить на счет телефона", totalstring, "Далее", "Отмена");
			}
			SetPVarInt(playerid, "PriceATM", 0);
			PlayerInfo[playerid][pPhoneBalance] += price;
			ServerMoney(playerid, "Пополнил счет телефона", -price, 0);
			SendMes(playerid, COLOR_MAIN, "Вы положили на счет телефона {"#DC_WHITE"}$%d.{"#DC_MAIN"} Текущий счет: {"#DC_WHITE"}$%d.", price, PlayerInfo[playerid][pPhoneBalance]);
			OnPlayerShowATMList(playerid);
			CheckTask(playerid, 4);
			return 1;
		}
		case did_atm_take_phone:
		{
			if(!response) return OnPlayerShowATMList(playerid);
			new price;
			if(sscanf(inputtext, "i", price))
			{
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, которую хотите снять с мобильного счета:\nТекущий баланс телефона: $%d.", PlayerInfo[playerid][pPhoneBalance]);
				return SPD(playerid, did_atm_take_phone, DSI, "{"#DC_MAIN"}Снять со счета телефона", totalstring, "Далее", "Отмена");
			}
			if(price < 1)
			{
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, которую хотите снять с мобильного счета:\nТекущий баланс телефона: $%d.", PlayerInfo[playerid][pPhoneBalance]);
				return SPD(playerid, did_atm_take_phone, DSI, "{"#DC_MAIN"}Снять со счета телефона", totalstring, "Далее", "Отмена");
			}
			if(PlayerInfo[playerid][pPhoneBalance] < price)
			{
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, которую хотите снять с мобильного счета:\nТекущий баланс телефона: $%d.\n\n{"#DC_RED"}Ошибка: У вас нет такой суммы на счете телефона.", PlayerInfo[playerid][pPhoneBalance]);
				return SPD(playerid, did_atm_take_phone, DSI, "{"#DC_MAIN"}Снять со счета телефона", totalstring, "Далее", "Отмена");
			}
			SetPVarInt(playerid, "PriceATM", 0);
			PlayerInfo[playerid][pPhoneBalance] -= price;
			ServerMoney(playerid, "Снял со счета телефона", price, 0);
			SendMes(playerid, COLOR_MAIN, "Вы сняли со счета телефона {"#DC_WHITE"}$%d.{"#DC_MAIN"} Текущий на баланс: {"#DC_WHITE"}$%d.", price, PlayerInfo[playerid][pPhoneBalance]);
			OnPlayerShowATMList(playerid);
			return 1;
		}
		case did_sellhouse:
		{
			if(response)
			{
				if(PlayerInfo[playerid][pHouse] == 0) SendMes(playerid, COLOR_DARKORANGE, "У Вас не дома.");
				new i = PlayerInfo[playerid][pHouse];
				ServerMoney(playerid, "Продажа дома", HouseInfo[i][hBuyPrice], 0);
				SendMes(playerid, COLOR_MAIN, "Вы продали дом за {"#DC_WHITE"}$%d.", HouseInfo[i][hBuyPrice]);
				strmid(HouseInfo[i][hOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
				HouseInfo[i][hLock] = 0;
				HouseInfo[i][hBuyPrice] = 0;
				HouseInfo[i][hPaymentDays] = 0;
				HouseInfo[i][hBlocking] = 0;
				HouseInfo[i][hTaxes] = 0;
				if(HouseInfo[i][hFamily] != 0)
				{
					new idx = HouseInfo[i][hFamily];
				    HouseInfo[i][hFamily] = 0;
				    FamiliesInfo[idx][fHouse] = 0;
				    FamiliesInfo[idx][fHouseStatus] = 0;
				    SaveFamilies(idx);
				}
				SaveHouse(i);
				UpdateHouse(i);
				PlayerInfo[playerid][pSpawnChange] = 0;
				PlayerInfo[playerid][pHouse] = 0;
				OnPlayerSaveAccount(playerid);
				format(strings, sizeof(strings), "Игрок %s продал Дом %d (%d) за %d. Кол-во денег: $%d", PlayerInfo[playerid][pName], PlayerInfo[playerid][pHouse], i, HouseInfo[i][hBuyPrice], PlayerInfo[playerid][pCash]);
				WriteLog("logs_sellhouse", strings);
			}
			return 1;
		}
		case did_sellcar:
		{
			if(!response) return 1;
			if(PlayerInfo[playerid][pVehicle] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет транспортного средства.");
			new vehicleid = PlayerInfo[playerid][pVehicle];
			if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в вашем личном транспортном средстве.");
			if(strcmp(PlayerInfo[playerid][pName], VehInfo[vehicleid][vOwner], true)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в вашем личном транспортном средстве.");
			mysql_format(mysql, request, sizeof(request), "DELETE FROM "TABLE_VEHICLE" WHERE `id` = '%d' LIMIT 1", VehInfo[vehicleid][id]);
			mysql_query(mysql, request, false);
			strmid(VehInfo[vehicleid][vOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
			strmid(VehInfo[vehicleid][v2Owner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
			SendMes(playerid, COLOR_MAIN, "Вы продали транспорт за {"#DC_WHITE"}$%d.", VehInfo[vehicleid][vBuyPrice]);
			format(strings, sizeof(strings), "Игрок %s продал автомобиль %s [%d (%d)] за %d. Кол-во денег: $%d", PlayerInfo[playerid][pName], VehicleNameS[GetVehicleModel(GetPlayerVehicleID(playerid))-400], GetPlayerVehicleID(playerid), VehInfo[vehicleid][id], VehInfo[vehicleid][vBuyPrice], PlayerInfo[playerid][pCash]);
			WriteLog("logs_sellcar", strings);
			ServerMoney(playerid, "Продажа транспорта", VehInfo[vehicleid][vBuyPrice], 0);
			DestroyVehicleEx(vehicleid);
			VehInfo[vehicleid][vPrice] = 0;
			VehInfo[vehicleid][vBuyPrice] = 0;
			PlayerInfo[playerid][pVehicle] = 0;
			PlayerInfo[playerid][pVehicleIDx] = 0;
			TOTALVEH--;
			return 1;
		}
		case did_sellbiz:
		{
			if(!response) return 1;
			new i = PlayerInfo[playerid][pBiz];
			strmid(BizInfo[i][bOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
			PlayerInfo[playerid][pBiz] = 0;
			SendMes(playerid, COLOR_MAIN, "Вы продали бизнес за {"#DC_WHITE"}$%d.", BizInfo[i][bPrice]+BizInfo[i][bMoney]);
			ServerMoney(playerid, "Продажа бизнеса", BizInfo[i][bPrice]+BizInfo[i][bMoney], 0);
			SaveBiz(i);
			format(strings, sizeof(strings), "Игрок %s продал бизнес %d за %d. Кол-во денег: $%d", PlayerInfo[playerid][pName], i, BizInfo[i][bPrice]+BizInfo[i][bMoney], PlayerInfo[playerid][pCash]);
			WriteLog("logs_sellbiz", strings);
			BizInfo[i][bMoney] = 0;
			BizInfo[i][bEnter] = 0;
			BizInfo[i][bTill] = 1;
			BizInfo[i][bProduct] = 0;
			BizInfo[i][bBlocking] = 0;
			BizInfo[i][bTaxes] = 0;
			UpdateBiz(i);
			return 1;
		}
		case did_autoshop_list:
		{
		    if(!response) return DeletePVar(playerid, "ServiceUse");
			if(!IsPlayerInAnyVehicle(playerid))
			{
				DeletePVar(playerid, "TunComponent"), DeletePVar(playerid, "TunComponentPrice");
				DeletePVar(playerid, "TunComponentUpgrade"), DeletePVar(playerid, "TunComponentDetails");
				return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в транспортном средстве.");
			}
		    switch(listitem)
		    {
		        case 0: SPD(playerid, did_autoshop_main, DSL, "{"#DC_MAIN"}Основные компоненты", "{"#DC_MAIN"}1.{"#DC_WHITE"} Диски\n{"#DC_MAIN"}2.{"#DC_WHITE"} Азот\n{"#DC_MAIN"}3.{"#DC_WHITE"} Спойлер\n{"#DC_MAIN"}4.{"#DC_WHITE"} Передний бампер\n{"#DC_MAIN"}5.{"#DC_WHITE"} Задний бампер\n{"#DC_MAIN"}6.{"#DC_WHITE"} Боковые юбки\n{"#DC_MAIN"}7.{"#DC_WHITE"} Выхлопные трубы\n{"#DC_MAIN"}8.{"#DC_WHITE"} Крыша\n{"#DC_MAIN"}9.{"#DC_WHITE"} Гидравлика\n{"#DC_MAIN"}10.{"#DC_WHITE"} Покраска\n{"#DC_MAIN"}11.{"#DC_WHITE"} Покрасочные работы\n{"#DC_MAIN"}12.{"#DC_WHITE"} Удалить тюнинг", "Далее", "Отмена");
		        case 1:
		        {
					new vehicleid = GetPlayerVehicleID(playerid), sidx = GetPVarInt(playerid, "ServiceUse"), till = ServiceInfo[sidx][sTill];
		            totalstring = "", bigstring = "";
					for(new i = 0; i < sizeof(TunUpgradeList); i++)
					{
						if(VehInfo[vehicleid][vUpgrade][i])
						{
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s - Установлено\n", i+1, TunUpgradeList[i]);
							strcat(bigstring, totalstring);
						}
						else
						{
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s - $%d\n", i+1, TunUpgradeList[i], GetTuneUpgradePrice(playerid, vehicleid, i) * till);
							strcat(bigstring, totalstring);
						}
					}
					for(new i = 0; i < sizeof(VehicleDetails); i++)
					{
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s - $%d\n", i+8, VehicleDetails[i], GetTuneDetailsPrice(playerid, vehicleid, i) * till);
						strcat(bigstring, totalstring);
					}
					SPD(playerid, did_autoshop_upgrade, DSL, "{"#DC_MAIN"}Дополнительные компоненты", bigstring, "Далее", "Отмена");
		        }
		        case 2:
		        {
					totalstring = "";
					for(new i; i < sizeof(VehicleDetailsInfo); i++)
					{
						format(totalstring, sizeof(totalstring), "%s%s\n", totalstring, VehicleDetailsInfo[i]);
					}
				   	SPD(playerid, did_autoshop_info_back, DSM, "{"#DC_MAIN"}Информация", totalstring, "Далее", "Отмена");
		        }
		    }
			return 1;
		}
		case did_autoshop:
		{
			if(!IsPlayerInAnyVehicle(playerid))
			{
				DeletePVar(playerid, "ServiceUse");
				DeletePVar(playerid, "TunComponent"), DeletePVar(playerid, "TunComponentPrice");
				DeletePVar(playerid, "TunComponentUpgrade"), DeletePVar(playerid, "TunComponentDetails");
				return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в транспортном средстве.");
			}
		    new vehicleid = GetPlayerVehicleID(playerid);
			if(PlayerInfo[playerid][pVehicle] != vehicleid)
		    {
				RemoveVehicleComponent(vehicleid, GetPVarInt(playerid, "TunComponent"));
				for(new i = 0; i < 14; i++)
				{
					if(VehInfo[vehicleid][vVehcoms][i] != 0) AddVehicleComponentEx(vehicleid, VehInfo[vehicleid][vVehcoms][i]);
					else RemoveVehicleComponent(vehicleid, VehInfo[vehicleid][vVehcoms][i]);
				}
				if(VehInfo[vehicleid][vPaintjob] != 3)
				{
					ChangeVehiclePaintjob(vehicleid, VehInfo[vehicleid][vPaintjob]);
					SaveVehicle(vehicleid);
				}
				DeletePVar(playerid, "ServiceUse");
				DeletePVar(playerid, "TunComponent"), DeletePVar(playerid, "TunComponentPrice");
				DeletePVar(playerid, "TunComponentUpgrade"), DeletePVar(playerid, "TunComponentDetails");
				SendMes(playerid, COLOR_DARKORANGE, "Пользоваться услугами автосервиса можно только на личном транспортном средстве.");
				return 1;
		    }
			if(response)
			{
				new sidx = GetPVarInt(playerid, "ServiceUse");
				new componentid = GetPVarInt(playerid, "TunComponent"), componentprice = GetPVarInt(playerid, "TunComponentPrice");
				new upgradeid = GetPVarInt(playerid, "TunComponentUpgrade"), detailsid = GetPVarInt(playerid, "TunComponentDetails");
				if(GetMoney(playerid) < componentprice)
				{
				    SendMes(playerid, COLOR_MAIN, "Вы отменили действие.");
					RemoveVehicleComponent(vehicleid, GetPVarInt(playerid, "TunComponent"));
					for(new i = 0; i < 14; i++)
					{
						if(VehInfo[vehicleid][vVehcoms][i] != 0) AddVehicleComponentEx(vehicleid, VehInfo[vehicleid][vVehcoms][i]);
						else RemoveVehicleComponent(vehicleid, VehInfo[vehicleid][vVehcoms][i]);
					}
					if(VehInfo[vehicleid][vPaintjob] != 3)
					{
						ChangeVehiclePaintjob(vehicleid, VehInfo[vehicleid][vPaintjob]);
						SaveVehicle(vehicleid);
					}
					DeletePVar(playerid, "ServiceUse");
					DeletePVar(playerid, "TunComponent"), DeletePVar(playerid, "TunComponentPrice");
					DeletePVar(playerid, "TunComponentUpgrade"), DeletePVar(playerid, "TunComponentDetails");
					return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				}
				BuyPlayerService(playerid, sidx, componentprice);
				switch(componentid)
				{
				    case -1:
				    {
						for(new i = 0; i < 14; i++)
						{
						    RemoveVehicleComponent(vehicleid, VehInfo[vehicleid][vVehcoms][i]);
						}
						for(new i = 0; i < 7; i++) VehInfo[vehicleid][vUpgrade][i] = 0;
						SendMes(playerid, COLOR_MAIN, "Вы оплатили удаление тюнинга. Стоимость: {"#DC_WHITE"}$%d.", componentprice);
						SaveVehicleTuning(vehicleid);
						SaveVehicleUpgradeTuning(vehicleid);
				    }
				    case 1:
				    {
					    VehInfo[vehicleid][vUpgrade][upgradeid] = 1;
						SendMes(playerid, COLOR_MAIN, "Вы оплатили компонент. Стоимость: {"#DC_WHITE"}$%d.", componentprice);
						SaveVehicleUpgradeTuning(vehicleid);
				    }
				    case 2:
				    {
						SendMes(playerid, COLOR_MAIN, "Вы оплатили покрасочную работу. Стоимость: {"#DC_WHITE"}$%d.", componentprice);
						VehInfo[vehicleid][vPaintjob] = GetPVarInt(playerid, "TunPaintjob") - 1;
						ChangeVehiclePaintjob(vehicleid, VehInfo[vehicleid][vPaintjob]);
						SaveVehicle(vehicleid);
						DeletePVar(playerid, "TunPaintjob");
				    }
				    case 3:
				    {
				        VehInfo[vehicleid][vDetails][detailsid] = 100.0;
						SendMes(playerid, COLOR_MAIN, "Вы оплатили обновление деталь. Стоимость: {"#DC_WHITE"}$%d.", componentprice);
						SaveVehicleDetails(vehicleid);
				    }
				    default:
				    {
						SendMes(playerid, COLOR_MAIN, "Вы оплатили установку компонента. Стоимость: {"#DC_WHITE"}$%d.", componentprice);
						SaveVehicleTuning(vehicleid);
				    }
				}
				CheckQuest(playerid, 18);
				ShowTuningMenu(playerid);
			}
			else
			{
				SendMes(playerid, COLOR_MAIN, "Вы отменили действие.");
				RemoveVehicleComponent(vehicleid, GetPVarInt(playerid, "TunComponent"));
				for(new i = 0; i < 14; i++)
				{
					if(VehInfo[vehicleid][vVehcoms][i] != 0) AddVehicleComponentEx(vehicleid, VehInfo[vehicleid][vVehcoms][i]);
					else RemoveVehicleComponent(vehicleid, VehInfo[vehicleid][vVehcoms][i]);
				}
				if(VehInfo[vehicleid][vPaintjob] != 3)
				{
					ChangeVehiclePaintjob(vehicleid, VehInfo[vehicleid][vPaintjob]);
					SaveVehicle(vehicleid);
				}
				DeletePVar(playerid, "TunComponent"), DeletePVar(playerid, "TunComponentPrice");
				DeletePVar(playerid, "TunComponentUpgrade"), DeletePVar(playerid, "TunComponentDetails");
				ShowTuningMenu(playerid);
			}
			return 1;
		}
		case did_autoshop_main:
		{
		    if(!response) return ShowTuningMenu(playerid);
		    new vehicleid = GetPlayerVehicleID(playerid);
		    switch(listitem)
		    {
		        case 0:
		        {
		            if(IsAMoto(vehicleid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете установить данный компонент на это транспортное средство."), ShowTuningMenu(playerid);
   					totalstring = "", bigstring = "";
		            for(new i; i < sizeof(WheelsInfo); i++)
					{
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", i+1, WheelsInfo[i][wName]);
						strcat(bigstring, totalstring);
					}
					SPD(playerid, did_autoshop_main_wheels, DSL, "{"#DC_MAIN"}Деталь", bigstring, "Далее", "Отмена");
		        }
		        case 1:
				{
					if(IsAMoto(vehicleid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете установить данный компонент на это транспортное средство."), ShowTuningMenu(playerid);
		      		SPD(playerid, did_autoshop_main_nitro, DSL, "{"#DC_MAIN"}Деталь", "{"#DC_MAIN"}1.{"#DC_WHITE"} 2 заряда\n{"#DC_MAIN"}2.{"#DC_WHITE"} 5 зарядов\n{"#DC_MAIN"}3.{"#DC_WHITE"} 10 зарядов", "Далее", "Отмена");
		        }
    			case 2..7:
				{
					if(listitem != 5)
					{
						if(IsAWheelArchAngels(vehicleid)) SPD(playerid, did_autoshop_main_other, DSL, "{"#DC_MAIN"}Деталь", "{"#DC_MAIN"}1.{"#DC_WHITE"} X-Flow\n{"#DC_MAIN"}2.{"#DC_WHITE"} Alien", "Далее", "Отмена");
						else return SendMes(playerid, COLOR_DARKORANGE, "Данный компонент не поддерживается для этого транспортного средства."), ShowTuningMenu(playerid);
					}
					else
					{
						if(IsAWheelArchAngels(vehicleid)) SPD(playerid, did_autoshop_main_other, DSL, "{"#DC_MAIN"}Деталь", "{"#DC_MAIN"}1.{"#DC_WHITE"} X-Flow\n{"#DC_MAIN"}2.{"#DC_WHITE"} Alien", "Далее", "Отмена");
					 	else if(IsALocoLowCo(vehicleid)) SPD(playerid, did_autoshop_main_other, DSL, "{"#DC_MAIN"}Деталь", "{"#DC_MAIN"}1.{"#DC_WHITE"} Chrome\n{"#DC_MAIN"}2.{"#DC_WHITE"} Slamin", "Далее", "Отмена");
					 	else return SendMes(playerid, COLOR_DARKORANGE, "Данный компонент не поддерживается для этого транспортного средства."), ShowTuningMenu(playerid);
					}
					SetPVarInt(playerid, "TunListitem", listitem);
				}
		        case 8:
		        {
		       	 	if(IsAMoto(vehicleid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете установить данный компонент на это транспортное средство."), ShowTuningMenu(playerid);
		       	 	new sidx = GetPVarInt(playerid, "ServiceUse"), till = ServiceInfo[sidx][sTill], price = 25000 * till;
					SetPVarInt(playerid, "TunComponent", 1087);
					SetPVarInt(playerid, "TunComponentPrice", price);
					AddVehicleComponentEx(vehicleid, 1087);
   					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы действительно хотите установить деталь $%d?", price);
					SPD(playerid, did_autoshop, DSM, "{"#DC_MAIN"}Установка", totalstring, "Да", "Нет");
		        }
		        case 9:
		        {
		        	SPD(playerid, did_autoshop_main_color, DSI, "{"#DC_MAIN"}Цвет", "{"#DC_WHITE"}Введите цвет № 1 и цвет № 2 через запятую:", "Далее", "Отмена");
		        }
		        case 10:
		        {
		           	if(IsAMoto(vehicleid)) return SendMes(playerid, COLOR_DARKORANGE, "Данный компонент не поддерживается для этого транспортного средства."), ShowTuningMenu(playerid);
		            if(IsAWheelArchAngels(vehicleid) || IsALocoLowCo(vehicleid)) return SPD(playerid, did_autoshop_main_color_job, DSL, "{"#DC_MAIN"}Покрасочная работа", "{"#DC_MAIN"}1.{"#DC_WHITE"} Покрасочная работа # 1\n{"#DC_MAIN"}2.{"#DC_WHITE"} Покрасочная работа # 2\n{"#DC_MAIN"}3.{"#DC_WHITE"} Покрасочная работа # 3", "Далее", "Отмена");
		        	else return SendMes(playerid, COLOR_DARKORANGE, "Данный компонент не поддерживается для этого транспортного средства."), ShowTuningMenu(playerid);
				}
		        case 11:
		        {
		            if(IsAMoto(vehicleid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете удалить компоненты с этого транспортного средства."), ShowTuningMenu(playerid);
		            new sidx = GetPVarInt(playerid, "ServiceUse"), till = ServiceInfo[sidx][sTill], price = 5000 * till;
		            SetPVarInt(playerid, "TunComponent", -1);
					SetPVarInt(playerid, "TunComponentPrice", price);
   					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы действительно хотите удалить весь тюнинг за $%d?", price);
					SPD(playerid, did_autoshop, DSM, "{"#DC_MAIN"}Удаление", totalstring, "Да", "Нет");
		        }
		    }
			return 1;
		}
		case did_autoshop_main_wheels:
		{
		    if(!response) return ShowTuningMenu(playerid);
		    new vehicleid = GetPlayerVehicleID(playerid), sidx = GetPVarInt(playerid, "ServiceUse"), till = ServiceInfo[sidx][sTill], price = WheelsInfo[listitem][wPrice] * till;
	    	SetPVarInt(playerid, "TunComponent", WheelsInfo[listitem][wID]);
			SetPVarInt(playerid, "TunComponentPrice", price);
			AddVehicleComponentEx(vehicleid, WheelsInfo[listitem][wID]);
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы действительно хотите установить диски %s за $%d?", WheelsInfo[listitem][wName], price);
			SPD(playerid, did_autoshop, DSM, "{"#DC_MAIN"}Установка", totalstring, "Да", "Нет");
			return 1;
		}
		case did_autoshop_main_nitro:
		{
		    if(!response) return ShowTuningMenu(playerid);
		    new vehicleid = GetPlayerVehicleID(playerid);
      		new componentid[] = {1009, 1008, 1010};
			new componentprice[] = {5000, 10000, 15000};
			new sidx = GetPVarInt(playerid, "ServiceUse"), till = ServiceInfo[sidx][sTill], price = componentprice[listitem] * till;
			SetPVarInt(playerid, "TunComponent", componentid[listitem]);
			SetPVarInt(playerid, "TunComponentPrice", price);
			AddVehicleComponentEx(vehicleid, componentid[listitem]);
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы действительно хотите установить деталь за $%d?", price);
			SPD(playerid, did_autoshop, DSM, "{"#DC_MAIN"}Установка", totalstring, "Да", "Нет");
			return 1;
		}
 		case did_autoshop_main_other:
		{
		    if(!response) return ShowTuningMenu(playerid);
		    new vehicleid = GetPlayerVehicleID(playerid);
      		new ComponentList[4], sidx = GetPVarInt(playerid, "ServiceUse"), till = ServiceInfo[sidx][sTill], price;
			switch(GetPVarInt(playerid, "TunListitem"))
			{
			    case 2:
			    {
					price = 10000 * till;
					if(GetVehicleModel(vehicleid) == 562) ComponentList[0] = 1146, ComponentList[1] = 1147; // Elegy;
					else if(GetVehicleModel(vehicleid) == 560) ComponentList[0] = 1138, ComponentList[1] = 1139; // Sultan;
					else if(GetVehicleModel(vehicleid) == 565) ComponentList[0] = 1049, ComponentList[1] = 1050; // Flash;
					else if(GetVehicleModel(vehicleid) == 561) ComponentList[0] = 1058, ComponentList[1] = 1060; // Stratum;
					else if(GetVehicleModel(vehicleid) == 559) ComponentList[0] = 1158, ComponentList[1] = 1162; // Jester;
					else if(GetVehicleModel(vehicleid) == 558) ComponentList[0] = 1063, ComponentList[1] = 1064; // Uranus;
					else return SendMes(playerid, COLOR_DARKORANGE, "Данная деталь недоступна для этого транспортного средства."), ShowTuningMenu(playerid);
			    }
			    case 3:
			    {
					price = 12500 * till;
					if(GetVehicleModel(vehicleid) == 562) ComponentList[0] = 1171, ComponentList[1] = 1172; // Elegy;
					else if(GetVehicleModel(vehicleid) == 560) ComponentList[0] = 1169, ComponentList[1] = 1170; // Sultan;
					else if(GetVehicleModel(vehicleid) == 565) ComponentList[0] = 1152, ComponentList[1] = 1153; // Flash;
					else if(GetVehicleModel(vehicleid) == 561) ComponentList[0] = 1155, ComponentList[1] = 1157; // Stratum;
					else if(GetVehicleModel(vehicleid) == 559) ComponentList[0] = 1160, ComponentList[1] = 1173; // Jester;
					else if(GetVehicleModel(vehicleid) == 558) ComponentList[0] = 1165, ComponentList[1] = 1166; // Uranus;
					else if(GetVehicleModel(vehicleid) == 534) ComponentList[0] = 1179, ComponentList[1] = 1185; // Remington;
					else if(GetVehicleModel(vehicleid) == 536) ComponentList[0] = 1181, ComponentList[1] = 1182; // Blade;
					else if(GetVehicleModel(vehicleid) == 535) ComponentList[0] = 1117, ComponentList[1] = 1117; // Slavman;
					else if(GetVehicleModel(vehicleid) == 567) ComponentList[0] = 1188, ComponentList[1] = 1189; // Savanna;
					else if(GetVehicleModel(vehicleid) == 575) ComponentList[0] = 1174, ComponentList[1] = 1176; // Brodway;
					else if(GetVehicleModel(vehicleid) == 576) ComponentList[0] = 1190, ComponentList[1] = 1191; // Tornado;
					else return SendMes(playerid, COLOR_DARKORANGE, "Данная деталь недоступна для этого транспортного средства."), ShowTuningMenu(playerid);
			    }
			    case 4:
			    {
					price = 12500 * till;
				    if(GetVehicleModel(vehicleid) == 562) ComponentList[0] = 1148, ComponentList[1] = 1149; // Elegy
					else if(GetVehicleModel(vehicleid) == 560) ComponentList[0] = 1140, ComponentList[1] = 1141; // Sultan;
					else if(GetVehicleModel(vehicleid) == 565) ComponentList[0] = 1150, ComponentList[1] = 1151; // Flash;
					else if(GetVehicleModel(vehicleid) == 561) ComponentList[0] = 1154, ComponentList[1] = 1156; // Stratum;
					else if(GetVehicleModel(vehicleid) == 559) ComponentList[0] = 1159, ComponentList[1] = 1161; // Jester;
					else if(GetVehicleModel(vehicleid) == 558) ComponentList[0] = 1167, ComponentList[1] = 1168; // Uranus;
					else if(GetVehicleModel(vehicleid) == 534) ComponentList[0] = 1178, ComponentList[1] = 1180; // Remington;
					else if(GetVehicleModel(vehicleid) == 536) ComponentList[0] = 1183, ComponentList[1] = 1184; // Blade;
					else if(GetVehicleModel(vehicleid) == 567) ComponentList[0] = 1186, ComponentList[1] = 1187; // Savanna;
					else if(GetVehicleModel(vehicleid) == 575) ComponentList[0] = 1175, ComponentList[1] = 1177; // Brodway;
					else if(GetVehicleModel(vehicleid) == 576) ComponentList[0] = 1192, ComponentList[1] = 1193; // Tornado;
					else return SendMes(playerid, COLOR_DARKORANGE, "Данная деталь недоступна для этого транспортного средства."), ShowTuningMenu(playerid);
			    }
			    case 5:
			    {
					price = 10000 * till;
			        if(GetVehicleModel(vehicleid) == 562) ComponentList[0] = 1041, ComponentList[1] = 1036, ComponentList[2] = 1039, ComponentList[3] = 1040; // Elegy;
					else if(GetVehicleModel(vehicleid) == 560) ComponentList[0] = 1031, ComponentList[1] = 1026, ComponentList[2] = 1030, ComponentList[3] = 1027; // Sultan;
					else if(GetVehicleModel(vehicleid) == 565) ComponentList[0] = 1048, ComponentList[1] = 1047, ComponentList[2] = 1039, ComponentList[3] = 1040; // Flash;
					else if(GetVehicleModel(vehicleid) == 561) ComponentList[0] = 1057, ComponentList[1] = 1056, ComponentList[2] = 1063, ComponentList[3] = 1062; // Stratum;
					else if(GetVehicleModel(vehicleid) == 559) ComponentList[0] = 1070, ComponentList[1] = 1069, ComponentList[2] = 1072, ComponentList[3] = 1071; // Jester;
					else if(GetVehicleModel(vehicleid) == 558) ComponentList[0] = 1095, ComponentList[1] = 1090, ComponentList[2] = 1093, ComponentList[3] = 1194; // Uranus;
					else if(GetVehicleModel(vehicleid) == 534) ComponentList[0] = 1106, ComponentList[1] = 1101, ComponentList[2] = 1124, ComponentList[3] = 1122; // Remington;
					else if(GetVehicleModel(vehicleid) == 536) ComponentList[0] = 1108, ComponentList[1] = 1107, ComponentList[2] = 1108, ComponentList[3] = 1107; // Blade;
					else if(GetVehicleModel(vehicleid) == 535) ComponentList[0] = 1119, ComponentList[1] = 1121, ComponentList[2] = 1121, ComponentList[3] = 1120; // Slavman;
					else if(GetVehicleModel(vehicleid) == 576) ComponentList[0] = 1134, ComponentList[1] = 1137, ComponentList[2] = 1134, ComponentList[3] = 1137; // Tornado;
					else if(GetVehicleModel(vehicleid) == 575) ComponentList[0] = 1042, ComponentList[1] = 1099, ComponentList[2] = 1042, ComponentList[3] = 1099; // Brodway;
					else if(GetVehicleModel(vehicleid) == 567) ComponentList[0] = 1102, ComponentList[1] = 1133, ComponentList[2] = 1102, ComponentList[3] = 1133; // Savanna;
					else return SendMes(playerid, COLOR_DARKORANGE, "Данная деталь недоступна для этого транспортного средства."), ShowTuningMenu(playerid);
			    }
			    case 6:
			    {
					price = 12500 * till;
			        if(GetVehicleModel(vehicleid) == 562) ComponentList[0] = 1037, ComponentList[1] = 1034; // Elegy;
					else if(GetVehicleModel(vehicleid) == 560) ComponentList[0] = 1029, ComponentList[1] = 1028; // Sultan;
					else if(GetVehicleModel(vehicleid) == 565) ComponentList[0] = 1045, ComponentList[1] = 1046; // Flash;
					else if(GetVehicleModel(vehicleid) == 561) ComponentList[0] = 1059, ComponentList[1] = 1064; // Stratum;
					else if(GetVehicleModel(vehicleid) == 559) ComponentList[0] = 1066, ComponentList[1] = 1065; // Jester;
					else if(GetVehicleModel(vehicleid) == 558) ComponentList[0] = 1089, ComponentList[1] = 1092; // Uranus;
					else if(GetVehicleModel(vehicleid) == 575) ComponentList[0] = 1043, ComponentList[1] = 1044; // Brodway;
					else if(GetVehicleModel(vehicleid) == 567) ComponentList[0] = 1129, ComponentList[1] = 1132; // Savanna;
					else if(GetVehicleModel(vehicleid) == 536) ComponentList[0] = 1104, ComponentList[1] = 1105; // Blade;
					else if(GetVehicleModel(vehicleid) == 535) ComponentList[0] = 1113, ComponentList[1] = 1114; // Slavman;
					else if(GetVehicleModel(vehicleid) == 534) ComponentList[0] = 1126, ComponentList[1] = 1127; // Remington;
					else if(GetVehicleModel(vehicleid) == 576) ComponentList[0] = 1135, ComponentList[1] = 1136; // Tornado;
					else return SendMes(playerid, COLOR_DARKORANGE, "Данная деталь недоступна для этого транспортного средства."), ShowTuningMenu(playerid);
			    }
			    case 7:
			    {
					price = 12500 * till;
					if(GetVehicleModel(vehicleid) == 562) ComponentList[0] = 1035, ComponentList[1] = 1038; // Elegy;
					else if(GetVehicleModel(vehicleid) == 560) ComponentList[0] = 1032, ComponentList[1] = 1033; // Sultan;
					else if(GetVehicleModel(vehicleid) == 565) ComponentList[0] = 1053, ComponentList[1] = 1054; // Flash;
					else if(GetVehicleModel(vehicleid) == 561) ComponentList[0] = 1055, ComponentList[1] = 1061; // Stratum;
					else if(GetVehicleModel(vehicleid) == 559) ComponentList[0] = 1067, ComponentList[1] = 1068; // Jester;
					else if(GetVehicleModel(vehicleid) == 558) ComponentList[0] = 1088, ComponentList[1] = 1091; // Uranus;
					else if(GetVehicleModel(vehicleid) == 567) ComponentList[0] = 1130, ComponentList[1] = 1131; // Savanna;
					else if(GetVehicleModel(vehicleid) == 536) ComponentList[0] = 1103, ComponentList[1] = 1128; // Blade;
					else return SendMes(playerid, COLOR_DARKORANGE, "Данная деталь недоступна для этого транспортного средства."), ShowTuningMenu(playerid);
			    }
				default: return SendMes(playerid, COLOR_DARKORANGE, "Произошла ошибка при приобретении деталей. Обратитесь к разработчикам.");
			}
			if(GetPVarInt(playerid, "TunListitem") != 5) AddVehicleComponentEx(vehicleid, ComponentList[listitem]), SetPVarInt(playerid, "TunComponent", ComponentList[listitem]);
			else
			{
				if(IsAWheelArchAngels(vehicleid)) SetPVarInt(playerid, "TunComponent", ComponentList[listitem]), SetPVarInt(playerid, "TunComponent", ComponentList[listitem]);
				else if(IsALocoLowCo(vehicleid)) SetPVarInt(playerid, "TunComponent", ComponentList[listitem + 2]), SetPVarInt(playerid, "TunComponent", ComponentList[listitem + 2]);
			}
			SetPVarInt(playerid, "TunComponentPrice", price);
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы действительно хотите установить деталь за $%d?", price);
			SPD(playerid, did_autoshop, DSM, "{"#DC_MAIN"}Установка", totalstring, "Да", "Нет");
			return 1;
		}
		case did_autoshop_main_color:
		{
		    if(!response) return ShowTuningMenu(playerid);
		    new color[2];
		    if(sscanf(inputtext, "p<,>ii", color[0], color[1])) return SPD(playerid, did_autoshop_main_color, DSI, "{"#DC_MAIN"}Цвет", "{"#DC_WHITE"}Введите цвет № 1 и цвет № 2 через запятую:", "Далее", "Отмена");
			if(color[0] < 0 || color[0] > 256) return SPD(playerid, did_autoshop_main_color, DSI, "{"#DC_MAIN"}Цвет", "{"#DC_WHITE"}Введите цвет № 1 и цвет № 2 через запятую:\n\n{"#DC_RED"}Ошибка: Введите ID цвета 1 от 0 до 256.", "Далее", "Отмена");
			if(color[1] < 0 || color[1] > 256) return SPD(playerid, did_autoshop_main_color, DSI, "{"#DC_MAIN"}Цвет", "{"#DC_WHITE"}Введите цвет № 1 и цвет № 2 через запятую:\n\n{"#DC_RED"}Ошибка: Введите ID цвета 2 от 0 до 256.", "Далее", "Отмена");
			new vehicleid = GetPlayerVehicleID(playerid), sidx = GetPVarInt(playerid, "ServiceUse"), till = ServiceInfo[sidx][sTill], price = 2500 * till;
			if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate Необходимо: $%d.", price);
			BuyPlayerService(playerid, sidx, price);
			VehInfo[vehicleid][vColor][0] = color[0], VehInfo[vehicleid][vColor][1] = color[1];
			SaveVehicleColor(vehicleid, VehInfo[vehicleid][vColor][0], VehInfo[vehicleid][vColor][1]);
			ChangeVehicleColor(vehicleid, VehInfo[vehicleid][vColor][0], VehInfo[vehicleid][vColor][1]);
			SendMes(playerid, COLOR_MAIN, "Вы изменили цвет транспорта за {"#DC_WHITE"}$%d.", price);
			CheckQuest(playerid, 18);
			ShowTuningMenu(playerid);
			return 1;
		}
		case did_autoshop_main_color_job:
		{
		    if(!response) return ShowTuningMenu(playerid);
		    new vehicleid = GetPlayerVehicleID(playerid), sidx = GetPVarInt(playerid, "ServiceUse"), till = ServiceInfo[sidx][sTill], price = 5000 * till;
			ChangeVehiclePaintjob(vehicleid, listitem);
			SetPVarInt(playerid, "TunComponent", 2);
			SetPVarInt(playerid, "TunComponentPrice", price);
			SetPVarInt(playerid, "TunPaintJob", listitem + 1);
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы действительно хотите изменить покрасочную работу за $%d?", price);
			SPD(playerid, did_autoshop, DSM, "{"#DC_MAIN"}Изменение", totalstring, "Да", "Нет");
			return 1;
		}
		case did_autoshop_upgrade:
		{
		    if(!response) return ShowTuningMenu(playerid);
      		new vehicleid = GetPlayerVehicleID(playerid), sidx = GetPVarInt(playerid, "ServiceUse"), till = ServiceInfo[sidx][sTill];
      		switch(listitem)
			{
			    case 0..6:
			    {
			        if(VehInfo[vehicleid][vUpgrade][listitem]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже установлен этот компонент."), ShowTuningMenu(playerid);
					if(listitem != 0)
					{
					    if(VehInfo[vehicleid][vUpgrade][listitem - 1] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас не установлен предыдущий компонент."), ShowTuningMenu(playerid);
					}
					new price = GetTuneUpgradePrice(playerid, vehicleid, listitem) * till;
					SetPVarInt(playerid, "TunComponent", 1);
					SetPVarInt(playerid, "TunComponentUpgrade", listitem);
					SetPVarInt(playerid, "TunComponentPrice", price);
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы действительно хотите обновить компонент за $%d?", price);
					SPD(playerid, did_autoshop, DSM, "{"#DC_MAIN"}Обновление", totalstring, "Да", "Нет");
			    }
			    case 7..11:
			    {
					new price = GetTuneDetailsPrice(playerid, vehicleid, listitem - 7) * till;
					SetPVarInt(playerid, "TunComponent", 3);
					SetPVarInt(playerid, "TunComponentDetails", listitem - 7);
					SetPVarInt(playerid, "TunComponentPrice", price);
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы действительно хотите обновить %s за $%d?", VehicleDetails[listitem - 7], price);
					SPD(playerid, did_autoshop, DSM, "{"#DC_MAIN"}Обновление", totalstring, "Да", "Нет");
		        }
			}
			return 1;
		}
		case did_autoshop_info_back:
		{
			if(!response) return ShowTuningMenu(playerid);
			DeletePVar(playerid, "ServiceUse");
		}
		case did_animlist:
		{
			if(!response) return 1;
			GivePlayerAnim(playerid, listitem);
			return 1;
		}
		case did_advertise:
		{
			if(!response) return 1;
			if(!strlen(inputtext)) return SendAdvertDialog(playerid);
			if(strlen(inputtext) > 96) return SendAdvertDialog(playerid);
			if(GetMoney(playerid) < ADVERT_PRICE) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			new total = -1;
			for(new i; i < MAX_NEWS_ADS; i++)
			{
				if(AdvertInfo[i][aPhone] == PlayerInfo[playerid][pPhoneNumber])
				{
					total = i;
					break;
				}
			}
			if(total != -1) return SendMes(playerid, COLOR_DARKORANGE, "В радиоцентрах уже есть Ваше объявление.");
			new idx = -1;
			for(new i; i < MAX_NEWS_ADS; i++)
			{
				if(AdvertInfo[i][aStatus] == 0)
				{
					idx = i;
					break;
				}
			}
			if(idx == -1) return SendMes(playerid, COLOR_DARKORANGE, "В радиоцентрах нет свободных мест для объявлений.");
			format(AdvertInfo[idx][aSender], MAX_PLAYER_NAME, PlayerInfo[playerid][pName]);
			format(AdvertInfo[idx][aText], 128, inputtext);
			AdvertInfo[idx][aPhone] = PlayerInfo[playerid][pPhoneNumber];
			AdvertInfo[idx][aStatus] = 1;
			ServerMoney(playerid, "Подача объявления", -ADVERT_PRICE, 0);
			SendMes(playerid, COLOR_MAIN, "Вы подали объявление в ожидайте его публикации.");
			format(strings, sizeof(strings), "[F] %s [%d] подал объявление. Чтобы отредактировать, введите {"#DC_WHITE"}/edit{"#DC_NEWLBLUE"} или {"#DC_WHITE"}/news{"#DC_NEWLBLUE"} - панель новостей.", PlayerInfo[playerid][pName], playerid);
			SendGMes(COLOR_NEWLBLUE, strings, 2);
			return 1;
		}
		case did_roadman_job:
		{
			if(response)
			{
				if(RoadmanStatus[playerid] == false)
				{
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
					SetPlayerSkin(playerid, (PlayerInfo[playerid][pSex] == 1) ? (260):(225));
					RoadmanStatus[playerid] = true;
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				    SendMes(playerid, COLOR_MAIN, "Сядьте в свободный транспорт принадлежащий дорожной службе и ожидайте вызова от диспетчера.");
				}
				else LeaveFromRoadman(playerid);
			}
		}
		case did_pizzaboy_job:
		{
			if(response)
			{
				if(PizzaboyStatus[playerid] == false)
				{
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
					SetPlayerSkin(playerid, (PlayerInfo[playerid][pSex] == 1) ? (155):(205));
	                PizzaboyStatus[playerid] = true;
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				    SendMes(playerid, COLOR_MAIN, "Сядьте в свободный транспорт принадлежащий пиццерии и отправляйтесь на заказ.");
				}
				else if(PizzaboyStatus[playerid] == true) LeaveFromPizzaboy(playerid);
			}
			return 1;
		}
		case did_postman_job:
		{
			if(response)
			{
				if(PostmanStatus[playerid] == false)
				{
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
					SetPlayerSkin(playerid, (PlayerInfo[playerid][pSex] == 1) ? (37):(38));
	                PostmanStatus[playerid] = true;
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				    SendMes(playerid, COLOR_MAIN, "Сядьте в свободный транспорт принадлежащий почте и отправляйтесь на заказ.");
				}
				else if(PostmanStatus[playerid] == true) LeaveFromPostman(playerid);
			}
			return 1;
		}
		case did_tax_job:
		{
			if(response)
			{
				if(TaxStatus[playerid] == false)
				{
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
					SetPlayerSkin(playerid, (PlayerInfo[playerid][pSex] == 1) ? (147):(148));
	                TaxStatus[playerid] = true;
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				    SendMes(playerid, COLOR_MAIN, "Сядьте в свободный транспорт принадлежащий налоговой и отправляйтесь на заказ.");
				}
				else if(TaxStatus[playerid] == true) LeaveFromTax(playerid);
			}
			return 1;
		}
		case did_collector_job:
		{
			if(response)
			{
				if(CollectorStatus[playerid] == false)
				{
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
					SetPlayerSkin(playerid, (PlayerInfo[playerid][pSex] == 1) ? (98):(141));
	                CollectorStatus[playerid] = true;
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				    SendMes(playerid, COLOR_MAIN, "Сядьте в свободный транспорт принадлежащий банку и отправляйтесь на заказ.");
				}
				else if(CollectorStatus[playerid] == true) LeaveFromCollector(playerid);
			}
			return 1;
		}
		case did_flowersboy_job:
		{
			if(response)
			{
				if(FlowersboyStatus[playerid] == false)
				{
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
					SetPlayerSkin(playerid, (PlayerInfo[playerid][pSex] == 1) ? (3):(12));
	                FlowersboyStatus[playerid] = true;
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				    SendMes(playerid, COLOR_MAIN, "Сядьте в свободный транспорт принадлежащий магазину и отправляйтесь на заказ.");
				}
				else if(FlowersboyStatus[playerid] == true) LeaveFromFlowersboy(playerid);
			}
			return 1;
		}
		case did_goldminer_job:
		{
			if(response)
			{
				if(GoldMinerStatus[playerid] == false)
				{
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
					SetPlayerSkin(playerid, 26);
	                GoldMinerStatus[playerid] = true;
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				    SendMes(playerid, COLOR_MAIN, "Возьмите породу.");
	                if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
	                SetPlayerAttachedObject(playerid, 1, 18946, 5, 0.115000, 0.035998, 0.137998, -1.299996, 116.399940, -76.700012, 0.365000, 1.780997, 1.672999);
				}
				else if(GoldMinerStatus[playerid] == true) LeaveFromGoldMiner(playerid);
			}
			return 1;
		}
		case did_drugmaker_job:
		{
			if(response)
			{
				if(DrugMakerStatus[playerid] == false)
				{
	                DrugMakerStatus[playerid] = true;
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
                	SetDrugMakerCheckpoint(playerid, DrugMakerIDx[playerid]);
				}
				else if(DrugMakerStatus[playerid] == true) LeaveFromDrugMaker(playerid);
			}
			return 1;
		}
		case did_construction_job:
		{
			if(response)
			{
				if(ConstructionStatus[playerid] == false)
				{
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
                	SetPlayerSkin(playerid, 27);
	                ConstructionStatus[playerid] = true;
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
                	StartPlayerConstructionWork(playerid);
				}
				else if(ConstructionStatus[playerid] == true) LeaveFromConstruction(playerid);
			}
			return 1;
		}
		case did_janitor_job:
		{
			if(response)
			{
				if(JanitorStatus[playerid] == false)
				{
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
					SetPlayerSkin(playerid, (PlayerInfo[playerid][pSex] == 1) ? (37):(38));
	                JanitorStatus[playerid] = true;
					JanitorIDx[playerid] = -1;
					JanitorTimer[playerid] = 15 + random(15);
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				    SendMes(playerid, COLOR_MAIN, "Ожидайте вызова от диспетчера.");
	                if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
	                SetPlayerAttachedObject(playerid, 1, 19622, 6, 0.060000, 0.010000, -0.070000, -3.399998, 0.000001, -0.699999, 1.000000, 1.000000, 1.000000);
				}
				else if(JanitorStatus[playerid] == true) LeaveFromJanitor(playerid);
			}
			return 1;
		}
		case did_gardener_job:
		{
			if(response)
			{
				if(GardenerStatus[playerid] == false)
				{
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
					SetPlayerSkin(playerid, (PlayerInfo[playerid][pSex] == 1) ? (128):(131));
	                GardenerStatus[playerid] = true;
					GardenerIDx[playerid] = -1;
					GardenerTimer[playerid] = 15 + random(15);
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				    SendMes(playerid, COLOR_MAIN, "Ожидайте вызова от диспетчера.");
	                if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
	                SetPlayerAttachedObject(playerid, 1, 19621, 6, 0.063000, 0.013000, 0.015999, -3.399998, -5.599997, 92.099975, 1.000000, 1.000000, 1.000000);
				}
				else if(GardenerStatus[playerid] == true) LeaveFromGardener(playerid);
			}
			return 1;
		}
		case did_trainman_job:
		{
			if(response)
			{
				if(TrainmanStatus[playerid] == false)
				{
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
                	SetPlayerSkin(playerid, 27);
	                TrainmanStatus[playerid] = true;
	                TrainmanIDx[playerid] = 0;
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				    SendMes(playerid, COLOR_MAIN, "Возьмите мешок на складе.");
            		SetPlayerRaceCheckpoint(playerid, 1, 1691.4867,-1999.2233,14.1570, 0.0, 0.0, 0.0, 2.5);
				}
				else if(TrainmanStatus[playerid] == true) LeaveFromTrainman(playerid);
			}
			return 1;
		}
		case did_cleaner_job:
		{
			if(response)
			{
				if(CleanerStatus[playerid] == false)
				{
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
					SetPlayerSkin(playerid, (PlayerInfo[playerid][pSex] == 1) ? (2):(41));
	                CleanerStatus[playerid] = true;
					CleanerIDx[playerid] = -1;
					CleanerTimer[playerid] = 15 + random(15);
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				    SendMes(playerid, COLOR_MAIN, "Ожидайте вызова от диспетчера.");
	                if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
	                SetPlayerAttachedObject(playerid, 1, 19592, 6, 0.071000, 0.010999, 0.019999, -3.099997, -86.300025, -0.699999, 0.610000, 0.247000, 0.614000);
				}
				else if(CleanerStatus[playerid] == true) LeaveFromCleaner(playerid);
			}
			return 1;
		}
		case did_zooworker_job:
		{
			if(response)
			{
				if(ZooWorkerStatus[playerid] == false)
				{
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
					SetPlayerSkin(playerid, (PlayerInfo[playerid][pSex] == 1) ? (97):(140));
	                ZooWorkerStatus[playerid] = true;
					ZooWorkerIDx[playerid] = -1;
					ZooWorkerTimer[playerid] = 15 + random(15);
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				    SendMes(playerid, COLOR_MAIN, "Ожидайте вызова от диспетчера.");
				}
				else if(ZooWorkerStatus[playerid] == true) LeaveFromZooWorker(playerid);
			}
			return 1;
		}
		case did_volunteer_job:
		{
			if(response)
			{
				if(VolunteerStatus[playerid] == false)
				{
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
					SetPlayerSkin(playerid, (PlayerInfo[playerid][pSex] == 1) ? (98):(91));
	                VolunteerStatus[playerid] = true;
					VolunteerIDx[playerid] = -1;
					VolunteerTimer[playerid] = 15 + random(15);
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				    SendMes(playerid, COLOR_MAIN, "Ожидайте вызова от диспетчера.");
				}
				else if(VolunteerStatus[playerid] == true) LeaveFromVolunteer(playerid);
			}
			return 1;
		}
		case did_truck_job:
		{
			if(response)
			{
				if(TruckerStatus[playerid] == false)
				{
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
                	SetPlayerSkin(playerid, 6);
	                TruckerStatus[playerid] = true;
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				    SendMes(playerid, COLOR_MAIN, "Сядьте в свободный транспорт принадлежащий фирме и ожидайте вызова от диспетчера.");
				}
				else if(TruckerStatus[playerid] == true) LeaveFromTruck(playerid);
			}
			return 1;
		}
		case did_fire_job:
		{
			if(response)
			{
				if(FireStatus[playerid] == false)
				{
				    SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
					switch(random(3))
					{
					    case 0: SetPlayerSkin(playerid, 277);
					    case 1: SetPlayerSkin(playerid, 278);
					    case 2: SetPlayerSkin(playerid, 279);
					    default: SetPlayerSkin(playerid, 279);
					}
					FireStatus[playerid] = true;
					FireIDx[playerid] = 1;
					FireTimer[playerid] = 0;
                    FireExting[playerid] = 0;
                    FireExtingCount[playerid] = 0;
					FireSalary[playerid] = 0;
					FireAmmo[playerid] = 0;
				    SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				    SendMes(playerid, COLOR_MAIN, "Сядьте в свободный транспорт принадлежащий пожарной части и ожидайте вызова от диспетчера.");
				    SendMes(playerid, COLOR_MAIN, "Вам выдан огнетушитель, с помощью которого нужно тушить пожары.");
				}
				else if(FireStatus[playerid] == true) LeaveFromFire(playerid);
			}
			return 1;
		}
		case did_mayor_job:
		{
			if(!response) return 1;
			
			new JOB_IDx[13] = {
				J_PIZZABOY, J_POSTMAN, J_FLOWERSBOY, J_TAXI, J_BUS, J_MECHANIC, J_PRODUCT,
				J_ROADMAN, J_COLLECTOR, J_PILOT, J_TAX, J_FIREMAN, J_TRUCK
			};

            new JOB_LEVEL[13] = {
				J_PIZZABOY_LEVEL, J_POSTMAN_LEVEL, J_FLOWERSBOY_LEVEL, J_TAXI_LEVEL, J_BUS_LEVEL, J_MECHANIC_LEVEL, J_PRODUCT_LEVEL,
				J_ROADMAN_LEVEL, J_COLLECTOR_LEVEL, J_PILOT_LEVEL, J_TAX_LEVEL, J_FIREMAN_LEVEL, J_TRUCK_LEVEL
			};

			if(PlayerInfo[playerid][pLevel] < JOB_LEVEL[listitem]) return SendMes(playerid, COLOR_DARKORANGE, "Работа доступна со %d-го уровня.", JOB_LEVEL[listitem]);

			PlayerInfo[playerid][pJob] = JOB_IDx[listitem];
			SendMes(playerid, COLOR_MAIN, "Ваша новая работа {"#DC_WHITE"}\"%s\".", GetJobName(playerid));
			SendMes(playerid, COLOR_MAIN, "Помощь по работе ты сможешь найти в меню ( {"#DC_WHITE"}/mn > Помощь по игре > Работы{"#DC_MAIN"} ).");
			SendMes(playerid, COLOR_MAIN, "Рекомендуем посмотреть команды данной работы ( {"#DC_WHITE"}/mn > Команды сервера > Работа{"#DC_MAIN"} ).");
			return 1;
		}
		case did_buyvehicle:
		{
			if(!response) return RemoveFromVehicle(playerid);
			new vid = GetPlayerVehicleID(playerid), vmodel = GetVehicleModel(vid), price = GetVehiclePrice(vmodel), vworld = GetPlayerVirtualWorld(playerid);
			if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"), RemoveFromVehicle(playerid);
			if(GetPlayerCountVehicles(playerid) >= GetPlayerMaxVehicles(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет места под еще одно транспортное средство, либо Вы не владете VIP."), RemoveFromVehicle(playerid);
			if(PlayerInfo[playerid][pVehicle] != 0)
		    {
		        new vehicleid = PlayerInfo[playerid][pVehicle];
				SaveVehicle(vehicleid);
			    SaveVehicleDetails(vehicleid);
				DestroyVehicleEx(vehicleid);
				PlayerInfo[playerid][pVehicle] = 0;
				PlayerInfo[playerid][pVehicleIDx] = 0;
				TOTALVEH--;
		    }
			new v = 0;
			TOTALVEH++;
			v = CreateVehicle(562, 0.0, 0.0, 0.0, 0.0, 1, 1, 180);
			DestroyVehicle(v);
			ResetVehicleData(v);
			if(GetVehicleClass(vmodel) == 1 || GetVehicleClass(vmodel) == 2 || GetVehicleClass(vmodel) == 3)
			{
				VehInfo[v][vX] = BuyVehicleShopCoords[vworld-1][0];
				VehInfo[v][vY] = BuyVehicleShopCoords[vworld-1][1];
				VehInfo[v][vZ] = BuyVehicleShopCoords[vworld-1][2];
				VehInfo[v][vFA] = BuyVehicleShopCoords[vworld-1][3];
			}
			else if(GetVehicleClass(vmodel) == 4)
			{
				VehInfo[v][vX] = 169.0161;
				VehInfo[v][vY] = -1899.0590;
				VehInfo[v][vZ] = 0.0576;
				VehInfo[v][vFA] = 180.0000;
			}
			else if(GetVehicleClass(vmodel) == 5)
			{
				VehInfo[v][vX] = 1477.3362;
				VehInfo[v][vY] = 1830.9625;
				VehInfo[v][vZ] = 12.7827;
				VehInfo[v][vFA] = 180.0000;
			}
			v = CreateVehicle(vmodel, VehInfo[v][vX], VehInfo[v][vY], VehInfo[v][vZ], VehInfo[v][vFA], 1, 1, 9999*9999);
    		SetVehicleParamsEx(v, false, false, false, false, false, false, false);
			SetVehicleDoors(v, 1);
			IsLocked[v] = true;
			Fuel[v] = GetVehicleMaxGasTank(vmodel);
			SetVehicleHealth(v, 1000);
			Engine[v] = false;
			Lights[v] = false;
			Limit[v] = false;
			CreateCar[v] = false;
			for(new j = 0; j < 14; j++)
			{
				VehInfo[v][vVehcoms][j] = 0;
			}
			for(new j = 0; j < 7; j++)
			{
				VehInfo[v][vUpgrade][j] = 0;
			}
			for(new j = 0; j < 5; j++)
			{
				VehInfo[v][vDetails][j] = 100.0;
			}
			for(new j = 0; j < 14; j++)
			{
				VehInfo[v][vTrunk][j] = 0;
			}
			VehInfo[v][vLock] = 1;
			VehInfo[v][vMileage] = 0.0;
			VehInfo[v][vFuel] = GetVehicleMaxGasTank(vmodel);
			/*SetVehicleNumberPlate(v, "NUMBER");*/
			PlayerInfo[playerid][pVehicle] = v;
			strmid(VehInfo[v][vOwner], PlayerInfo[playerid][pName], 0, strlen(PlayerInfo[playerid][pName]), MAX_PLAYER_NAME);
			strmid(VehInfo[v][v2Owner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
			strmid(VehInfo[v][vNumber], "NUMBER", 0, strlen("NUMBER"), 10);
			VehInfo[v][vModel] = vmodel;
		    VehInfo[v][vPrice] = price;
		    VehInfo[v][vBuyPrice] = price - floatround(price * 0.20, floatround_ceil);
			VehInfo[v][vLockB] = 1;
			VehInfo[v][vLockBn] = 1;
			VehInfo[v][vColor][0] = 1;
			VehInfo[v][vColor][1] = 1;
			VehInfo[v][vPaintjob] = 3;
			VehInfo[v][vInterior] = 0;
			VehInfo[v][vFraction] = 0;
			VehInfo[v][vStatus] = 0;
		    format(VehInfo[v][vColors], 16, "%d, %d", VehInfo[v][vColor][0], VehInfo[v][vColor][1]);
			format(VehInfo[v][vVehcom], 64, "0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0");
			format(VehInfo[v][vUpgrades], 32, "0, 0, 0, 0, 0, 0, 0");
			format(VehInfo[v][vDetailss], 32, "100.0, 100.0, 100.0, 100.0, 100.0");
			format(VehInfo[v][vTrunks], 64, "0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0");
			format(request, sizeof(request), "INSERT INTO "TABLE_VEHICLE" (owner, model, colors, fraction, status, price, buyprice, x, y, z, fa) VALUES ('%s', %d, '%s', %d, %d, %d, %d, '%f', '%f', '%f', '%f')",
			VehInfo[v][vOwner], VehInfo[v][vModel], VehInfo[v][vColors], VehInfo[v][vFraction], VehInfo[v][vStatus], VehInfo[v][vPrice], VehInfo[v][vBuyPrice], VehInfo[v][vX], VehInfo[v][vY], VehInfo[v][vZ], VehInfo[v][vFA]);
			mysql_tquery(mysql, request, "OnPlayerInsertVehicle", "ddd", playerid, 3, v);
			SetPVarInt(playerid, "LastCar", v);
			SetPlayerInterior(playerid, 0), SetPlayerVirtualWorld(playerid, 0);
			PutPlayerInVeh(playerid, v, 0);
			UpdatePlayerPosInternal(playerid, VehInfo[v][vX], VehInfo[v][vY], VehInfo[v][vZ]);
			ServerMoney(playerid, "Приобрел автомобиль", -price, 0);
			SendMes(playerid, COLOR_MAIN, "Вы приобрели транспорт за {"#DC_WHITE"}$%d.", price);
			return 1;
		}
		case did_bus:
		{
			if(!response) return DeletePVar(playerid, "SVWONE");
			new idx = 0;
			switch(listitem)
			{
				case 0:
				{
   					totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALSTOP; i++)
					{
						if(STOPInfo[i][sType] != 1) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, STOPInfo[i][sName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_bus_list, DSL, "{"#DC_MAIN"}Важные места", bigstring, "Далее", "Отмена");
				}
				case 1:
				{
   					totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALSTOP; i++)
					{
						if(STOPInfo[i][sType] != 2) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, STOPInfo[i][sName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_bus_list, DSL, "{"#DC_MAIN"}По работе", bigstring, "Далее", "Отмена");
				}
				case 2:
				{
   					totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALSTOP; i++)
					{
						if(STOPInfo[i][sType] != 3) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, STOPInfo[i][sName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_bus_list, DSL, "{"#DC_MAIN"}Автосалоны", bigstring, "Далее", "Отмена");
				}
				case 3:
				{
   					totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALSTOP; i++)
					{
						if(STOPInfo[i][sType] != 4) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, STOPInfo[i][sName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_bus_list, DSL, "{"#DC_MAIN"}Фермы", bigstring, "Далее", "Отмена");
				}
				case 4:
				{
   					totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALSTOP; i++)
					{
						if(STOPInfo[i][sType] != 5) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, STOPInfo[i][sName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_bus_list, DSL, "{"#DC_MAIN"}Отели", bigstring, "Далее", "Отмена");
				}
				case 5:
				{
   					totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALSTOP; i++)
					{
						if(STOPInfo[i][sType] != 6) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, STOPInfo[i][sName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_bus_list, DSL, "{"#DC_MAIN"}СТО", bigstring, "Далее", "Отмена");
				}
				case 6:
				{
   					totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALSTOP; i++)
					{
						if(STOPInfo[i][sType] != 7) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, STOPInfo[i][sName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_bus_list, DSL, "{"#DC_MAIN"}Базы организаций", bigstring, "Далее", "Отмена");
				}
				case 7:
				{
   					totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALSTOP; i++)
					{
						if(STOPInfo[i][sType] != 8) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, STOPInfo[i][sName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_bus_list, DSL, "{"#DC_MAIN"}Развлечения", bigstring, "Далее", "Отмена");
				}
			}
			SetPVarInt(playerid, "SVWTWO", listitem);
		}
		case did_bus_list:
		{
			if(!response)
			{
			    DeletePVar(playerid, "SVWONE"), DeletePVar(playerid, "SVWTWO");
                SPD(playerid, did_bus, DSL, "{"#DC_MAIN"}Остановка", "\
				{"#DC_MAIN"}1.{"#DC_WHITE"} Важные места\n\
				{"#DC_MAIN"}2.{"#DC_WHITE"} По работе\n\
				{"#DC_MAIN"}3.{"#DC_WHITE"} Автосалоны\n\
				{"#DC_MAIN"}4.{"#DC_WHITE"} Фермы\n\
				{"#DC_MAIN"}5.{"#DC_WHITE"} Отели\n\
				{"#DC_MAIN"}6.{"#DC_WHITE"} СТО\n\
				{"#DC_MAIN"}7.{"#DC_WHITE"} Базы организаций\n\
				{"#DC_MAIN"}8.{"#DC_WHITE"} Развлечения", "Далее", "Отмена");
				return 1;
			}
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
			new STOPID = PlayerGUIItem[playerid][listitem];
			SetPVarInt(playerid, "SVWTHREE", STOPID);
			new Float:PPos[3];
			GetPlayerPos(playerid, PPos[0], PPos[1], PPos[2]);
			SetPVarFloat(playerid, "OLDSTOPX", PPos[0]);
			SetPVarFloat(playerid, "OLDSTOPY", PPos[1]);
			SetPVarFloat(playerid, "OLDSTOPZ", PPos[2]);
			SetPVarFloat(playerid, "STOPX", STOPInfo[STOPID][sX]);
			SetPVarFloat(playerid, "STOPY", STOPInfo[STOPID][sY]);
			SetPVarFloat(playerid, "STOPZ", STOPInfo[STOPID][sZ]);
			new Float:distance = GetDistanceBetweenPoints(PPos[0], PPos[1], PPos[2], GetPVarFloat(playerid, "STOPX"), GetPVarFloat(playerid, "STOPY"), GetPVarFloat(playerid, "STOPZ"));
			SetPVarInt(playerid, "STOPPrice", STOPInfo[STOPID][sPrice] * floatround(distance) / 100);
			SetPVarFloat(playerid, "STOPDistance", distance);
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Остановка: %s\nРасстояние до остановки: %.1f метров\nСтоимость проезда: $%d\n\nВы согласны на проезд?",
			STOPInfo[STOPID][sName], distance, GetPVarInt(playerid, "STOPPrice"));
			SPD(playerid, did_bus_info, DSM, "{"#DC_MAIN"}Информация о проезде", totalstring, "Да", "Нет");
			return 1;
		}
		case did_bus_info:
		{
			if(!response)
			{
			    DeletePVar(playerid, "SVWONE"), DeletePVar(playerid, "SVWTWO"), DeletePVar(playerid, "SVWTHREE");
                SPD(playerid, did_bus, DSL, "{"#DC_MAIN"}Остановка", "\
				{"#DC_MAIN"}1.{"#DC_WHITE"} Важные места\n\
				{"#DC_MAIN"}2.{"#DC_WHITE"} По работе\n\
				{"#DC_MAIN"}3.{"#DC_WHITE"} Автосалоны\n\
				{"#DC_MAIN"}4.{"#DC_WHITE"} Фермы\n\
				{"#DC_MAIN"}5.{"#DC_WHITE"} Отели\n\
				{"#DC_MAIN"}6.{"#DC_WHITE"} СТО\n\
				{"#DC_MAIN"}7.{"#DC_WHITE"} Базы организаций\n\
				{"#DC_MAIN"}8.{"#DC_WHITE"} Развлечения", "Далее", "Отмена");
				return 1;
			}
			new price = GetPVarInt(playerid, "STOPPrice");
			if(GetMoney(playerid) < price)
			{
			    DeletePVar(playerid, "SVWONE"), DeletePVar(playerid, "SVWTWO"), DeletePVar(playerid, "SVWTHREE");
			 	return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			}
			ServerMoney(playerid, "Оплатил проезд на остановке", -price, 0);
			new Float:distance = GetPVarFloat(playerid, "STOPDistance");
			new endtime = floatround(distance) / 50;
            SetTimerEx("OnPlayerWaitBus", endtime * 1000, false, "d", playerid);
			SetPVarInt(playerid, "WaitBus", true);
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы оплатили проезд, ожидайте прибытие\nавтобуса. Не отходите далеко от остановки,\nв противном случае, автобус отправится без Вас.\n\nВремя ожидания автобуса: %s", Convert(endtime));
			SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация о проезде", totalstring, "Закрыть", "");
			return 1;
		}
		case did_gps:
		{
			if(!response) return 1;
			new idx = 0;
			switch(listitem)
			{
				case 0:
				{
        			totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALGPS; i++)
					{
						if(GPSInfo[i][gType] != 1) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, GPSInfo[i][gName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_gps_list, DSL, "{"#DC_MAIN"}Важные места", bigstring, "Далее", "Отмена");
				}
				case 1:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALGPS; i++)
					{
						if(GPSInfo[i][gType] != 2) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, GPSInfo[i][gName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_gps_list, DSL, "{"#DC_MAIN"}По работе", bigstring, "Далее", "Отмена");
				}
				case 2:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALGPS; i++)
					{
						if(GPSInfo[i][gType] != 3) continue;
						format(totalstring, sizeof(bigstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, GPSInfo[i][gName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_gps_list, DSL, "{"#DC_MAIN"}Автосалоны", bigstring, "Далее", "Отмена");
				}
				case 3:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALBIZ; i++)
					{
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", BizInfo[i][id], BizInfo[i][bName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = BizInfo[i][id];
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_gps_list_biz, DSL, "{"#DC_MAIN"}Бизнесы", bigstring, "Далее", "Отмена");
				}
				case 4:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALFARM; i++)
					{
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Ферма номер: %d\n", idx+1, FarmInfo[i][id]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = FarmInfo[i][id];
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_gps_list_farm, DSL, "{"#DC_MAIN"}Фермы", bigstring, "Далее", "Отмена");
				}
				case 5:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALHOTEL; i++)
					{
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, HotelInfo[i][hName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = HotelInfo[i][id];
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_gps_list_hotel, DSL, "{"#DC_MAIN"}Отели", bigstring, "Далее", "Отмена");
				}
				case 6:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALSERVICE; i++)
					{
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} СТО номер: %d\n", idx+1, ServiceInfo[i][id]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = ServiceInfo[i][id];
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_gps_list_service, DSL, "{"#DC_MAIN"}СТО", bigstring, "Далее", "Отмена");
				}
				case 7:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALGPS; i++)
					{
						if(GPSInfo[i][gType] != 4) continue;
                        format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, GPSInfo[i][gName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_gps_list, DSL, "{"#DC_MAIN"}Базы организаций", bigstring, "Далее", "Отмена");
				}
				case 8:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALGPS; i++)
					{
						if(GPSInfo[i][gType] != 5) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, GPSInfo[i][gName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_gps_list, DSL, "{"#DC_MAIN"}Рыбалка", bigstring, "Далее", "Отмена");
				}
				case 9:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALGPS; i++)
					{
						if(GPSInfo[i][gType] != 6) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, GPSInfo[i][gName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_gps_list, DSL, "{"#DC_MAIN"}Охота", bigstring, "Далее", "Отмена");
				}
				case 10:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALGPS; i++)
					{
						if(GPSInfo[i][gType] != 7) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, GPSInfo[i][gName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_gps_list, DSL, "{"#DC_MAIN"}Развлечения", bigstring, "Далее", "Отмена");
				}
				case 11:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALGPS; i++)
					{
						if(GPSInfo[i][gType] != 8) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, GPSInfo[i][gName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_gps_list, DSL, "{"#DC_MAIN"}Для мафий и банд", bigstring, "Далее", "Отмена");
				}
				case 12: SPD(playerid, did_gps_near, DSL, "{"#DC_MAIN"}Поиск поблизости", "{"#DC_MAIN"}1.{"#DC_WHITE"} Найти ближайший банкомат\n{"#DC_MAIN"}2.{"#DC_WHITE"} Найти ближайший Магазин 24/7\n{"#DC_MAIN"}3.{"#DC_WHITE"} Найти ближайшую заправку\n{"#DC_MAIN"}4.{"#DC_WHITE"} Найти ближайшую закусочную\n{"#DC_MAIN"}5.{"#DC_WHITE"} Найти ближайший автосервис\n{"#DC_MAIN"}6.{"#DC_WHITE"} Найти ближайшую остановку", "Далее", "Отмена");
			}
			return 1;
		}
		case did_gps_list:
		{
			if(!response) return cmd_gps(playerid, inputtext);
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
			new GPSID = PlayerGUIItem[playerid][listitem];
			new Float:VPos[3];
			SetPVarFloat(playerid, "GPSX", GPSInfo[GPSID][gPosX]);
			SetPVarFloat(playerid, "GPSY", GPSInfo[GPSID][gPosY]);
			SetPVarFloat(playerid, "GPSZ", GPSInfo[GPSID][gPosZ]);
			GetPlayerPos(playerid, VPos[0], VPos[1], VPos[2]);
			SetPVarInt(playerid, "pGPSWork", 1);
			DisablePlayerRaceCheckpoint(playerid);
			SetPlayerRaceCheckpoint(playerid, 1, GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ"), 0, 0, 0, 5.0);
			SendMes(playerid, COLOR_MAIN, "Местоположение {"#DC_WHITE"}'%s'{"#DC_MAIN"} отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.", GPSInfo[GPSID][gName]);
			SendMes(playerid, COLOR_MAIN, "Расстояние: {"#DC_WHITE"}%.1f метров.", GetDistanceBetweenPoints(VPos[0], VPos[1], VPos[2], GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ")));
			return 1;
		}
		case did_gps_list_biz:
		{
			if(!response) return cmd_gps(playerid, inputtext);
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
			new BIZID = PlayerGUIItem[playerid][listitem];
			new Float:VPos[3];
			SetPVarFloat(playerid, "GPSX", BizInfo[BIZID][bEnterX]);
			SetPVarFloat(playerid, "GPSY", BizInfo[BIZID][bEnterY]);
			SetPVarFloat(playerid, "GPSZ", BizInfo[BIZID][bEnterZ]);
			GetPlayerPos(playerid, VPos[0], VPos[1], VPos[2]);
			SetPVarInt(playerid, "pGPSWork", 1);
			DisablePlayerRaceCheckpoint(playerid);
			SetPlayerRaceCheckpoint(playerid, 1, GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ"), 0, 0, 0, 5.0);
			SendMes(playerid, COLOR_MAIN, "Местоположение {"#DC_WHITE"}'%s'{"#DC_MAIN"} отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.", BizInfo[BIZID][bName]);
			SendMes(playerid, COLOR_MAIN, "Расстояние: {"#DC_WHITE"}%.1f метров.", GetDistanceBetweenPoints(VPos[0], VPos[1], VPos[2], GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ")));
			return 1;
		}
		case did_gps_list_farm:
		{
			if(!response) return cmd_gps(playerid, inputtext);
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
			new FARMID = PlayerGUIItem[playerid][listitem];
			new Float:VPos[3];
			SetPVarFloat(playerid, "GPSX", FarmInfo[FARMID][fEnterX]);
			SetPVarFloat(playerid, "GPSY", FarmInfo[FARMID][fEnterY]);
			SetPVarFloat(playerid, "GPSZ", FarmInfo[FARMID][fEnterZ]);
			GetPlayerPos(playerid, VPos[0], VPos[1], VPos[2]);
			SetPVarInt(playerid, "pGPSWork", 1);
			DisablePlayerRaceCheckpoint(playerid);
			SetPlayerRaceCheckpoint(playerid, 1, GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ"), 0, 0, 0, 5.0);
			SendMes(playerid, COLOR_MAIN, "Местоположение {"#DC_WHITE"}'Фермы номер: %d'{"#DC_MAIN"} отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.", FarmInfo[FARMID][id]);
			SendMes(playerid, COLOR_MAIN, "Расстояние: {"#DC_WHITE"}%.1f метров.", GetDistanceBetweenPoints(VPos[0], VPos[1], VPos[2], GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ")));
			return 1;
		}
		case did_gps_list_hotel:
		{
			if(!response) return cmd_gps(playerid, inputtext);
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
			new HOTELID = PlayerGUIItem[playerid][listitem];
			new Float:VPos[3];
			SetPVarFloat(playerid, "GPSX", HotelInfo[HOTELID][hEnterX]);
			SetPVarFloat(playerid, "GPSY", HotelInfo[HOTELID][hEnterY]);
			SetPVarFloat(playerid, "GPSZ", HotelInfo[HOTELID][hEnterZ]);
			GetPlayerPos(playerid, VPos[0], VPos[1], VPos[2]);
			SetPVarInt(playerid, "pGPSWork", 1);
			DisablePlayerRaceCheckpoint(playerid);
			SetPlayerRaceCheckpoint(playerid, 1, GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ"), 0, 0, 0, 5.0);
			SendMes(playerid, COLOR_MAIN, "Местоположение {"#DC_WHITE"}'%s'{"#DC_MAIN"} отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.", HotelInfo[HOTELID][hName]);
			SendMes(playerid, COLOR_MAIN, "Расстояние: {"#DC_WHITE"}%.1f метров.", GetDistanceBetweenPoints(VPos[0], VPos[1], VPos[2], GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ")));
			return 1;
		}
		case did_gps_list_service:
		{
			if(!response) return cmd_gps(playerid, inputtext);
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
			new SERVICEID = PlayerGUIItem[playerid][listitem];
			new Float:VPos[3];
			SetPVarFloat(playerid, "GPSX", ServiceInfo[SERVICEID][sEnterX]);
			SetPVarFloat(playerid, "GPSY", ServiceInfo[SERVICEID][sEnterY]);
			SetPVarFloat(playerid, "GPSZ", ServiceInfo[SERVICEID][sEnterZ]);
			GetPlayerPos(playerid, VPos[0], VPos[1], VPos[2]);
			SetPVarInt(playerid, "pGPSWork", 1);
			DisablePlayerRaceCheckpoint(playerid);
			SetPlayerRaceCheckpoint(playerid, 1, GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ"), 0, 0, 0, 5.0);
			SendMes(playerid, COLOR_MAIN, "Местоположение {"#DC_WHITE"}'СТО номер: %d'{"#DC_MAIN"} отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.", ServiceInfo[SERVICEID][id]);
			SendMes(playerid, COLOR_MAIN, "Расстояние: {"#DC_WHITE"}%.1f метров.", GetDistanceBetweenPoints(VPos[0], VPos[1], VPos[2], GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ")));
			return 1;
		}
		case did_gps_near:
		{
			if(!response) return cmd_gps(playerid, inputtext);
			switch(listitem)
			{
				case 0:
				{
				    new Float:max_distance = 10000.0, Float:distance, ids;
				    for(new i = 1; i <= TOTALATM; i++)
				    {
						distance = GetPlayerDistanceFromPoint(playerid, ATMInfo[i][aX], ATMInfo[i][aY], ATMInfo[i][aZ]);
						if(distance < max_distance)
						{
						    ids = i;
						    max_distance = distance;
						}
				    }
				    if(ids == 0) return SendMes(playerid, COLOR_DARKORANGE, "Банкоман не найден.");
					SetPVarInt(playerid, "pGPSWork", 1);
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerRaceCheckpoint(playerid, 1, ATMInfo[ids][aX], ATMInfo[ids][aY], ATMInfo[ids][aZ], 0, 0, 0, 5.0);
					SendMes(playerid, COLOR_MAIN, "Местоположение ближайшего банкомата отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
				}
				case 1:
				{
				    new Float:max_distance = 10000.0, Float:distance, ids;
				    for(new i = 1; i <= TOTALBIZ; i++)
				    {
				        if(BizInfo[i][bType] != 1) continue;
						distance = GetPlayerDistanceFromPoint(playerid, BizInfo[i][bEnterX], BizInfo[i][bEnterY], BizInfo[i][bEnterZ]);
						if(distance < max_distance)
						{
						    ids = i;
						    max_distance = distance;
						}
				    }
				    if(ids == 0) return SendMes(playerid, COLOR_DARKORANGE, "Магазин 24/7 не найден.");
					SetPVarInt(playerid, "pGPSWork", 1);
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerRaceCheckpoint(playerid, 1, BizInfo[ids][bEnterX], BizInfo[ids][bEnterY], BizInfo[ids][bEnterZ], 0, 0, 0, 5.0);
					SendMes(playerid, COLOR_MAIN, "Местоположение ближайшего Магазина 24/7 отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
				}
				case 2:
				{
				    new Float:max_distance = 10000.0, Float:distance, ids;
				    for(new i = 1; i <= TOTALBIZ; i++)
				    {
				        if(BizInfo[i][bType] != 2) continue;
						distance = GetPlayerDistanceFromPoint(playerid, BizInfo[i][bEnterX], BizInfo[i][bEnterY], BizInfo[i][bEnterZ]);
						if(distance < max_distance)
						{
						    ids = i;
						    max_distance = distance;
						}
				    }
				    if(ids == 0) return SendMes(playerid, COLOR_DARKORANGE, "Заправка не найдена.");
					SetPVarInt(playerid, "pGPSWork", 1);
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerRaceCheckpoint(playerid, 1, BizInfo[ids][bEnterX], BizInfo[ids][bEnterY], BizInfo[ids][bEnterZ], 0, 0, 0, 5.0);
					SendMes(playerid, COLOR_MAIN, "Местоположение ближайшей заправки отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
				}
				case 3:
				{
				    new Float:max_distance = 10000.0, Float:distance, ids;
				    for(new i = 1; i <= TOTALBIZ; i++)
				    {
				        if(BizInfo[i][bType] != 3) continue;
						distance = GetPlayerDistanceFromPoint(playerid, BizInfo[i][bEnterX], BizInfo[i][bEnterY], BizInfo[i][bEnterZ]);
						if(distance < max_distance)
						{
						    ids = i;
						    max_distance = distance;
						}
				    }
				    if(ids == 0) return SendMes(playerid, COLOR_DARKORANGE, "Закусочная не найдена.");
					SetPVarInt(playerid, "pGPSWork", 1);
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerRaceCheckpoint(playerid, 1, BizInfo[ids][bEnterX], BizInfo[ids][bEnterY], BizInfo[ids][bEnterZ], 0, 0, 0, 5.0);
					SendMes(playerid, COLOR_MAIN, "Местоположение ближайшей закусочной отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
				}
				case 4:
				{
				    new Float:max_distance = 10000.0, Float:distance, ids;
				    for(new i = 1; i <= TOTALBIZ; i++)
				    {
				        if(BizInfo[i][bType] != 9) continue;
						distance = GetPlayerDistanceFromPoint(playerid, BizInfo[i][bEnterX], BizInfo[i][bEnterY], BizInfo[i][bEnterZ]);
						if(distance < max_distance)
						{
						    ids = i;
						    max_distance = distance;
						}
				    }
				    if(ids == 0) return SendMes(playerid, COLOR_DARKORANGE, "Автосервис не найден.");
					SetPVarInt(playerid, "pGPSWork", 1);
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerRaceCheckpoint(playerid, 1, BizInfo[ids][bEnterX], BizInfo[ids][bEnterY], BizInfo[ids][bEnterZ], 0, 0, 0, 5.0);
					SendMes(playerid, COLOR_MAIN, "Местоположение ближайшего автосервиса отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
				}
				case 5:
				{
				    new Float:max_distance = 10000.0, Float:distance, ids;
				    for(new i = 1; i <= TOTALSTOP; i++)
				    {
						distance = GetPlayerDistanceFromPoint(playerid, STOPInfo[i][sX], STOPInfo[i][sY], STOPInfo[i][sZ]);
						if(distance < max_distance)
						{
						    ids = i;
						    max_distance = distance;
						}
				    }
				    if(ids == 0) return SendMes(playerid, COLOR_DARKORANGE, "Остановка не найдена.");
					SetPVarInt(playerid, "pGPSWork", 1);
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerRaceCheckpoint(playerid, 1, STOPInfo[ids][sX], STOPInfo[ids][sY], STOPInfo[ids][sZ], 0, 0, 0, 5.0);
					SendMes(playerid, COLOR_MAIN, "Местоположение ближайшей остановки отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
				}
			}
			return 1;
		}
		case did_duty:
		{
			if(!response) return 1;
			if(DisguiseInfo[playerid] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы замаскированы, Вы не можете начать или закончить рабочий день.");
			if(PlayerInfo[playerid][pDuty] == 0)
			{
				if(PlayerInfo[playerid][pFracSkin] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет фракционной одежды, обратитесь к ст. составу.");
				PlayerInfo[playerid][pDuty] = 1;
				SetPlayerSkin(playerid, PlayerInfo[playerid][pFracSkin]);
				SetPlayerTeamColor(playerid);
				format(strings, sizeof(strings), "%s переодел(-ся/-ась) в рабочую форму", PlayerInfo[playerid][pName]);
				SRM(playerid, 10.0, COLOR_LPURPLE, strings);
			}
			else
			{
				PlayerInfo[playerid][pDuty] = 0;
				SetPlayerSkin(playerid, PlayerInfo[playerid][pSkin]);
				SetPlayerColor(playerid, F_NONE_COLOR);
				format(strings, sizeof(strings), "%s переодел(-ся/-ась) в свою одежду", PlayerInfo[playerid][pName]);
				SRM(playerid, 10.0, COLOR_LPURPLE, strings);
			}
			return 1;
		}
	    case did_duty_casino:
	    {
	        if(!response) return 1;
	        if(GetPVarInt(playerid, "CasinoDuty") == 0)
	        {
	            SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
	            SetPVarInt(playerid, "CasinoDuty", 1);
				if(PlayerInfo[playerid][pSex] == 1)
				{
				    if(random(2) == 0) SetPlayerSkin(playerid, 189);
				    else SetPlayerSkin(playerid, 171);
				}
				else SetPlayerSkin(playerid, 11);
 				format(strings, sizeof(strings), "%s переодел(-ся/-ась) в рабочую одежду", PlayerInfo[playerid][pName]);
				SRM(playerid, 10.0, COLOR_LPURPLE, strings);
				SetPlayerColor(playerid, COLOR_PINK);
				SendMes(playerid, COLOR_MAIN, "Для начала работы, нажмите {"#DC_WHITE"}ALT{"#DC_MAIN"} возле свободного стола.");
	        }
	        else if(GetPVarInt(playerid, "CasinoDuty") == 1)
	        {
	            SetPVarInt(playerid, "CasinoDuty", 0);
	            SetPlayerSkin(playerid, GetPVarInt(playerid, "SkinMain"));
	            SetPVarInt(playerid, "SkinMain", 0);
				format(strings, sizeof(strings), "%s переодел(-ся/-ась) в свою одежду", PlayerInfo[playerid][pName]);
				SRM(playerid, 10.0, COLOR_LPURPLE, strings);
				SetPlayerTeamColor(playerid);
	        }
			return 1;
	    }
 		case did_duty_swat:
	    {
	        if(!response) return 1;
	        if(GetPVarInt(playerid, "Duty") == 0)
	        {
	            SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
	            SetPVarInt(playerid, "Duty", 1);
	            SetPlayerSkin(playerid, 285);
 				format(strings, sizeof(strings), "%s переодел(-ся/-ась) в рабочую одежду", PlayerInfo[playerid][pName]);
				SRM(playerid, 10.0, COLOR_LPURPLE, strings);
	        }
	        else if(GetPVarInt(playerid, "Duty") == 1)
	        {
	            SetPVarInt(playerid, "Duty", 0);
	            SetPlayerSkin(playerid, GetPVarInt(playerid, "SkinMain"));
	            SetPVarInt(playerid, "SkinMain", 0);
				format(strings, sizeof(strings), "%s переодел(-ся/-ась) в свою одежду", PlayerInfo[playerid][pName]);
				SRM(playerid, 10.0, COLOR_LPURPLE, strings);
	        }
			return 1;
	    }
		case did_mayor:
		{
		    if(!response) return 1;
			switch(listitem)
			{
			    case 0: SPD(playerid, did_mayor_donation, DSL, "{"#DC_MAIN"}Пожертвование", "{"#DC_MAIN"}1.{"#DC_WHITE"} Пожертвовать\n{"#DC_MAIN"}2.{"#DC_WHITE"} Самые щедрые", "Далее", "Отмена");
			    case 1:
			    {
					totalstring = "";
			        format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
			        Мэр:\t\t\t\t\t\t\t%s\n\n\
			        Состояние казны:\t\t\t\t\t$%d\n\n\
			       	Медицина:\n\
			        {"#DC_MAIN"}1.{"#DC_WHITE"} Стоимость лечения:\t\t\t\t$%d\n\
			        {"#DC_MAIN"}2.{"#DC_WHITE"} Стоимость лечения от наркозависимости:\t\t$%d\n\
			        {"#DC_MAIN"}3.{"#DC_WHITE"} Стоимость лечения ОРВИ:\t\t\t\t$%d\n\
			        {"#DC_MAIN"}4.{"#DC_WHITE"} Стоимость лечения диареи:\t\t\t$%d\n\
			        {"#DC_MAIN"}5.{"#DC_WHITE"} Стоимость лечения СПИДа:\t\t\t$%d", FracInfo[1][fLeader], Exchequer, HealCost, HealDrugs, Disease[0], Disease[1], Disease[2]);
			        SPD(playerid, did_mayor_information, DSM, "{"#DC_MAIN"}Информация о штате", totalstring, "Далее", "Отмена");
			    }
			    case 2:
			    {
			        if(Pick == false) return SendMes(playerid, COLOR_DARKORANGE, "В штате нет выборов.");
					if(PlayerInfo[playerid][pLevel] < 3) return SendMes(playerid, COLOR_DARKORANGE, "Принимать участие в выборах можно с 3-его уровня.");
					if(PlayerInfo[playerid][pPick] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже голосовали на этих выборах.");
					new total = 0;
					totalstring = "", bigstring = "";
					for(new i = 0; i < 7; i++)
					{
						if(strcmp(PickName[i], "None", false))
						{
							format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", i+1, PickName[i]);
							strcat(bigstring, totalstring);
							total++;
						}
					}
					if(total == 0) strcat(bigstring, "{"#DC_WHITE"}Кандидатов нет."), SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Выборы", bigstring, "Отмена", "");
					else SPD(playerid, did_pick, DSL, "{"#DC_MAIN"}Выборы", bigstring, "Далее", "Отмена");
			    }
			    case 3:
			    {
			        if(PlayerInfo[playerid][pFamily]) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже состоите в семье.");
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите название семьи:\n\nСтоимость создания семьи: $%d.", CreateFamily);
			  		SPD(playerid, did_family_create, DSI, "{"#DC_MAIN"}Создание семьи", totalstring, "Далее", "Отмена");
			    }
			}
			return 1;
		}
		case did_mayor_donation:
		{
			if(!response) return SPD(playerid, did_mayor, DSL, "{"#DC_MAIN"}Мэрия", "{"#DC_MAIN"}1.{"#DC_WHITE"} Пожертвование\n{"#DC_MAIN"}2.{"#DC_WHITE"} Информация\n{"#DC_MAIN"}3.{"#DC_WHITE"} Выборы\n{"#DC_MAIN"}4.{"#DC_WHITE"} Создание семьи", "Далее", "Отмена");
			switch(listitem)
			{
			    case 0: SPD(playerid, did_mayor_donation_money, DSI, "{"#DC_MAIN"}Пожретвование", "{"#DC_WHITE"}Введите количество денег, которое Вы хотите пожертвовать:", "Далее", "Отмена");
			    case 1:
			    {
			        mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_DONATION" WHERE `count` != '0' ORDER BY `count` DESC");
					new Cache:result = mysql_query(mysql, request);
					if(cache_num_rows())
					{
						new name[32], count;
						totalstring = "", bigstring = "";
						for(new i = 0; i < 25; i++)
						{
							if(i >= cache_num_rows()) break;
							cache_get_value_name(i, "name", name, MAX_PLAYER_NAME);
							cache_get_value_name_int(i, "count", count);
							format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}%s: $%d\n", name, count);
							strcat(bigstring, totalstring);
						}
						SPD(playerid, did_mayor_donation_back, DSM, "{"#DC_MAIN"}Самые щедрые", bigstring, "Далее", "Отмена");
					} else SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
					return cache_delete(result);
			    }
			}
			return 1;
		}
		case did_mayor_donation_money:
		{
		    if(!response) return SPD(playerid, did_mayor_donation, DSL, "{"#DC_MAIN"}Пожертвование", "{"#DC_MAIN"}1.{"#DC_WHITE"} Пожертвовать\n{"#DC_MAIN"}2.{"#DC_WHITE"} Самые щедрые", "Далее", "Отмена");
		    new count;
			if(sscanf(inputtext, "i", count)) return SPD(playerid, did_mayor_donation_money, DSI, "{"#DC_MAIN"}Пожретвование", "{"#DC_WHITE"}Введите количество денег, которое Вы хотите пожертвовать:", "Далее", "Отмена");
			if(count < 1) return SPD(playerid, did_mayor_donation_money, DSI, "{"#DC_MAIN"}Пожретвование", "{"#DC_WHITE"}Введите количество денег, которое Вы хотите пожертвовать:", "Далее", "Отмена");
			if(GetMoney(playerid) < count) { SPD(playerid, did_mayor_donation_money, DSI, "{"#DC_MAIN"}Пожретвование", "{"#DC_WHITE"}Введите количество денег, которое Вы хотите пожертвовать:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"); }
			ServerMoney(playerid, "Пожертвовал в казну", -count, 0);
            Exchequer += count;
			SaveExchequer();
			SendMes(playerid, COLOR_MAIN, "Вы пожертвовали в казну штата {"#DC_WHITE"}$%d.", count);
			CheckTask(playerid, 6);
			mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_DONATION" WHERE `name` = '%e'", PlayerInfo[playerid][pName]);
			new Cache:result = mysql_query(mysql, request);
		    if(cache_num_rows())
			{
				new baseid;
				cache_get_value_name_int(0, "id", baseid);
				mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_DONATION" SET `timestamp` = now(), `count` = `count` + %d WHERE `id` = %d", count, baseid);
				mysql_query(mysql, request, false);
			}
			else
			{
				mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_DONATION" (`name`, `count`) VALUES ('%e', %d)", PlayerInfo[playerid][pName], count);
				mysql_query(mysql, request, false);
			}
			return cache_delete(result);
		}
		case did_mayor_donation_back:
		{
		    if(!response) return SPD(playerid, did_mayor_donation, DSL, "{"#DC_MAIN"}Пожертвование", "{"#DC_MAIN"}1.{"#DC_WHITE"} Пожертвовать\n{"#DC_MAIN"}2.{"#DC_WHITE"} Самые щедрые", "Далее", "Отмена");
		}
		case did_mayor_information:
		{
			if(!response) return SPD(playerid, did_mayor, DSL, "{"#DC_MAIN"}Мэрия", "{"#DC_MAIN"}1.{"#DC_WHITE"} Пожертвование\n{"#DC_MAIN"}2.{"#DC_WHITE"} Информация\n{"#DC_MAIN"}3.{"#DC_WHITE"} Выборы\n{"#DC_MAIN"}4.{"#DC_WHITE"} Создание семьи", "Далее", "Отмена");
		}
		case did_news_menu:
		{
			if(!response) return 1;
			switch(listitem)
			{
				case 0:
			    {
				    if(PlayerInfo[playerid][pRank] < 4) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
			        new vehicleid = GetPlayerVehicleID(playerid);
			        if(IsANews(playerid) || VehInfo[vehicleid][vStatus] == V_NEWS)
					{
					    if(!EnterBroadcast[playerid])
					    {
							PlayerInfo[playerid][pNews] = PlayerInfo[playerid][pMember] - 7;
					    	EnterBroadcast[playerid] = PlayerInfo[playerid][pMember] - 7;
							format(strings, sizeof(strings), "[F] %s вош(-ёл/ла) в эфир", PlayerInfo[playerid][pName]);
			    			SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
					    }
						else
						{
						    format(strings, sizeof(strings), "[F] %s выш(-ел/-ла) из эфира", PlayerInfo[playerid][pName]);
			    			SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
			    			EnterBroadcast[playerid] = 0;
						}
					}
					else SendMes(playerid, COLOR_DARKORANGE, "Вы не в офисе или не в специализированном транспортном средстве.");
			    }
			    case 1:
				{
				    if(PlayerInfo[playerid][pRank] < 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
					AdvertList(playerid);
			    }
			}
			return 1;
		}
		case did_advertise_list:
		{
			if(!response) return 1;
			ChoosenAdvert[playerid] = listitem;
			if(AdvertInfo[listitem][aStatus] == 0) return AdvertList(playerid);
			if(AdvertInfo[listitem][aAlreadyEdited] == 1 && strcmp(AdvertInfo[listitem][aEdited], PlayerInfo[playerid][pName], true) && PlayerInfo[playerid][pRank] < 9) return SendMes(playerid, COLOR_DARKORANGE, "Данное объявление уже отредактировано."), AdvertList(playerid);
            if(AdvertInfo[listitem][aIsTooked] == true) return SendMes(playerid, COLOR_DARKORANGE, "Данное объявление уже проверяется."), AdvertList(playerid);
            SetPVarInt(playerid, "advert_id_to_sending", listitem);
		    AdvertInfo[listitem][aIsTooked] = true;
			new str[32];
			if(AdvertInfo[listitem][aAlreadyEdited] == 1) format(str, sizeof(str), "%s", AdvertInfo[listitem][aEdited]);
			else format(str, sizeof(str), "Нет");
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
			Отправил: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\
			Проверил: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\n\
			Текст: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\n\
			Введите текст или поставьте знак - для отклонения объявления:", AdvertInfo[listitem][aSender], str, AdvertInfo[listitem][aText]);
			SPD(playerid, did_advertise_edit, DSI, "{"#DC_MAIN"}Редактирование объявления", totalstring, "Далее", "Отмена");
			return 1;
		}
		case did_advertise_edit:
		{
			if(!response)
			{
		    	AdvertInfo[GetPVarInt(playerid, "advert_id_to_sending")][aIsTooked] = false;
		    	DeletePVar(playerid, "advert_id_to_sending");
				return AdvertList(playerid);
			}
			new idx = ChoosenAdvert[playerid];
			if(AdvertInfo[idx][aStatus] == 0)
			{
		    	AdvertInfo[GetPVarInt(playerid, "advert_id_to_sending")][aIsTooked] = false;
		    	DeletePVar(playerid, "advert_id_to_sending");
				return AdvertList(playerid);
			}
			if(PlayerInfo[playerid][pMute])
			{
				SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
				AdvertInfo[GetPVarInt(playerid, "advert_id_to_sending")][aIsTooked] = false;
		    	DeletePVar(playerid, "advert_id_to_sending");
				return AdvertList(playerid);
			}
			if(!strlen(inputtext))
			{
			    new str[32];
				if(AdvertInfo[idx][aAlreadyEdited] == 1) format(str, sizeof(str), "%s", AdvertInfo[idx][aEdited]);
				else format(str, sizeof(str), "Нет");
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
				Отправил: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\
				Проверил: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\n\
				Текст: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\n\
				Введите текст или поставьте знак - для отклонения объявления:", AdvertInfo[idx][aSender], str, AdvertInfo[idx][aText]);
				return SPD(playerid, did_advertise_edit, DSI, "{"#DC_MAIN"}Редактирование объявления", totalstring, "Далее", "Отмена");
			}
			if(strlen(inputtext) > 96)
			{
			    new str[32];
				if(AdvertInfo[idx][aAlreadyEdited] == 1) format(str, sizeof(str), "%s", AdvertInfo[idx][aEdited]);
				else format(str, sizeof(str), "Нет");
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
				Отправил: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\
				Проверил: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\n\
				Текст: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\n\
				Введите текст или поставьте знак - для отклонения объявления:", AdvertInfo[idx][aSender], str, AdvertInfo[idx][aText]);
				return SPD(playerid, did_advertise_edit, DSI, "{"#DC_MAIN"}Редактирование объявления", totalstring, "Далее", "Отмена");
			}
			if(!strcmp(inputtext, "-", true))
			{
			    new str[32];
				if(AdvertInfo[idx][aAlreadyEdited] == 1) format(str, sizeof(str), "%s", AdvertInfo[idx][aEdited]);
				else format(str, sizeof(str), "Нет");
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
				Отправил: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\
				Проверил: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\n\
				Текст: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\n\
				Для отклонения объявления необходимо написать причину:", AdvertInfo[idx][aSender], str, AdvertInfo[idx][aText]);
				return SPD(playerid, did_advertise_delete, DSI, "{"#DC_MAIN"}Отклонение объявления", totalstring, "Далее", "Отмена");
			}
			if(PlayerInfo[playerid][pMute]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
			format(AdvertInfo[idx][aText], 128, inputtext);
			format(AdvertInfo[idx][aEdited], MAX_PLAYER_NAME, PlayerInfo[playerid][pName]);
			if(AdvertInfo[idx][aAlreadyEdited] != 1)
			{
			    AdvertInfo[idx][aAlreadyEdited] = 1;
				AdvertInfo[idx][aQueue] = AdvertSendingInfo[2];
				AdvertSendingInfo[2]++;
				if(AdvertSendingInfo[2] >= MAX_NEWS_ADS) AdvertSendingInfo[2] = 0;
				SendMes(playerid, COLOR_MAIN, "Вы отправили объявление. К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", ADVERT_PRICE / 2);
				new member = PlayerInfo[playerid][pMember];
				GiveFracBank(member, ADVERT_PRICE / 2);
				AdvertInfo[GetPVarInt(playerid, "advert_id_to_sending")][aIsTooked] = false;
		    	DeletePVar(playerid, "advert_id_to_sending");
				AdvertList(playerid);
				CheckQuest(playerid, 36);
				CheckTask(playerid, 55);
				CheckAchievement(playerid, 35);
				PlayerInfo[playerid][pData][15]++;
			}
			else SendMes(playerid, COLOR_MAIN, "Вы отредактировали объявление.");
			AdvertInfo[GetPVarInt(playerid, "advert_id_to_sending")][aIsTooked] = false;
	    	DeletePVar(playerid, "advert_id_to_sending");
			AdvertList(playerid);
			return 1;
		}
		case did_advertise_delete:
		{
		    new idx = ChoosenAdvert[playerid];
			if(AdvertInfo[idx][aStatus] == 0)
			{
		    	AdvertInfo[GetPVarInt(playerid, "advert_id_to_sending")][aIsTooked] = false;
		    	DeletePVar(playerid, "advert_id_to_sending");
				return AdvertList(playerid);
			}
			if(!response)
			{
			    new str[32];
				if(AdvertInfo[idx][aAlreadyEdited] == 1) format(str, sizeof(str), "%s", AdvertInfo[idx][aEdited]);
				else format(str, sizeof(str), "Нет");
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
				Отправил: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\
				Проверил: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\n\
				Текст: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\n\
				Введите текст или поставьте знак - для отклонения объявления:", AdvertInfo[idx][aSender], str, AdvertInfo[idx][aText]);
				return SPD(playerid, did_advertise_edit, DSI, "{"#DC_MAIN"}Редактирование объявления", totalstring, "Далее", "Отмена");
			}
			new text[60];
			if(sscanf(inputtext, "s[60]", text))
			{
			    new str[32];
				if(AdvertInfo[idx][aAlreadyEdited] == 1) format(str, sizeof(str), "%s", AdvertInfo[idx][aEdited]);
				else format(str, sizeof(str), "Нет");
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
				Отправил: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\
				Проверил: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\n\
				Текст: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\n\
				Для отклонения объявления необходимо написать причину:", AdvertInfo[idx][aSender], str, AdvertInfo[idx][aText]);
				return SPD(playerid, did_advertise_delete, DSI, "{"#DC_MAIN"}Отклонение объявления", totalstring, "Далее", "Отмена");
			}
        	format(strings, sizeof(strings), "[F] %s %s [%d] отклонил объявление %s. Причина: %s", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], playerid, AdvertInfo[idx][aSender], text);
			SendGMes(COLOR_LRED, strings, 2);
        	format(strings, sizeof(strings), "[F] Объявление: {"#DC_WHITE"}%s.", AdvertInfo[idx][aText]);
			SendGMes(COLOR_LRED, strings, 2);
			foreach(new i:Player)
			{
				if(PlayerLogged[i] == 0) continue;
				if(PlayerInfo[i][pPhoneNumber] == AdvertInfo[idx][aPhone])
				{
		        	format(strings, sizeof(strings), "[Пресса] %s %s [%d] отклонил Ваше объявление. Причина: %s", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], playerid, text);
					SendMes(i, COLOR_LRED, strings);
		        	format(strings, sizeof(strings), "[F] Объявление: {"#DC_WHITE"}%s.", AdvertInfo[idx][aText]);
					SendMes(i, COLOR_LRED, strings);
					break;
				}
			}
			ClearAdvert(idx);
			AdvertInfo[GetPVarInt(playerid, "advert_id_to_sending")][aIsTooked] = false;
	    	DeletePVar(playerid, "advert_id_to_sending");
			AdvertList(playerid);
			return 1;
		}
		case did_heal:
		{
			new scdplayerid = GetPVarInt(playerid, "PlayerHeal"), Float:health;
			GetPlayerHealth(playerid, health);
		    new price = HealCost * floatround(100.0 - health, floatround_ceil);
			if(response)
			{
				if(GetMoney(playerid) < price)
				{
					SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
					return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				}
				ServerMoney(playerid, "Вылечился у игрока", -price, 0);
				ServerMoney(scdplayerid, "Вылечил игрока", price, 0);
				SetHealth(playerid, 100);
				PlayerInfo[playerid][pHealth] = 100.0;
				if(GetPlayerDrunkLevel(playerid) > 0) SetPlayerDrunkLevel(playerid, 0);
				format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} вылечил(-а) Вас за {"#DC_WHITE"}$%d.", FracRank[PlayerInfo[scdplayerid][pMember]][PlayerInfo[scdplayerid][pRank]], PlayerInfo[scdplayerid][pName], price);
				SendMes(playerid, COLOR_WHITE, strings);
				format(strings, sizeof(strings), "Вы вылечили {"#DC_WHITE"}%s{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], price);
				SendMes(scdplayerid, COLOR_MAIN, strings);
				if(PlayerInfo[playerid][pAddictionInfo][1] > 5000)
				{
					SendMes(scdplayerid, COLOR_MAIN, "Вы спасли {"#DC_WHITE"}%s{"#DC_MAIN"} от ломки.", PlayerInfo[playerid][pName]);
					SendMes(playerid, COLOR_MAIN, "Медик {"#DC_WHITE"}%s{"#DC_MAIN"} спас(-ла) Вас от ломки.", PlayerInfo[scdplayerid][pName]);
					PlayerInfo[playerid][pAddictionInfo][1] = 0;
				}
				if(LastHealingID[scdplayerid] != playerid) CheckQuest(scdplayerid, 33), CheckTask(scdplayerid, 50), CheckAchievement(scdplayerid, 30), PlayerInfo[scdplayerid][pData][10]++;
				LastHealingID[scdplayerid] = playerid;
			}
			else
			{
				format(strings, sizeof(strings), "%s{"#DC_MAIN"} отклонил(-а) предложение вылечиться за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], price);
				SendMes(scdplayerid, COLOR_WHITE, strings);
			}
			return 1;
		}
		case did_heal_drugs:
		{
			new scdplayerid = GetPVarInt(playerid, "PlayerHealDrugs");
			if(response)
			{
				if(GetMoney(playerid) < HealDrugs)
				{
					SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
					return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				}
				ServerMoney(playerid, "Вылечился у игрока", -HealDrugs, 0);
				ServerMoney(scdplayerid, "Вылечил игрока", HealDrugs, 0);
				format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} сделал(-а) укол от наркозависимости {"#DC_WHITE"}$%d.", FracRank[PlayerInfo[scdplayerid][pMember]][PlayerInfo[scdplayerid][pRank]], PlayerInfo[scdplayerid][pName], HealDrugs);
				SendMes(playerid, COLOR_WHITE, strings);
				format(strings, sizeof(strings), "Вы сделали укол от наркозависимости {"#DC_WHITE"}%s{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], HealDrugs);
				SendMes(scdplayerid, COLOR_MAIN, strings);
				PlayerInfo[playerid][pAddictionLimit]++;
				PlayerInfo[playerid][pAddictionInfo][2]++;
				if(PlayerInfo[playerid][pAddictionInfo][2] == 10)
				{
					for(new i = 0; i < 3; i++) PlayerInfo[playerid][pAddictionInfo][i] = 0;
					SendMes(playerid, COLOR_MAIN, "Вы полностью вылечились от наркозависимости.");
				} else SendMes(playerid, COLOR_MAIN, "Вы сделали {"#DC_WHITE"}%d{"#DC_MAIN"} укол(-а/-ов) от наркозависимости.", PlayerInfo[playerid][pAddictionInfo][2]);
                CheckQuest(scdplayerid, 34);
				CheckTask(scdplayerid, 51);
				CheckAchievement(scdplayerid, 31);
				PlayerInfo[scdplayerid][pData][11]++;
			}
			else
			{
				format(strings, sizeof(strings), "%s{"#DC_MAIN"} отклонил(-а) предложение сделать укол от наркозависимости за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], HealDrugs);
				SendMes(scdplayerid, COLOR_WHITE, strings);
			}
			return 1;
		}
		case did_fine:
		{
			new scdplayerid = GetPVarInt(playerid, "TicketPlayer"), price = GetPVarInt(playerid, "TicketSumma");
			if(response)
			{
				if(GetMoney(playerid) < price)
				{
					SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
					return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				}
				ServerMoney(playerid, "Оплатил штраф", -price, 0);
				format(strings, sizeof(strings), "Вы оплатили штраф на {"#DC_WHITE"}$%d %s.", price, PlayerInfo[scdplayerid][pName]);
				SendMes(playerid, COLOR_MAIN, strings);
				format(strings, sizeof(strings), "%s{"#DC_MAIN"} оплатил(-а) штраф в размере {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], price);
				SendMes(scdplayerid, COLOR_WHITE, strings);
				format(strings, sizeof(strings), "%s взял(-а) штрафную квитанцию", PlayerInfo[playerid][pName]);
    			SRM(playerid, 10.0, COLOR_LPURPLE, strings);
				if(LastFineID[scdplayerid] != playerid) CheckQuest(scdplayerid, 28), CheckTask(scdplayerid, 47), CheckAchievement(scdplayerid, 27), PlayerInfo[scdplayerid][pData][7]++;
				LastFineID[scdplayerid] = playerid;
			}
			else
			{
				format(strings, sizeof(strings), "%s{"#DC_MAIN"} отклонил(-а) предложение отплатить штраф на {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], price);
				SendMes(scdplayerid, COLOR_WHITE, strings);
			}
			DeletePVar(playerid, "TicketPlayer");
			DeletePVar(playerid, "TicketSumma");
			DeletePVar(playerid, "TicketReason");
			return 1;
		}
		case did_product:
		{
			if(!response) return 1;
			new vehicleid = GetPlayerVehicleID(playerid);
			switch(listitem)
			{
			    case 0:
			    {
			        SPD(playerid, did_product_load, DSI, "{"#DC_MAIN"}Загрузить продукты", "{"#DC_WHITE"}Введите количество ед. продуктов для загрузки:\n\nМинимальное количество для загрузки:\t\t1 ед.\nМаксимальное количество для загрузки:\t\t2500 ед.", "Далее", "Отмена");
			    }
			    case 1:
			    {
					totalstring = "";
					if(GetPVarInt(playerid, "ProductInfo") == 1) format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите количество ед. продуктов для разгрузки:\n\nМинимальное количество для разгрузки:\t\t1 ед.\nМаксимальное количество для разгрузки:\t\t%d ед.", VehInfo[vehicleid][vProductInfo][0]);
					else format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите количество ед. топлива для разгрузки:\n\nМинимальное количество для разгрузки:\t\t1 ед.\nМаксимальное количество для разгрузки:\t\t%d ед.", VehInfo[vehicleid][vProductInfo][1]);
			        SPD(playerid, did_product_unload, DSI, "{"#DC_MAIN"}Разгрузить продукты", totalstring, "Далее", "Отмена");
			    }
			    case 2:
			    {
					new idx = 0, maxprod = 20000;
			        totalstring = "", bigstring = "";
			        for(new i = 1; i <= TOTALBIZ; i++)
			        {
			            if(!strcmp(BizInfo[i][bOwner], "None", true)) continue;
                        if(BizInfo[i][bProduct] == maxprod) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s: $%d\n", idx+1, BizInfo[i][bName], maxprod - BizInfo[i][bProduct]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = BizInfo[i][id];
						idx++;
					}
			       	if(!idx) return SendMes(playerid, COLOR_DARKORANGE, "В штате нет бизнесов в которые требуются продукты.");
					SPD(playerid, did_product_search_biz, DSL, "{"#DC_MAIN"}Список бизнесов", bigstring, "Далее", "Отмена");
			    }
			}
			return 1;
		}
		case did_product_load:
		{
			if(!response) return cmd_pmenu(playerid, inputtext);
			new vehicleid = GetPlayerVehicleID(playerid);
			if(strval(inputtext) < 1 || strval(inputtext) > 2500 || !strlen(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "Введите кол-во килограмм от 1 до 2500.");
			if(IsAPPos(playerid, 15.0, -116.4915,-319.1660,1.4219)) // Склад продуктов;
			{
		        if(VehInfo[vehicleid][vStatus] == V_FUELPRODUCT) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве.");
		        if(VehInfo[vehicleid][vProductInfo][0] + strval(inputtext) > 2500) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете перевозить более 2500 ед. продуктов.");
		        VehInfo[vehicleid][vProductInfo][0] += strval(inputtext);
				SetPVarInt(playerid, "ProductInfo", 1);
				SetPVarInt(playerid, "ProductJob", 1);
		        SendMes(playerid, COLOR_MAIN, "Вы загрузили {"#DC_WHITE"}%d{"#DC_MAIN"} ед. продуктов.", strval(inputtext));
				SendMes(playerid, COLOR_MAIN, "Отправляйтесь к бизнесу, который нуждается в продуктах.");
				SendMes(playerid, COLOR_MAIN, "С помощью команды {"#DC_WHITE"}/pmenu{"#DC_MAIN"} можно загружать и разгружать транспортное средство.");
		    }
			else if(IsAPPos(playerid, 15.0, -992.8026,-694.8046,32.6146)) // Бензозавод;
			{
			    if(VehInfo[vehicleid][vStatus] != V_FUELPRODUCT) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве.");
		        if(VehInfo[vehicleid][vProductInfo][1] + strval(inputtext) > 2500) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете перевозить более 2500 ед. топлива.");
		        VehInfo[vehicleid][vProductInfo][1] += strval(inputtext);
		        /*new scdvehicleid = CreateVehicle(584, -979.7973, -703.2521, 32.0078, 0.9765, 1, 1, 180);
				SetPVarInt(playerid, "ProductTrailer", scdvehicleid);
				ResetVehicleData(scdvehicleid);
				CreateCar[scdvehicleid] = true;
				strmid(VehInfo[scdvehicleid][vOwner], "None", 0, strlen("None"), 10);
				strmid(VehInfo[scdvehicleid][v2Owner], "None", 0, strlen("None"), 10);
				VehInfo[scdvehicleid][vFraction] = 501;*/
				SetPVarInt(playerid, "ProductInfo", 2);
				SetPVarInt(playerid, "ProductJob", 1);
		        SendMes(playerid, COLOR_MAIN, "Вы загрузили {"#DC_WHITE"}%d{"#DC_MAIN"} ед. топлива.", strval(inputtext));
				SendMes(playerid, COLOR_MAIN, "Отправляйтесь к заправке, которая нуждается в топливе.");
				SendMes(playerid, COLOR_MAIN, "С помощью команды {"#DC_WHITE"}/pmenu{"#DC_MAIN"} можно загружать и разгружать транспортное средство.");
		    }
			else return SendMes(playerid, COLOR_DARKORANGE, "Рядом с Вами нет места загрузки.");
			return 1;
		}
		case did_product_unload:
		{
			if(!response) return cmd_pmenu(playerid, inputtext);
			new total = 0;
			for(new i = 1; i <= TOTALBIZ; i++)
			{
				if(IsAPPos(playerid, 10.0, BizInfo[i][bEnterX], BizInfo[i][bEnterY], BizInfo[i][bEnterZ]))
				{
					new vehicleid = GetPlayerVehicleID(playerid);
					if(VehInfo[vehicleid][vFraction] == V_J_PRODUCT && VehInfo[vehicleid][vStatus] != V_FUELPRODUCT)
					{
					    if(BizInfo[i][bType] == 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете разгрузиться на заправке.");
						if(strval(inputtext) < 1 || strval(inputtext) > VehInfo[vehicleid][vProductInfo][0] || !strlen(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "Введите кол-во килограмм от 1 до %d.", VehInfo[vehicleid][vProductInfo][0]);
						if(VehInfo[vehicleid][vProductInfo][0] < strval(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "В транспортном средстве нет столько продуктов.");
						new price = ProductCost * strval(inputtext);
					    if(BizInfo[i][bMoney] < price) return SendMes(playerid, COLOR_DARKORANGE, "В бизнесе нет денег чтобы приобрести данное кол-во продуктов.");
					    new maxprod = 20000;
					    if(BizInfo[i][bProduct] + strval(inputtext) > maxprod) return SendMes(playerid, COLOR_DARKORANGE, "В бизнесе нет места на такое кол-во продуктов.");
					    BizInfo[i][bMoney] -= price;
					    BizInfo[i][bProduct] += strval(inputtext);
		    			SaveBiz(i);
						VehInfo[vehicleid][vProductInfo][0] -= strval(inputtext);
					    PlayerInfo[playerid][pPayCheck] += price / 2;
						SendMes(playerid, COLOR_MAIN, "Вы продали {"#DC_WHITE"}%d{"#DC_MAIN"} продукт(-а/-ов) за {"#DC_WHITE"}$%d.", strval(inputtext), price);
						SendMes(playerid, COLOR_MAIN, "К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", price / 2);
						if(VehInfo[vehicleid][vProductInfo][0] == 0)
						{
							DeletePVar(playerid, "ProductInfo");
							DeletePVar(playerid, "ProductJob");
						}
						if(LastProductID[playerid] != i)
						{
							CheckQuest(playerid, 9);
							CheckTask(playerid, 30);
							CheckJobSkill(playerid, 16);
							CheckAchievement(playerid, 16);
						}
						LastProductID[playerid] = i;
					}
					if(VehInfo[vehicleid][vFraction] == V_J_PRODUCT && VehInfo[vehicleid][vStatus] == V_FUELPRODUCT)
					{
						/*if(GetPVarInt(playerid, "ProductTrailer") == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет груза.");
						if(GetVehicleTrailer(vehicleid) != GetPVarInt(playerid, "ProductTrailer")) return SendMes(playerid, COLOR_DARKORANGE, "Вам нужно прицепить свой прицеп.");*/
					    if(BizInfo[i][bType] != 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы можете разгрузиться на заправке.");
						if(strval(inputtext) < 1 || strval(inputtext) > VehInfo[vehicleid][vProductInfo][1] || !strlen(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "Введите кол-во топлива от 1 до %d.", VehInfo[vehicleid][vProductInfo][1]);
						if(VehInfo[vehicleid][vProductInfo][1] < strval(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "В транспортном средстве нет столько топлива.");
					    new price = ProductCost * strval(inputtext);
					    if(BizInfo[i][bMoney] < price) return SendMes(playerid, COLOR_DARKORANGE, "В бизнесе нет денег чтобы приобрести данное кол-во топлива.");
					    new maxprod = 20000;
					    if(BizInfo[i][bProduct] + strval(inputtext) > maxprod) return SendMes(playerid, COLOR_DARKORANGE, "В бизнесе нет места на такое кол-во топлива.");
					    BizInfo[i][bMoney] -= price;
					    BizInfo[i][bProduct] += strval(inputtext);
		    			SaveBiz(i);
						VehInfo[vehicleid][vProductInfo][1] -= strval(inputtext);
					    PlayerInfo[playerid][pPayCheck] += price / 2;
						SendMes(playerid, COLOR_MAIN, "Вы продали {"#DC_WHITE"}%d{"#DC_MAIN"} топлива за {"#DC_WHITE"}$%d.", strval(inputtext), price);
						SendMes(playerid, COLOR_MAIN, "К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", price / 2);
						format(strings, sizeof(strings), "Развозчик топлива\n{"#DC_WHITE"}Бензина: {"#DC_LYELLOW"}%d", VehInfo[vehicleid][vProductInfo][1]);
						Update3DTextLabelText(VehicleJobText[vehicleid], COLOR_YELLOW, strings);
						/*if(GetPVarInt(playerid, "ProductTrailer") != 0 && VehInfo[vehicleid][vProductInfo][1] == 0)
						{
							DestroyVehicleEx(GetPVarInt(playerid, "ProductTrailer"));
							DeletePVar(playerid, "ProductTrailer");
						}*/
						if(VehInfo[vehicleid][vProductInfo][1] == 0)
						{
							DeletePVar(playerid, "ProductInfo");
							DeletePVar(playerid, "ProductJob");
						}
						if(LastProductID[playerid] != i)
						{
							CheckQuest(playerid, 9);
							CheckTask(playerid, 30);
							CheckJobSkill(playerid, 16);
							CheckAchievement(playerid, 16);
						}
						LastProductID[playerid] = i;
					}
					total++;
					break;
				}
			}
			if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с бизнесом.");
			return 1;
		}
		case did_product_search_biz:
		{
			if(!response) return cmd_pmenu(playerid, inputtext);
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
            new bizid = PlayerGUIItem[playerid][listitem];
			SetPlayerRaceCheckpoint(playerid, 1, BizInfo[bizid][bEnterX], BizInfo[bizid][bEnterY], BizInfo[bizid][bEnterZ], 0, 0, 0, 5.0);
			SendMes(playerid, COLOR_MAIN, "Выбранный бизнес отмечен на вашем GPS навигаторе.");
			SetPVarInt(playerid, "pGPSWork", 1);
			return 1;
		}
		case did_pilot_route:
		{
		    if(!response) return 1;
			CHECKPOINT = 0;
			new name[32];
			new vehicleid = GetPlayerVehicleID(playerid);
			new i = CHECKPOINT;
			switch(listitem)
			{
			    case 0:
			    {
			        name = "Лос-Сантос - Сан-Фиерро";
			        SetPlayerRaceCheckpoint(playerid, 1, PilotLSSF[i][0], PilotLSSF[i][1], PilotLSSF[i][2], PilotLSSF[i][3], PilotLSSF[i][4], PilotLSSF[i][5], 15.0);
			    }
			    case 1:
			    {
			        name = "Лос-Сантос - Лас-Вентурас";
			        SetPlayerRaceCheckpoint(playerid, 1, PilotLSLV[i][0], PilotLSLV[i][1], PilotLSLV[i][2], PilotLSLV[i][3], PilotLSLV[i][4], PilotLSLV[i][5], 15.0);
			    }
			    case 2:
			    {
			        name = "Сан-Фиерро - Лос-Сантос";
			        SetPlayerRaceCheckpoint(playerid, 1, PilotSFLS[i][0], PilotSFLS[i][1], PilotSFLS[i][2], PilotSFLS[i][3], PilotSFLS[i][4], PilotSFLS[i][5], 15.0);
			    }
			    case 3:
			    {
			        name = "Сан-Фиерро - Лас-Вентурас";
			        SetPlayerRaceCheckpoint(playerid, 1, PilotSFLV[i][0], PilotSFLV[i][1], PilotSFLV[i][2], PilotSFLV[i][3], PilotSFLV[i][4], PilotSFLV[i][5], 15.0);
			    }
			    case 4:
			    {
			        name = "Лас-Вентурас - Лос-Сантос";
			        SetPlayerRaceCheckpoint(playerid, 1, PilotLVSF[i][0], PilotLVSF[i][1], PilotLVSF[i][2], PilotLVSF[i][3], PilotLVSF[i][4], PilotLVSF[i][5], 15.0);
			    }
			    case 5:
			    {
			        name = "Лас-Вентурас - Сан-Фиерро";
			        SetPlayerRaceCheckpoint(playerid, 1, PilotLVSF[i][0], PilotLVSF[i][1], PilotLVSF[i][2], PilotLVSF[i][3], PilotLVSF[i][4], PilotLVSF[i][5], 15.0);
			    }
			}
			SetPVarInt(playerid, "PilotJob", 1);
			SetPVarInt(playerid, "PilotType", listitem+1);
			SendMes(playerid, COLOR_MAIN, "Вы начали пилотирование.");
			SendMes(playerid, COLOR_MAIN, "Отправляйтесь на место посадки.");
			if(VehicleTextUse[vehicleid])
			{
				Delete3DTextLabel(VehicleJobText[vehicleid]);
				VehicleTextUse[vehicleid] = false;
			}
			format(strings, sizeof(strings), "Пилот\n{"#DC_LYELLOW"}%s\n{"#DC_WHITE"}Перелет бесплатный", name);
			VehicleJobText[vehicleid] = Create3DTextLabel(strings, COLOR_YELLOW, 0.0, 0.0, 0.0, 10.0, 0, 1);
			Attach3DTextLabelToVehicle(VehicleJobText[vehicleid], vehicleid, 0.0, -1.0, 2.25);
			VehicleTextUse[vehicleid] = true;
		}
		/*case did_fight_style:
		{
		    if(!response) return 1;
		    switch(listitem)
		    {
		        case 0:
		        {
		            if(PlayerInfo[playerid][pStyle][1] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас не изучен этот стиль боя.");
		            PlayerInfo[playerid][pStyle][0] = 5;
		            SetPlayerFightingStyle(playerid, FIGHT_STYLE_BOXING);
		            SendMes(playerid, COLOR_MAIN, "Вы изменили стиль боя.");
		        }
		        case 1:
		        {
		            if(PlayerInfo[playerid][pStyle][2] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас не изучен этот стиль боя.");
		            PlayerInfo[playerid][pStyle][0] = 6;
		            SetPlayerFightingStyle(playerid, FIGHT_STYLE_KUNGFU);
		            SendMes(playerid, COLOR_MAIN, "Вы изменили стиль боя.");
		        }
		        case 2:
		        {
		            if(PlayerInfo[playerid][pStyle][3] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас не изучен этот стиль боя.");
		            PlayerInfo[playerid][pStyle][0] = 7;
		            SetPlayerFightingStyle(playerid, FIGHT_STYLE_KNEEHEAD);
		            SendMes(playerid, COLOR_MAIN, "Вы изменили стиль боя.");
		        }
		        case 3:
		        {
		            PlayerInfo[playerid][pStyle][0] = 0;
		            SetPlayerFightingStyle(playerid, FIGHT_STYLE_NORMAL);
		            SendMes(playerid, COLOR_MAIN, "Вы изменили стиль боя.");
		        }
		    }
			return 1;
		}*/
		case did_spawncar:
		{
			if(!response) return 1;
			if(listitem < TOTALFRAC)
			{
				for(new i = 1; i < MAX_VEHICLES; i++)
				{
					if(VehInfo[i][vFraction] != listitem+1) continue;
					{
						if(IsVehicleOccupied(i)) continue;
						SetVehicleToRespawn(i);
					}
				}
				SendMes(playerid, COLOR_MAIN, "Вы отправили на респавн транспорт %s.", FracInfo[listitem+1][fName]);
			}
			else if(listitem == TOTALFRAC)
			{
				for(new i = 1; i < MAX_VEHICLES; i++)
				{
					if(IsVehicleOccupied(i) || IsATrailer(i) || VehInfo[i][vFraction] == V_RENT_VEHICLE || VehInfo[i][vStatus] == V_RENT_VEHICLE + 150) continue;
					SetVehicleToRespawn(i);
				}
				SendMes(playerid, COLOR_MAIN, "Вы отправили незанятый транспорт на респавн.");
			}
			else if(listitem == TOTALFRAC+1)
			{
				for(new i = 1; i < MAX_VEHICLES; i++)
				{
					if(IsVehicleOccupied(i) || VehInfo[i][vFraction] != 101) continue;
					SetVehicleToRespawn(i);
				}
				SendMes(playerid, COLOR_MAIN, "Вы отправили незанятый транспорт водителей такси на респавн.");
			}
			else if(listitem == TOTALFRAC+2)
			{
				for(new i = 1; i < MAX_VEHICLES; i++)
				{
					if(IsVehicleOccupied(i) || VehInfo[i][vFraction] != 102) continue;
					SetVehicleToRespawn(i);
				}
				SendMes(playerid, COLOR_MAIN, "Вы отправили незанятый транспорт водителей автобусов на респавн.");
			}
			else if(listitem == TOTALFRAC+3)
			{
				for(new i = 1; i < MAX_VEHICLES; i++)
				{
					if(IsVehicleOccupied(i) || VehInfo[i][vFraction] != 103) continue;
					SetVehicleToRespawn(i);
				}
				SendMes(playerid, COLOR_MAIN, "Вы отправили незанятый транспорт автомехаников на респавн.");
			}
			else if(listitem == TOTALFRAC+4)
			{
				for(new i = 1; i < MAX_VEHICLES; i++)
				{
					if(IsVehicleOccupied(i) || VehInfo[i][vFraction] != 104) continue;
					SetVehicleToRespawn(i);
				}
				SendMes(playerid, COLOR_MAIN, "Вы отправили незанятый транспорт развозчиков продуктов на респавн.");
			}
			else if(listitem == TOTALFRAC+5)
			{
				for(new i = 1; i < MAX_VEHICLES; i++)
				{
					if(IsVehicleOccupied(i) || VehInfo[i][vFraction] != 105) continue;
					SetVehicleToRespawn(i);
				}
				SendMes(playerid, COLOR_MAIN, "Вы отправили незанятый транспорт пожарных на респавн.");
			}
			else if(listitem == TOTALFRAC+6)
			{
				for(new i = 1; i < MAX_VEHICLES; i++)
				{
					if(IsVehicleOccupied(i) || VehInfo[i][vFraction] != 106) continue;
					SetVehicleToRespawn(i);
				}
				SendMes(playerid, COLOR_MAIN, "Вы отправили незанятый транспорт ремонтников дорог на респавн.");
			}
			else if(listitem == TOTALFRAC+7)
			{
				for(new i = 1; i < MAX_VEHICLES; i++)
				{
					if(IsVehicleOccupied(i) || VehInfo[i][vFraction] != 107) continue;
					SetVehicleToRespawn(i);
				}
				SendMes(playerid, COLOR_MAIN, "Вы отправили незанятый транспорт пилотов на респавн.");
			}
			else if(listitem == TOTALFRAC+8)
			{
				for(new i = 1; i < MAX_VEHICLES; i++)
				{
					if(IsVehicleOccupied(i) || VehInfo[i][vFraction] != 108) continue;
					SetVehicleToRespawn(i);
				}
				SendMes(playerid, COLOR_MAIN, "Вы отправили незанятый транспорт развозчиков цветов на респавн.");
			}
			else if(listitem == TOTALFRAC+9)
			{
				for(new i = 1; i < MAX_VEHICLES; i++)
				{
					if(IsVehicleOccupied(i) || VehInfo[i][vFraction] != 109) continue;
					SetVehicleToRespawn(i);
				}
				SendMes(playerid, COLOR_MAIN, "Вы отправили незанятый транспорт почтальонов на респавн.");
			}
			else if(listitem == TOTALFRAC+10)
			{
				for(new i = 1; i < MAX_VEHICLES; i++)
				{
					if(IsVehicleOccupied(i) || VehInfo[i][vFraction] != 110) continue;
					SetVehicleToRespawn(i);
				}
				SendMes(playerid, COLOR_MAIN, "Вы отправили незанятый транспорт работников налоговой на респавн.");
			}
			else if(listitem == TOTALFRAC+11)
			{
				for(new i = 1; i < MAX_VEHICLES; i++)
				{
					if(IsVehicleOccupied(i) || VehInfo[i][vFraction] != 111) continue;
					SetVehicleToRespawn(i);
				}
				SendMes(playerid, COLOR_MAIN, "Вы отправили незанятый транспорт инкассаторов на респавн.");
			}
			else if(listitem == TOTALFRAC+12)
			{
				for(new i = 1; i < MAX_VEHICLES; i++)
				{
					if(IsVehicleOccupied(i) || VehInfo[i][vFraction] != 112) continue;
					SetVehicleToRespawn(i);
				}
				SendMes(playerid, COLOR_MAIN, "Вы отправили незанятый транспорт развозчиков цветов на респавн.");
			}
			else if(listitem == TOTALFRAC+13)
			{
				for(new i = 1; i < MAX_VEHICLES; i++)
				{
					if(IsVehicleOccupied(i) || VehInfo[i][vFraction] != 113) continue;
					SetVehicleToRespawn(i);
				}
				SendMes(playerid, COLOR_MAIN, "Вы отправили незанятый транспорт дальнобойщиков на респавн.");
			}
			return 1;
		}
		case did_fillcar:
		{
			if(!response) return 1;
			new fuel;
			new i = GetPVarInt(playerid, "FuelBizID");
			new till = BizInfo[GetPVarInt(playerid, "FuelBizID")][bTill] * 50;
			new vehicleid = GetPlayerVehicleID(playerid), model = GetVehicleModel(vehicleid);
			if(sscanf(inputtext, "i", fuel)) return SPD(playerid, did_fillcar, DSI, "{"#DC_MAIN"}Топливо", "{"#DC_WHITE"}Введите кол-во литров топлива:", "Далее", "Отмена");
			if(fuel < 1 || fuel > GetVehicleMaxGasTank(model))
			{
				SendMes(playerid, COLOR_DARKORANGE, "Топлива от 1 до %d литр(-а/-ов).", GetVehicleMaxGasTank(model));
				return SPD(playerid, did_fillcar, DSI, "{"#DC_MAIN"}Топливо", "{"#DC_WHITE"}Введите кол-во литр(-а/-ов) топлива:", "Далее", "Отмена");
			}
			if(fuel+Fuel[vehicleid] > GetVehicleMaxGasTank(model))
			{
				format(strings, sizeof(strings), "Вы заказали слишком много топлива. Рекомендуем: %d литр(-а/-ов).", GetVehicleMaxGasTank(model)-Fuel[vehicleid]);
				SendMes(playerid, COLOR_DARKORANGE, strings);
				return SPD(playerid, did_fillcar, DSI, "{"#DC_MAIN"}Топливо", "{"#DC_WHITE"}Введите кол-во литров топлива:", "Далее", "Отмена");
			}
			new price = fuel * till;
			if(GetMoney(playerid) < price)
			{
				SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				return SPD(playerid, did_fillcar, DSI, "{"#DC_MAIN"}Топливо", "{"#DC_WHITE"}Введите кол-во литров топлива:", "Далее", "Отмена");
			}
			ServerMoney(playerid, "Заправка на АЗС", -price, 0);
			PayBizProfit(i, fuel, price);
			DeletePVar(playerid, "FuelBizID");
			SendMes(playerid, COLOR_MAIN, "Транспорт заправляется, пожалуйста подождите.");
			SetPVarInt(playerid, "Refueling", fuel);
			SetPlayerControl(playerid, false);
			ReFuelTimer[playerid] = SetTimerEx("OnPlayerFillVehicle", 500, true, "i", playerid);
			CheckTask(playerid, 3);
			return 1;
		}
		case did_repair:
		{
			new scdplayerid = GetPVarInt(playerid, "PlayerMech"), price = GetPVarInt(playerid, "MechanicRepairPrice");
			new vehicleid = GetPlayerVehicleID(playerid);
			if(response)
			{
				if(GetPlayerState(playerid) == 2)
				{
					if(GetMoney(playerid) < price)
					{
						SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
						DeletePVar(playerid, "PlayerMech");
						DeletePVar(playerid, "MechanicPrice");
						return 1;
					}
					format(strings, sizeof(strings), "Автомеханик {"#DC_WHITE"}%s{"#DC_MAIN"} отремонтировал ваше авто за {"#DC_WHITE"}$%d.", PlayerInfo[scdplayerid][pName], price);
					SendMes(playerid, COLOR_MAIN, strings);
					format(strings, sizeof(strings), "Вы отремонтировали авто {"#DC_WHITE"}%s{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], price);
					SendMes(scdplayerid, COLOR_MAIN, strings);
					SetVehicleHealth(vehicleid, 1000);
					RepairVehicle(vehicleid);
					DeletePVar(playerid, "PlayerMech");
					DeletePVar(playerid, "MechanicRepairPrice");
					ServerMoney(playerid, "Починил транспорт у механика", -price, 0);
					PlayerInfo[scdplayerid][pPayCheck] += price;
				}
				else SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в транспортном средстве.");
			}
			else
			{
				format(strings, sizeof(strings), "%s{"#DC_MAIN"} отклонил(-а) предложение починить транспорт за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], price);
				SendMes(scdplayerid, COLOR_WHITE, strings);
				DeletePVar(playerid, "PlayerMech");
				DeletePVar(playerid, "MechanicRepairPrice");
			}
			return 1;
		}
		case did_refill:
		{
			new scdplayerid = GetPVarInt(playerid, "PlayerMech"), price = GetPVarInt(playerid, "MechanicPrice"), i = GetPVarInt(scdplayerid, "MehContract"), fuel = GetPVarInt(playerid, "MechanicFuel");
            new vehicleid = GetPlayerVehicleID(playerid), model = GetVehicleModel(vehicleid);
			if(response)
			{
				if(GetPlayerState(playerid) == 2)
				{
					if(GetMoney(playerid) < price)
					{
						SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
						DeletePVar(playerid, "PlayerMech");
						DeletePVar(playerid, "MechanicPrice");
						return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					}
					if(Fuel[vehicleid] >= GetVehicleMaxGasTank(GetVehicleModel(vehicleid)))
					{
						SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока достаточно бензина в баке.");
						DeletePVar(playerid, "PlayerMech");
						DeletePVar(playerid, "MechanicPrice");
						return SendMes(playerid, COLOR_DARKORANGE, "У Вас достаточно бензина в баке.");
					}
					ServerMoney(playerid, "Заправил транспорт у механика", -price, 0);
					PlayerInfo[scdplayerid][pPayCheck] += GetPVarInt(playerid, "MechanicPrice") / 2;
					PayBizProfit(i, fuel, GetPVarInt(playerid, "MechanicPrice") / 2);
					format(strings, sizeof(strings), "Автомеханик {"#DC_WHITE"}%s{"#DC_MAIN"} заправил Ваш транспорт на {"#DC_WHITE"}%d{"#DC_MAIN"} литр(-а/-ов) за {"#DC_WHITE"}$%d.", PlayerInfo[scdplayerid][pName], fuel, price);
					SendMes(playerid, COLOR_MAIN, strings);
					format(strings, sizeof(strings), "Вы заправили транспорт {"#DC_WHITE"}%s{"#DC_MAIN"} на {"#DC_WHITE"}%d{"#DC_MAIN"} литр(-а/-ов) за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], fuel, price);
					SendMes(scdplayerid, COLOR_MAIN, strings);
					Fuel[vehicleid] += fuel;
					if(Fuel[vehicleid] > GetVehicleMaxGasTank(model)) Fuel[vehicleid] = GetVehicleMaxGasTank(model);
					VehInfo[vehicleid][vFuel] = Fuel[vehicleid];
					if(VehInfo[vehicleid][vFraction] == 0) SaveVehicle(vehicleid);
					if(LastRefillID[scdplayerid] != playerid)
					{
						CheckQuest(scdplayerid, 8);
						CheckTask(scdplayerid, 29);
						CheckJobSkill(scdplayerid, 15);
						CheckAchievement(scdplayerid, 15);
					}
					LastRefillID[scdplayerid] = playerid;
					DeletePVar(playerid, "PlayerMech");
				}
				else SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в транспортном средстве.");
			}
			else
			{
				format(strings, sizeof(strings), "%s{"#DC_MAIN"} отклонил(-а) предложение заправить транспорт за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], price);
				SendMes(scdplayerid, COLOR_WHITE, strings);
				DeletePVar(playerid, "PlayerMech");
				DeletePVar(playerid, "MechanicPrice");
			}
			return 1;
		}
		case did_teleport:
		{
			if(!response) return 1;
			new idx = 0;
			switch(listitem)
			{
				case 0:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALTELEPORT; i++)
					{
						if(TeleportInfo[i][tType] != 1) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, TeleportInfo[i][tName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_teleport_list, DSL, "{"#DC_MAIN"}Важные места", bigstring, "Далее", "Отмена");
				}
				case 1:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALTELEPORT; i++)
					{
						if(TeleportInfo[i][tType] != 2) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, TeleportInfo[i][tName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_teleport_list, DSL, "{"#DC_MAIN"}По работе", bigstring, "Далее", "Отмена");
				}
				case 2:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALTELEPORT; i++)
					{
						if(TeleportInfo[i][tType] != 3) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, TeleportInfo[i][tName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_teleport_list, DSL, "{"#DC_MAIN"}Автосалоны", bigstring, "Далее", "Отмена");
				}
				case 3:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALTELEPORT; i++)
					{
						if(TeleportInfo[i][tType] != 4) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, TeleportInfo[i][tName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_teleport_list, DSL, "{"#DC_MAIN"}Базы организаций", bigstring, "Далее", "Отмена");
				}
				case 4:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALTELEPORT; i++)
					{
						if(TeleportInfo[i][tType] != 5) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, TeleportInfo[i][tName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_teleport_list, DSL, "{"#DC_MAIN"}Рыбалка", bigstring, "Далее", "Отмена");
				}
				case 5:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALTELEPORT; i++)
					{
						if(TeleportInfo[i][tType] != 6) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, TeleportInfo[i][tName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_teleport_list, DSL, "{"#DC_MAIN"}Охота", bigstring, "Далее", "Отмена");
				}
				case 6:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALTELEPORT; i++)
					{
						if(TeleportInfo[i][tType] != 7) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, TeleportInfo[i][tName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_teleport_list, DSL, "{"#DC_MAIN"}Развлечения", bigstring, "Далее", "Отмена");
				}
				case 7:
				{
				    totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALTELEPORT; i++)
					{
						if(TeleportInfo[i][tType] != 8) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", idx+1, TeleportInfo[i][tName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = i;
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_teleport_list, DSL, "{"#DC_MAIN"}Для мафий и банд", bigstring, "Далее", "Отмена");
				}
			}
			return 1;
		}
		case did_teleport_list:
		{
			if(!response) return cmd_tp(playerid, inputtext);
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
			new teleportid = PlayerGUIItem[playerid][listitem], vehicleid = GetPlayerVehicleID(playerid);
			if(GetPlayerState(playerid) == 2)
			{
				SetVehiclePos(vehicleid, TeleportInfo[teleportid][tPosX], TeleportInfo[teleportid][tPosY], TeleportInfo[teleportid][tPosZ]);
				SetVehicleVirtualWorld(vehicleid, TeleportInfo[teleportid][tWorld]);
			}
			else
			{
				SetPlayerPos(playerid, TeleportInfo[teleportid][tPosX], TeleportInfo[teleportid][tPosY], TeleportInfo[teleportid][tPosZ]);
				SetPlayerInterior(playerid, TeleportInfo[teleportid][tInterior]);
				SetPlayerVirtualWorld(playerid, TeleportInfo[teleportid][tWorld]);
			}
			if(PlayerInfo[playerid][pRespawnTime] != 100 || PlayerInfo[playerid][pRespawnWeather] != 100)
			{
			    SetPlayerTime(playerid, DefaultTime, 0);
			    SetPlayerWeather(playerid, DefaultWeather);
			 	PlayerInfo[playerid][pRespawnTime] = 100;
 				PlayerInfo[playerid][pRespawnWeather] = 100;
			}
			return 1;
		}
	    case did_mdc:
	    {
  			if(!response) return 1;
			switch(listitem)
			{
				case 0: SPD(playerid, did_mdc_base, DSI, "{"#DC_MAIN"}Полицейская БД", "{"#DC_WHITE"}Введите полное имя игрока, о котором хотите узнать информацию:", "Далее", "Отмена");
				case 1: cmd_wanted(playerid, inputtext);
			}
			return 1;
 		}
		case did_mdc_base:
		{
			new giveplayername[20];
			if(!response) return SPD(playerid, did_mdc, DSL, "{"#DC_MAIN"}Полицейский компьютер", "{"#DC_MAIN"}1.{"#DC_WHITE"} Информация о человеке\n{"#DC_MAIN"}2.{"#DC_WHITE"} Список разыскиваемых", "Далее", "Отмена");
			if(sscanf(inputtext, "s[22]", giveplayername)) return SPD(playerid, did_mdc_base, DSI, "{"#DC_MAIN"}Полицейская БД", "{"#DC_WHITE"}Введите полное имя игрока, о котором хотите узнать информацию:", "Далее", "Отмена");
			if(GetPlayerID(giveplayername) != INVALID_PLAYER_ID)
			{
				SetPVarInt(playerid, "PlayerInfoID", GetPlayerID(giveplayername));
				if(PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pSex] == 1) format(patext, sizeof(patext), "Мужчина");
				else if(PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pSex] == 2) format(patext, sizeof(patext), "Женщина");
				if(PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pMember] > 0)
				{
					strmid(fracname, FracInfo[PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pMember]][fName], 0, \
					strlen(FracInfo[PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pMember]][fName]), 256);
				}
				else fracname = "Нет";
				if(PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pRank] > 0)
				{
					strmid(rangname, FracRank[PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pMember]][PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pRank]], 0, \
					strlen(FracRank[PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pMember]][PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pRank]]), 256);
				}
				else rangname = "Безработный";
				if(!strcmp(PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pMarried], "None", true)) format(ppropose, sizeof(ppropose), "Нет");
				else format(ppropose, sizeof(ppropose), "%s", PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pMarried]);
				if(PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pWanted] == 0) format(pwanted, sizeof(pwanted), "Нет");
				else format(pwanted, sizeof(pwanted), "%d уровень", PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pWanted]);
				if(PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pWanted] == 0) format(pname, sizeof(pname), "%s", giveplayername);
				else format(pname, sizeof(pname), "%s", giveplayername);
				if(PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pPhoneNumber] == 0) format(pphone, sizeof(pphone), "Нет");
				else format(pphone, sizeof(pphone), "%d", PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pPhoneNumber]);
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
				Имя Фамилия: %s\n\
				В штате: %d\n\
				Законопослушность: %d\n\
				Пол: %s\n\
				Семейное положение: %s\n\
				Телефон: %s\n\
				Организация: %s\n\
				Должность: %s\n\
				Розыск: %s", pname, PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pLevel], PlayerInfo[GetPVarInt(playerid, "PlayerInfoID")][pLaw], patext,
				ppropose, pphone, fracname, rangname, pwanted);
				SPD(playerid, did_mdc_base_info, DSM, "{"#DC_MAIN"}Полицейская база данных", totalstring, "Далее", "Отмена");
			}
			else SPD(playerid, did_mdc_base, DSI, "{"#DC_MAIN"}Полицейская БД", "{"#DC_WHITE"}Введите полное имя игрока, о котором хотите узнать информацию:\n\n{"#DC_RED"}Ошибка: Данный игрок не в игре.", "Далее", "Отмена");
			return 1;
		}
		case did_mdc_base_info: if(!response) return SPD(playerid, did_mdc, DSL, "{"#DC_MAIN"}Полицейский компьютер", "{"#DC_MAIN"}1.{"#DC_WHITE"} Информация о человеке\n{"#DC_MAIN"}2.{"#DC_WHITE"} Список разыскиваемых", "Далее", "Отмена");
		case did_drug_dock:
	    {
	        if(!response) return 1;
	        switch(listitem)
			{
			    case 0: SPD(playerid, did_drug_dock_drugs, DSI, "{"#DC_MAIN"}Покупка наркотиков", "{"#DC_WHITE"}Введите количество грамм:\nСтоимость 1 грамм: $50.", "Далее", "Отмена");
				case 1: SPD(playerid, did_drug_dock_seed, DSI, "{"#DC_MAIN"}Покупка семян", "{"#DC_WHITE"}Введите количество семян:\nСтоимость 1 пакета семян: $100.", "Далее", "Отмена");
			}
			return 1;
	    }
		case did_drug_dock_drugs:
		{
			if(response)
			{
				new amount = strval(inputtext);
				if(!strval(inputtext)) return SPD(playerid, did_drug_dock_drugs, DSI, "{"#DC_MAIN"}Покупка наркотиков", "{"#DC_WHITE"}Введите количество грамм:\nСтоимость 1 грамм: $50.", "Далее", "Отмена");
				if(strval(inputtext) < 1 || strval(inputtext) > 100) return SPD(playerid, did_drug_dock_drugs, DSI, "{"#DC_MAIN"}Покупка наркотиков", "{"#DC_WHITE"}Введите количество грамм:\nСтоимость 1 грамм: $50.\n\n{"#DC_RED"}Ошибка: Кол-во наркотиков должно быть не менее 1 и не более 100.", "Далее", "Отмена");
				if(GetMoney(playerid) < strval(inputtext)*50) return SPD(playerid, did_drug_dock_drugs, DSI, "{"#DC_MAIN"}Покупка наркотиков", "{"#DC_WHITE"}Введите количество грамм:\nСтоимость 1 грамм: $50.\n\n{"#DC_RED"}Ошибка: У Вас нет столько денег. Используйте: /donate", "Далее", "Отмена");
				new max_value;
				GetPlayerMaxInventoryItems(playerid, TYPE_DRUGS, max_value);
				if(PlayerInfo[playerid][pInventoryItems][TYPE_DRUGS] + strval(inputtext) > max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_DRUGS][InvUnitName], Inventory[TYPE_DRUGS][InvStringName]);
				ServerMoney(playerid, "Покупка наркотиков", -strval(inputtext)*50, 0);
				PlayerInfo[playerid][pInventoryItems][TYPE_DRUGS] += amount;
				SavePlayerInventoryItems(playerid, TYPE_DRUGS);
				format(strings, sizeof(strings), "Вы приобрели {"#DC_WHITE"}%d{"#DC_MAIN"} грамм наркотиков за {"#DC_WHITE"}$%d.", amount, strval(inputtext)*50);
				SendMes(playerid, COLOR_MAIN, strings);
			}
			else SPD(playerid, did_drug_dock, DSL, "{"#DC_MAIN"}Наркопритон", "{"#DC_MAIN"}1.{"#DC_WHITE"} Наркотики\n{"#DC_MAIN"}2.{"#DC_WHITE"} Семена", "Далее", "Отмена");
			return 1;
		}
		case did_drug_dock_seed:
		{
			if(response)
			{
				new amount = strval(inputtext);
				if(!strval(inputtext)) return SPD(playerid, did_drug_dock_seed, DSI, "{"#DC_MAIN"}Покупка семян", "{"#DC_WHITE"}Введите количество семян:\nСтоимость 1 пакета семян: $100.", "Далее", "Отмена");
				if(strval(inputtext) < 1 || strval(inputtext) > 100) return SPD(playerid, did_drug_dock_seed, DSI, "{"#DC_MAIN"}Покупка семян", "{"#DC_WHITE"}Введите количество семян:\nСтоимость 1 пакета семян: $100.\n\n{"#DC_RED"}Ошибка: Кол-во семян должно быть не менее 1 и не более 100.", "Далее", "Отмена");
				if(GetMoney(playerid) < strval(inputtext)*100) return SPD(playerid, did_drug_dock_seed, DSI, "{"#DC_MAIN"}Покупка семян", "{"#DC_WHITE"}Введите количество семян:\nСтоимость 1 пакета семян: $100.\n\n{"#DC_RED"}Ошибка: У Вас нет столько денег. Используйте: /donate", "Далее", "Отмена");
				new max_value;
		        GetPlayerMaxInventoryItems(playerid, TYPE_SEED, max_value);
				if(PlayerInfo[playerid][pInventoryItems][TYPE_SEED] + strval(inputtext) > max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_SEED][InvUnitName], Inventory[TYPE_SEED][InvStringName]);
				ServerMoney(playerid, "Покупка семян", -strval(inputtext)*100, 0);
				PlayerInfo[playerid][pInventoryItems][TYPE_SEED] += amount;
				SavePlayerInventoryItems(playerid, TYPE_SEED);
				format(strings, sizeof(strings), "Вы приобрели {"#DC_WHITE"}%d{"#DC_MAIN"} пакет(-а/-ов) семян за {"#DC_WHITE"}$%d.", amount, strval(inputtext)*100);
				SendMes(playerid, COLOR_MAIN, strings);
			}
			else SPD(playerid, did_drug_dock, DSL, "{"#DC_MAIN"}Наркопритон", "{"#DC_MAIN"}1.{"#DC_WHITE"} Наркотики\n{"#DC_MAIN"}2.{"#DC_WHITE"} Семена", "Далее", "Отмена");
			return 1;
		}
		case did_getgun:
		{
			if(!response) return 1;
	        new member = PlayerInfo[playerid][pMember];
			if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад.");
			if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг.");
			switch(listitem)
			{
				case 0:
				{
					if(IsAMayorSecurity(playerid)) GiveWeapon(playerid, 24, 42);
					else GiveWeapon(playerid, 23, 51);
				}
				case 1:
				{
					if(IsAMayorSecurity(playerid)) GiveWeapon(playerid, 29, 90);
					else GiveWeapon(playerid, 24, 42);
				}
				case 2:
				{
					if(IsAMayorSecurity(playerid))
					{
					    if(!PlayerInfo[playerid][pDuty]) return SendMes(playerid, COLOR_DARKORANGE, "Сначала начните рабочий день.");
				        SetHealth(playerid, 100);
						SetArmour(playerid, 100);
						SendMes(playerid, COLOR_MAIN, "Вы взяли бронежилет.");
					}
					else GiveWeapon(playerid, 25, 50);
				}
				case 3:
				{
					if(IsAMayorSecurity(playerid)) SPD(playerid, did_specitem, DSL, "{"#DC_MAIN"}Спец. экипировка", "{"#DC_MAIN"}1.{"#DC_WHITE"} Перцовый баллончик\n{"#DC_MAIN"}2.{"#DC_WHITE"} Полицейская дубинка\n{"#DC_MAIN"}3.{"#DC_WHITE"} Слезоточивый газ", "Далее", "Отмена");
					else GiveWeapon(playerid, 29, 90);
				}
				case 4: GiveWeapon(playerid, 31, 150);
				case 5:
			    {
			        if(!PlayerInfo[playerid][pDuty]) return SendMes(playerid, COLOR_DARKORANGE, "Сначала начните рабочий день.");
			        SetHealth(playerid, 100);
					SetArmour(playerid, 100);
					SendMes(playerid, COLOR_MAIN, "Вы взяли бронежилет.");
				}
				case 6:
				{
					if(IsACop(playerid)) SPD(playerid, did_specitem, DSL, "{"#DC_MAIN"}Спец. экипировка", "{"#DC_MAIN"}1.{"#DC_WHITE"} Перцовый баллончик\n{"#DC_MAIN"}2.{"#DC_WHITE"} Полицейская дубинка\n{"#DC_MAIN"}3.{"#DC_WHITE"} Слезоточивый газ", "Далее", "Отмена");
				}
			}
			if(IsAMayorSecurity(playerid)) SPD(playerid, did_getgun, DSL, "{"#DC_MAIN"}Склад", "{"#DC_MAIN"}1.{"#DC_WHITE"} Desert Eagle\n{"#DC_MAIN"}2.{"#DC_WHITE"} MP5\n{"#DC_MAIN"}3.{"#DC_WHITE"} Бронежилет\n{"#DC_MAIN"}4.{"#DC_WHITE"} Спец. оружие", "Далее", "Отмена");
			else if(IsACop(playerid)) SPD(playerid, did_getgun, DSL, "{"#DC_MAIN"}Склад", "{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n{"#DC_MAIN"}6.{"#DC_WHITE"} Бронежилет\n{"#DC_MAIN"}7.{"#DC_WHITE"} Спец. оружие", "Далее", "Отмена");
			/*else if(IsACop(playerid)) SPD(playerid, did_getgun, DSL, "{"#DC_MAIN"}Склад", "{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n{"#DC_MAIN"}6.{"#DC_WHITE"} Rifle\n{"#DC_MAIN"}7.{"#DC_WHITE"} Бронежилет\n{"#DC_MAIN"}8.{"#DC_WHITE"} Спец. оружие", "Далее", "Отмена");*/
			return 1;
		}
		/*case did_getgun:
		{
			if(!response) return 1;
	        new member = PlayerInfo[playerid][pMember];
			if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад.");
			if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг.");
			switch(listitem)
			{
				case 0:
				{
					if(IsAMayorSecurity(playerid)) GiveWeapon(playerid, 24, 42);
					else GiveWeapon(playerid, 23, 51);
				}
				case 1:
				{
					if(IsAMayorSecurity(playerid)) GiveWeapon(playerid, 29, 90);
					else GiveWeapon(playerid, 24, 42);
				}
				case 2:
				{
					if(IsAMayorSecurity(playerid))
					{
					    if(!PlayerInfo[playerid][pDuty]) return SendMes(playerid, COLOR_DARKORANGE, "Сначала начните рабочий день.");
				        SetHealth(playerid, 100);
						SetArmour(playerid, 100);
						SendMes(playerid, COLOR_MAIN, "Вы взяли бронежилет.");
					}
					else GiveWeapon(playerid, 25, 50);
				}
				case 3:
				{
					if(IsAMayorSecurity(playerid)) SPD(playerid, did_specitem, DSL, "{"#DC_MAIN"}Спец. экипировка", "{"#DC_MAIN"}1.{"#DC_WHITE"} Перцовый баллончик\n{"#DC_MAIN"}2.{"#DC_WHITE"} Полицейская дубинка\n{"#DC_MAIN"}3.{"#DC_WHITE"} Слезоточивый газ", "Далее", "Отмена");
					else GiveWeapon(playerid, 29, 90);
				}
				case 4: GiveWeapon(playerid, 31, 150);
				case 5: GiveWeapon(playerid, 33, 50);
				case 6:
			    {
			        if(!PlayerInfo[playerid][pDuty]) return SendMes(playerid, COLOR_DARKORANGE, "Сначала начните рабочий день.");
			        SetHealth(playerid, 100);
					SetArmour(playerid, 100);
					SendMes(playerid, COLOR_MAIN, "Вы взяли бронежилет.");
				}
				case 7:
				{
					if(IsACop(playerid)) SPD(playerid, did_specitem, DSL, "{"#DC_MAIN"}Спец. экипировка", "{"#DC_MAIN"}1.{"#DC_WHITE"} Перцовый баллончик\n{"#DC_MAIN"}2.{"#DC_WHITE"} Полицейская дубинка\n{"#DC_MAIN"}3.{"#DC_WHITE"} Слезоточивый газ", "Далее", "Отмена");
				}
			}
			if(IsAMayorSecurity(playerid)) SPD(playerid, did_getgun, DSL, "{"#DC_MAIN"}Склад", "{"#DC_MAIN"}1.{"#DC_WHITE"} Desert Eagle\n{"#DC_MAIN"}2.{"#DC_WHITE"} MP5\n{"#DC_MAIN"}3.{"#DC_WHITE"} Бронежилет\n{"#DC_MAIN"}4.{"#DC_WHITE"} Спец. оружие", "Далее", "Отмена");
			else if(IsACop(playerid)) SPD(playerid, did_getgun, DSL, "{"#DC_MAIN"}Склад", "{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n{"#DC_MAIN"}6.{"#DC_WHITE"} Rifle\n{"#DC_MAIN"}7.{"#DC_WHITE"} Бронежилет\n{"#DC_MAIN"}8.{"#DC_WHITE"} Спец. оружие", "Далее", "Отмена");
			return 1;
		}*/
		case did_getgun_other:
		{
			if(!response) return 1;
	        new member = PlayerInfo[playerid][pMember];
   			new weapon, ammo, amount;
			switch(listitem)
			{
				case 0:
				{
					if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
					if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
				    if(Warehouse[member] < 17) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия."), ShowWarehouse(playerid);
					weapon = 23, ammo = 17, amount = 17;
				}
				case 1:
				{
					if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
					if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
				    if(Warehouse[member] < 21) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия."), ShowWarehouse(playerid);
					weapon = 24, ammo = 21, amount = 63;
				}
				case 2:
				{
					if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
					if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
				    if(Warehouse[member] < 30) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия."), ShowWarehouse(playerid);
					weapon = 25, ammo = 10, amount = 30;
				}
				case 3:
				{
					if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
					if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
				    if(Warehouse[member] < 60) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия."), ShowWarehouse(playerid);
					weapon = 29, ammo = 30, amount = 60;
				}
				case 4:
				{
					if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
					if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
				    if(Warehouse[member] < 150) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия."), ShowWarehouse(playerid);
					weapon = 31, ammo = 50, amount = 150;
				}
				case 5:
				{
					if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
					if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
				    if(IsAArmy(playerid))
					{
					    if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
						if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
					    if(!PlayerInfo[playerid][pDuty]) return SendMes(playerid, COLOR_DARKORANGE, "Сначала начните рабочий день."), ShowWarehouse(playerid);
						SetHealth(playerid, 100);
						SetArmour(playerid, 100);
						SendMes(playerid, COLOR_MAIN, "Вы взяли бронежилет.");
					}
					else if(IsACriminal(playerid))
					{
					    if(Warehouse[member] < 90) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия."), ShowWarehouse(playerid);
						weapon = 30, ammo = 30, amount = 90;
					}
				}
				case 6:
			    {
					if(IsACriminal(playerid))
					{
						if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
						if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
					    if(Warehouse[member] < 10) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия."), ShowWarehouse(playerid);
				        if(IsAGang(playerid) || IsABiker(playerid)) weapon = 5, ammo = 1, amount = 5;
						if(IsAMafia(playerid))
						{
                            if(PlayerInfo[playerid][pMember] == F_LCN) weapon = 2, ammo = 1, amount = 5;
                            if(PlayerInfo[playerid][pMember] == F_RM) weapon = 1, ammo = 1, amount = 5;
                            if(PlayerInfo[playerid][pMember] == F_YAKUZA) weapon = 8, ammo = 1, amount = 5;
						}
					}
				}
				case 7: SPD(playerid, did_getgun_put_materials, DSI, "{"#DC_MAIN"}Положить материалы", "{"#DC_WHITE"}Введите кол-во материалов, которое хотите положить на склад:", "Далее", "Отмена");
			    case 8: SPD(playerid, did_getgun_take_materials, DSI, "{"#DC_MAIN"}Взять материалы", "{"#DC_WHITE"}Введите кол-во материалов, которое хотите взять со склада:", "Далее", "Отмена");
				case 9: SPD(playerid, did_getgun_put_drugs, DSI, "{"#DC_MAIN"}Положить наркотики", "{"#DC_WHITE"}Введите кол-во наркотиков, которое хотите положить на склад:", "Далее", "Отмена");
			    case 10: SPD(playerid, did_getgun_take_drugs, DSI, "{"#DC_MAIN"}Взять наркотики", "{"#DC_WHITE"}Введите кол-во наркотиков, которое хотите взять со склада:", "Далее", "Отмена");
			    case 11:
				{
				    if(IsAMafia(playerid) && RobberyBankMoney[playerid])
				    {
						if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
						new money = RobberyBankMoney[playerid], newmoney = money / 5;
					    if(FracInfo[member][fSetting][6])
					    {
					        format(strings, sizeof(strings), "[F] %s [%d] ограбил банк на $%d. На счет мафии зачислено: $%d.", PlayerInfo[playerid][pName], playerid, money, newmoney);
					        SendFMes(member, COLOR_NEWLBLUE, strings);
						}
					    format(strings, sizeof(strings), "Вы ограбили банк на {"#DC_WHITE"}$%d.{"#DC_MAIN"} Из них {"#DC_WHITE"}$%d{"#DC_MAIN"} отправлено на счёт вашей мафии.", money, newmoney);
					    SendMes(playerid, COLOR_MAIN, strings);
						GiveFracBank(member, newmoney);
						ServerMoney(playerid, "Сдал краденные деньги", money - newmoney, 0);
						RobberyBankIDx[playerid] = 0;
						RobberyBankTime[playerid] = 0;
						RobberyBankMoney[playerid] = 0;
						return 1;
		            }
					SPD(playerid, did_bank_frac_put, DSI, "{"#DC_MAIN"}Положить деньги", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена");
				}
			}
			GiveWeapon(playerid, weapon, ammo);
			SetWarehouse(member, -amount);
			if(listitem < 7)
			{
			    new gunname[32];
				GetWeaponName(weapon, gunname, sizeof(gunname));
			    if(FracInfo[member][fSetting][6] && (!IsAArmy(playerid) && listitem != 5))
			    {
					format(strings, sizeof(strings), "[F] %s [%d] взял(-а) %d патронов %s со склада организации.", PlayerInfo[playerid][pName], playerid, ammo, gunname);
					SendFMes(member, COLOR_NEWLBLUE, strings);
				}
                if(listitem == 6) format(strings, sizeof(strings), "Вы взяли {"#DC_WHITE"}%s{"#DC_MAIN"} со склада организации.", gunname);
                else format(strings, sizeof(strings), "Вы взяли {"#DC_WHITE"}%d{"#DC_MAIN"} патронов {"#DC_WHITE"}%s{"#DC_MAIN"} со склада организации.", ammo, gunname);
				SendMes(playerid, COLOR_MAIN, strings);
			}
			ShowWarehouse(playerid);
			return 1;
		}
		/*case did_getgun_other:
		{
			if(!response) return 1;
	        new member = PlayerInfo[playerid][pMember];
   			new weapon, ammo, amount;
			switch(listitem)
			{
				case 0:
				{
					if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
					if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
				    if(Warehouse[member] < 17) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия."), ShowWarehouse(playerid);
					weapon = 23, ammo = 17, amount = 17;
				}
				case 1:
				{
					if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
					if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
				    if(Warehouse[member] < 21) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия."), ShowWarehouse(playerid);
					weapon = 24, ammo = 21, amount = 63;
				}
				case 2:
				{
					if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
					if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
				    if(Warehouse[member] < 30) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия."), ShowWarehouse(playerid);
					weapon = 25, ammo = 10, amount = 30;
				}
				case 3:
				{
					if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
					if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
				    if(Warehouse[member] < 60) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия."), ShowWarehouse(playerid);
					weapon = 29, ammo = 30, amount = 60;
				}
				case 4:
				{
					if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
					if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
				    if(Warehouse[member] < 150) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия."), ShowWarehouse(playerid);
					weapon = 31, ammo = 50, amount = 150;
				}
				case 5:
				{
					if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
					if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
				    if(IsAArmy(playerid))
					{
					    if(Warehouse[member] < 200) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия."), ShowWarehouse(playerid);
						weapon = 33, ammo = 10, amount = 200;
					}
					else if(IsACriminal(playerid))
					{
					    if(Warehouse[member] < 90) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия."), ShowWarehouse(playerid);
						weapon = 30, ammo = 30, amount = 90;
					}
				}
				case 6:
			    {
					if(IsACriminal(playerid))
					{
						if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
						if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
					    if(Warehouse[member] < 200) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия."), ShowWarehouse(playerid);
						weapon = 33, ammo = 10, amount = 200;
					}
					else
					{
						if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
						if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
					    if(!PlayerInfo[playerid][pDuty]) return SendMes(playerid, COLOR_DARKORANGE, "Сначала начните рабочий день."), ShowWarehouse(playerid);
						SetHealth(playerid, 100);
						SetArmour(playerid, 100);
						SendMes(playerid, COLOR_MAIN, "Вы взяли бронежилет.");
						return 1;
					}
				}
				case 7:
				{
				    if(IsACriminal(playerid))
				    {
						if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
						if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
					    if(Warehouse[member] < 10) return SendMes(playerid, COLOR_DARKORANGE, "На складе недостаточно оружия."), ShowWarehouse(playerid);
				        if(IsAGang(playerid) || IsABiker(playerid)) weapon = 5, ammo = 1, amount = 5;
						if(IsAMafia(playerid))
						{
                            if(PlayerInfo[playerid][pMember] == F_LCN) weapon = 2, ammo = 1, amount = 5;
                            if(PlayerInfo[playerid][pMember] == F_RM) weapon = 1, ammo = 1, amount = 5;
                            if(PlayerInfo[playerid][pMember] == F_YAKUZA) weapon = 8, ammo = 1, amount = 5;
						}
				    }
				}
				case 8: SPD(playerid, did_getgun_put_materials, DSI, "{"#DC_MAIN"}Положить материалы", "{"#DC_WHITE"}Введите кол-во материалов, которое хотите положить на склад:", "Далее", "Отмена");
			    case 9: SPD(playerid, did_getgun_take_materials, DSI, "{"#DC_MAIN"}Взять материалы", "{"#DC_WHITE"}Введите кол-во материалов, которое хотите взять со склада:", "Далее", "Отмена");
				case 10: SPD(playerid, did_getgun_put_drugs, DSI, "{"#DC_MAIN"}Положить наркотики", "{"#DC_WHITE"}Введите кол-во наркотиков, которое хотите положить на склад:", "Далее", "Отмена");
			    case 11: SPD(playerid, did_getgun_take_drugs, DSI, "{"#DC_MAIN"}Взять наркотики", "{"#DC_WHITE"}Введите кол-во наркотиков, которое хотите взять со склада:", "Далее", "Отмена");
			    case 12:
				{
				    if(IsAMafia(playerid) && RobberyBankMoney[playerid])
				    {
						if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
						new money = RobberyBankMoney[playerid], newmoney = money / 5;
					    if(FracInfo[member][fSetting][6])
					    {
					        format(strings, sizeof(strings), "[F] %s [%d] ограбил банк на $%d. На счет мафии зачислено: $%d.", PlayerInfo[playerid][pName], playerid, money, newmoney);
					        SendFMes(member, COLOR_NEWLBLUE, strings);
						}
					    format(strings, sizeof(strings), "Вы ограбили банк на {"#DC_WHITE"}$%d.{"#DC_MAIN"} Из них {"#DC_WHITE"}$%d{"#DC_MAIN"} отправлено на счёт вашей мафии.", money, newmoney);
					    SendMes(playerid, COLOR_MAIN, strings);
						GiveFracBank(member, newmoney);
						ServerMoney(playerid, "Сдал краденные деньги", money - newmoney, 0);
						RobberyBankIDx[playerid] = 0;
						RobberyBankTime[playerid] = 0;
						RobberyBankMoney[playerid] = 0;
						return 1;
		            }
					SPD(playerid, did_bank_frac_put, DSI, "{"#DC_MAIN"}Положить деньги", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена");
				}
			}
			GiveWeapon(playerid, weapon, ammo);
			SetWarehouse(member, -amount);
			if(listitem < 8)
			{
			    new gunname[32];
				GetWeaponName(weapon, gunname, sizeof(gunname));
			    if(FracInfo[member][fSetting][6])
			    {
	                format(strings, sizeof(strings), "[F] %s [%d] взял(-а) %d патронов %s со склада организации.", PlayerInfo[playerid][pName], playerid, ammo, gunname);
					SendFMes(member, COLOR_NEWLBLUE, strings);
				}
                if(listitem == 7) format(strings, sizeof(strings), "Вы взяли {"#DC_WHITE"}%s{"#DC_MAIN"} со склада организации.", gunname);
                else format(strings, sizeof(strings), "Вы взяли {"#DC_WHITE"}%d{"#DC_MAIN"} патронов {"#DC_WHITE"}%s{"#DC_MAIN"} со склада организации.", ammo, gunname);
				SendMes(playerid, COLOR_MAIN, strings);
			}
			ShowWarehouse(playerid);
			return 1;
		}*/
		case did_getgun_put_materials:
		{
		    if(!response) return SPD(playerid, did_getgun_other, DSL, "{"#DC_MAIN"}Склад", "{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n{"#DC_MAIN"}7.{"#DC_WHITE"} Ударное оружие\nПоложить материалы\nВзять материалы\nПоложить наркотики\nВзять наркотики\nПоложить деньги", "Далее", "Отмена");
			/*if(!response) return SPD(playerid, did_getgun_other, DSL, "{"#DC_MAIN"}Склад", "{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n{"#DC_MAIN"}7.{"#DC_WHITE"} Rifle\n{"#DC_MAIN"}8.{"#DC_WHITE"} Ударное оружие\nПоложить материалы\nВзять материалы\nПоложить наркотики\nВзять наркотики\nПоложить деньги", "Далее", "Отмена");*/
			if(strval(inputtext) < 1 || strval(inputtext) > PlayerInfo[playerid][pInventoryItems][TYPE_MATERIALS]) return SPD(playerid, did_getgun_put_materials, DSI, "{"#DC_MAIN"}Положить материалы", "{"#DC_WHITE"}Введите кол-во материалов, которое хотите положить на склад:\n\n{"#DC_RED"}Ошибка: Вы ввели неправильное кол-во материалов.", "Далее", "Отмена");
			new member = PlayerInfo[playerid][pMember];
			if(Warehouse[member] >= MAX_GUN_WAREHOUSE) return SendMes(playerid, COLOR_DARKORANGE, "Склад уже заполнен."), ShowWarehouse(playerid);
			PlayerInfo[playerid][pInventoryItems][TYPE_MATERIALS] -= strval(inputtext);
			SavePlayerInventoryItems(playerid, TYPE_MATERIALS);
			SetWarehouse(member, strval(inputtext));
			SendMes(playerid, COLOR_MAIN, "Вы положили {"#DC_WHITE"}%d{"#DC_MAIN"} материал(-а/-ов) на склад.", strval(inputtext));
		    if(FracInfo[member][fSetting][6])
		    {
	   			format(strings, sizeof(strings), "[F] %s [%d] положил %d материал(-а/-ов) на склад организации.", PlayerInfo[playerid][pName], playerid, strval(inputtext));
				SendFMes(member, COLOR_NEWLBLUE, strings);
			}
   			ShowWarehouse(playerid);
			return 1;
	   	}
		case did_getgun_take_materials:
		{
		    if(!response) return SPD(playerid, did_getgun_other, DSL, "{"#DC_MAIN"}Склад", "{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n{"#DC_MAIN"}7.{"#DC_WHITE"} Ударное оружие\nПоложить материалы\nВзять материалы\nПоложить наркотики\nВзять наркотики\nПоложить деньги", "Далее", "Отмена");
			/*if(!response) return SPD(playerid, did_getgun_other, DSL, "{"#DC_MAIN"}Склад", "{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n{"#DC_MAIN"}7.{"#DC_WHITE"} Rifle\n{"#DC_MAIN"}8.{"#DC_WHITE"} Ударное оружие\nПоложить материалы\nВзять материалы\nПоложить наркотики\nВзять наркотики\nПоложить деньги", "Далее", "Отмена");*/
			if(strval(inputtext) < 1 || strval(inputtext) > 50) return SPD(playerid, did_getgun_take_materials, DSI, "{"#DC_MAIN"}Взять материалы", "{"#DC_WHITE"}Введите кол-во материалов, которое хотите взять со склада:\n\n{"#DC_RED"}Ошибка: Количество материалов должно быть от 1 до 50.", "Далее", "Отмена");
			new member = PlayerInfo[playerid][pMember];
			if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
			if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
			if(Warehouse[member] < strval(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "На складе нет столько материалов."), ShowWarehouse(playerid);
            new max_value;
	        GetPlayerMaxInventoryItems(playerid, TYPE_MATERIALS, max_value);
			if(PlayerInfo[playerid][pInventoryItems][TYPE_MATERIALS] + strval(inputtext) > max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_MATERIALS][InvUnitName], Inventory[TYPE_MATERIALS][InvStringName]);
            PlayerInfo[playerid][pInventoryItems][TYPE_MATERIALS] += strval(inputtext);
			SavePlayerInventoryItems(playerid, TYPE_MATERIALS);
			SetWarehouse(member, -strval(inputtext));
			SendMes(playerid, COLOR_MAIN, "Вы взяли со склада {"#DC_WHITE"}%d{"#DC_MAIN"} материал(-а/-ов).", strval(inputtext));
		    if(FracInfo[member][fSetting][6])
		    {
	   			format(strings, sizeof(strings), "[F] %s [%d] взял(-а) %d материал(-а/-ов) со склада организации.", PlayerInfo[playerid][pName], playerid, strval(inputtext));
				SendFMes(member, COLOR_NEWLBLUE, strings);
			}
			ShowWarehouse(playerid);
			return 1;
		}
		case did_getgun_put_drugs:
		{
		    if(!response) return SPD(playerid, did_getgun_other, DSL, "{"#DC_MAIN"}Склад", "{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n{"#DC_MAIN"}7.{"#DC_WHITE"} Ударное оружие\nПоложить материалы\nВзять материалы\nПоложить наркотики\nВзять наркотики\nПоложить деньги", "Далее", "Отмена");
			/*if(!response) return SPD(playerid, did_getgun_other, DSL, "{"#DC_MAIN"}Склад", "{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n{"#DC_MAIN"}7.{"#DC_WHITE"} Rifle\n{"#DC_MAIN"}8.{"#DC_WHITE"} Ударное оружие\nПоложить материалы\nВзять материалы\nПоложить наркотики\nВзять наркотики\nПоложить деньги", "Далее", "Отмена");*/
			if(strval(inputtext) < 1 || strval(inputtext) > PlayerInfo[playerid][pInventoryItems][TYPE_DRUGS]) return SPD(playerid, did_getgun_put_drugs, DSI, "{"#DC_MAIN"}Положить наркотики", "{"#DC_WHITE"}Введите кол-во наркотиков, которое хотите положить на склад:\n\n{"#DC_RED"}Ошибка: Вы ввели неправильное кол-во наркотиков.", "Далее", "Отмена");
			new member = PlayerInfo[playerid][pMember];
			if(Warehouse[30+member] >= MAX_AMMO_WAREHOUSE) return SendMes(playerid, COLOR_DARKORANGE, "Склад уже заполнен."), ShowWarehouse(playerid);
			PlayerInfo[playerid][pInventoryItems][TYPE_DRUGS] -= strval(inputtext);
			SavePlayerInventoryItems(playerid, TYPE_DRUGS);
			SetWarehouse(30+member, strval(inputtext));
			SendMes(playerid, COLOR_MAIN, "Вы положили {"#DC_WHITE"}%d{"#DC_MAIN"} наркотик(-а/-ов) на склад.", strval(inputtext));
		    if(FracInfo[member][fSetting][6])
		    {
	   			format(strings, sizeof(strings), "[F] %s [%d] положил %d наркотик(-а/-ов) на склад организации.", PlayerInfo[playerid][pName], playerid, strval(inputtext));
				SendFMes(member, COLOR_NEWLBLUE, strings);
			}
			ShowWarehouse(playerid);
			return 1;
		}
		case did_getgun_take_drugs:
		{
		    if(!response) return SPD(playerid, did_getgun_other, DSL, "{"#DC_MAIN"}Склад", "{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n{"#DC_MAIN"}7.{"#DC_WHITE"} Ударное оружие\nПоложить материалы\nВзять материалы\nПоложить наркотики\nВзять наркотики\nПоложить деньги", "Далее", "Отмена");
			/*if(!response) return SPD(playerid, did_getgun_other, DSL, "{"#DC_MAIN"}Склад", "{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n{"#DC_MAIN"}7.{"#DC_WHITE"} Rifle\n{"#DC_MAIN"}8.{"#DC_WHITE"} Ударное оружие\nПоложить материалы\nВзять материалы\nПоложить наркотики\nВзять наркотики\nПоложить деньги", "Далее", "Отмена");*/
			if(strval(inputtext) < 1 || strval(inputtext) > 50) return SPD(playerid, did_getgun_take_drugs, DSI, "{"#DC_MAIN"}Взять наркотики", "{"#DC_WHITE"}Введите кол-во наркотиков, которое хотите взять со склада:\n\n{"#DC_RED"}Ошибка: Количество наркотиков должно быть от 1 до 50.", "Далее", "Отмена");
			new member = PlayerInfo[playerid][pMember];
			if(FracInfo[member][fSetting][4] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Лидер закрыл склад."), ShowWarehouse(playerid);
			if(FracInfo[member][fSetting][5] > PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Для доступа к складу требуется более высокий ранг."), ShowWarehouse(playerid);
			if(Warehouse[30+member] < strval(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "На складе нет столько наркотиков."), ShowWarehouse(playerid);
			new max_value;
			GetPlayerMaxInventoryItems(playerid, TYPE_DRUGS, max_value);
			if(PlayerInfo[playerid][pInventoryItems][TYPE_DRUGS] + strval(inputtext) > max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_DRUGS][InvUnitName], Inventory[TYPE_DRUGS][InvStringName]);
			PlayerInfo[playerid][pInventoryItems][TYPE_DRUGS] += strval(inputtext);
			SavePlayerInventoryItems(playerid, TYPE_DRUGS);
			SetWarehouse(30+member, -strval(inputtext));
			SendMes(playerid, COLOR_MAIN, "Вы взяли со склада {"#DC_WHITE"}%d{"#DC_MAIN"} наркотик(-а/-ов).", strval(inputtext));
		    if(FracInfo[member][fSetting][6])
		    {
	   			format(strings, sizeof(strings), "[F] %s [%d] взял(-а) %d наркотик(-а/-ов) со склада организации.", PlayerInfo[playerid][pName], playerid, strval(inputtext));
				SendFMes(member, COLOR_NEWLBLUE, strings);
			}
			ShowWarehouse(playerid);
			return 1;
		}
    	case did_married:
		{
		    new scdplayerid = GetPVarInt(playerid, "MarriedID");
		    if(!IsPlayerInRangeOfPlayer(5.0, playerid, scdplayerid)) return SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
			if(!response)
			{
				SendMes(playerid, COLOR_MAIN, "Вы отказались от предложения {"#DC_WHITE"}%s.", PlayerInfo[scdplayerid][pName]);
				SendMes(scdplayerid, COLOR_WHITE, "%s{"#DC_MAIN"} отказался от вашего предложения.", PlayerInfo[playerid][pName]);
				return 1;
			}
			if(GetMoney(scdplayerid) < MARRIED_PRICE) return SendMes(scdplayerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			ServerMoney(scdplayerid, "Оплатил свадьбу", -MARRIED_PRICE, 0);
			format(PlayerInfo[playerid][pMarried], 32, PlayerInfo[scdplayerid][pName]);
			format(PlayerInfo[scdplayerid][pMarried], 32, PlayerInfo[playerid][pName]);
			SendMes(playerid, COLOR_MAIN, "Вы приняли предложение {"#DC_WHITE"}%s.", PlayerInfo[scdplayerid][pName]);
			SendMes(scdplayerid, COLOR_WHITE, "%s{"#DC_MAIN"} согласился на Ваше предложение.", PlayerInfo[playerid][pName]);
			format(strings, sizeof(strings), "Поздравляем {"#DC_WHITE"}%s{"#DC_PINK"} и {"#DC_WHITE"}%s{"#DC_PINK"} с бракосочетанием.", PlayerInfo[scdplayerid][pName], PlayerInfo[playerid][pName]);
			SCMTA(COLOR_PINK, strings);
			return 1;
		}
	    case did_specitem:
		{
		    if(!response) return 1;
		    switch(listitem)
			{
				case 0: GiveWeapon(playerid, 41, 1600);
				case 1: GiveWeapon(playerid, 3, 1);
				case 2: GiveWeapon(playerid, 17, 3);
			}
			if(IsACop(playerid)) SPD(playerid, did_specitem, DSL, "{"#DC_MAIN"}Спец. экипировка", "{"#DC_MAIN"}1.{"#DC_WHITE"} Перцовый баллончик\n{"#DC_MAIN"}2.{"#DC_WHITE"} Полицейская дубинка\n{"#DC_MAIN"}3.{"#DC_WHITE"} Слезоточивый газ", "Далее", "Отмена");
			return 1;
		}
		case did_events:
	    {
	        if(!response) return 1;
	        if(EventTime && RaceStarted == true) AddPlayerToEvent(0, playerid);
			else if(EventTime && DerbyStarted == true) AddPlayerToEvent(1, playerid);
			else if(EventTime && PaintBallStarted == true) AddPlayerToEvent(2, playerid);
			return 1;
	    }
		case did_fpanel:
		{
			if(!response) return 1;
			new member = PlayerInfo[playerid][pMember];
			switch(listitem)
			{
				case 0:
				{
					if(strcmp("None", FracInfo[member][fMessage], true))
					{
						format(FracInfo[member][fMessage], 256, "None");
						SendMes(playerid, COLOR_MAIN, "Вы удалили сообщение при входе.");
						SetFractionStr(member, "message", FracInfo[member][fMessage]);
					}
					else SPD(playerid, did_fpanel_message, DSI, "{"#DC_MAIN"}Сообщение", "{"#DC_WHITE"}Это сообщение будут видеть участники вашей фракции, \nпри входе в игру:", "Далее", "Отмена");
                    return 1;
				}
				case 1:
				{
					if(FracInfo[member][fSetting][3] == 0)
					{
						FracInfo[member][fSetting][3] = 1;
						format(strings, sizeof(strings), "[F] %s включил(-а) чат", PlayerInfo[playerid][pName]);
						SendFMes(member, COLOR_NEWLBLUE, strings);
					}
					else
					{
						FracInfo[member][fSetting][3] = 0;
						format(strings, sizeof(strings), "[F] %s выключил(-а) чат", PlayerInfo[playerid][pName]);
						SendFMes(member, COLOR_NEWLBLUE, strings);
					}
				}
				case 2:
				{
					if(FracInfo[member][fSetting][4] == 0)
					{
						FracInfo[member][fSetting][4] = 1;
						format(strings, sizeof(strings), "[F] %s открыл(-а) склад", PlayerInfo[playerid][pName]);
						SendFMes(member, COLOR_NEWLBLUE, strings);
					}
					else
					{
						FracInfo[member][fSetting][4] = 0;
						format(strings, sizeof(strings), "[F] %s закрыл(-а) склад", PlayerInfo[playerid][pName]);
						SendFMes(member, COLOR_NEWLBLUE, strings);
					}
				}
				case 3: return SPD(playerid, did_fpanel_warehouse, DSI, "{"#DC_MAIN"}Доступ к складу", "{"#DC_WHITE"}Введите номер ранга:", "Далее", "Отмена");
				case 4:
				{
       				mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `member` = '%d' AND `admin` = '0' ORDER BY `rank` DESC", member);
					new Cache:result = mysql_query(mysql, request);
					if(cache_num_rows())
					{
						new name[32], rank, lastcon[16];
						totalstring = "", bigstring = "";
						for(new i = 0; i < 50; i++)
						{
							if(i >= cache_num_rows()) break;
							cache_get_value_name(i, "name", name, MAX_PLAYER_NAME);
							cache_get_value_name_int(i, "rank", rank);
							cache_get_value_name(i, "lastcon", lastcon, 16);
							format(totalstring, sizeof(totalstring), "%s: %s [%s]\n", name, FracRank[member][rank], lastcon);
							strcat(bigstring, totalstring);
						}
						SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Полный состав организации", bigstring, "Отмена", "");
					} else SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
					return cache_delete(result);
       			}
       			case 5:
			    {
                    if(GetPVarInt(playerid, "LeaderRespVeh") > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Обновлять транспорт можно раз в 2 минуты.");
       				for(new i = 1; i < MAX_VEHICLES; i++)
					{
						if(VehInfo[i][vFraction] != member || IsVehicleOccupied(i)) continue;
						SetVehicleToRespawn(i);
					}
					SendMes(playerid, COLOR_MAIN, "Вы отправили незанятый транспорт вашей фракции на респавн.");
					SetPVarInt(playerid, "LeaderRespVeh", gettime()+120);
			    }
				case 6:
				{
					if(FracInfo[member][fSetting][6] == 0)
					{
						FracInfo[member][fSetting][6] = 1;
						format(strings, sizeof(strings), "[F] %s включил(-а) информацию о складе", PlayerInfo[playerid][pName]);
						SendFMes(member, COLOR_NEWLBLUE, strings);
					}
					else
					{
						FracInfo[member][fSetting][6] = 0;
						format(strings, sizeof(strings), "[F] %s выключил(-а) информацию о складе", PlayerInfo[playerid][pName]);
						SendFMes(member, COLOR_NEWLBLUE, strings);
					}
				}
			}
			format(FracInfo[member][fSettings], 64, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d", FracInfo[member][fSetting][0], FracInfo[member][fSetting][1], FracInfo[member][fSetting][2],
			FracInfo[member][fSetting][3], FracInfo[member][fSetting][4], FracInfo[member][fSetting][5], FracInfo[member][fSetting][6], FracInfo[member][fSetting][7], FracInfo[member][fSetting][8],
			FracInfo[member][fSetting][9], FracInfo[member][fSetting][10], FracInfo[member][fSetting][11], FracInfo[member][fSetting][12], FracInfo[member][fSetting][13], FracInfo[member][fSetting][14],
			FracInfo[member][fSetting][15]);
			SetFractionStr(member, "settings", FracInfo[member][fSettings]);
			return 1;
		}
		case did_fpanel_message:
		{
			if(!response) return cmd_fraction(playerid, inputtext);
			new member = PlayerInfo[playerid][pMember];
			if(!strlen(inputtext))
			{
				SendMes(playerid, COLOR_MAIN, "Введите текст сообщения:");
				SPD(playerid, did_fpanel_message, DSI, "{"#DC_MAIN"}Сообщение", "{"#DC_WHITE"}Это сообщение будут видеть участники вашей фракции, \nпри входе в игру:", "Далее", "Отмена");
			 	return 1;
			}
			else
			{
				format(FracInfo[member][fMessage], 256, "%s", inputtext);
				SendMes(playerid, COLOR_WHITE, FracInfo[member][fMessage]);
				SendMes(playerid, COLOR_MAIN, "Вы установили сообщение при входе.");
				SetFractionStr(member, "message", FracInfo[member][fMessage]);
			}
			return 1;
		}
		case did_fpanel_warehouse:
		{
			if(!response) return cmd_fraction(playerid, inputtext);
			new rank = 0;
			if(sscanf(inputtext, "d", rank)) return SPD(playerid, did_fpanel_warehouse, DSI, "{"#DC_MAIN"}Доступ к складу", "{"#DC_WHITE"}Введите номер ранга:", "Далее", "Отмена");
			new member = PlayerInfo[playerid][pMember], MaxRang = MaxFracRang(PlayerInfo[playerid][pMember]);
			if(rank > MaxRang || rank < 1) return SPD(playerid, did_fpanel_warehouse, DSI, "{"#DC_MAIN"}Доступ к складу", "{"#DC_WHITE"}Введите номер ранга:", "Далее", "Отмена");
			FracInfo[member][fSetting][5] = rank;
			SendMes(playerid, COLOR_MAIN, "Вы разрешили доступ к складу организации с {"#DC_WHITE"}%d{"#DC_MAIN"} ранга.", rank);
			format(FracInfo[member][fSettings], 64, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d", FracInfo[member][fSetting][0], FracInfo[member][fSetting][1], FracInfo[member][fSetting][2],
			FracInfo[member][fSetting][3], FracInfo[member][fSetting][4], FracInfo[member][fSetting][5], FracInfo[member][fSetting][6], FracInfo[member][fSetting][7], FracInfo[member][fSetting][8],
			FracInfo[member][fSetting][9], FracInfo[member][fSetting][10], FracInfo[member][fSetting][11], FracInfo[member][fSetting][12], FracInfo[member][fSetting][13], FracInfo[member][fSetting][14],
			FracInfo[member][fSetting][15]);
			SetFractionStr(member, "settings", FracInfo[member][fSettings]);
			return 1;
		}
		case did_makeleader:
	    {
	    	new scdplayerid = GetPVarInt(playerid, "PlayerLeaderPlayer");
            new member = listitem+1;
	        if(!response) return 1;
        	new total = 0;
			for(new i = 1; i <= MAX_RANK; i++)
			{
				if(i == 1+MAX_RANK) break;
				if(!strcmp(FracRank[member][i], "None", true)) break;
				total++;
			}
			if(total == 0) return SendAdminMessage(COLOR_LRED, "[A] Ошибка #104! Сообщите разработчикам!", 8);
			PlayerInfo[scdplayerid][pRank] = total;
			PlayerInfo[scdplayerid][pLeader] = member;
			PlayerInfo[scdplayerid][pMember] = member;
			PlayerInfo[scdplayerid][pJob] = 0;
			PlayerInfo[scdplayerid][pDuty] = 1;
			SetPlayerTeamColor(scdplayerid);
			PlayerInfo[scdplayerid][pSpawnChange] = 3;
            if(PlayerInfo[scdplayerid][pAdmin] == 0)
			{
				strmid(FracInfo[member][fLeader], PlayerInfo[scdplayerid][pName], 0, strlen(PlayerInfo[scdplayerid][pName]), MAX_PLAYER_NAME);
				SetFractionStr(member, "leader", PlayerInfo[scdplayerid][pName]);
			}
			format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} назначил Вас лидером {"#DC_WHITE"}%s.", PlayerInfo[playerid][pName], FracInfo[member][fName]);
			SendMes(scdplayerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "[А] Администратор %s назначил %s лидером %s.", PlayerInfo[playerid][pName], PlayerInfo[scdplayerid][pName], FracInfo[member][fName]);
			SendAdminMessage(COLOR_GREY, strings, 8);
			new totals = 0;
			totalstring = "", bigstring = "";
			for(new i = 0; i <= MAX_SKINS; i++)
			{
				if(i == 23) break;
				if(FracInfo[PlayerInfo[scdplayerid][pMember]][fSkin][i] == 0) break;
				format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Скин № %d\n", i + 1, FracInfo[PlayerInfo[scdplayerid][pMember]][fSkin][i]);
				strcat(bigstring, totalstring);
				totals++;
			}
			if(totals == 0) return SendAdminMessage(COLOR_LRED, "[A] Ошибка #105! Сообщите разработчикам!", 8);
			SPD(playerid, did_makeleader_skin, DSL, "{"#DC_MAIN"}Скин", bigstring, "Отмена", "");
			SendMes(scdplayerid, COLOR_MAIN, "Ожидайте пока {"#DC_WHITE"}%s{"#DC_MAIN"} выдаст Вам одежду.", PlayerInfo[playerid][pName]);
			DeletePVar(playerid, "PlayerLeaderAdmin");
			DeletePVar(playerid, "PlayerLeaderFrac");
			return 1;
		}
		case did_makeleader_skin:
		{
			new scdplayerid = GetPVarInt(playerid, "MakeleaderID");
			if(!response)
			{
			    new total = 0;
				totalstring = "", bigstring = "";
				for(new i = 0; i <= MAX_SKINS; i++)
				{
					if(i == 23) break;
					if(FracInfo[PlayerInfo[scdplayerid][pMember]][fSkin][i] == 0) break;
					format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Скин № %d\n", i + 1, FracInfo[PlayerInfo[scdplayerid][pMember]][fSkin][i]);
					strcat(bigstring, totalstring);
					total++;
				}
				if(total == 0) return SendAdminMessage(COLOR_LRED, "[A] Ошибка #107! Сообщите разработчикам!", 8);
				SPD(playerid, did_makeleader_skin, DSL, "{"#DC_MAIN"}Скин", bigstring, "Отмена", "");
				return 1;
			}
			if(!IsPlayerConnected(scdplayerid)) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
			if(PlayerLogged[scdplayerid] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
			if(PlayerInfo[scdplayerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не находиться в организации.");
			PlayerInfo[scdplayerid][pFracSkin] = FracInfo[PlayerInfo[scdplayerid][pMember]][fSkin][listitem];
			SetPlayerSkin(scdplayerid, FracInfo[PlayerInfo[scdplayerid][pMember]][fSkin][listitem]);
			if(IsACriminal(scdplayerid))
			{
			    if(CaptureZone != 0)
				{
					if(PlayerInfo[scdplayerid][pMember] == CaptureFrac[0] || PlayerInfo[scdplayerid][pMember] == CaptureFrac[1])
					{
						for(new idx = 0; idx < 11; idx++) TextDrawShowForPlayer(scdplayerid, GangWarMain[idx]);
						GangZoneFlashForPlayer(scdplayerid, CaptureZoneID, COLOR_RED);
					}
				}
				if(MafiaWarZone != 0)
				{
					if(PlayerInfo[scdplayerid][pMember] == MafiaWarFrac[0] || PlayerInfo[scdplayerid][pMember] == MafiaWarFrac[1])
					{
						for(new idx = 0; idx < 11; idx++) TextDrawShowForPlayer(scdplayerid, MafiaWarMain[idx]);
						GangZoneShowForPlayer(scdplayerid, MafiaWarZone, 0xFFFFFF65);
						GangZoneFlashForPlayer(scdplayerid, MafiaWarZone, COLOR_RED);
					}
				}
				if(BikerWarZone != 0)
				{
					if(PlayerInfo[scdplayerid][pMember] == BikerWarFrac[0] || PlayerInfo[scdplayerid][pMember] == BikerWarFrac[1])
					{
						for(new idx = 0; idx < 11; idx++) TextDrawShowForPlayer(scdplayerid, BikerWarMain[idx]);
						GangZoneShowForPlayer(scdplayerid, BikerWarZone, 0xFFFFFF65);
						GangZoneFlashForPlayer(scdplayerid, BikerWarZone, COLOR_RED);
					}
				}
			}
			return 1;
		}
		case did_templeader:
	    {
	    	new member = listitem+1;
	        if(!response) return 1;
        	new total = 0;
			for(new i = 1; i <= MAX_RANK; i++)
			{
				if(i == 1+MAX_RANK) break;
				if(!strcmp(FracRank[member][i], "None", true)) break;
				total++;
			}
			if(total == 0) return SendAdminMessage(COLOR_LRED, "[A] Ошибка #104! Сообщите разработчикам!", 8);
			PlayerInfo[playerid][pRank] = total;
			PlayerInfo[playerid][pLeader] = member;
			PlayerInfo[playerid][pMember] = member;
			PlayerInfo[playerid][pJob] = 0;
			PlayerInfo[playerid][pDuty] = 1;
			SetPlayerTeamColor(playerid);
			PlayerInfo[playerid][pSpawnChange] = 3;
            if(PlayerInfo[playerid][pAdmin] == 0)
			{
				strmid(FracInfo[member][fLeader], PlayerInfo[playerid][pName], 0, strlen(PlayerInfo[playerid][pName]), MAX_PLAYER_NAME);
				SetFractionStr(member, "leader", PlayerInfo[playerid][pName]);
			}
			format(strings, sizeof(strings), "Вы назначили себя лидером {"#DC_WHITE"}%s.", FracInfo[member][fName]);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "[А] Администратор %s назначил себя лидером %s.", PlayerInfo[playerid][pName], FracInfo[member][fName]);
			SendAdminMessage(COLOR_GREY, strings, 8);
			new totals = 0;
			totalstring = "", bigstring = "";
			for(new i = 0; i <= MAX_SKINS; i++)
			{
				if(i == 23) break;
				if(FracInfo[PlayerInfo[playerid][pMember]][fSkin][i] == 0) break;
				format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Скин № %d\n", i + 1, FracInfo[PlayerInfo[playerid][pMember]][fSkin][i]);
				strcat(bigstring, totalstring);
				totals++;
			}
			if(totals == 0) return SendAdminMessage(COLOR_LRED, "[A] Ошибка #105! Сообщите разработчикам!", 8);
			SPD(playerid, did_templeader_skin, DSL, "{"#DC_MAIN"}Скин", bigstring, "Отмена", "");
			return 1;
		}
		case did_templeader_skin:
		{
			if(!response)
			{
			    new total = 0;
				totalstring = "", bigstring = "";
				for(new i = 0; i <= MAX_SKINS; i++)
				{
					if(i == 23) break;
					if(FracInfo[PlayerInfo[playerid][pMember]][fSkin][i] == 0) break;
					format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Скин № %d\n", i + 1, FracInfo[PlayerInfo[playerid][pMember]][fSkin][i]);
					strcat(bigstring, totalstring);
					total++;
				}
				if(total == 0) return SendAdminMessage(COLOR_LRED, "[A] Ошибка #107! Сообщите разработчикам!", 8);
				SPD(playerid, did_templeader_skin, DSL, "{"#DC_MAIN"}Скин", bigstring, "Отмена", "");
				return 1;
			}
			if(PlayerInfo[playerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не находитесь в организации.");
			PlayerInfo[playerid][pFracSkin] = FracInfo[PlayerInfo[playerid][pMember]][fSkin][listitem];
			SetPlayerSkin(playerid, FracInfo[PlayerInfo[playerid][pMember]][fSkin][listitem]);
			if(IsACriminal(playerid))
			{
			    if(CaptureZone != 0)
				{
					if(PlayerInfo[playerid][pMember] == CaptureFrac[0] || PlayerInfo[playerid][pMember] == CaptureFrac[1])
					{
						for(new idx = 0; idx < 11; idx++) TextDrawShowForPlayer(playerid, GangWarMain[idx]);
						GangZoneFlashForPlayer(playerid, CaptureZoneID, COLOR_RED);
					}
				}
				if(MafiaWarZone != 0)
				{
					if(PlayerInfo[playerid][pMember] == MafiaWarFrac[0] || PlayerInfo[playerid][pMember] == MafiaWarFrac[1])
					{
						for(new idx = 0; idx < 11; idx++) TextDrawShowForPlayer(playerid, MafiaWarMain[idx]);
						GangZoneShowForPlayer(playerid, MafiaWarZone, 0xFFFFFF65);
						GangZoneFlashForPlayer(playerid, MafiaWarZone, COLOR_RED);
					}
				}
				if(BikerWarZone != 0)
				{
					if(PlayerInfo[playerid][pMember] == BikerWarFrac[0] || PlayerInfo[playerid][pMember] == BikerWarFrac[1])
					{
						for(new idx = 0; idx < 11; idx++) TextDrawShowForPlayer(playerid, BikerWarMain[idx]);
						GangZoneShowForPlayer(playerid, BikerWarZone, 0xFFFFFF65);
						GangZoneFlashForPlayer(playerid, BikerWarZone, COLOR_RED);
					}
				}
			}
			return 1;
		}
		case did_giverank:
		{
			new scdplayerid = GetPVarInt(playerid, "PlayerRank");
			if(!response) { DeletePVar(playerid, "PlayerRank"); return 1; }
			if(PlayerInfo[playerid][pRank] <= listitem+1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
			if(!IsPlayerConnected(scdplayerid)) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
			if(PlayerLogged[scdplayerid] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
			if(PlayerInfo[scdplayerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не находиться в организации.");
			if(PlayerInfo[scdplayerid][pLeader] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок лидер другой организации.");
			if(PlayerInfo[scdplayerid][pMember] != PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в другой организации.");
			if(PlayerInfo[scdplayerid][pRank] == listitem+1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока и так этот ранг.");
			if(PlayerInfo[scdplayerid][pLevel] < 2 && IsAGang(scdplayerid) && listitem > 6) return SendMes(playerid, COLOR_DARKORANGE, "У игрока нет 2-ого уровня.");
			PlayerInfo[scdplayerid][pRank] = listitem+1;
			format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} повысил/понизил ваш ранг. Сейчас Вы: {"#DC_WHITE"}%s.", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], FracRank[PlayerInfo[scdplayerid][pMember]][PlayerInfo[scdplayerid][pRank]]);
			SendMes(scdplayerid, COLOR_WHITE, strings);
			format(strings, sizeof(strings), "Вы повысили/понизили {"#DC_WHITE"}%s{"#DC_MAIN"} до {"#DC_WHITE"}%d{"#DC_MAIN"} ранга.", PlayerInfo[scdplayerid][pName], PlayerInfo[scdplayerid][pRank]);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "[F] %s %s повысил/понизил ранг %s. Сейчас он: %s", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], PlayerInfo[scdplayerid][pName], FracRank[PlayerInfo[scdplayerid][pMember]][PlayerInfo[scdplayerid][pRank]]);
			SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
			return 1;
		}
		case did_giveskin:
		{
			new scdplayerid = GetPVarInt(playerid, "PlayerSkin");
			if(!response) { DeletePVar(playerid, "PlayerSkin"); return 1; }
			if(!IsPlayerConnected(scdplayerid)) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
			if(PlayerLogged[scdplayerid] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
			if(PlayerInfo[scdplayerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не находиться в организации.");
			if(PlayerInfo[scdplayerid][pMember] != PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в другой организации.");
			if(PlayerInfo[scdplayerid][pRank] >= PlayerInfo[playerid][pRank] && scdplayerid != playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете изменить скин игрока Выше вас по рангу.");
			DeletePVar(playerid, "PlayerSkin");
			PlayerInfo[scdplayerid][pFracSkin] = FracInfo[PlayerInfo[playerid][pMember]][fSkin][listitem];
			if(PlayerInfo[playerid][pDuty] || IsAGang(playerid) || IsAMafia(playerid)) SetPlayerSkin(scdplayerid, FracInfo[PlayerInfo[playerid][pMember]][fSkin][listitem]);
			format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} изменил Ваш скин на {"#DC_WHITE"}%d.", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], FracInfo[PlayerInfo[playerid][pMember]][fSkin][listitem]);
			SendMes(scdplayerid, COLOR_WHITE, strings);
			format(strings, sizeof(strings), "Вы изменили скин {"#DC_WHITE"}%s{"#DC_MAIN"} на {"#DC_WHITE"}%d.", PlayerInfo[scdplayerid][pName], FracInfo[PlayerInfo[playerid][pMember]][fSkin][listitem]);
			SendMes(playerid, COLOR_MAIN, strings);
			return 1;
		}
		case did_agiverank:
		{
			new scdplayerid = GetPVarInt(playerid, "PlayerRank");
			if(!response) { DeletePVar(playerid, "PlayerRank"); return 1; }
			if(!IsPlayerConnected(scdplayerid)) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
			if(PlayerLogged[scdplayerid] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
			if(PlayerInfo[scdplayerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не находиться в организации.");
			if(PlayerInfo[scdplayerid][pLeader] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок лидер другой организации.");
			DeletePVar(playerid, "PlayerRank");
			PlayerInfo[scdplayerid][pRank] = listitem+1;
			format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} повысил/понизил ваш ранг. Сейчас вы: {"#DC_WHITE"}%s", PlayerInfo[playerid][pName], FracRank[PlayerInfo[scdplayerid][pMember]][PlayerInfo[scdplayerid][pRank]]);
			SendMes(scdplayerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "Вы повысили/понизили {"#DC_WHITE"}%s{"#DC_MAIN"} до {"#DC_WHITE"}%d{"#DC_MAIN"} ранга.", PlayerInfo[scdplayerid][pName], PlayerInfo[scdplayerid][pRank]);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "[A] %s [%d] изменил ранг игрока %s [%d] на '%s' [%d].", PlayerInfo[playerid][pName],playerid, PlayerInfo[scdplayerid][pName],scdplayerid, FracRank[PlayerInfo[scdplayerid][pMember]][PlayerInfo[scdplayerid][pRank]],PlayerInfo[scdplayerid][pRank]);
			SendAdminMessage(COLOR_GREY, strings, 8);
			return 1;
		}
		case did_agiveskin:
		{
			new scdplayerid = GetPVarInt(playerid, "PlayerSkin");
			if(!response) { DeletePVar(playerid, "PlayerSkin"); return 1; }
			if(!IsPlayerConnected(scdplayerid)) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
			if(PlayerLogged[scdplayerid] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
			if(PlayerInfo[scdplayerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не находиться в организации.");
			DeletePVar(playerid, "PlayerSkin");
			PlayerInfo[scdplayerid][pFracSkin] = FracInfo[PlayerInfo[scdplayerid][pMember]][fSkin][listitem];
			if(PlayerInfo[scdplayerid][pDuty] || IsAGang(scdplayerid) || IsAMafia(scdplayerid)) SetPlayerSkin(scdplayerid, FracInfo[PlayerInfo[scdplayerid][pMember]][fSkin][listitem]);
			format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} изменил Ваш скин на {"#DC_WHITE"}%d.", PlayerInfo[playerid][pName], FracInfo[PlayerInfo[scdplayerid][pMember]][fSkin][listitem]);
			SendMes(scdplayerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "Вы изменили скин {"#DC_WHITE"}%s{"#DC_MAIN"} на {"#DC_WHITE"}%d.", PlayerInfo[scdplayerid][pName], FracInfo[PlayerInfo[scdplayerid][pMember]][fSkin][listitem]);
			SendMes(playerid, COLOR_MAIN, strings);
			return 1;
		}
		case did_ainvite:
		{
			new scdplayerid = GetPVarInt(playerid, "PlayerLeader");
			if(!response) { DeletePVar(playerid, "PlayerLeader"); return 1; }
			if(!IsPlayerConnected(scdplayerid)) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
			if(PlayerLogged[scdplayerid] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
			if(PlayerInfo[scdplayerid][pLeader] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок лидер другой организации.");
			if(PlayerInfo[scdplayerid][pMember] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в другой организации.");
			if(PlayerInfo[scdplayerid][pBlackFraction][listitem+1]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете пригласить игрока состоящего в чёрном списке этой организации.");
			format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} присоединиться к {"#DC_WHITE"}%s.", PlayerInfo[scdplayerid][pName], FracInfo[listitem+1][fName]);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings),"[A] %s [%d] пригласил игрока %s [%d] к %s.", PlayerInfo[playerid][pName],playerid, PlayerInfo[scdplayerid][pName],scdplayerid, FracInfo[listitem+1][fName]);
			SendAdminMessage(COLOR_GREY, strings, 8);
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Администратор %s предлагает вам присоединиться к %s.\n\nВы согласны?", PlayerInfo[playerid][pName], FracInfo[listitem+1][fName]);
			SPD(scdplayerid, did_invite_fraction_act, DSM, "{"#DC_MAIN"}Приглашение во фракцию", totalstring, "Да", "Нет");
			SetPVarInt(scdplayerid, "PlayerInvite", playerid);
			SetPVarInt(scdplayerid, "PlayerInviteAdmin", listitem+1);
			return 1;
		}
		case did_debtor:
		{
			if(!response) return 1;
			switch(listitem)
			{
			    case 0:
			    {
			        new total = 0;
					for(new i = 1; i <= TOTALHOUSE; i++)
					{
						if(IsAPPos(playerid, 5.0, HouseInfo[i][hEnterX], HouseInfo[i][hEnterY], HouseInfo[i][hEnterZ]))
						{
							if(strcmp(HouseInfo[i][hOwner], "None", true))
						    {
								if(HouseInfo[i][hPaymentDays] == 0 && HouseInfo[i][hBlocking] == 0)
								{
									HouseInfo[i][hBlocking] = 1;
									HouseInfo[i][hTaxes] = RandomEx(12, 24);
									SaveHouse(i);
									SendMes(playerid, COLOR_MAIN, "Вы опечатали дом.");
									SendMes(playerid, COLOR_MAIN, "В ближайшее время этот дом будет продан государству.");
									foreach(new j:Player)
									{
										if(PlayerLogged[j] == 0) continue;
										if(IsPlayerInRangeOfPoint(j, 10.0, HouseInfo[i][hEnterX], HouseInfo[i][hEnterY], HouseInfo[i][hEnterZ]))
										{
											if(IsAMayor(j) && (PlayerInfo[j][pRank] == 1 || PlayerInfo[j][pRank] == 2 || PlayerInfo[j][pRank] >= 5) && PlayerInfo[j][pMember] == PlayerInfo[playerid][pMember])
											{
												PlayerInfo[j][pPayCheck] += 500;
												format(strings, sizeof(strings), "~g~$500");
												GameTextForPlayer(j, strings, 5000, 1);
   												CheckQuest(j, 39);
												CheckTask(j, 44);
												CheckAchievement(j, 24);
   												PlayerInfo[j][pData][2]++;
											}
										}
									}
									total++;
									break;
								}
						    }
						}
					}
					if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с домом или владелец этого дома не является должником.");
			    }
			    case 1:
			    {
			        new total = 0;
					for(new i = 1; i <= TOTALBIZ; i++)
					{
						if(IsAPPos(playerid, 5.0, BizInfo[i][bEnterX], BizInfo[i][bEnterY], BizInfo[i][bEnterZ]))
						{
							if(strcmp(BizInfo[i][bOwner], "None", true))
						    {
								if(BizInfo[i][bPaymentDays] == 0 && BizInfo[i][bBlocking] == 0)
								{
									BizInfo[i][bBlocking] = 1;
									BizInfo[i][bTaxes] = RandomEx(12, 24);
		    						SaveBiz(i);
									SendMes(playerid, COLOR_MAIN, "Вы опечатали бизнес.");
									SendMes(playerid, COLOR_MAIN, "В ближайшее время этот бизнес будет продан государству.");
									foreach(new j:Player)
									{
										if(PlayerLogged[j] == 0) continue;
										if(IsPlayerInRangeOfPoint(j, 10.0, BizInfo[i][bEnterX], BizInfo[i][bEnterY], BizInfo[i][bEnterZ]))
										{
											if(IsAMayor(j) && (PlayerInfo[j][pRank] == 1 || PlayerInfo[j][pRank] == 2 || PlayerInfo[j][pRank] >= 5) && PlayerInfo[j][pMember] == PlayerInfo[playerid][pMember])
											{
												PlayerInfo[j][pPayCheck] += 500;
												format(strings, sizeof(strings), "~g~$500");
												GameTextForPlayer(j, strings, 5000, 1);
   												CheckQuest(j, 39);
												CheckTask(j, 44);
												CheckAchievement(j, 24);
   												PlayerInfo[j][pData][2]++;
											}
										}
									}
									total++;
									break;
								}
						    }
						}
					}
					if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с бизнесом или владелец этого бизнеса не является должником.");
			    }
			    case 2:
			    {
			        new total = 0;
					for(new i = 1; i <= TOTALHOTEL; i++)
					{
						if(IsAPPos(playerid, 5.0, HotelInfo[i][hEnterX], HotelInfo[i][hEnterY], HotelInfo[i][hEnterZ]))
						{
							if(strcmp(HotelInfo[i][hOwner], "None", true))
						    {
								if(HotelInfo[i][hPaymentDays] == 0 && HotelInfo[i][hBlocking] == 0)
								{
									HotelInfo[i][hBlocking] = 1;
									HotelInfo[i][hTaxes] = RandomEx(12, 24);
									SaveHotel(i);
									SendMes(playerid, COLOR_MAIN, "Вы опечатали отель.");
									SendMes(playerid, COLOR_MAIN, "В ближайшее время этот отель будет продан государству.");
									foreach(new j:Player)
									{
										if(PlayerLogged[j] == 0) continue;
										if(IsPlayerInRangeOfPoint(j, 10.0, HotelInfo[i][hEnterX], HotelInfo[i][hEnterY], HotelInfo[i][hEnterZ]))
										{
											if(IsAMayor(j) && (PlayerInfo[j][pRank] == 1 || PlayerInfo[j][pRank] == 2 || PlayerInfo[j][pRank] >= 5) && PlayerInfo[j][pMember] == PlayerInfo[playerid][pMember])
											{
												PlayerInfo[j][pPayCheck] += 500;
												format(strings, sizeof(strings), "~g~$500");
												GameTextForPlayer(j, strings, 5000, 1);
   												CheckQuest(j, 39);
												CheckTask(j, 44);
												CheckAchievement(j, 24);
   												PlayerInfo[j][pData][2]++;
											}
										}
									}
									total++;
									break;
								}
						    }
						}
					}
					if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с отелем или владелец этого отеля не является должником.");
			    }
			    case 3:
			    {
			        new total = 0;
					for(new i = 1; i <= TOTALFARM; i++)
					{
						if(IsAPPos(playerid, 5.0, FarmInfo[i][fEnterX], FarmInfo[i][fEnterY], FarmInfo[i][fEnterZ]))
						{
							if(strcmp(FarmInfo[i][fOwner], "None", true))
						    {
								if(FarmInfo[i][fPaymentDays] == 0 && FarmInfo[i][fBlocking] == 0)
								{
									FarmInfo[i][fBlocking] = 1;
									FarmInfo[i][fTaxes] = RandomEx(12, 24);
									SendMes(playerid, COLOR_MAIN, "Вы опечатали ферму.");
									SendMes(playerid, COLOR_MAIN, "В ближайшее время эта ферма будет продана государству.");
									foreach(new j:Player)
									{
										if(PlayerLogged[j] == 0) continue;
										if(IsPlayerInRangeOfPoint(j, 10.0, FarmInfo[i][fEnterX], FarmInfo[i][fEnterY], FarmInfo[i][fEnterZ]))
										{
											if(IsAMayor(j) && (PlayerInfo[j][pRank] == 1 || PlayerInfo[j][pRank] == 2 || PlayerInfo[j][pRank] >= 5) && PlayerInfo[j][pMember] == PlayerInfo[playerid][pMember])
											{
												PlayerInfo[j][pPayCheck] += 500;
												format(strings, sizeof(strings), "~g~$500");
												GameTextForPlayer(j, strings, 5000, 1);
   												CheckQuest(j, 39);
												CheckTask(j, 44);
												CheckAchievement(j, 24);
   												PlayerInfo[j][pData][2]++;
											}
										}
									}
									total++;
									break;
								}
						    }
						}
					}
					if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с фермой или владелец этой фермы не является должником.");
			    }
			    case 4:
			    {
			        new total = 0;
					for(new i = 1; i <= TOTALSERVICE; i++)
					{
						if(IsAPPos(playerid, 5.0, ServiceInfo[i][sEnterX], ServiceInfo[i][sEnterY], ServiceInfo[i][sEnterZ]))
						{
							if(strcmp(ServiceInfo[i][sOwner], "None", true))
						    {
								if(ServiceInfo[i][sPaymentDays] == 0 && ServiceInfo[i][sBlocking] == 0)
								{
									ServiceInfo[i][sBlocking] = 1;
									ServiceInfo[i][sTaxes] = RandomEx(12, 24);
									SendMes(playerid, COLOR_MAIN, "Вы опечатали СТО.");
									SendMes(playerid, COLOR_MAIN, "В ближайшее время это СТО будет продано государству.");
									foreach(new j:Player)
									{
										if(PlayerLogged[j] == 0) continue;
										if(IsPlayerInRangeOfPoint(j, 10.0, FarmInfo[i][fEnterX], FarmInfo[i][fEnterY], FarmInfo[i][fEnterZ]))
										{
											if(IsAMayor(j) && (PlayerInfo[j][pRank] == 1 || PlayerInfo[j][pRank] == 2 || PlayerInfo[j][pRank] >= 5) && PlayerInfo[j][pMember] == PlayerInfo[playerid][pMember])
											{
												PlayerInfo[j][pPayCheck] += 500;
												format(strings, sizeof(strings), "~g~$500");
												GameTextForPlayer(j, strings, 5000, 1);
   												CheckQuest(j, 39);
												CheckTask(j, 44);
												CheckAchievement(j, 24);
   												PlayerInfo[j][pData][2]++;
											}
										}
									}
									total++;
									break;
								}
						    }
						}
					}
					if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с СТО или владелец этого СТО не является должником.");
			    }
			}
			return 1;
		}
		case did_debtor_list:
		{
			if(!response) return 1;
			switch(listitem)
			{
			    case 0:
			    {
			        new idx = 0;
			        totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALHOUSE; i++)
					{
					    if(HouseInfo[i][hPaymentDays] != 0 || HouseInfo[i][hBlocking] != 0 || !strcmp(HouseInfo[i][hOwner], "None", true)) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Дом № %d\n", idx+1, HouseInfo[i][id]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = HouseInfo[i][id];
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_debtor_list_house, DSL, "{"#DC_MAIN"}Дома", bigstring, "Далее", "Отмена");
			    }
			    case 1:
			    {
			        new idx = 0;
			        totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALBIZ; i++)
					{
					    if(BizInfo[i][bPaymentDays] != 0 || BizInfo[i][bBlocking] != 0 || !strcmp(BizInfo[i][bOwner], "None", true)) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Бизнес %s\n", idx+1, BizInfo[i][bName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = BizInfo[i][id];
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_debtor_list_biz, DSL, "{"#DC_MAIN"}Бизнесы", bigstring, "Далее", "Отмена");
			    }
			    case 2:
			    {
			        new idx = 0;
			        totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALHOTEL; i++)
					{
					    if(HotelInfo[i][hPaymentDays] != 0 || HotelInfo[i][hBlocking] != 0 || !strcmp(HotelInfo[i][hOwner], "None", true)) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Отель %s\n", idx+1, HotelInfo[i][hName]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = HotelInfo[i][id];
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_debtor_list_hotel, DSL, "{"#DC_MAIN"}Отели", bigstring, "Далее", "Отмена");
			    }
			    case 3:
			    {
			        new idx = 0;
			        totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALFARM; i++)
					{
					    if(FarmInfo[i][fPaymentDays] != 0 || FarmInfo[i][fBlocking] != 0 || !strcmp(FarmInfo[i][fOwner], "None", true)) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Ферма № %d\n", idx+1, FarmInfo[i][id]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = FarmInfo[i][id];
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_debtor_list_farm, DSL, "{"#DC_MAIN"}Фермы", bigstring, "Далее", "Отмена");
			    }
			    case 4:
			    {
			        new idx = 0;
			        totalstring = "", bigstring = "";
					for(new i = 1; i < 1+TOTALSERVICE; i++)
					{
					    if(ServiceInfo[i][sPaymentDays] != 0 || ServiceInfo[i][sBlocking] != 0 || !strcmp(ServiceInfo[i][sOwner], "None", true)) continue;
						format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} СТО № %d\n", idx+1, ServiceInfo[i][id]);
						strcat(bigstring, totalstring);
						PlayerGUIItem[playerid][idx] = ServiceInfo[i][id];
						idx++;
					}
					if(!strlen(bigstring))
					{
						format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Пусто");
						PlayerGUIItem[playerid][idx] = -1;
					}
					SPD(playerid, did_debtor_list_service, DSL, "{"#DC_MAIN"}СТО", bigstring, "Далее", "Отмена");
			    }
			}
			return 1;
		}
		case did_debtor_list_house:
		{
		    if(!response) return cmd_debtorlist(playerid, inputtext);
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
            new houseid = PlayerGUIItem[playerid][listitem];
			SetPlayerRaceCheckpoint(playerid, 1, HouseInfo[houseid][hEnterX], HouseInfo[houseid][hEnterY], HouseInfo[houseid][hEnterZ], 0, 0, 0, 5.0);
			SendMes(playerid, COLOR_MAIN, "Выбранный дом отмечен на вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
			SetPVarInt(playerid, "pGPSWork", 1);
			return 1;
		}
		case did_debtor_list_biz:
		{
		    if(!response) return cmd_debtorlist(playerid, inputtext);
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
            new bizid = PlayerGUIItem[playerid][listitem];
			SetPlayerRaceCheckpoint(playerid, 1, BizInfo[bizid][bEnterX], BizInfo[bizid][bEnterY], BizInfo[bizid][bEnterZ], 0, 0, 0, 5.0);
			SendMes(playerid, COLOR_MAIN, "Выбранный бизнес отмечен на вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
			SetPVarInt(playerid, "pGPSWork", 1);
			return 1;
		}
		case did_debtor_list_hotel:
		{
		    if(!response) return cmd_debtorlist(playerid, inputtext);
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
            new hotelid = PlayerGUIItem[playerid][listitem];
			SetPlayerRaceCheckpoint(playerid, 1, HotelInfo[hotelid][hEnterX], HotelInfo[hotelid][hEnterY], HotelInfo[hotelid][hEnterZ], 0, 0, 0, 5.0);
			SendMes(playerid, COLOR_MAIN, "Выбранный отель отмечен на вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
			SetPVarInt(playerid, "pGPSWork", 1);
			return 1;
		}
		case did_debtor_list_farm:
		{
		    if(!response) return cmd_debtorlist(playerid, inputtext);
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
            new farmid = PlayerGUIItem[playerid][listitem];
			SetPlayerRaceCheckpoint(playerid, 1, FarmInfo[farmid][fEnterX], FarmInfo[farmid][fEnterY], FarmInfo[farmid][fEnterZ], 0, 0, 0, 5.0);
			SendMes(playerid, COLOR_MAIN, "Выбранная ферма отмечена на вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
			SetPVarInt(playerid, "pGPSWork", 1);
			return 1;
		}
		case did_debtor_list_service:
		{
		    if(!response) return cmd_debtorlist(playerid, inputtext);
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
            new serviceid = PlayerGUIItem[playerid][listitem];
			SetPlayerRaceCheckpoint(playerid, 1, ServiceInfo[serviceid][sEnterX], ServiceInfo[serviceid][sEnterY], ServiceInfo[serviceid][sEnterZ], 0, 0, 0, 5.0);
			SendMes(playerid, COLOR_MAIN, "Выбранное СТО отмечено на вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
			SetPVarInt(playerid, "pGPSWork", 1);
			return 1;
		}
		case did_lawyer:
		{
			if(!response)
			{
				SendMes(GetPVarInt(playerid, "GovNameGive"), COLOR_DARKORANGE, "Игрок отменил покупку.");
				DeletePVar(GetPVarInt(playerid, "GovNameGive"), "GovName");
				return DeletePVar(playerid, "GovNameGive"), DeletePVar(playerid, "GovType");
			}
			new price = 5000, type = GetPVarInt(playerid, "GovType");
	    	if(IsACriminal(playerid)) price = price * 2;
			if(type == 1 && GetMoney(playerid) < price)
			{
				SendMes(GetPVarInt(playerid, "GovNameGive"), COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
				return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			}
			else if(type == 2 && GetBankMoney(playerid) < price)
			{
				SendMes(GetPVarInt(playerid, "GovNameGive"), COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
				return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			}
			SendMes(GetPVarInt(playerid, "GovNameGive"), COLOR_MAIN, "Вы досрочно освободили из тюрьмы {"#DC_WHITE"}%s.", PlayerInfo[playerid][pName]);
			format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} досрочно освободил Вас из тюрьмы.", FracRank[PlayerInfo[GetPVarInt(playerid, "GovNameGive")][pMember]][PlayerInfo[GetPVarInt(playerid, "GovNameGive")][pRank]], PlayerInfo[GetPVarInt(playerid, "GovNameGive")][pName]);
			SendMes(playerid, COLOR_WHITE, strings);
			if(type == 1 && GetMoney(playerid) >= price) SendMes(playerid, COLOR_MAIN, "Вы оплатили услуги адвоката наличными."), ServerMoney(playerid, "Оплатил адвоката", -price, 0);
			else if(type == 2 && GetBankMoney(playerid) >= price) SendMes(playerid, COLOR_MAIN, "Вы оплатили услуги адвоката через банк."), ServerMoney(playerid, "Оплатил адвоката", -price, 1);
			ServerMoney(GetPVarInt(playerid, "GovNameGive"), "Услуги адвоката", price/2, 0);
   			CheckQuest(GetPVarInt(playerid, "GovNameGive"), 38);
   			CheckTask(GetPVarInt(playerid, "GovNameGive"), 43);
   			CheckAchievement(GetPVarInt(playerid, "GovNameGive"), 23);
   			PlayerInfo[GetPVarInt(playerid, "GovNameGive")][pData][1]++;
			switch(PlayerInfo[playerid][pJail])
   			{
      			case 1: SetPlayerPos(playerid, 1542.8539,-1675.7096,13.5553), SetPlayerFacingAngle(playerid, 91.3516);
      			case 2: SetPlayerPos(playerid, -1606.1125,721.0179,12.0703), SetPlayerFacingAngle(playerid, 3.9307);
      			case 3: SetPlayerPos(playerid, 2337.2456,2455.0818,14.9688), SetPlayerFacingAngle(playerid, 181.5690);
      			default: SetPlayerPos(playerid, 1542.8539,-1675.7096,13.5553), SetPlayerFacingAngle(playerid, 91.3516);
		    }
			SetPlayerInterior(playerid, 0), SetPlayerVirtualWorld(playerid, 0);
			SendMes(playerid, COLOR_MAIN, "Вы заплатили свой долг обществу, теперь вы свободны.");
			format(strings, sizeof(strings), "[F] Диспетчер: %s %s досрочно освободил %s из городской тюрьмы.", FracRank[PlayerInfo[GetPVarInt(playerid, "GovNameGive")][pMember]][PlayerInfo[GetPVarInt(playerid, "GovNameGive")][pRank]], PlayerInfo[GetPVarInt(playerid, "GovNameGive")][pName], PlayerInfo[playerid][pName]);
			SendFMes(F_LSPD, COLOR_NEWLBLUE, strings), SendFMes(F_SFPD, COLOR_NEWLBLUE, strings), SendFMes(F_LVPD, COLOR_NEWLBLUE, strings), SendFMes(F_FBI, COLOR_NEWLBLUE, strings), SendFMes(F_MAYOR, COLOR_NEWLBLUE, strings);
			format(strings, sizeof(strings), "~g~Freedom");
			GameTextForPlayer(playerid, strings, 5000, 1);
			PlayerInfo[playerid][pJail] = 0;
			PlayerInfo[playerid][pJailTime] = 0;
			DeletePVar(GetPVarInt(playerid, "GovNameGive"), "GovName");
			DeletePVar(playerid, "GovNameGive"), DeletePVar(playerid, "GovType");
			return 1;
		}
		case did_exchequer:
		{
			new money, fraction;
			if(!response) return 1;
			if(sscanf(inputtext, "p<,>ii",  fraction, money)) return GiveExchequer(playerid);
			if(money < 1 || money > Exchequer || money > MayorLimitMoney) return GiveExchequer(playerid);
			if(fraction < 1 || fraction > 22 || (fraction > 7 && fraction < 22)) return SendMes(playerid, COLOR_DARKORANGE, "Укажите ID фракции от 1 до 7 или 22."), GiveExchequer(playerid);
			if(!IsAGovF(fraction)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете перевести средства на счет данной организации."), GiveExchequer(playerid);
            MayorLimitMoney -= money;
            SaveMayorLimit();
            GiveFracBank(fraction, money);
			Exchequer -= money;
			SaveExchequer();
			if(AdminLogged[playerid] == false)
			{
				format(strings, sizeof(strings), "Вы перевели {"#DC_WHITE"}$%d{"#DC_MAIN"} на счет {"#DC_WHITE"}%s.", money, FracInfo[fraction][fName]);
				SendMes(playerid, COLOR_MAIN, strings);
			}
			format(strings, sizeof(strings), "[A] %s [%d] перевел $%d в банк %s.", PlayerInfo[playerid][pName], playerid, money, FracInfo[fraction][fName]);
			SendAdminMessage(COLOR_LRED, strings, 8);
			GiveExchequer(playerid);
			format(strings, sizeof(strings), "%s перевел $%d в банк %s.", PlayerInfo[playerid][pName], money, FracInfo[fraction][fName]);
			WriteLog("logs_mayor", strings);
			return 1;
		}
		case did_clothes_shop:
		{
			if(!response) return 1;
			SavePlayerWeapon(playerid);
			SelectCharPlace[playerid] = 1;
			ClothesRound[playerid] = 2;
			SpawnInterior[playerid] = GetPlayerInterior(playerid);
			SpawnVirtualWorld[playerid] = GetPlayerVirtualWorld(playerid);
			GetPlayerPos(playerid, SpawnPos[playerid][0], SpawnPos[playerid][1], SpawnPos[playerid][2]);
			GetPlayerFacingAngle(playerid, SpawnPos[playerid][3]);
			SpawnPlayer(playerid);
			return 1;
		}
	    case did_setfraction:
	    {
	        if(!response) return 1;
	        if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	        if(PlayerInfo[playerid][pLeader] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	        switch(listitem)
	        {
		        case 0: SPD(playerid, did_setfraction_name, DSI, "{"#DC_MAIN"}Изменить название фракции", "{"#DC_WHITE"}Введите новое название организации:", "Далее", "Отмена");
		        case 1: SPD(playerid, did_setfraction_rank, DSI, "{"#DC_MAIN"}Изменить названия рангов", "{"#DC_WHITE"}Введите через запятую: номер ранга и название:", "Далее", "Отмена");
		        case 2: SPD(playerid, did_setfraction_color, DSI, "{"#DC_MAIN"}Изменить цвет фракции", "{"#DC_WHITE"}Введите новый цвет фракции", "Далее", "Отмена");
		        case 3: SPD(playerid, did_setfraction_veh_color, DSI, "{"#DC_MAIN"}Изменить цвет транспорта", "{"#DC_WHITE"}Введите через запятую: цвет № 1 и цвет № 2:", "Далее", "Отмена");
		        case 4: SPD(playerid, did_setfraction_salary, DSI, "{"#DC_MAIN"}Изменить зарплату", "{"#DC_WHITE"}Введите зарплаты по рангам через запятую:", "Далее", "Отмена");
		        case 5: SPD(playerid, did_setfraction_skin, DSI, "{"#DC_MAIN"}Изменить скины", "{"#DC_WHITE"}Введите ID скинов через запятую:", "Далее", "Отмена");
				case 6:
				{
				    new fraction = PlayerInfo[playerid][pLeader];
				    FracBank[fraction] = 0;
				    SetFractionInt(fraction, "bank", FracBank[fraction]);
				    SendMes(playerid, COLOR_MAIN, "Вы обнулили банк {"#DC_WHITE"}%s.", FracInfo[fraction][fName]);
				}
			}
			return 1;
	    }
	    case did_setfraction_name:
	    {
     		if(!response) return 1;
	        if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	        if(PlayerInfo[playerid][pLeader] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
   	    	new FracName[32];
			if(sscanf(inputtext, "s[32]", FracName)) return SPD(playerid, did_setfraction_name, DSI, "{"#DC_MAIN"}Изменить название фракции", "{"#DC_WHITE"}Введите новое название организации:", "Далее", "Отмена");
			new member = PlayerInfo[playerid][pMember];
			format(FracInfo[member][fName], 32, FracName);
			SendMes(playerid, COLOR_MAIN, "Название фракции изменено на {"#DC_WHITE"}\"%s\".", FracInfo[member][fName]);
			SetFractionStr(member, "name", FracInfo[member][fName]);
			return 1;
	    }
	    case did_setfraction_rank:
	    {
     		if(!response) return 1;
	        //if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	        if(PlayerInfo[playerid][pLeader] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
   	    	new rank, RankName[32];
			if(sscanf(inputtext, "p<,>ds[32]", rank, RankName)) SPD(playerid, did_setfraction_rank, DSI, "{"#DC_MAIN"}Изменить названия рангов", "{"#DC_WHITE"}Введите номер ранга и название через запятую:", "Далее", "Отмена");
			if(rank > 20 || rank < 1) SPD(playerid, did_setfraction_rank, DSI, "{"#DC_MAIN"}Изменить названия рангов", "{"#DC_WHITE"}Введите номер ранга и название через запятую:", "Далее", "Отмена");
			new member = PlayerInfo[playerid][pMember];
			format(FracRank[member][rank], 32, RankName);
			format(strings, sizeof(strings), "Название {"#DC_WHITE"}%d{"#DC_MAIN"} ранга изменено на {"#DC_WHITE"}\"%s\".", rank, RankName);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "rank%d", rank);
			SetFractionStr(member, strings, FracRank[member][rank]);
			return 1;
	    }
	    case did_setfraction_color:
	    {
     		if(!response) return 1;
	        if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	        if(PlayerInfo[playerid][pLeader] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
   	    	new FracColor[32];
			if(sscanf(inputtext, "s[32]", FracColor)) return SPD(playerid, did_setfraction_color, DSI, "{"#DC_MAIN"}Изменить цвет фракции", "{"#DC_WHITE"}Введите новый цвет фракции:", "Далее", "Отмена");
			new member = PlayerInfo[playerid][pMember];
			format(FracInfo[member][fColor], 32, FracColor);
			SendMes(playerid, COLOR_MAIN, "Цвет фракции изменен на {"#%s"}этот.", FracInfo[member][fColor]);
			SetFractionStr(member, "color", FracInfo[member][fColor]);
			return 1;
	    }
	    case did_setfraction_veh_color:
	    {
     		if(!response) return 1;
	        //if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	        if(PlayerInfo[playerid][pLeader] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
   	    	new color[2];
			if(sscanf(inputtext, "p<,>dd", color[0], color[1])) SPD(playerid, did_setfraction_veh_color, DSI, "{"#DC_MAIN"}Изменить цвет транспорта", "{"#DC_WHITE"}Введите через запятую: цвет № 1 и цвет № 2:", "Далее", "Отмена");
			if(color[0] > 255 || color[0] < 0) SPD(playerid, did_setfraction_veh_color, DSI, "{"#DC_MAIN"}Изменить цвет транспорта", "{"#DC_WHITE"}Введите через запятую: цвет № 1 и цвет № 2:", "Далее", "Отмена");
			if(color[1] > 255 || color[1] < 0) SPD(playerid, did_setfraction_veh_color, DSI, "{"#DC_MAIN"}Изменить цвет транспорта", "{"#DC_WHITE"}Введите через запятую: цвет № 1 и цвет № 2:", "Далее", "Отмена");
			new member = PlayerInfo[playerid][pMember];
			for(new i = 1; i < MAX_VEHICLES; i++)
			{
				if(VehInfo[i][vFraction] != member) continue;
				ChangeVehicleColor(i, color[0], color[1]);
				SaveVehicleColor(i, color[0], color[1]);
			}
			format(strings, sizeof(strings), "Цвет транспорта изменен на {"#DC_WHITE"}%d{"#DC_MAIN"} и {"#DC_WHITE"}%d.", color[0], color[1]);
			SendMes(playerid, COLOR_MAIN, strings);
			return 1;
	    }
	    case did_setfraction_salary:
	    {
     		if(!response) return 1;
	        if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	        if(PlayerInfo[playerid][pLeader] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
   	    	new FracPayCheck[128];
			if(sscanf(inputtext, "s[128]", FracPayCheck)) return SPD(playerid, did_setfraction_salary, DSI, "{"#DC_MAIN"}Изменить зарплату", "{"#DC_WHITE"}Введите зарплаты по рангам через запятую:", "Далее", "Отмена");
			new member = PlayerInfo[playerid][pMember];
			sscanf("0", "p<,>a<i>[21]", FracPay[member]);
			format(FracInfo[member][fPayDays], 128, FracPayCheck);
			sscanf(FracInfo[member][fPayDays], "p<,>iiiiiiiiiiiiiiiiiiii",
			FracPay[member][1],
			FracPay[member][2],
			FracPay[member][3],
			FracPay[member][4],
			FracPay[member][5],
			FracPay[member][6],
			FracPay[member][7],
			FracPay[member][8],
			FracPay[member][9],
			FracPay[member][10],
			FracPay[member][11],
			FracPay[member][12],
			FracPay[member][13],
			FracPay[member][14],
			FracPay[member][15],
			FracPay[member][16],
			FracPay[member][17],
			FracPay[member][18],
			FracPay[member][19],
			FracPay[member][20]);
			SendMes(playerid, COLOR_MAIN, "Зарплата фракции изменена на: {"#DC_WHITE"}%s.", FracInfo[member][fPayDays]);
			SetFractionStr(member, "payday", FracInfo[member][fPayDays]);
			return 1;
	    }
	    case did_setfraction_skin:
	    {
     		if(!response) return 1;
	        if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	        if(PlayerInfo[playerid][pLeader] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
   	    	new FracSkin[128];
			if(sscanf(inputtext, "s[128]", FracSkin)) return SPD(playerid, did_setfraction_skin, DSI, "{"#DC_MAIN"}Изменить скины", "{"#DC_WHITE"}Введите ID скинов через запятую:", "Далее", "Отмена");
			new member = PlayerInfo[playerid][pMember];
			sscanf("0", "p<,>a<i>[23]", FracInfo[member][fSkin]);
			format(FracInfo[member][fSkins], 128, FracSkin);
   			sscanf(FracInfo[member][fSkins], "p<,>iiiiiiiiiiiiiiiiiiiiiii",
   			FracInfo[member][fSkin][0],
			FracInfo[member][fSkin][1],
			FracInfo[member][fSkin][2],
			FracInfo[member][fSkin][3],
			FracInfo[member][fSkin][4],
			FracInfo[member][fSkin][5],
			FracInfo[member][fSkin][6],
			FracInfo[member][fSkin][7],
			FracInfo[member][fSkin][8],
			FracInfo[member][fSkin][9],
			FracInfo[member][fSkin][10],
			FracInfo[member][fSkin][11],
			FracInfo[member][fSkin][12],
			FracInfo[member][fSkin][13],
			FracInfo[member][fSkin][14],
			FracInfo[member][fSkin][15],
			FracInfo[member][fSkin][16],
			FracInfo[member][fSkin][17],
			FracInfo[member][fSkin][18],
			FracInfo[member][fSkin][19],
			FracInfo[member][fSkin][20],
			FracInfo[member][fSkin][21],
			FracInfo[member][fSkin][22]);
			SendMes(playerid, COLOR_MAIN, "Скины фракции изменены на: {"#DC_WHITE"}%s.", FracInfo[member][fSkins]);
			FracInfo[member][fSkin_Max] = 0;
			for(new i = 0; i < 23; i++)
			{
			    if(FracInfo[member][fSkin][i] == 0) continue;
			    FracInfo[member][fSkin_Max]++;
			}
			SetFractionStr(member, "skins", FracInfo[member][fSkins]);
			return 1;
	    }
		case did_biz_enter:
		{
			if(!response) return 1;
			new idx = GetPVarInt(playerid, "UseBiz");
			if(GetPVarInt(playerid, "EnterBiz") != idx && BizInfo[idx][bEnter] > 0)
			{
			    if(GetMoney(playerid) < BizInfo[idx][bEnter]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				ServerMoney(playerid, "Вход в бизнес", -BizInfo[idx][bEnter], 0);
				PayBizProfit(idx, 0, BizInfo[idx][bEnter]);
			}
			SetPlayerPos(playerid, BizInfo[idx][bSpawnX], BizInfo[idx][bSpawnY], BizInfo[idx][bSpawnZ]);
			SetPlayerFacingAngle(playerid, BizInfo[idx][bSpawnR]);
			SetPlayerInterior(playerid, BizInfo[idx][bInterior]);
			SetPlayerVirtualWorld(playerid, BizInfo[idx][bWorld]);
			SetCameraBehindPlayer(playerid);
			if(BizInfo[idx][bFreeze] != 0)
			{
				FreezePlayer(playerid, BizInfo[idx][bFreeze]);
			}
			SetPVarInt(playerid, "EnterBiz", idx);
			return 1;
		}
		case did_biz_menu:
		{
			if(!response) return 1;
			new i = PlayerInfo[playerid][pBiz];
			switch(listitem)
			{
			    case 0:
			    {
			        new status[32];
					if(GetPlayerID(BizInfo[i][bOwner]) == INVALID_PLAYER_ID) format(status, sizeof(status), "[{"#DC_LRED"}Offline{"#DC_WHITE"}]");
					else format(status, sizeof(status), "[{"#DC_GREEN"}Online{"#DC_WHITE"}]");
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
					Название: %s\n\
					Номер: %d\n\
					Владелец: %s %s\n\
					Касса: $%d\n\
					Стоимость входа: $%d\n\
					Стоимость товара: $%d\n\
					Прибыль за сегодня: $%d\n\
					Налог: $%d\n\
					Кол-во оплаченных дней: %d\n\
					Товара: %d\n\
					Контроль: %s", BizInfo[i][bName], BizInfo[i][id], BizInfo[i][bOwner], status, BizInfo[i][bMoney], BizInfo[i][bEnter], BizInfo[i][bTill],
					BizInfo[i][bProfit], BizInfo[i][bTax], BizInfo[i][bPaymentDays], BizInfo[i][bProduct], FracInfo[BizInfo[i][bMafia]][fName]);
					SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация", totalstring, "Отмена", "");
			    }
				case 1:
				{
					if(BizInfo[i][bType] != 6 && BizInfo[i][bType] != 7) SPD(playerid, did_biz_price, DSI, "{"#DC_MAIN"}Цена", "{"#DC_WHITE"}Введите стоимость товара:", "Далее", "Отмена");
					else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете изменить стоимость товара.");
				}
				case 2:
				{
					if(BizInfo[i][bType] != 2 && BizInfo[i][bType] != 3 && BizInfo[i][bType] != 10) SPD(playerid, did_biz_penter, DSI, "{"#DC_MAIN"}Цена", "{"#DC_WHITE"}Введите стоимость входа:", "Далее", "Отмена");
					else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете сделать вход платным.");
				}
				case 3:
				{
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет\nТекущий баланс бизнеса: $%d.", BizInfo[i][bMoney]);
					SPD(playerid, did_biz_put, DSI, "{"#DC_MAIN"}Пополнение счета бизнеса", totalstring, "Далее", "Отмена");
				}
				case 4:
				{
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета бизнеса\nТекущий баланс бизнеса: $%d.", BizInfo[i][bMoney]);
					SPD(playerid, did_biz_take, DSI, "{"#DC_MAIN"}Снятие со счета бизнеса", totalstring, "Далее", "Отмена");
				}
				case 5:
				{
				    totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы хотите продать свой бизнес государству за $%d?", BizInfo[i][bPrice]+BizInfo[i][bMoney]);
					SPD(playerid, did_sellbiz, DSM, "{"#DC_MAIN"}Продажа бизнеса", totalstring, "Да", "Нет");
				}
				case 6:
				{
					new Float:VPos[3];
					SetPVarFloat(playerid, "GPSX", BizInfo[i][bEnterX]);
					SetPVarFloat(playerid, "GPSY", BizInfo[i][bEnterY]);
					SetPVarFloat(playerid, "GPSZ", BizInfo[i][bEnterZ]);
					GetPlayerPos(playerid, VPos[0], VPos[1], VPos[2]);
					SetPVarInt(playerid, "pGPSWork", 1);
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerRaceCheckpoint(playerid, 1, GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ"), 0, 0, 0, 5.0);
					SendMes(playerid, COLOR_MAIN, "Местоположение {"#DC_WHITE"}бизнеса{"#DC_MAIN"} отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
					SendMes(playerid, COLOR_MAIN, "Расстояние: {"#DC_WHITE"}%.1f метров.", GetDistanceBetweenPoints(VPos[0], VPos[1], VPos[2], GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ")));
				}
			}
			return 1;
		}
		case did_biz_price:
		{
			if(!response) return 1;
			new price, i = PlayerInfo[playerid][pBiz];
			if(sscanf(inputtext, "i", price)) SPD(playerid, did_biz_price, DSI, "{"#DC_MAIN"}Цена", "{"#DC_WHITE"}Введите стоимость товара:", "Далее", "Отмена");
            if(price < 1 || price > 5) return SPD(playerid, did_biz_price, DSI, "{"#DC_MAIN"}Цена", "{"#DC_WHITE"}Введите стоимость товара:\n\n{"#DC_RED"}Ошибка: Введите значение цены от 1 до 5.", "Далее", "Отмена");
			BizInfo[i][bTill] = price;
		    SaveBiz(i);
			if(BizInfo[i][bType] == 2) UpdateBiz(i);
			SendMes(playerid, COLOR_MAIN, "Вы установили значение цены товара на {"#DC_WHITE"}$%d.", price);
			return 1;
		}
		case did_biz_penter:
		{
			if(!response) return 1;
			new price, i = PlayerInfo[playerid][pBiz];
			if(sscanf(inputtext, "i", price)) SPD(playerid, did_biz_penter, DSI, "{"#DC_MAIN"}Цена", "{"#DC_WHITE"}Введите стоимость входа:", "Далее", "Отмена");
			if(price < 0 || price > 5000) return SPD(playerid, did_biz_penter, DSI, "{"#DC_MAIN"}Цена", "{"#DC_WHITE"}Введите стоимость входа:\n\n{"#DC_RED"}Ошибка: Введите значение цены от 0 до 5000.", "Далее", "Отмена");
			BizInfo[i][bEnter] = price;
		    SaveBiz(i);
			SendMes(playerid, COLOR_MAIN, "Вы установили значение цены за вход на {"#DC_WHITE"}$%d.", price);
			return 1;
		}
		case did_biz_put:
		{
			if(!response) return cmd_biz(playerid, inputtext);
			new price;
			new i = PlayerInfo[playerid][pBiz];
			if(sscanf(inputtext, "i", price))
			{
   				totalstring = "";
			    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет\nТекущий баланс бизнеса: $%d.", BizInfo[i][bMoney]);
				return SPD(playerid, did_biz_put, DSI, "{"#DC_MAIN"}Пополнение счета бизнеса", totalstring, "Далее", "Отмена");
			}
			if(price < 1)
			{
   				totalstring = "";
			    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет\nТекущий баланс бизнеса: $%d.", BizInfo[i][bMoney]);
				return SPD(playerid, did_biz_put, DSI, "{"#DC_MAIN"}Пополнение счета бизнеса", totalstring, "Далее", "Отмена");
			}
			if(GetMoney(playerid) < price)
			{
			    SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
   				totalstring = "";
			    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет\nТекущий баланс бизнеса: $%d.", BizInfo[i][bMoney]);
				return SPD(playerid, did_biz_put, DSI, "{"#DC_MAIN"}Пополнение счета бизнеса", totalstring, "Далее", "Отмена");
			}
			ServerMoney(playerid, "Положил на счет бизнеса", -price, 0);
			BizInfo[i][bMoney] += price;
		    SaveBiz(i);
			format(strings, sizeof(strings), "Вы положили на счет бизнеса {"#DC_WHITE"}$%d.{"#DC_MAIN"} Текущий баланс бизнеса: {"#DC_WHITE"}$%d.", price, BizInfo[i][bMoney]);
			SendMes(playerid, COLOR_MAIN, strings);
			return 1;
		}
		case did_biz_take:
		{
			if(!response) return cmd_biz(playerid, inputtext);
			new price;
			new i = PlayerInfo[playerid][pBiz];
			new money = BizInfo[i][bMoney];
			if(sscanf(inputtext, "i", price))
			{
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета бизнеса\nТекущий баланс бизнеса: $%d.", BizInfo[i][bMoney]);
				return SPD(playerid, did_biz_take, DSI, "{"#DC_MAIN"}Снятие со счета бизнеса", totalstring, "Далее", "Отмена");
			}
			if(price < 1)
			{
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета бизнеса\nТекущий баланс бизнеса: $%d.", BizInfo[i][bMoney]);
				return SPD(playerid, did_biz_take, DSI, "{"#DC_MAIN"}Снятие со счета бизнеса", totalstring, "Далее", "Отмена");
			}
			if(money < price)
			{
			    SendMes(playerid, COLOR_DARKORANGE, "На вашем счету в бизнесе нет столько денег.");
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета бизнеса\nТекущий баланс бизнеса: $%d.", BizInfo[i][bMoney]);
				return SPD(playerid, did_biz_take, DSI, "{"#DC_MAIN"}Снятие со счета бизнеса", totalstring, "Далее", "Отмена");
			}
			BizInfo[i][bMoney] -= price;
			ServerMoney(playerid, "Снял со счета бизнеса", price, 0);
		    SaveBiz(i);
			format(strings, sizeof(strings), "Вы вывели со счета бизнеса {"#DC_WHITE"}$%d.{"#DC_MAIN"} Текущий баланс бизнеса: {"#DC_WHITE"}$%d.", price, BizInfo[i][bMoney]);
			SendMes(playerid, COLOR_MAIN, strings);
			return 1;
		}
		case did_call:
		{
			if(!response) return 1;
			switch(listitem)
			{
				case 0:
				{
					new total = 0;
					if(GetPVarInt(playerid, "CallMech") > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Извините, но вы уже вызывали механиков.");
					foreach(new i:Player)
					{
						if(PlayerLogged[i] == 0 || i == playerid || GetPlayerState(i) != 2 || GetVehicleModel(GetPlayerVehicleID(i)) != 525) continue;
						if(PlayerInfo[i][pJob] == J_MECHANIC) // Вызов механика;
						{
							total++;
							MechCall = playerid;
							format(strings, sizeof(strings), "Диспетчер: Поступил вызов от {"#DC_WHITE"}%s{"#DC_YELLOW"}, в %.1f метрах от вас.", PlayerInfo[playerid][pName], GetDistanceBetweenPlayers(playerid, i));
							SendMes(i, COLOR_YELLOW, strings);
							SendMes(i, COLOR_YELLOW, "Чтобы принять вызов введите {"#DC_WHITE"}\"/yes\",{"#DC_YELLOW"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
							SetPVarInt(i, "NeedMech", 1);
							SetPVarInt(playerid, "CallMech", gettime() + 60);
						}
					}
					if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Извините, но в данный момент нет механиков на дежурстве.");
					SendMes(playerid, COLOR_YELLOW, "[Телефон] Диспетчер: Ваш запрос отправлен, ожидайте ответа.");
				}
				case 1:
				{
					new total = 0;
					if(GetPVarInt(playerid, "CallTaxi") > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Извините, но вы уже вызывали таксиста.");
					foreach(new i:Player)
					{
						if(PlayerLogged[i] == 0 || playerid == i || GetPVarInt(i, "TaxiJob") == 0) continue; // Вызов такси;
						if(PlayerInfo[i][pJob] == J_TAXI)
						{
							total++;
							TaxiCall = playerid;
							format(strings, sizeof(strings), "Диспетчер: Поступил вызов от {"#DC_WHITE"}%s{"#DC_YELLOW"}, в %.1f метрах от вас.", PlayerInfo[playerid][pName], GetDistanceBetweenPlayers(playerid, i));
							SendMes(i, COLOR_YELLOW, strings);
							SendMes(i, COLOR_YELLOW, "Чтобы принять вызов введите {"#DC_WHITE"}\"/yes\",{"#DC_YELLOW"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
							SetPVarInt(i, "NeedTaxi", 1);
							SetPVarInt(playerid, "CallTaxi", gettime() + 60);
						}
					}
					if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Извините, но в данный момент нет таксистов на дежурстве.");
					SendMes(playerid, COLOR_YELLOW, "[Телефон] Диспетчер: Ваш запрос отправлен, ожидайте ответа.");
				}
				case 2:
				{
					new total = 0;
					if(GetPVarInt(playerid, "CallMedic") > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Извините, но вы уже вызывали медиков.");
					foreach(new i:Player)
					{
						if(PlayerLogged[i] == 0 || !IsAMedic(i) || i == playerid) continue; // Вызов медиков;
						if(PlayerInfo[i][pDuty] > 0)
						{
							total++;
							MedicCall = playerid;
							format(strings, sizeof(strings), "Диспетчер: Поступил вызов от {"#DC_WHITE"}%s{"#DC_YELLOW"}, в %.1f метрах от вас.", PlayerInfo[playerid][pName], GetDistanceBetweenPlayers(playerid, i));
							SendMes(i, COLOR_YELLOW, strings);
							SendMes(i, COLOR_YELLOW, "Чтобы принять вызов введите {"#DC_WHITE"}\"/yes\",{"#DC_YELLOW"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
							SetPVarInt(i, "NeedMedic", 1);
							SetPVarInt(playerid, "CallMedic", gettime() + 60);
						}
					}
					if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Диспетчер: Извините, но в данный момент нет медиков на дежурстве.");
					SendMes(playerid, COLOR_YELLOW, "[Телефон] Диспетчер: Ваш запрос на медицинскую помощь отправлен! Ожидайте ответа.");
				}
				case 3:
				{
					new total = 0;
					if(GetPVarInt(playerid, "CallPolice") > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Извините, но вы уже вызывали полицию.");
					foreach(new i:Player)
					{
						if(PlayerLogged[i] == 0 || !IsACop(i) || i == playerid) continue;  // Вызов полиции;
						if(PlayerInfo[i][pDuty] > 0) total++;
					}
					if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Извините, но в данный момент нет полицейских на дежурстве.");
					SPD(playerid, did_call_police, DSI, "{"#DC_MAIN"}Вызов полиции", "{"#DC_WHITE"}Опишите ситуацию и ваше местонахождение:", "Далее", "Отмена");
				}
			}
			return 1;
		}
		case did_call_police:
		{
			if(!response) return 1;
			new reason[128];
			if(sscanf(inputtext, "s[128]", reason)) return SPD(playerid, did_call_police, DSI, "{"#DC_MAIN"}Вызов полиции", "{"#DC_WHITE"}Опишите ситуацию и ваше местонахождение:", "Далее", "Отмена");
			SendMes(playerid, COLOR_YELLOW, "[Телефон] Диспетчер: Ваш запрос на вызов полиции отправлен! Ожидайте ответа.");
			foreach(new i:Player)
			{
				if(PlayerLogged[i] == 0 || !IsACop(i) || i == playerid) continue;
				if(PlayerInfo[i][pDuty] > 0 && IsPlayerInRangeOfPlayer(1500.0, playerid, i))
				{
					PoliceCall = playerid;
					format(strings, sizeof(strings), "Диспетчер: Поступил вызов от {"#DC_WHITE"}%s{"#DC_YELLOW"}, в %.1f метрах от вас.", PlayerInfo[playerid][pName], GetDistanceBetweenPlayers(playerid, i));
					SendMes(i, COLOR_YELLOW, strings);
					SendMes(i, COLOR_YELLOW, "Чтобы принять вызов введите {"#DC_WHITE"}\"/yes\",{"#DC_YELLOW"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
					SetPVarInt(i, "NeedPolice", 1);
					SetPVarInt(playerid, "CallPolice", gettime() + 60);
				}
			}
			return 1;
		}
		case did_setwarehouse:
		{
			if(!response) return 1;
			SetPVarInt(playerid, "UseWarehouse", 60+listitem);
			new idx = GetPVarInt(playerid, "UseWarehouse");
   			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите новое состояние склада.\nТекущие состояние: {"#DC_GREEN"}%d", Warehouse[idx]);
			SPD(playerid, did_setwarehouse_edit, DSI, "{"#DC_MAIN"}Управление складом", totalstring, "Далее", "Отмета");
			return 1;
		}
		case did_setwarehouse_edit:
		{
			if(!response) return 1;
			new idx = GetPVarInt(playerid, "UseWarehouse"), quantity;
			if(sscanf(inputtext, "i", quantity))
			{
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите новое состояние склада.\nТекущие состояние: {"#DC_GREEN"}%d", Warehouse[idx]);
				return SPD(playerid, did_setwarehouse_edit, DSI, "{"#DC_MAIN"}Управление складом", totalstring, "Далее", "Отмета");
			}
			Warehouse[idx] = 0;
			SetWarehouse(idx, quantity);
			format(strings, sizeof(strings), "Склад {"#DC_WHITE"}%d{"#DC_MAIN"} изменен на {"#DC_WHITE"}%d.", idx, quantity);
			SendMes(playerid, COLOR_MAIN, strings);
			return 1;
		}
		case did_setfwarehouse:
		{
			if(!response) return 1;
			SetPVarInt(playerid, "UseWarehouse", 1+listitem);
			new idx = GetPVarInt(playerid, "UseWarehouse");
   			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите новое состояние склада.\nТекущие состояние:\nМатериал 1: {"#DC_GREEN"}%d\n{"#DC_WHITE"}Материал 2: {"#DC_GREEN"}%d", Warehouse[idx], Warehouse[30+idx]);
			SPD(playerid, did_setfwarehouse_edit, DSI, "{"#DC_MAIN"}Управление складом", totalstring, "Далее", "Отмета");
			return 1;
		}
		case did_setfwarehouse_edit:
		{
			if(!response) return 1;
			new idx = GetPVarInt(playerid, "UseWarehouse"), quantity[3];
			if(sscanf(inputtext, "p<,>ii", quantity[1], quantity[2]))
			{
   				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите новое состояние склада.\nТекущие состояние:\nМатериал 1: {"#DC_GREEN"}%d\n{"#DC_WHITE"}Материал 2: {"#DC_GREEN"}%d", Warehouse[idx], Warehouse[30+idx]);
				return SPD(playerid, did_setfwarehouse_edit, DSI, "{"#DC_MAIN"}Управление складом", totalstring, "Далее", "Отмета");
			}
			Warehouse[idx] = 0;
			Warehouse[30+idx] = quantity[2];
			SetWarehouse(idx, quantity[1]);
			format(strings, sizeof(strings), "Склад {"#DC_WHITE"}%d{"#DC_MAIN"} изменен на {"#DC_WHITE"}%d.", idx, quantity[1]);
			SendMes(playerid, COLOR_MAIN, strings);
			return 1;
		}
		case did_add:
		{
			if(response)
			{
				switch(listitem)
				{
					case 0: SPD(playerid, did_add_house, DSM, "{"#DC_MAIN"}Добавить дом", "{"#DC_WHITE"}Вы хотите начать установку дома?", "Да", "Нет");
					case 1: SPD(playerid, did_add_biz, DSL, "{"#DC_MAIN"}Добавить бизнес", "Магазин 24/7\nЗаправка\nЗакусочная\nКлуб\nМагазин оружия\nМагазин одежды\nМагазин аксессуаров\nСпортзал\nАвтосервис\nРиэлторское агентство\nКазино", "Далее", "Отмена");
					case 2: SPD(playerid, did_add_pickup, DSI, "{"#DC_MAIN"}Добавить пикап", "{"#DC_WHITE"}Введите вирт. мир, тип, модель, статус, организацию и имя через запятую:", "Далее", "Отмена");
					case 3: SPD(playerid, did_add_vehicle, DSI, "{"#DC_MAIN"}Добавить транспорт", "{"#DC_WHITE"}Введите модель, цвет № 1, цвет № 2, организацию и статус через запятую:", "Далее", "Отмена");
					case 4: SPD(playerid, did_add_atm, DSI, "{"#DC_MAIN"}Добавить банкомат", "{"#DC_WHITE"}Введите название:", "Далее", "Отмена");
					case 5: SPD(playerid, did_add_gps, DSI, "{"#DC_MAIN"}Добавить GPS", "{"#DC_WHITE"}Введите название локации и тип", "Далее", "Отмена");
					case 6: SPD(playerid, did_add_teleport, DSI, "{"#DC_MAIN"}Добавить телепорт", "{"#DC_WHITE"}Введите название телепорта и тип:", "Далее", "Отмена");
					case 7: SPD(playerid, did_add_enter, DSM, "{"#DC_MAIN"}Добавить вход", "{"#DC_WHITE"}Вы действительно хотите начать установку входа?", "Далее", "Отмена");
					case 8: SPD(playerid, did_add_icon, DSI, "{"#DC_MAIN"}Добавить иконку на карте", "{"#DC_WHITE"}Введите ID, вирт. мир, интерьер, playerid, дистанцию и название через запятую:", "Далее", "Отмена");
					case 9: SPD(playerid, did_add_area, DSI, "{"#DC_MAIN"}Добавить арену", "{"#DC_WHITE"}Введите название, радиус и тип через запятую:", "Далее", "Отмена");
     				case 10:
     				{
						HPC[playerid] = 0;
						SendMes(playerid, COLOR_MAIN, "Установите координаты интерьера: {"#DC_WHITE"}/hotelpos.");
     				}
				    case 11:
				    {
						if(TOTALGRAFFITI >= MAX_GRAFFITI) return SendMes(playerid, COLOR_DARKORANGE, "Уже установлено максимальное количество граффити.");
						if(GetPVarInt(playerid, "LoadGraffiti") > 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже устанавливаете граффити.");
						new Float:x, Float:y, Float:z, Float:angle;
						GetPlayerPos(playerid, x, y, z);
						GetPlayerFacingAngle(playerid, angle);
						x += floatsin(-angle, degrees);
						y += floatcos(-angle, degrees);
						SendMes(playerid, COLOR_MAIN, "Чтобы сохранить граффити нажмите на кнопку со значком дискеты.");
						SendMes(playerid, COLOR_MAIN, "Если вы хотите отменить установку нажмите клавишу ESC.");
						new graffiti = CreateDynamicObject(18660, x, y, z, 0.0, 0.0, 0.0, -1, -1, -1, 120.00, 120.00);
						SetPVarInt(playerid, "LoadGraffiti", graffiti+1);
						EditDynamicObject(playerid, graffiti);
				    }
				    case 12:
				    {
						BPC[playerid] = 0;
						SendMes(playerid, COLOR_MAIN, "Установите координаты входа: {"#DC_WHITE"}/farmpos.");
				    }
				    case 13:
				    {
						BPC[playerid] = 0;
						SendMes(playerid, COLOR_MAIN, "Установите координаты входа: {"#DC_WHITE"}/servicepos.");
				    }
				    case 14: SPD(playerid, did_add_stop, DSI, "{"#DC_MAIN"}Добавить остановку", "{"#DC_WHITE"}Введите название остановки, стоимость поездки и тип через запятую:", "Далее", "Отмена");
	            }
			}
			return 1;
		}
		case did_add_house:
		{
			if(!response) return 1;
			SendMes(playerid, COLOR_MAIN, "Припаркуйте авто около будущего дома, потом введите: {"#DC_WHITE"}/hpos");
			TPC[playerid] = false;
			return 1;
		}
		case did_add_house_end:
		{
			if(response)
			{
				new price, type, Float:x, Float:y, Float:z;
				if(sscanf(inputtext, "p<,>ii", price, type))
				{
   					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите стоимость и интерьер:");
					return SPD(playerid, did_add_house_end, DSI, "{"#DC_MAIN"}Добавить дом", totalstring, "Далее", "Отмена");
				}
				if(type < 1 || type > 36)
				{
		   			totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите стоимость и интерьер:");
					return SPD(playerid, did_add_house_end, DSI, "{"#DC_MAIN"}Добавить дом", totalstring, "Далее", "Отмена");
				}
				TOTALHOUSE++;
				GetPlayerPos(playerid, x, y, z);
				HouseInfo[TOTALHOUSE][hEnterX] = x;
				HouseInfo[TOTALHOUSE][hEnterY] = y;
				HouseInfo[TOTALHOUSE][hEnterZ] = z;
				/*switch(type)
				{
					case 1: format(strings, sizeof(strings), "140.2660, 1366.1091, 1083.8594, 5, 5, 134.6408, 1381.6107, 1083.8650"); // Class 5
					case 2: format(strings, sizeof(strings), "260.8800, 1237.2365, 1084.2578, 2, 9, 257.1649, 1243.6532, 1084.2578"); // Class 2
					case 3: format(strings, sizeof(strings), "234.1541, 1063.7206, 1084.2123, 5, 6, 239.2561, 1084.3563, 1084.1875"); // Class 5
					case 4: format(strings, sizeof(strings), "327.9864, 1477.7328, 1084.4375, 2, 15, 319.6538,1483.3765,1084.4375"); // Class 2
					case 5: format(strings, sizeof(strings), "2237.5413, -1081.1516, 1049.04, 3, 2, 2235.8845, -1073.8992, 1049.0234"); // Class 3
					case 6: format(strings, sizeof(strings), "24.0716, 1340.1615, 1084.3750, 4, 10, 18.3513, 1341.2623, 1084.3750"); // Class 4
					case 7: format(strings, sizeof(strings), "2495.9094, -1692.0834, 1014.7422, 2, 10, 2490.5703, -1699.8693, 1014.7422"); // Class 2
					case 8: format(strings, sizeof(strings), "2196.8469, -1204.3524, 1049.0234, 3, 6, 2194.8660, -1210.6921, 1049.0234"); // Class 3
					case 9: format(strings, sizeof(strings), "2317.7983, -1026.7651, 1050.2178, 5, 9, 2316.1675, -1010.8118, 1054.7188"); // Class 5
					case 10: format(strings, sizeof(strings), "2365.3345, -1135.5907, 1050.8826, 3, 8, 2363.7673, -1127.5165, 1050.8826"); // Class 3
					case 11: format(strings, sizeof(strings), "2282.8831, -1140.0713, 1050.8984, 1, 11, 2286.2476, -1137.5751, 1050.8984"); // Class 1
					case 12: format(strings, sizeof(strings), "2495.9900, -1692.0834, 1014.7422, 3, 3, 2490.5691, -1699.9259, 1014.7422"); // Class 3
					case 13: format(strings, sizeof(strings), "-68.8411, 1351.3397, 1080.2109, 2, 6, -70.4759, 1355.9539, 1080.2109"); // Class 2
					case 14: format(strings, sizeof(strings), "-283.6001, 1471.2211, 1084.3750, 4, 15, 1248.1824, -838.8465, 1084.0078"); // Class 4
					case 15: format(strings, sizeof(strings), "-42.5525, 1405.6432, 1084.4297, 2, 8, -42.6116, 1412.7671, 1084.4297"); // Class 2
					case 16: format(strings, sizeof(strings), "83.0791, 1322.2808, 1083.8662, 4, 9, 81.6333,1334.3400,1083.8672"); // Class 4
					case 17: format(strings, sizeof(strings), "447.2238, 1397.2926, 1084.3047, 3, 2, 459.1086, 1408.0153, 1084.3080"); // Class 3
					case 18: format(strings, sizeof(strings), "235.2748, 1186.6809, 1080.2578, 4, 3, 235.2695, 1199.8770, 1080.2645"); // Class 4
					case 19: format(strings, sizeof(strings), "226.4436, 1239.9277, 1082.1406, 2, 2, 218.5495, 1247.3936, 1082.1481"); // Class 2
					case 20: format(strings, sizeof(strings), "244.0883, 305.0291, 999.1484, 1, 1, 248.6820,306.6338,999.1484"); // Class 1
					case 21: format(strings, sizeof(strings), "226.2956, 1114.1615, 1080.9929, 5, 5, 238.4682, 1108.9768, 1080.9922"); // Class 5
					case 22: format(strings, sizeof(strings), "295.2479, 1472.2650, 1080.2578, 3, 15, 290.5907,1482.3685,1080.2578"); // Class 3
					case 23: format(strings, sizeof(strings), "261.1874, 1284.2982, 1080.2578, 2, 4, 260.7229, 1294.1117, 1080.2578"); // Class 2
					case 24: format(strings, sizeof(strings), "-260.4934, 1456.8430, 1084.3672, 4, 4, -268.3171,1458.2379,1084.3672"); // Class 4
					case 25: format(strings, sizeof(strings), "22.9848, 1403.3345, 1084.4370, 3, 5, 22.3939,1412.9506,1084.4297"); // Class 3
					case 26: format(strings, sizeof(strings), "2468.2080, -1698.2988, 1013.5078, 2, 2, 2455.7119, -1706.8771, 1013.5078"); // Class 2
					case 27: format(strings, sizeof(strings), "266.9498, 304.9866, 999.1484, 1, 2, 270.4576,303.5117,999.1558"); // Class 1
					case 28: format(strings, sizeof(strings), "422.3438, 2536.4980, 10.0000, 1, 10, 413.1168, 2536.7703, 10.0000"); // Class 1
					case 29: format(strings, sizeof(strings), "443.4504, 509.2181, 1001.4195, 2, 12, 446.7291,506.4250,1001.4195"); // Class 2
					case 30: format(strings, sizeof(strings), "2324.3977, -1149.0601, 1050.7101, 4, 12, 2332.6697, -1144.4200, 1054.3047"); // Class 4
					case 31: format(strings, sizeof(strings), "2807.6919, -1174.2933, 1025.5703, 3, 8, 2807.3689, -1165.1272, 1025.5703"); // Class 3
					case 32: format(strings, sizeof(strings), "2807.6918, -1174.2933, 1025.5703, 3, 5, 2231.7368, -1112.3108, 1050.8828"); // Class 3
					case 33: format(strings, sizeof(strings), "221.7789, 1140.1970, 1082.6094, 2, 4, 220.2885, 1148.9274, 1082.6094"); // Class 2
					case 34: format(strings, sizeof(strings), "387.1313, 1471.7137, 1080.1949, 3, 15, 380.4494, 1472.8882, 1080.1875"); // Class 3
					case 35: format(strings, sizeof(strings), "377.1231, 1417.3163, 1081.3281, 3, 15, 357.9674, 1409.9434, 1081.3281"); // Class 3
					case 36: format(strings, sizeof(strings), "1298.5791, -796.7697, 1084.0078, 5, 5, 1263.9600, -764.6653, 1084.0078"); // Class 5
				}*/
				sscanf(addhouse, "p<,>ffff",
				HouseInfo[TOTALHOUSE][hVehicleX], HouseInfo[TOTALHOUSE][hVehicleY], HouseInfo[TOTALHOUSE][hVehicleZ], HouseInfo[TOTALHOUSE][hVehicleR]);
				sscanf(strings, "p<,>fffii",
				HouseInfo[TOTALHOUSE][hExitX], HouseInfo[TOTALHOUSE][hExitY], HouseInfo[TOTALHOUSE][hExitZ], HouseInfo[TOTALHOUSE][hDiscript],
				HouseInfo[TOTALHOUSE][hInterior]);
				HouseInfo[TOTALHOUSE][hWorld] = TOTALHOUSE;
				HouseInfo[TOTALHOUSE][hPrice] = price;
				HouseInfo[TOTALHOUSE][hPaymentDays] = 3;
				strmid(HouseInfo[TOTALHOUSE][hOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
				HouseInfo[TOTALHOUSE][hMapIcon] = CreateDynamicMapIcon(HouseInfo[TOTALHOUSE][hEnterX], HouseInfo[TOTALHOUSE][hEnterY], HouseInfo[TOTALHOUSE][hEnterZ], 31, 0, -1, -1, -1, 50.0);
				HouseInfo[TOTALHOUSE][hPickup] = CreatePickup(1273, 1, HouseInfo[TOTALHOUSE][hEnterX], HouseInfo[TOTALHOUSE][hEnterY], HouseInfo[TOTALHOUSE][hEnterZ]);
				HotelInfo[TOTALHOTEL][hPickupExit] = CreatePickup(19132, 1, HotelInfo[TOTALHOTEL][hExitX], HotelInfo[TOTALHOTEL][hExitY], HotelInfo[TOTALHOTEL][hExitZ], HotelInfo[TOTALHOTEL][hWorld]);
				mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_HOUSE" (id, x, y, z, ex, ey, ez, discript, price, interior, world, vehiclex, vehicley, vehiclez, vehicler) VALUES (%d, '%f', '%f', '%f', '%f', '%f', '%f', %d, %d, %d, %d, '%f', '%f', '%f', '%f')",
				TOTALHOUSE, HouseInfo[TOTALHOUSE][hEnterX], HouseInfo[TOTALHOUSE][hEnterY], HouseInfo[TOTALHOUSE][hEnterZ], HouseInfo[TOTALHOUSE][hExitX], HouseInfo[TOTALHOUSE][hExitY], HouseInfo[TOTALHOUSE][hExitZ],
				HouseInfo[TOTALHOUSE][hDiscript], HouseInfo[TOTALHOUSE][hPrice], HouseInfo[TOTALHOUSE][hInterior], HouseInfo[TOTALHOUSE][hWorld], HouseInfo[TOTALHOUSE][hVehicleX], HouseInfo[TOTALHOUSE][hVehicleY],
				HouseInfo[TOTALHOUSE][hVehicleZ], HouseInfo[TOTALHOUSE][hVehicleR]);
				mysql_query(mysql, request, false);
				SendMes(playerid, COLOR_MAIN, "Дом {"#DC_WHITE"}%d{"#DC_MAIN"} создан.", TOTALHOUSE);
			}
			TPC[playerid] = false;
			return 1;
		}
		case did_add_biz:
		{
			if(!response) return 1;
			switch(listitem)
			{
				case 0: SetPVarInt(playerid, "AddBizType", 1), BPC[playerid] = 0, SendMes(playerid, COLOR_MAIN, "Установите координаты интерьера: {"#DC_WHITE"}/bpos."); // Магазин 24-7
				case 1: SetPVarInt(playerid, "AddBizType", 2), BPC[playerid] = 2, SendMes(playerid, COLOR_MAIN, "Установите местоположение бизнеса: {"#DC_WHITE"}/bpos."); // Заправка
				case 2: SetPVarInt(playerid, "AddBizType", 3), BPC[playerid] = 0, SendMes(playerid, COLOR_MAIN, "Установите координаты интерьера: {"#DC_WHITE"}/bpos."); // Закусочная
				case 3: SetPVarInt(playerid, "AddBizType", 4), BPC[playerid] = 0, SendMes(playerid, COLOR_MAIN, "Установите координаты интерьера: {"#DC_WHITE"}/bpos."); // Клуб
				case 4: SetPVarInt(playerid, "AddBizType", 5), BPC[playerid] = 0, SendMes(playerid, COLOR_MAIN, "Установите координаты интерьера: {"#DC_WHITE"}/bpos."); // Магазин оружия
				case 5: SetPVarInt(playerid, "AddBizType", 6), BPC[playerid] = 2, SendMes(playerid, COLOR_MAIN, "Установите местоположение бизнеса: {"#DC_WHITE"}/bpos."); // Магазин одежды
				case 6: SetPVarInt(playerid, "AddBizType", 7), BPC[playerid] = 0, SendMes(playerid, COLOR_MAIN, "Установите координаты интерьера: {"#DC_WHITE"}/bpos."); //Магазин аксессуаров
				case 7: SetPVarInt(playerid, "AddBizType", 8), BPC[playerid] = 0, SendMes(playerid, COLOR_MAIN, "Установите координаты интерьера: {"#DC_WHITE"}/bpos."); //Спортзал
				case 8: SetPVarInt(playerid, "AddBizType", 9), BPC[playerid] = 0, SendMes(playerid, COLOR_MAIN, "Установите координаты интерьера: {"#DC_WHITE"}/bpos."); //Автосервис
				case 9: SetPVarInt(playerid, "AddBizType", 10), BPC[playerid] = 0, SendMes(playerid, COLOR_MAIN, "Установите координаты интерьера: {"#DC_WHITE"}/bpos."); //Риэлторское агенство
				case 10: SetPVarInt(playerid, "AddBizType", 11), BPC[playerid] = 0, SendMes(playerid, COLOR_MAIN, "Установите координаты интерьера: {"#DC_WHITE"}/bpos."); //Казино
			}
			return 1;
		}
		case did_add_biz_end:
		{
			if(!response) return 1;
			new price, tax, name[64], mapicon;
			if(sscanf(inputtext, "p<,>iis[64]i", price, tax, name, mapicon)) return SPD(playerid, did_add_biz_end, DSI, "{"#DC_MAIN"}Добавить бизнес", "{"#DC_WHITE"}Введите стоимость, налог, название бизнеса и id mapicon через запятую:", "Далее", "Отмена");
			TOTALBIZ++;
			BizInfo[TOTALBIZ][id] = TOTALBIZ;
			sscanf(addbiz1, "p<,>fffi",
			BizInfo[TOTALBIZ][bExitX], BizInfo[TOTALBIZ][bExitY], BizInfo[TOTALBIZ][bExitZ],
			BizInfo[TOTALBIZ][bInterior]);
			sscanf(addbiz2, "p<,>fff",
			BizInfo[TOTALBIZ][bMenuX], BizInfo[TOTALBIZ][bMenuY], BizInfo[TOTALBIZ][bMenuZ]);
			BizInfo[TOTALBIZ][bType] = GetPVarInt(playerid, "AddBizType");
			BizInfo[TOTALBIZ][bMapIcon] = mapicon;
			BizInfo[TOTALBIZ][bPrice] = price;
			BizInfo[TOTALBIZ][bTax] = tax;
			GetPlayerPos(playerid, BizInfo[TOTALBIZ][bEnterX], BizInfo[TOTALBIZ][bEnterY], BizInfo[TOTALBIZ][bEnterZ]);
			strmid(BizInfo[TOTALBIZ][bOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
			strmid(BizInfo[TOTALBIZ][bName], name, 0, strlen(name), MAX_PLAYER_NAME);
			BizInfo[TOTALBIZ][bWorld] = TOTALBIZ;
			BizInfo[TOTALBIZ][bEnter] = 100;
			BizInfo[TOTALBIZ][bProduct] = 0;
			BizInfo[TOTALBIZ][bTill] = 1;
			if(BizInfo[TOTALBIZ][bMapIcon] != 1) BizInfo[TOTALBIZ][bIcon] = CreateDynamicMapIcon(BizInfo[TOTALBIZ][bEnterX], BizInfo[TOTALBIZ][bEnterY], BizInfo[TOTALBIZ][bEnterZ], BizInfo[TOTALBIZ][bMapIcon], 0, -1, -1, -1, 50.0);
			if(BizInfo[TOTALBIZ][bType] != 2 && BizInfo[TOTALBIZ][bType] != 9)
			{
				if(!strcmp(BizInfo[TOTALBIZ][bOwner], "None", true))
				{
					format(strings, sizeof(strings), "%s\n{"#DC_LYELLOW"}%s\n{"#DC_WHITE"}Стоимость: {"#DC_YELLOW"}$%d{"#DC_WHITE"}\n{"#DC_WHITE"}Бизнес продается ( {"#DC_YELLOW"}/buybiz{"#DC_WHITE"} )\nКонтроль: {"#DC_YELLOW"}%s{"#DC_WHITE"}", BizTypeName[BizInfo[TOTALBIZ][bType]-1], BizInfo[TOTALBIZ][bName], BizInfo[TOTALBIZ][bPrice], FracInfo[BizInfo[TOTALBIZ][bMafia]][fName]);
					LABELBIZ[TOTALBIZ] = Create3DText(strings, COLOR_YELLOW, BizInfo[TOTALBIZ][bEnterX], BizInfo[TOTALBIZ][bEnterY], BizInfo[TOTALBIZ][bEnterZ], 10.0, 0, 1);
				}
				else
				{
					format(strings, sizeof(strings), "%s\n{"#DC_LYELLOW"}%s\n{"#DC_WHITE"}Владелец: {"#DC_BLUE"}%s{"#DC_WHITE"}\nКонтроль: {"#DC_YELLOW"}%s{"#DC_WHITE"}", BizTypeName[BizInfo[TOTALBIZ][bType]-1], BizInfo[TOTALBIZ][bName], BizInfo[TOTALBIZ][bOwner], FracInfo[BizInfo[TOTALBIZ][bMafia]][fName]);
					LABELBIZ[TOTALBIZ] = Create3DText(strings, COLOR_YELLOW, BizInfo[TOTALBIZ][bEnterX], BizInfo[TOTALBIZ][bEnterY], BizInfo[TOTALBIZ][bEnterZ], 10.0, 0, 1);
				}
				BizInfo[TOTALBIZ][bPickup] = CreatePickup(19132, 1, BizInfo[TOTALBIZ][bEnterX], BizInfo[TOTALBIZ][bEnterY], BizInfo[TOTALBIZ][bEnterZ]);
				BizInfo[TOTALBIZ][bPickupExit] = CreatePickup(19132, 1, BizInfo[TOTALBIZ][bExitX], BizInfo[TOTALBIZ][bExitY], BizInfo[TOTALBIZ][bExitZ], BizInfo[TOTALBIZ][bWorld]);
				BizInfo[TOTALBIZ][bPickupMenu] = CreatePickup(1239, 1, BizInfo[TOTALBIZ][bMenuX], BizInfo[TOTALBIZ][bMenuY], BizInfo[TOTALBIZ][bMenuZ], BizInfo[TOTALBIZ][bWorld]);
			}
			else if(BizInfo[TOTALBIZ][bType] == 2)
			{
				if(!strcmp(BizInfo[TOTALBIZ][bOwner], "None", true))
				{
					format(strings, sizeof(strings), "%s\n{"#DC_LYELLOW"}%s\n{"#DC_WHITE"}Стоимость: {"#DC_YELLOW"}$%d{"#DC_WHITE"}\n{"#DC_WHITE"}Цена за 1 литр: {"#DC_LYELLOW"}$%d\n{"#DC_WHITE"}Цена канистры: {"#DC_LYELLOW"}$%d\n\n{"#DC_WHITE"}Для приобретения введите ( {"#DC_YELLOW"}/buybiz{"#DC_WHITE"} )\n\nДля заправки введите ( {"#DC_YELLOW"}/fill{"#DC_WHITE"} )\nДля приобретения канистры введите ( {"#DC_YELLOW"}/getfuel{"#DC_WHITE"} )\nКонтроль: {"#DC_YELLOW"}%s{"#DC_WHITE"}", BizTypeName[BizInfo[TOTALBIZ][bType]-1], BizInfo[TOTALBIZ][bName], BizInfo[TOTALBIZ][bPrice], BizInfo[TOTALBIZ][bTill] * 50, BizInfo[TOTALBIZ][bTill] * 50 * 10, FracInfo[BizInfo[TOTALBIZ][bMafia]][fName]);
					LABELBIZ[TOTALBIZ] = Create3DText(strings, COLOR_YELLOW, BizInfo[TOTALBIZ][bEnterX], BizInfo[TOTALBIZ][bEnterY], BizInfo[TOTALBIZ][bEnterZ], 10.0, 0, 1);
				}
				else
				{
					format(strings, sizeof(strings), "%s\n{"#DC_LYELLOW"}%s\n{"#DC_WHITE"}Владелец: {"#DC_BLUE"}%s\n{"#DC_WHITE"}Цена за 1 литр: {"#DC_LYELLOW"}$%d\n{"#DC_WHITE"}Цена канистры: {"#DC_LYELLOW"}$%d\n\n{"#DC_WHITE"}Для заправки введите ( {"#DC_YELLOW"}/fill{"#DC_WHITE"} )\nДля приобретения канистры введите ( {"#DC_YELLOW"}/getfuel{"#DC_WHITE"} )\nКонтроль: {"#DC_YELLOW"}%s{"#DC_WHITE"}", BizTypeName[BizInfo[TOTALBIZ][bType]-1], BizInfo[TOTALBIZ][bName], BizInfo[TOTALBIZ][bOwner], BizInfo[TOTALBIZ][bTill] * 50, BizInfo[TOTALBIZ][bTill] * 50 * 10, FracInfo[BizInfo[TOTALBIZ][bMafia]][fName]);
					LABELBIZ[TOTALBIZ] = Create3DText(strings, COLOR_YELLOW, BizInfo[TOTALBIZ][bEnterX], BizInfo[TOTALBIZ][bEnterY], BizInfo[TOTALBIZ][bEnterZ], 10.0, 0, 1);
				}
				BizInfo[TOTALBIZ][bPickup] = CreatePickup(1650, 1, BizInfo[TOTALBIZ][bEnterX], BizInfo[TOTALBIZ][bEnterY], BizInfo[TOTALBIZ][bEnterZ]);
			}
			else if(BizInfo[TOTALBIZ][bType] == 9)
			{
				if(!strcmp(BizInfo[TOTALBIZ][bOwner], "None", true))
				{
					format(strings, sizeof(strings), "%s\n{"#DC_LYELLOW"}%s\n{"#DC_WHITE"}Стоимость: {"#DC_YELLOW"}$%d{"#DC_WHITE"}\n{"#DC_WHITE"}Бизнес продается ( {"#DC_YELLOW"}/buybiz{"#DC_WHITE"} )\nКонтроль: {"#DC_YELLOW"}%s{"#DC_WHITE"}", BizTypeName[BizInfo[TOTALBIZ][bType]-1], BizInfo[TOTALBIZ][bName], BizInfo[TOTALBIZ][bPrice], FracInfo[BizInfo[TOTALBIZ][bMafia]][fName]);
					LABELBIZ[TOTALBIZ] = Create3DText(strings, COLOR_YELLOW, BizInfo[TOTALBIZ][bEnterX], BizInfo[TOTALBIZ][bEnterY], BizInfo[TOTALBIZ][bEnterZ], 10.0, 0, 1);
				}
				else
				{
					format(strings, sizeof(strings), "%s\n{"#DC_LYELLOW"}%s\n{"#DC_WHITE"}Владелец: {"#DC_BLUE"}%s{"#DC_WHITE"}\nКонтроль: {"#DC_YELLOW"}%s{"#DC_WHITE"}", BizTypeName[BizInfo[TOTALBIZ][bType]-1], BizInfo[TOTALBIZ][bName], BizInfo[TOTALBIZ][bOwner], FracInfo[BizInfo[TOTALBIZ][bMafia]][fName]);
					LABELBIZ[TOTALBIZ] = Create3DText(strings, COLOR_YELLOW, BizInfo[TOTALBIZ][bEnterX], BizInfo[TOTALBIZ][bEnterY], BizInfo[TOTALBIZ][bEnterZ], 10.0, 0, 1);
				}
				BizInfo[TOTALBIZ][bPickup] = CreatePickup(1239, 1, BizInfo[TOTALBIZ][bEnterX], BizInfo[TOTALBIZ][bEnterY], BizInfo[TOTALBIZ][bEnterZ]);
				AREASBIZ[TOTALBIZ] = CreateDynamicSphere(BizInfo[TOTALBIZ][bEnterX], BizInfo[TOTALBIZ][bEnterY], BizInfo[TOTALBIZ][bEnterZ], 15.0, -1, -1);
			}
			mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_BUSINESS" (id, x, y, z, ex, ey, ez, menux, menuy, menuz, interior, world, owner, name, price, tax, type, icon, product, till) VALUES (%d, '%f', '%f', '%f', '%f', '%f', '%f', '%f', '%f', '%f', %d, %d, '%e', '%e', %d, %d, %d, %d, %d, %d)",
			TOTALBIZ, BizInfo[TOTALBIZ][bEnterX], BizInfo[TOTALBIZ][bEnterY], BizInfo[TOTALBIZ][bEnterZ], BizInfo[TOTALBIZ][bExitX], BizInfo[TOTALBIZ][bExitY], BizInfo[TOTALBIZ][bExitZ], BizInfo[TOTALBIZ][bMenuX], BizInfo[TOTALBIZ][bMenuY], BizInfo[TOTALBIZ][bMenuZ],
			BizInfo[TOTALBIZ][bInterior], BizInfo[TOTALBIZ][bWorld], BizInfo[TOTALBIZ][bOwner], BizInfo[TOTALBIZ][bName], BizInfo[TOTALBIZ][bPrice], BizInfo[TOTALBIZ][bTax], BizInfo[TOTALBIZ][bType], BizInfo[TOTALBIZ][bMapIcon], BizInfo[TOTALBIZ][bProduct], BizInfo[TOTALBIZ][bTill]);
			mysql_query(mysql, request, false);
			SendMes(playerid, COLOR_MAIN, "Бизнес {"#DC_WHITE"}%d{"#DC_MAIN"} создан.", TOTALBIZ);
			return 1;
		}
		case did_add_pickup:
		{
			if(!response) return 1;
			new world, type, model, status, member, Float:x, Float:y, Float:z, pickupid, name[64];
			if(sscanf(inputtext, "p<,>iiiiis[64]", world, type, model, status, member, name)) return SPD(playerid, did_add_pickup, DSI, "{"#DC_MAIN"}Добавить пикап", "{"#DC_WHITE"}Введите вирт. мир, тип, модель, статус, организацию и имя через запятую:", "Далее", "Отмена");
            TOTALPICKUP++;
			GetPlayerPos(playerid, x, y, z);
			pickupid = CreatePickup(model, type, x, y, z, world);
			PickupInfo[pickupid][picPosX] = x;
			PickupInfo[pickupid][picPosY] = y;
			PickupInfo[pickupid][picPosZ] = z;
			PickupInfo[pickupid][picWorld] = world;
			PickupInfo[pickupid][picType] = type;
			PickupInfo[pickupid][picModel] = model;
			PickupInfo[pickupid][picStatus] = status;
			PickupInfo[pickupid][picMember] = member;
			mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_PICKUP" (`x`, `y`, `z`, `world`, `type`, `model`, `status`, `member`, `name`) VALUES ('%f', '%f', '%f', %d, %d, %d, %d, %d, '%e')",
			PickupInfo[pickupid][picPosX], PickupInfo[pickupid][picPosY], PickupInfo[pickupid][picPosZ], PickupInfo[pickupid][picWorld], PickupInfo[pickupid][picType],
			PickupInfo[pickupid][picModel], PickupInfo[pickupid][picStatus], PickupInfo[pickupid][picMember], name);
            mysql_tquery(mysql, request, "OnPlayerInsertBase", "ddd", playerid, pickupid, 2);
			return 1;
		}
		case did_add_vehicle:
		{
			if(!response) return 1;
			new color[2], model, frac, status, Float:x, Float:y, Float:z, Float:angle;
			if(sscanf(inputtext, "p<,>iiiii", model, color[0], color[1], frac, status)) return SPD(playerid, did_add_vehicle, DSI, "{"#DC_MAIN"}Добавить транспорт", "{"#DC_WHITE"}Введите модель, цвет № 1, цвет № 2, организацию и статус через запятую:", "Далее", "Отмена");
			if(model < 400 || model > 611) return SPD(playerid, did_add_vehicle, DSI, "{"#DC_MAIN"}Добавить транспорт", "{"#DC_WHITE"}Введите модель, цвет № 1, цвет № 2, организацию и статус через запятую:", "Далее", "Отмена");
			if(color[0] < -2 || color[0] > 252) return SPD(playerid, did_add_vehicle, DSI, "{"#DC_MAIN"}Добавить транспорт", "{"#DC_WHITE"}Введите модель, цвет № 1, цвет № 2, организацию и статус через запятую:", "Далее", "Отмена");
			if(color[1] < -2 || color[1] > 252) return SPD(playerid, did_add_vehicle, DSI, "{"#DC_MAIN"}Добавить транспорт", "{"#DC_WHITE"}Введите модель, цвет № 1, цвет № 2, организацию и статус через запятую:", "Далее", "Отмена");
			if(frac < 1 || frac > 320) return SPD(playerid, did_add_vehicle, DSI, "{"#DC_MAIN"}Добавить транспорт", "{"#DC_WHITE"}Введите модель, цвет № 1, цвет № 2, организацию и статус через запятую:", "Далее", "Отмена");
			GetPlayerFacingAngle(playerid, angle);
			GetPlayerPos(playerid, x, y, z);
			new vehicleid = CreateVehicle(model, x, y, z, angle, color[0], color[1], 9999*9999);
			ResetVehicleData(vehicleid);
			strmid(VehInfo[vehicleid][vOwner], "None", 0, strlen("None"), 10);
			strmid(VehInfo[vehicleid][v2Owner], "None", 0, strlen("None"), 10);
			PutPlayerInVeh(playerid, vehicleid, 0);
			LinkVehicleToInterior(vehicleid, GetPlayerInterior(playerid));
			Fuel[vehicleid] = GetVehicleMaxGasTank(model);
			SetPVarInt(playerid, "AddVehicleFrac", vehicleid);
			format(addveh, sizeof(addveh), "%d, %d, %d, %d, %d, %d, %d", model, color[0], color[1], frac, GetPlayerInterior(playerid), GetPlayerVirtualWorld(playerid), status);
			SendMes(playerid, COLOR_MAIN, "Транспорт {"#DC_WHITE"}%d{"#DC_MAIN"} создан. Установить координаты: {"#DC_WHITE"}/vpos.", vehicleid);
			return 1;
		}
		case did_add_atm:
		{
			if(!response) return 1;
			if(PlayerLogged[playerid] == 0) return 1;
			if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
			if(TOTALATM >= MAX_ATM-2) return SendMes(playerid, COLOR_DARKORANGE, "Уже установлено максимальное количество банкоматов.");
			if(GetPVarInt(playerid, "LoadATM") > 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже устанавливаете банкомат.");
			if(sscanf(inputtext, "s[64]", addatm)) return SPD(playerid, did_add_atm, DSI, "{"#DC_MAIN"}Добавить банкомат", "{"#DC_WHITE"}Введите название банкомата:", "Далее", "Отмена");
			new Float:x, Float:y, Float:z, Float:angle;
			GetPlayerPos(playerid, x, y, z);
			GetPlayerFacingAngle(playerid, angle);
			x += floatsin(-angle, degrees);
			y += floatcos(-angle, degrees);
			SendMes(playerid, COLOR_MAIN, "Чтобы сохранить банкомат нажмите на кнопку со значком дискеты.");
			SendMes(playerid, COLOR_MAIN, "Если вы хотите отменить установку нажмите клавишу ESC.");
			new atm = CreateDynamicObject(2754, x, y, z-0.35, 0.0, 0.0, 0.0, -1, -1, -1, 120.00, 120.00);
			SetPVarInt(playerid, "LoadATM", atm+1);
			EditDynamicObject(playerid, atm);
			return 1;
		}
		case did_add_gps:
		{
			if(!response) return 1;
			new name[32], Float:x, Float:y, Float:z, type;
			if(sscanf(inputtext, "p<,>s[32]i", name, type)) return SPD(playerid, did_add_gps, DSI, "{"#DC_MAIN"}Добавить GPS", "{"#DC_WHITE"}Введите название локации и тип через запятую:", "Далее", "Отмена");
			TOTALGPS++;
			strmid(GPSInfo[TOTALGPS][gName], name, 0, strlen(name), MAX_PLAYER_NAME);
			GetPlayerPos(playerid, x, y, z);
			GPSInfo[TOTALGPS][gPosX] = x;
			GPSInfo[TOTALGPS][gPosY] = y;
			GPSInfo[TOTALGPS][gPosZ] = z;
			GPSInfo[TOTALGPS][gType] = type;
			mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_GPS" (x, y, z, name, type)\
			VALUES ('%f', '%f', '%f', '%e', %d)", x, y, z, name, type);
			mysql_tquery(mysql, request, "OnPlayerInsertBase", "ddd", playerid, TOTALGPS, 4);
			SendMes(playerid, COLOR_MAIN, "GPS {"#DC_WHITE"}%d{"#DC_MAIN"} создан.", TOTALGPS);
			return 1;
		}
		case did_add_teleport:
		{
			if(!response) return 1;
			new name[32], Float:x, Float:y, Float:z, interior, world, type;
			if(sscanf(inputtext, "p<,>s[32]i", name, type)) return SPD(playerid, did_add_teleport, DSI, "{"#DC_MAIN"}Добавить телепорт", "{"#DC_WHITE"}Введите название телепорта и тип через запятую:", "Далее", "Отмена");
			TOTALTELEPORT++;
			strmid(TeleportInfo[TOTALTELEPORT][tName], name, 0, strlen(name), MAX_PLAYER_NAME);
			GetPlayerPos(playerid, x, y, z);
			interior = GetPlayerInterior(playerid);
			world = GetPlayerVirtualWorld(playerid);
			TeleportInfo[TOTALTELEPORT][tPosX] = x;
			TeleportInfo[TOTALTELEPORT][tPosY] = y;
			TeleportInfo[TOTALTELEPORT][tPosZ] = z;
			TeleportInfo[TOTALTELEPORT][tInterior] = interior;
			TeleportInfo[TOTALTELEPORT][tWorld] = world;
			TeleportInfo[TOTALTELEPORT][tType] = type;
			mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_TELEPORT" (x, y, z, name, interior, world, type)\
			VALUES ('%f', '%f', '%f', '%e', %d, %d, %d)", x, y, z, name, interior, world, type);
			mysql_tquery(mysql, request, "OnPlayerInsertBase", "ddd", playerid, TOTALTELEPORT, 5);
			SendMes(playerid, COLOR_MAIN, "Телепорт {"#DC_WHITE"}%d{"#DC_MAIN"} создан.", TOTALTELEPORT);
			return 1;
		}
		case did_add_enter:
	    {
	        if(!response) return 1;
       		SetPVarInt(playerid, "EnterAdd", 1);
			SendMes(playerid, COLOR_MAIN, "Установите место входа: {"#DC_WHITE"}/epos.");
			return 1;
	    }
		case did_add_enter_end:
		{
			if(!response) return 1;
			new member, type, status, freeze, name[64], time, weather;
			if(sscanf(inputtext, "p<,>iiiis[64]ii", member, type, status, freeze, name, time, weather)) return SPD(playerid, did_add_enter_end, DSI, "{"#DC_MAIN"}Добавить вход", "{"#DC_WHITE"}Введите организацию, тип, статус, заморозку, название, время и погоду через запятую:", "Далее", "Отмена");
			TOTALENTER++;
			EnterInfo[TOTALENTER][id] = TOTALENTER;
			sscanf(addenter1, "p<,>fffii",
			EnterInfo[TOTALENTER][ePosX], EnterInfo[TOTALENTER][ePosY], EnterInfo[TOTALENTER][ePosZ],
			EnterInfo[TOTALENTER][eInterior], EnterInfo[TOTALENTER][eWorld]);
			sscanf(addenter2, "p<,>ffffii",
			EnterInfo[TOTALENTER][ePosTX], EnterInfo[TOTALENTER][ePosTY], EnterInfo[TOTALENTER][ePosTZ],
			EnterInfo[TOTALENTER][ePosTFA], EnterInfo[TOTALENTER][eTInterior], EnterInfo[TOTALENTER][eTWorld]);
			SetPVarInt(playerid, "EnterAdd", 0);
			EnterInfo[TOTALENTER][eMember] = member;
			EnterInfo[TOTALENTER][eType] = type;
			EnterInfo[TOTALENTER][eStatus] = status;
			EnterInfo[TOTALENTER][eFreeze] = freeze;
			mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_ENTERS" (`x`, `y`, `z`, `interior`, `world`, `ex`, `ey`, `ez`, `efa`, `einterior`, `eworld`, `member`, `type`, `status`, `freeze`, `time`, `weather`, `name`)\
			VALUES ('%f', '%f', '%f', %d, %d, '%f', '%f', '%f', '%f', %d, %d, %d, %d, %d, %d, %d, %d, '%e')",
			EnterInfo[TOTALENTER][ePosX], EnterInfo[TOTALENTER][ePosY], EnterInfo[TOTALENTER][ePosZ], EnterInfo[TOTALENTER][eInterior], EnterInfo[TOTALENTER][eWorld],
			EnterInfo[TOTALENTER][ePosTX], EnterInfo[TOTALENTER][ePosTY], EnterInfo[TOTALENTER][ePosTZ], EnterInfo[TOTALENTER][ePosTFA], EnterInfo[TOTALENTER][eTInterior],
			EnterInfo[TOTALENTER][eTWorld], EnterInfo[TOTALENTER][eMember], EnterInfo[TOTALENTER][eType], EnterInfo[TOTALENTER][eStatus], EnterInfo[TOTALENTER][eFreeze],
			EnterInfo[TOTALENTER][eTime], EnterInfo[TOTALENTER][eWeather], name);
            mysql_query(mysql, request, false);
            SetPVarInt(playerid, "EnterAdd", 0);
			SendMes(playerid, COLOR_MAIN, "Вход {"#DC_WHITE"}%d{"#DC_MAIN"} установлен.", TOTALENTER);
			return 1;
		}
		case did_add_icon:
		{
			if(!response) return 1;
			new model, world, interior, player, Float:distance, Float:x, Float:y, Float:z, name[64];
			if(sscanf(inputtext, "p<,>iiiifs[64]", model, world, interior, player, Float:distance, name)) return SPD(playerid, did_add_icon, DSI, "{"#DC_MAIN"}Добавить иконку на карте", "{"#DC_WHITE"}Введите ID, вирт. мир, интерьер, playerid, дистанцию и название через запятую:", "Далее", "Отмена");
			if(model < 0 || model > 63) return SPD(playerid, did_add_icon, DSI, "{"#DC_MAIN"}Добавить иконку на карте", "{"#DC_WHITE"}Введите ID, вирт. мир, интерьер, playerid, дистанцию и название через запятую:", "Далее", "Отмена");
			TOTALMAPICON++;
			GetPlayerPos(playerid, x, y, z);
			CreateDynamicMapIcon(x, y, z, model, 0, world, interior, player, distance);
			MapiconInfo[TOTALMAPICON][mPosX] = x;
			MapiconInfo[TOTALMAPICON][mPosY] = y;
			MapiconInfo[TOTALMAPICON][mPosZ] = z;
			MapiconInfo[TOTALMAPICON][mModel] = model;
			MapiconInfo[TOTALMAPICON][mWorld] = world;
			MapiconInfo[TOTALMAPICON][mInterior] = interior;
			MapiconInfo[TOTALMAPICON][mPlayer] = player;
			MapiconInfo[TOTALMAPICON][mDistance] = distance;
			mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_MAPICON" (`x`, `y`, `z`, `world`, `interior`, `model`, `playerid`, `radius`, `name`) VALUES ('%f', '%f', '%f', %d, %d, %d, %d, '%f', '%e')",
			MapiconInfo[TOTALMAPICON][mPosX], MapiconInfo[TOTALMAPICON][mPosY], MapiconInfo[TOTALMAPICON][mPosZ], MapiconInfo[TOTALMAPICON][mWorld],
			MapiconInfo[TOTALMAPICON][mInterior], MapiconInfo[TOTALMAPICON][mModel], MapiconInfo[TOTALMAPICON][mPlayer], MapiconInfo[TOTALMAPICON][mDistance], name);
            mysql_tquery(mysql, request, "OnPlayerInsertBase", "ddd", playerid, TOTALMAPICON, 3);
			return 1;
		}
    	case did_add_area:
		{
			if(!response) return 1;
			new name[32], Float:x, Float:y, Float:z, interior, Float:radius, type;
			if(sscanf(inputtext, "p<,>s[32]fi", name, radius, type)) return SPD(playerid, did_add_area, DSI, "{"#DC_MAIN"}Добавить арену", "{"#DC_WHITE"}Введите название, радиус и тип через запятую:", "Далее", "Отмена");
			TOTALAREAS++;
			GetPlayerPos(playerid, x, y, z);
			interior = GetPlayerInterior(playerid);
			for(new i = 0; i < MAX_GREEN_ZONE; i++)
			{
				if(AreasInfo[arGreenZone][i] != 0) continue;
				AreasInfo[arGreenZone][i] = CreateDynamicSphere(x, y, z, radius, -1, interior, -1);
				break;
			}
			mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_AREAS" (name, x, y, z, interior, radius, type) VALUES ('%e', '%f', '%f', '%f', %d, '%f', %d)", name, x, y, z, interior, radius, type);
            mysql_query(mysql, request, false);
			SendMes(playerid, COLOR_MAIN, "Арена {"#DC_WHITE"}%d{"#DC_MAIN"} создана.", TOTALAREAS);
			return 1;
		}
		case did_add_hotel:
		{
			if(!response) return 1;
			new price, tax, name[64];
			if(sscanf(inputtext, "p<,>iis[64]", price, tax, name)) return SPD(playerid, did_add_hotel, DSI, "{"#DC_MAIN"}Добавить отель", "{"#DC_WHITE"}Введите стоимость, налог и название через запятую:", "Далее", "Отмена");
			if(price < 1) return SPD(playerid, did_add_hotel, DSI, "{"#DC_MAIN"}Добавить отель", "{"#DC_WHITE"}Введите стоимость, налог и название через запятую:", "Далее", "Отмена");
			TOTALHOTEL++;
			HotelInfo[TOTALHOTEL][id] = TOTALHOTEL;
			sscanf(addhotel1, "p<,>fffi",
			HotelInfo[TOTALHOTEL][hExitX], HotelInfo[TOTALHOTEL][hExitY], HotelInfo[TOTALHOTEL][hExitZ],
			HotelInfo[TOTALHOTEL][hInterior]);
			sscanf(addhotel2, "p<,>fff",
			HotelInfo[TOTALHOTEL][hMenuX], HotelInfo[TOTALHOTEL][hMenuY], HotelInfo[TOTALHOTEL][hMenuZ]);
			GetPlayerPos(playerid, HotelInfo[TOTALHOTEL][hEnterX], HotelInfo[TOTALHOTEL][hEnterY], HotelInfo[TOTALHOTEL][hEnterZ]);
			strmid(HotelInfo[TOTALHOTEL][hOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
			strmid(HotelInfo[TOTALHOTEL][hName], name, 0, strlen(name), MAX_PLAYER_NAME);
			HotelInfo[TOTALHOTEL][hWorld] = TOTALHOTEL;
			HotelInfo[TOTALHOTEL][hPrice] = price;
			HotelInfo[TOTALHOTEL][hTax] = tax;
			HotelInfo[TOTALHOTEL][hIcon] = CreateDynamicMapIcon(HotelInfo[TOTALHOTEL][hEnterX], HotelInfo[TOTALHOTEL][hEnterY], HotelInfo[TOTALHOTEL][hEnterZ], 35, 0, -1, -1, -1, 50.0);
   			if(!strcmp(HotelInfo[TOTALHOTEL][hOwner], "None", true))
			{
				format(strings, sizeof(strings), "Отель\n{"#DC_LYELLOW"}%s\n{"#DC_WHITE"}Стоимость: {"#DC_WHITE"}$%d{"#DC_YELLOW"}\n{"#DC_WHITE"}Отель продается ( {"#DC_YELLOW"}/buyhotel{"#DC_WHITE"} )\nКонтроль: {"#DC_YELLOW"}%s{"#DC_WHITE"}", HotelInfo[TOTALHOTEL][hName], HotelInfo[TOTALHOTEL][hPrice], FracInfo[HotelInfo[TOTALHOTEL][hBiker]][fName]);
				LABELHOTEL[TOTALHOTEL] = Create3DText(strings, COLOR_YELLOW, HotelInfo[TOTALHOTEL][hEnterX], HotelInfo[TOTALHOTEL][hEnterY], HotelInfo[TOTALHOTEL][hEnterZ], 10.0, 0, 1);
			}
			else
			{
				format(strings, sizeof(strings), "Отель\n{"#DC_LYELLOW"}%s\n\n{"#DC_WHITE"}Владелец: {"#DC_BLUE"}%s{"#DC_WHITE"}\nКонтроль: {"#DC_YELLOW"}%s{"#DC_WHITE"}", HotelInfo[TOTALHOTEL][hName], HotelInfo[TOTALHOTEL][hOwner], FracInfo[HotelInfo[TOTALHOTEL][hBiker]][fName]);
				LABELHOTEL[TOTALHOTEL] = Create3DText(strings, COLOR_YELLOW, HotelInfo[TOTALHOTEL][hEnterX], HotelInfo[TOTALHOTEL][hEnterY], HotelInfo[TOTALHOTEL][hEnterZ], 10.0, 0, 1);
			}
			HotelInfo[TOTALHOTEL][hPickup] = CreatePickup(19132, 1, HotelInfo[TOTALHOTEL][hEnterX], HotelInfo[TOTALHOTEL][hEnterY], HotelInfo[TOTALHOTEL][hEnterZ], -1);
			HotelInfo[TOTALHOTEL][hPickupExit] = CreatePickup(19132, 1, HotelInfo[TOTALHOTEL][hExitX], HotelInfo[TOTALHOTEL][hExitY], HotelInfo[TOTALHOTEL][hExitZ], HotelInfo[TOTALHOTEL][hWorld]);
			HotelInfo[TOTALHOTEL][hPickupMenu] = CreatePickup(1239, 1, HotelInfo[TOTALHOTEL][hMenuX], HotelInfo[TOTALHOTEL][hMenuY], HotelInfo[TOTALHOTEL][hMenuZ], HotelInfo[TOTALHOTEL][hWorld]);
			mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_HOTEL" (id, x, y, z, ex, ey, ez, menux, menuy, menuz, interior, world, owner, name, price, tax) VALUES (%d, '%f', '%f', '%f', '%f', '%f', '%f', '%f', '%f', '%f', %d, %d, '%e', '%e', %d, %d)",
			TOTALHOTEL, HotelInfo[TOTALHOTEL][hEnterX], HotelInfo[TOTALHOTEL][hEnterY], HotelInfo[TOTALHOTEL][hEnterZ], HotelInfo[TOTALHOTEL][hExitX], HotelInfo[TOTALHOTEL][hExitY], HotelInfo[TOTALHOTEL][hExitZ], HotelInfo[TOTALHOTEL][hMenuX], HotelInfo[TOTALHOTEL][hMenuY], HotelInfo[TOTALHOTEL][hMenuZ],
			HotelInfo[TOTALHOTEL][hInterior], HotelInfo[TOTALHOTEL][hWorld], HotelInfo[TOTALHOTEL][hOwner], HotelInfo[TOTALHOTEL][hName], HotelInfo[TOTALHOTEL][hPrice], HotelInfo[TOTALHOTEL][hTax]);
			mysql_query(mysql, request, false);
			SendMes(playerid, COLOR_MAIN, "Отель {"#DC_WHITE"}%d{"#DC_MAIN"} создан.", TOTALHOTEL);
			return 1;
		}
		case did_add_farm:
		{
			if(!response) return 1;
			if(strval(inputtext) < 1) return SPD(playerid, did_add_farm, DSI, "{"#DC_MAIN"}Добавить ферму", "{"#DC_WHITE"}Введите стоимость:", "Далее", "Отмена");
			TOTALFARM++;
			FarmInfo[TOTALFARM][id] = TOTALFARM;
			sscanf(addfarm1, "p<,>fff",
			FarmInfo[TOTALFARM][fEnterX], FarmInfo[TOTALFARM][fEnterY], FarmInfo[TOTALFARM][fEnterZ]);
			sscanf(addfarm2, "p<,>fff",
			FarmInfo[TOTALFARM][fClothesX], FarmInfo[TOTALFARM][fClothesY], FarmInfo[TOTALFARM][fClothesZ]);
			sscanf(addfarm3, "p<,>fff",
			FarmInfo[TOTALFARM][fWarehouseX], FarmInfo[TOTALFARM][fWarehouseY], FarmInfo[TOTALFARM][fWarehouseZ]);
			strmid(FarmInfo[TOTALFARM][fOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
			FarmInfo[TOTALFARM][fPrice] = strval(inputtext);
			FarmInfo[TOTALFARM][fMoney] = 0;
			FarmInfo[TOTALFARM][fSalary] = 50;
			FarmInfo[TOTALFARM][fCornCount] = 0;
			FarmInfo[TOTALFARM][fCornOnField] = 0;
			FarmInfo[TOTALFARM][fCornCost] = 6;
			FarmInfo[TOTALFARM][fHarvest] = 0;
			FarmInfo[TOTALFARM][fHarvestCost] = 39;
			if(!strcmp(FarmInfo[TOTALFARM][fOwner], "None", true))
			{
				format(strings, sizeof(strings), "Ферма: {"#DC_WHITE"}%d{"#DC_YELLOW"}\nСтоимость: {"#DC_WHITE"}$%d{"#DC_YELLOW"}\nПриобрести:{"#DC_WHITE"} /buyfarm\n{"#DC_YELLOW"}Контроль:{"#DC_WHITE"} %s", FarmInfo[TOTALFARM][id], FarmInfo[TOTALFARM][fPrice], FracInfo[FarmInfo[TOTALFARM][fBiker]][fName]);
				LABELFARM[TOTALFARM] = Create3DText(strings, COLOR_YELLOW, FarmInfo[TOTALFARM][fEnterX], FarmInfo[TOTALFARM][fEnterY], FarmInfo[TOTALFARM][fEnterZ], 10.0, 0, 1);
			}
			else
			{
				format(strings, sizeof(strings), "Ферма: {"#DC_WHITE"}%d{"#DC_YELLOW"}\nВладелец: {"#DC_WHITE"}%s{"#DC_YELLOW"}\nИнформация о ферме:{"#DC_WHITE"} /finfo\n{"#DC_YELLOW"}Контроль:{"#DC_WHITE"} %s", FarmInfo[TOTALFARM][id], FarmInfo[TOTALFARM][fOwner], FracInfo[FarmInfo[TOTALFARM][fBiker]][fName]);
				LABELFARM[TOTALFARM] = Create3DText(strings, COLOR_YELLOW, FarmInfo[TOTALFARM][fEnterX], FarmInfo[TOTALFARM][fEnterY], FarmInfo[TOTALFARM][fEnterZ], 10.0, 0, 1);
			}
			FarmInfo[TOTALFARM][fIcon] = CreateDynamicMapIcon(FarmInfo[TOTALFARM][fEnterX], FarmInfo[TOTALFARM][fEnterY], FarmInfo[TOTALFARM][fEnterZ], 56, 0, -1, -1, -1, 50.0);
			FarmInfo[TOTALFARM][fPickup] = CreatePickup(1239, 1, FarmInfo[TOTALFARM][fEnterX], FarmInfo[TOTALFARM][fEnterY], FarmInfo[TOTALFARM][fEnterZ], -1);
			FarmInfo[TOTALFARM][fPickupClothes] = CreatePickup(1275, 1, FarmInfo[TOTALFARM][fClothesX], FarmInfo[TOTALFARM][fClothesY], FarmInfo[TOTALFARM][fClothesZ], -1);
			FarmInfo[TOTALFARM][fPickupWarehouse] = CreatePickup(19134, 1, FarmInfo[TOTALFARM][fWarehouseX], FarmInfo[TOTALFARM][fWarehouseY], FarmInfo[TOTALFARM][fWarehouseZ], -1);
			mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_FARM" (id, price, x, y, z, clothesx, clothesy, clothesz) VALUES (%d, '%d', '%f', '%f', '%f', '%f', '%f', '%f')",
			TOTALFARM, FarmInfo[TOTALFARM][fPrice], FarmInfo[TOTALFARM][fEnterX], FarmInfo[TOTALFARM][fEnterY], FarmInfo[TOTALFARM][fEnterZ], FarmInfo[TOTALFARM][fClothesX], FarmInfo[TOTALFARM][fClothesY], FarmInfo[TOTALFARM][fClothesZ]);
			mysql_query(mysql, request, false);
			SendMes(playerid, COLOR_MAIN, "Ферма {"#DC_WHITE"}%d{"#DC_MAIN"} создана.", TOTALFARM);
			return 1;
		}
		case did_add_service:
		{
			if(!response) return 1;
			if(strval(inputtext) < 1) return SPD(playerid, did_add_service, DSI, "{"#DC_MAIN"}Добавить СТО", "{"#DC_WHITE"}Введите стоимость:", "Далее", "Отмена");
			TOTALSERVICE++;
			ServiceInfo[TOTALSERVICE][id] = TOTALSERVICE;
			sscanf(addservice1, "p<,>fff",
			ServiceInfo[TOTALSERVICE][sEnterX], ServiceInfo[TOTALSERVICE][sEnterY], ServiceInfo[TOTALSERVICE][sEnterZ]);
			sscanf(addservice2, "p<,>fff",
			ServiceInfo[TOTALSERVICE][sClothesX], ServiceInfo[TOTALSERVICE][sClothesY], ServiceInfo[TOTALSERVICE][sClothesZ]);
			strmid(ServiceInfo[TOTALSERVICE][sOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
			ServiceInfo[TOTALSERVICE][sPrice] = strval(inputtext);
			ServiceInfo[TOTALSERVICE][sMoney] = 0;
			ServiceInfo[TOTALSERVICE][sSalary] = 1;
			ServiceInfo[TOTALSERVICE][sTill] = 1;
			if(!strcmp(ServiceInfo[TOTALSERVICE][sOwner], "None", true))
			{
				format(strings, sizeof(strings), "СТО: {"#DC_WHITE"}%d{"#DC_YELLOW"}\nСтоимость: {"#DC_WHITE"}$%d{"#DC_YELLOW"}\nПриобрести:{"#DC_WHITE"} /buyservice\n{"#DC_YELLOW"}Контроль:{"#DC_WHITE"} %s", ServiceInfo[TOTALSERVICE][id], ServiceInfo[TOTALSERVICE][sPrice]);
				LABELSERVICE[TOTALSERVICE] = Create3DText(strings, COLOR_YELLOW, ServiceInfo[TOTALFARM][sEnterX], ServiceInfo[TOTALFARM][sEnterY], ServiceInfo[TOTALFARM][sEnterZ], 10.0, 0, 1);
			}
			else
			{
				format(strings, sizeof(strings), "СТО: {"#DC_WHITE"}%d{"#DC_YELLOW"}\nВладелец: {"#DC_WHITE"}%s{"#DC_YELLOW"}\nИнформация о СТО:{"#DC_WHITE"} /sinfo\n{"#DC_YELLOW"}Контроль:{"#DC_WHITE"} %s", ServiceInfo[TOTALSERVICE][id], ServiceInfo[TOTALSERVICE][sOwner], FracInfo[ServiceInfo[TOTALSERVICE][sBiker]][fName]);
				LABELSERVICE[TOTALSERVICE] = Create3DText(strings, COLOR_YELLOW, ServiceInfo[TOTALSERVICE][sEnterX], ServiceInfo[TOTALSERVICE][sEnterY], ServiceInfo[TOTALSERVICE][sEnterZ], 10.0, 0, 1);
			}
			ServiceInfo[TOTALSERVICE][sIcon] = CreateDynamicMapIcon(ServiceInfo[TOTALSERVICE][sEnterX], ServiceInfo[TOTALSERVICE][sEnterY], ServiceInfo[TOTALSERVICE][sEnterZ], 27, 0, -1, -1, -1, 50.0);
			ServiceInfo[TOTALSERVICE][sPickup] = CreatePickup(1239, 1, ServiceInfo[TOTALSERVICE][sEnterX], ServiceInfo[TOTALSERVICE][sEnterY], ServiceInfo[TOTALSERVICE][sEnterZ], -1);
			ServiceInfo[TOTALSERVICE][sPickupClothes] = CreatePickup(1275, 1, ServiceInfo[TOTALSERVICE][sClothesX], ServiceInfo[TOTALSERVICE][sClothesY], ServiceInfo[TOTALSERVICE][sClothesZ], -1);
			mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_SERVICE" (id, price, x, y, z, clothesx, clothesy, clothesz) VALUES (%d, '%d', '%f', '%f', '%f', '%f', '%f', '%f')",
			TOTALSERVICE, ServiceInfo[TOTALSERVICE][sPrice], ServiceInfo[TOTALSERVICE][sEnterX], ServiceInfo[TOTALSERVICE][sEnterY], ServiceInfo[TOTALSERVICE][sEnterZ], ServiceInfo[TOTALSERVICE][sClothesX], ServiceInfo[TOTALSERVICE][sClothesY], ServiceInfo[TOTALSERVICE][sClothesZ], FracInfo[ServiceInfo[TOTALSERVICE][sBiker]][fName]);
			mysql_query(mysql, request, false);
			SendMes(playerid, COLOR_MAIN, "СТО {"#DC_WHITE"}%d{"#DC_MAIN"} создано.", TOTALSERVICE);
			return 1;
		}
		case did_add_stop:
		{
			if(!response) return 1;
			new Float:x, Float:y, Float:z, Float:angle;
			if(sscanf(inputtext, "p<,>s[60]", addstop)) SPD(playerid, did_add_stop, DSI, "{"#DC_MAIN"}Добавить остановку", "{"#DC_WHITE"}Введите название остановки, стоимость поездки и тип через запятую:", "Далее", "Отмена");
            if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
			if(TOTALSTOP >= MAX_STOP-2) return SendMes(playerid, COLOR_DARKORANGE, "Уже установлено максимальное количество остановок.");
			if(GetPVarInt(playerid, "LoadSTOP") > 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже устанавливаете остановку.");
			GetPlayerPos(playerid, x, y, z);
			GetPlayerFacingAngle(playerid, angle);
			x += floatsin(-angle, degrees);
			y += floatcos(-angle, degrees);
			SendMes(playerid, COLOR_MAIN, "Чтобы сохранить остановку нажмите на кнопку со значком дискеты.");
			SendMes(playerid, COLOR_MAIN, "Если вы хотите отменить установку нажмите клавишу ESC.");
			new stop = CreateDynamicObject(1257, x, y, z-0.35, 0.0, 0.0, 0.0, -1, -1, -1, 120.00, 120.00);
			SetPVarInt(playerid, "LoadSTOP", stop+1);
			EditDynamicObject(playerid, stop);
			return 1;
		}
		case did_add_3dtext:
		{
            if(!response) return 1;
			new name[32], color, Float:distance, testlos, text[128], world;
			if(sscanf(inputtext, "p<,>hfds[32]s[128]", color, distance, testlos, name, text)) return SPD(playerid, did_add_3dtext, DSI, "{"#DC_MAIN"}Добавить 3D текст", "{"#DC_WHITE"}Введите цвет, расстояние, testLOS, название и текст через запятую:", "Далее", "Отмена");
            TOTAL3DTEXTS++;
            new Float:x, Float:y, Float:z;
            GetPlayerPos(playerid, x, y, z);
            world = GetPlayerVirtualWorld(playerid);
            Create3DTextLabel(text, color, x, y, z, distance, world, testlos);
            mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_3DTEXTS" (x, y, z, color, distance, world, testlos, text, name)\
			VALUES ('%f', '%f', '%f', '%e', '%f', '%d', '%d', '%e', '%e')", x, y, z, color, distance, world, testlos, text, name);
            mysql_query(mysql, request, false);
			SendMes(playerid, COLOR_MAIN, "3DText {"#DC_WHITE"}%d{"#DC_MAIN"} создан.", TOTAL3DTEXTS);
			return 1;
		}
    	case did_add_actor:
		{
            if(!response) return 1;
			new model, name[32], health, type, immune, actorid, Float:x, Float:y, Float:z, Float:rotation, world;
            if(sscanf(inputtext,"p<,>iiiis[32]", model, type, health, immune, name)) return SPD(playerid, did_add_actor, DSI, "{"#DC_MAIN"}Добавить актера", "{"#DC_WHITE"}Введите модель, тип, здоровье, бессмертие и имя через запятую:", "Далее", "Отмена");
			sscanf(addactor, "p<,>ffffi", x, y, z, rotation, world);
			actorid = CreateActor(model, x, y, z, rotation);
			SetActorHealth(actorid, health);
			if(immune == 1) SetActorInvulnerable(actorid, true);
			else SetActorInvulnerable(actorid, false);
			SetActorVirtualWorld(actorid, world);
			ActorInfo[actorid][id] = 1+TOTALACTORS;
			ActorInfo[actorid][aActor] = actorid;
			ActorInfo[actorid][aPosX] = x;
			ActorInfo[actorid][aPosY] = y;
			ActorInfo[actorid][aPosZ] = z;
			ActorInfo[actorid][aRotation] = rotation;
			ActorInfo[actorid][aWorld] = world;
			ActorInfo[actorid][aModel] = model;
			ActorInfo[actorid][aType] = type;
			ActorInfo[actorid][aHealth] = health;
			ActorInfo[actorid][aImmune] = immune;
			format(ActorInfo[actorid][aName], 32, name);
			ActorInfo[actorid][aText] = Create3DText(name, 0xFFFFFFFF, x, y, z+1, 5.0, world, 1);
			TOTALACTORS++;
			mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_ACTORS" (`x`, `y`, `z`, `world`, `health`, `type`, `model`, `immune`, `rotation`, `name`) VALUES ('%f', '%f', '%f', %d, %d, %d, %d, %d, '%f', '%e')",
			ActorInfo[actorid][aPosX], ActorInfo[actorid][aPosY], ActorInfo[actorid][aPosZ], ActorInfo[actorid][aWorld], ActorInfo[actorid][aHealth], ActorInfo[actorid][aType],
	 		ActorInfo[actorid][aModel], ActorInfo[actorid][aImmune], ActorInfo[actorid][aRotation], name);
            mysql_tquery(mysql, request, "OnPlayerInsertBase", "ddd", playerid, TOTALACTORS, 6);
			return 1;
		}
		case did_arend_job:
		{
			if(!response) return RemoveFromVehicle(playerid);
			if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в своем транспортном средстве.");
			if(GetMoney(playerid) < GetPVarInt(playerid, "VehiclePriceArend"))
			{
				RemoveFromVehicle(playerid);
				SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				return 1;
			}
			new vehicleid = GetPlayerVehicleID(playerid);
			foreach(new i:Player) if(ArendsCar[i] == vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Этот транспорт уже арендован."), RemoveFromVehicle(playerid);
			if(VehInfo[vehicleid][vFraction] == V_J_CONSTRUCTION_FORKLIFT || VehInfo[vehicleid][vFraction] == V_J_CONSTRUCTION_CEMENT)
			{
                SetPVarInt(playerid, "RentConstruction", vehicleid);
			}
			else if(PlayerInfo[playerid][pJob] == J_PIZZABOY)
			{
                SetPVarInt(playerid, "RentPizzaboy", vehicleid);
			}
			else if(PlayerInfo[playerid][pJob] == J_POSTMAN)
			{
                SetPVarInt(playerid, "RentPostman", vehicleid);
			}
			else if(PlayerInfo[playerid][pJob] == J_FLOWERSBOY)
			{
                SetPVarInt(playerid, "RentFlowersboy", vehicleid);
			}
			else if(PlayerInfo[playerid][pJob] == J_TAXI)
			{
				SetPVarInt(playerid, "RentTaxi", vehicleid), SetPVarInt(playerid, "TaxiJob", 1);
				SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				if(VehicleTextUse[vehicleid])
				{
					Delete3DTextLabel(VehicleJobText[vehicleid]);
					VehicleTextUse[vehicleid] = false;
				}
				VehicleJobText[vehicleid] = Create3DTextLabel("Водитель такси\n{"#DC_WHITE"}Проезд бесплатный", COLOR_YELLOW, 9999.0, 9999.0, 9999.0, 10.0, 0, 1);
				Attach3DTextLabelToVehicle(VehicleJobText[vehicleid], vehicleid, 0.0, 0.0, 1.5);
		    	VehicleTextUse[vehicleid] = true;
				TaxiTime[playerid] = 0, TaxiPassenger[playerid] = INVALID_PLAYER_ID;
			}
			else if(PlayerInfo[playerid][pJob] == J_BUS)
			{
                SetPVarInt(playerid, "RentBus", vehicleid);
                SPD(playerid, did_route, DSL, "{"#DC_MAIN"}Маршрут", "{"#DC_MAIN"}1.{"#DC_WHITE"} Автовокзал ЛС - ЖД-ЛС - Автошкола", "Далее", "Отмена");
			}
			else if(PlayerInfo[playerid][pJob] == J_MECHANIC)
			{
				SetPVarInt(playerid, "RentMechanic", vehicleid);
                if(VehicleTextUse[vehicleid])
				{
					Delete3DTextLabel(VehicleJobText[vehicleid]);
					VehicleTextUse[vehicleid] = false;
				}
				VehicleJobText[vehicleid] = Create3DTextLabel("Автомеханик\n{"#DC_WHITE"}Нет топлива", COLOR_YELLOW, 9999.0, 9999.0, 9999.0, 10.0, 0, 1);
				Attach3DTextLabelToVehicle(VehicleJobText[vehicleid], vehicleid, 0, 0, 1.5);
				VehicleTextUse[vehicleid] = true;
				SendMes(playerid, COLOR_MAIN, "Используйте {"#DC_WHITE"}/start{"#DC_MAIN"} для начала или завершения рабочего дня.");
				SendMes(playerid, COLOR_MAIN, "Отправляйтесь на одну из заправок и возьмите там контракт, используя {"#DC_WHITE"}/gcontract");
				SendMes(playerid, COLOR_MAIN, "Используйте {"#DC_WHITE"}/refill{"#DC_MAIN"} для заправки и {"#DC_WHITE"}/repair{"#DC_MAIN"} для починки транспортного средства.");
	   			SetPVarInt(playerid, "MehJob", 1);
			}
			else if(PlayerInfo[playerid][pJob] == J_PRODUCT)
			{
				SetPVarInt(playerid, "RentProduct", vehicleid);
				if(VehInfo[vehicleid][vStatus] == V_FUELPRODUCT) SendMes(playerid, COLOR_MAIN, "Отправляйтесь на бензозавод. Для загрузки введите {"#DC_WHITE"}/pmenu{"#DC_MAIN"} около него. ( {"#DC_WHITE"}/gps > По работе > Бензозавод{"#DC_MAIN"} )");
				else SendMes(playerid, COLOR_MAIN, "Отправляйтесь на склад продуктов. Для загрузки введите {"#DC_WHITE"}/pmenu{"#DC_MAIN"} около него. ( {"#DC_WHITE"}/gps > По работе > Склад продуктов{"#DC_MAIN"} )");
           	}
			else if(PlayerInfo[playerid][pJob] == J_ROADMAN)
			{
				RoadmanIDx[playerid] = 0;
				RoadmanTimer[playerid] = RandomEx(30, 60);
				SetPVarInt(playerid, "RentRoadman", vehicleid);
			}
			else if(PlayerInfo[playerid][pJob] == J_COLLECTOR)
			{
                SetPVarInt(playerid, "RentCollector", vehicleid);
			}
			else if(PlayerInfo[playerid][pJob] == J_PILOT)
			{
                SetPVarInt(playerid, "RentPilot", vehicleid);
				SPD(playerid, did_pilot_route, DSL, "{"#DC_MAIN"}Маршрут", "{"#DC_MAIN"}1.{"#DC_WHITE"} Лос-Сантос - Сан-Фиерро\n{"#DC_MAIN"}2.{"#DC_WHITE"} Лос-Сантос - Лас-Вентурас\n{"#DC_MAIN"}3.{"#DC_WHITE"} Сан-Фиерро - Лос-Сантос\n{"#DC_MAIN"}4.{"#DC_WHITE"} Сан-Фиерро - Лас-Вентурас\n{"#DC_MAIN"}5.{"#DC_WHITE"} Лас-Вентурас - Лос-Сантос\n{"#DC_MAIN"}6.{"#DC_WHITE"} Лас-Вентурас - Сан-Фиерро", "Далее", "Отмена");
			}
			else if(PlayerInfo[playerid][pJob] == J_TAX)
			{
                SetPVarInt(playerid, "RentTax", vehicleid);
			}
			else if(PlayerInfo[playerid][pJob] == J_FIREMAN)
			{
                SetPVarInt(playerid, "RentFire", vehicleid);
				FireIDx[playerid] = 0;
				FireTimer[playerid] = RandomEx(60, 120);
			}
			else if(PlayerInfo[playerid][pJob] == J_TRUCK)
			{
                SetPVarInt(playerid, "RentTruck", vehicleid);
				TruckStatus[playerid] = 0;
				TruckTimer[playerid] = RandomEx(60, 120);
			}
			SendMes(playerid, COLOR_MAIN, "Вы арендовали транспорт за {"#DC_WHITE"}$%d.", GetPVarInt(playerid, "VehiclePriceArend"));
			ServerMoney(playerid, "Аренда рабочего транспорта", -GetPVarInt(playerid, "VehiclePriceArend"), 0);
			ArendsCar[playerid] = vehicleid;
			SendMes(playerid, COLOR_MAIN, "Вы арендовали транспортное средство, используйте {"#DC_WHITE"}/unrent{"#DC_MAIN"} чтобы отменить аренду.");
			return 1;
		}
		case did_arend_vehicle:
		{
			if(!response) return RemoveFromVehicle(playerid);
			if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в своем транспортном средстве.");
			new price = GetPVarInt(playerid, "VehiclePriceArend");
			if(GetMoney(playerid) < price)
			{
				RemoveFromVehicle(playerid);
				SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
				return 1;
			}
			new vehicleid = GetPlayerVehicleID(playerid);
			foreach(new i:Player) if(ArendsCar[i] == vehicleid) return SendMes(playerid, COLOR_DARKORANGE, "Этот транспорт уже арендован."), RemoveFromVehicle(playerid);
			SendMes(playerid, COLOR_MAIN, "Вы арендовали транспорт за $%d.", price);
			ServerMoney(playerid, "Аренда обычного транспорта", -price, 0);
			SetPVarInt(playerid, "RentVehicle", vehicleid);
			ArendsCar[playerid] = vehicleid;
			SendMes(playerid, COLOR_MAIN, "Вы арендовали транспортное средство, используйте {"#DC_WHITE"}/unrent{"#DC_MAIN"} чтобы отменить аренду.");
			CheckTask(playerid, 5);
			return 1;
		}
		case did_arend_registration:
		{
			if(!response) return 1;
			if(GetPVarInt(playerid, "RentTaxi") || GetPVarInt(playerid, "RentBus") || GetPVarInt(playerid, "RentMechanic") || GetPVarInt(playerid, "RentProduct") || GetPVarInt(playerid, "RentPilot") ||
			GetPVarInt(playerid, "RentPizzaboy") || GetPVarInt(playerid, "RentPostman") || GetPVarInt(playerid, "RentFlowersboy") || GetPVarInt(playerid, "RentRoadman") || GetPVarInt(playerid, "RentCollector") ||
			GetPVarInt(playerid, "RentTax") || GetPVarInt(playerid, "RentFire") || GetPVarInt(playerid, "RentTruck") || GetPVarInt(playerid, "RentVehicle")) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent");
			new arend_vehicle_idx[4] = {481, 509, 510, 462}, arend_vehicle_price[4] = {50, 50, 100, 125};
			if(GetMoney(playerid) < arend_vehicle_price[listitem]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			SendMes(playerid, COLOR_MAIN, "Вы арендовали транспорт за {"#DC_WHITE"}$%d.", arend_vehicle_price[listitem]);
			ServerMoney(playerid, "Аренда обычного транспорта", -arend_vehicle_price[listitem], 0);
			new Float:X, Float:Y, Float:Z;
			GetPlayerPos(playerid, X, Y, Z);
			new vehicleid = CreateVehicle(arend_vehicle_idx[listitem], X, Y, Z, 0.0, 1, 1, 180);
			LinkVehicleToInterior(vehicleid, GetPlayerInterior(playerid));
			SetVehicleVirtualWorld(vehicleid, GetPlayerVirtualWorld(playerid));
		    SetVehicleParamsEx(vehicleid, false, false, false, false, false, false, false);
			ResetVehicleData(vehicleid);
			TOTALVEH++;
			PutPlayerInVeh(playerid, vehicleid, 0);
			SetVehicleParamsEx(vehicleid, false, false, false, false, false, false, false);
			ResetVehicleData(vehicleid);
			Fuel[vehicleid] = GetVehicleMaxGasTank(arend_vehicle_idx[listitem]);
			Engine[vehicleid] = false;
			Lights[vehicleid] = false;
			Limit[vehicleid] = false;
			CreateCar[vehicleid] = true;
			strmid(VehInfo[vehicleid][vOwner], "None", 0, strlen("None"), 10);
			strmid(VehInfo[vehicleid][v2Owner], "None", 0, strlen("None"), 10);
			VehInfo[vehicleid][vFraction] = V_RENT_VEHICLE;
			VehInfo[vehicleid][vStatus] = V_RENT_VEHICLE + 150;
			SetPVarInt(playerid, "RentVehicle", vehicleid);
			ArendsCar[playerid] = vehicleid;
			SendMes(playerid, COLOR_MAIN, "Вы арендовали транспортное средство, используйте {"#DC_WHITE"}/unrent{"#DC_MAIN"} чтобы отменить аренду.");
			CheckTask(playerid, 5);
			return 1;
		}
		/*case did_vehicle_park:
		{
			if(!response) return 1;
			if(GetPVarInt(playerid, "RentTaxi") || GetPVarInt(playerid, "RentBus") || GetPVarInt(playerid, "RentMechanic") || GetPVarInt(playerid, "RentProduct") || GetPVarInt(playerid, "RentPilot") ||
			GetPVarInt(playerid, "RentPizzaboy") || GetPVarInt(playerid, "RentPostman") || GetPVarInt(playerid, "RentFlowersboy") || GetPVarInt(playerid, "RentRoadman") || GetPVarInt(playerid, "RentCollector") ||
			GetPVarInt(playerid, "RentTax") || GetPVarInt(playerid, "RentFire") || GetPVarInt(playerid, "RentTruck") || GetPVarInt(playerid, "RentVehicle")) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже арендовали транспортное средство."), SendMes(playerid, COLOR_MAIN, "Для отмены аренды, введите {"#DC_WHITE"}/unrent");
			new idx = GetPVarInt(playerid, "UseVehiclePark"), price = VehicleParkInfo[idx][vpPrice][listitem];
			if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			SendMes(playerid, COLOR_MAIN, "Вы арендовали транспорт за {"#DC_WHITE"}$%d.", price);
			ServerMoney(playerid, "Аренда обычного транспорта", -price, 0);
			new pos = random(3), vehicleid = CreateVehicle(VehicleParkInfo[idx][vpModel][listitem], VehicleParkInfo[idx][vpSpawnPos][pos * 4  + 0], VehicleParkInfo[idx][vpSpawnPos][pos * 4  + 1], VehicleParkInfo[idx][vpSpawnPos][pos * 4  + 2], VehicleParkInfo[idx][vpSpawnPos][pos * 4  + 3], VehicleParkInfo[idx][vpColor][0], VehicleParkInfo[idx][vpColor][1], 180);
			LinkVehicleToInterior(vehicleid, GetPlayerInterior(playerid));
			SetVehicleVirtualWorld(vehicleid, GetPlayerVirtualWorld(playerid));
		    SetVehicleParamsEx(vehicleid, false, false, false, false, false, false, false);
			ResetVehicleData(vehicleid);
			TOTALVEH++;
			PutPlayerInVeh(playerid, vehicleid, 0);
			SetVehicleParamsEx(vehicleid, false, false, false, false, false, false, false);
			ResetVehicleData(vehicleid);
			Fuel[vehicleid] = GetVehicleMaxGasTank(VehicleParkInfo[idx][vpModel][listitem]);
			Engine[vehicleid] = false;
			Lights[vehicleid] = false;
			Limit[vehicleid] = false;
			CreateCar[vehicleid] = true;
			strmid(VehInfo[vehicleid][vOwner], "None", 0, strlen("None"), 10);
			strmid(VehInfo[vehicleid][v2Owner], "None", 0, strlen("None"), 10);
			VehInfo[vehicleid][vFraction] = VehicleParkInfo[idx][vpFraction];
			VehInfo[vehicleid][vStatus] = V_RENT_VEHICLE + 150;
			if(PlayerInfo[playerid][pJob] == J_TAXI)
			{
				SetPVarInt(playerid, "TaxiJob", 1);
				SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
				if(VehicleTextUse[vehicleid])
				{
					Delete3DTextLabel(VehicleJobText[vehicleid]);
					VehicleTextUse[vehicleid] = false;
				}
				VehicleJobText[vehicleid] = Create3DTextLabel("Водитель такси\n{"#DC_WHITE"}Проезд бесплатный", COLOR_YELLOW, 9999.0, 9999.0, 9999.0, 10.0, 0, 1);
				Attach3DTextLabelToVehicle(VehicleJobText[vehicleid], vehicleid, 0.0, 0.0, 1.5);
		    	VehicleTextUse[vehicleid] = true;
				TaxiTime[playerid] = 0, TaxiPassenger[playerid] = INVALID_PLAYER_ID;
			}
			else if(PlayerInfo[playerid][pJob] == J_BUS)
			{
                SPD(playerid, did_route, DSL, "{"#DC_MAIN"}Маршрут", "{"#DC_MAIN"}1.{"#DC_WHITE"} Автовокзал ЛС - ЖД-ЛС - Автошкола", "Далее", "Отмена");
			}
			else if(PlayerInfo[playerid][pJob] == J_MECHANIC)
			{
                if(VehicleTextUse[vehicleid])
				{
					Delete3DTextLabel(VehicleJobText[vehicleid]);
					VehicleTextUse[vehicleid] = false;
				}
				VehicleJobText[vehicleid] = Create3DTextLabel("Автомеханик\n{"#DC_WHITE"}Нет топлива", COLOR_YELLOW, 9999.0, 9999.0, 9999.0, 10.0, 0, 1);
				Attach3DTextLabelToVehicle(VehicleJobText[vehicleid], vehicleid, 0, 0, 1.5);
				VehicleTextUse[vehicleid] = true;
				SendMes(playerid, COLOR_MAIN, "Используйте {"#DC_WHITE"}/start{"#DC_MAIN"} для начала или завершения рабочего дня.");
				SendMes(playerid, COLOR_MAIN, "Отправляйтесь на одну из заправок и возьмите там контракт, используя {"#DC_WHITE"}/gcontract");
				SendMes(playerid, COLOR_MAIN, "Используйте {"#DC_WHITE"}/refill{"#DC_MAIN"} для заправки и {"#DC_WHITE"}/repair{"#DC_MAIN"} для починки транспортного средства.");
	   			SetPVarInt(playerid, "MehJob", 1);
			}
			else if(PlayerInfo[playerid][pJob] == J_PRODUCT)
			{
			    if(GetVehicleModel(vehicleid) == 403 || GetVehicleModel(vehicleid) == 514 || GetVehicleModel(vehicleid) == 515) VehInfo[vehicleid][vStatus] = V_FUELPRODUCT;
				if(VehInfo[vehicleid][vStatus] == V_FUELPRODUCT) SendMes(playerid, COLOR_MAIN, "Отправляйтесь на бензозавод. Для загрузки введите {"#DC_WHITE"}/pmenu{"#DC_MAIN"} около него. ( {"#DC_WHITE"}/gps > По работе > Бензозавод{"#DC_MAIN"} )");
				else SendMes(playerid, COLOR_MAIN, "Отправляйтесь на склад продуктов. Для загрузки введите {"#DC_WHITE"}/pmenu{"#DC_MAIN"} около него. ( {"#DC_WHITE"}/gps > По работе > Склад продуктов{"#DC_MAIN"} )");
           	}
			else if(PlayerInfo[playerid][pJob] == J_ROADMAN)
			{
				RoadmanIDx[playerid] = 0;
				RoadmanTimer[playerid] = RandomEx(30, 60);
			}
			else if(PlayerInfo[playerid][pJob] == J_PILOT)
			{
				SPD(playerid, did_pilot_route, DSL, "{"#DC_MAIN"}Маршрут", "{"#DC_MAIN"}1.{"#DC_WHITE"} Лос-Сантос - Сан-Фиерро\n{"#DC_MAIN"}2.{"#DC_WHITE"} Лос-Сантос - Лас-Вентурас\n{"#DC_MAIN"}3.{"#DC_WHITE"} Сан-Фиерро - Лос-Сантос\n{"#DC_MAIN"}4.{"#DC_WHITE"} Сан-Фиерро - Лас-Вентурас\n{"#DC_MAIN"}5.{"#DC_WHITE"} Лас-Вентурас - Лос-Сантос\n{"#DC_MAIN"}6.{"#DC_WHITE"} Лас-Вентурас - Сан-Фиерро", "Далее", "Отмена");
			}
			else if(PlayerInfo[playerid][pJob] == J_FIREMAN)
			{
				FireIDx[playerid] = 0;
				FireTimer[playerid] = RandomEx(60, 120);
			}
			else if(PlayerInfo[playerid][pJob] == J_TRUCK)
			{
				TruckStatus[playerid] = 0;
				TruckTimer[playerid] = RandomEx(60, 120);
			}
			SetPVarInt(playerid, VehicleParkInfo[idx][vpPVarName], vehicleid);
			ArendsCar[playerid] = vehicleid;
			SendMes(playerid, COLOR_MAIN, "Вы арендовали транспортное средство, используйте {"#DC_WHITE"}/unrent{"#DC_MAIN"} чтобы отменить аренду.");
			CheckTask(playerid, 5);
			return 1;
		}*/
		case did_hospital:
		{
			if(!response) return 1;
			switch(listitem)
			{
			    case 0:
			    {
					new Float:health;
					GetPlayerHealth(playerid, health);
					if(health >= 100.0) return SendMes(playerid, COLOR_DARKORANGE, "Вы полностью здоровы.");
				    new price = HealCost * floatround(100.0 - health, floatround_ceil) * 2;
	   				if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					ServerMoney(playerid, "Вылечился у участкового", -price, 0);
					SetHealth(playerid, 100);
					PlayerInfo[playerid][pHealth] = 100.0;
				    SendMes(playerid, COLOR_MAIN, "Участковый вылечил Вас.");
			    }
			    case 1:
			    {
			        if(PlayerInfo[playerid][pMedicalCard]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть мед. карта.");
					PlayerInfo[playerid][pMedicalCard] = 1;
				    SendMes(playerid, COLOR_MAIN, "Участковый выдал Вам мед. карту.");
			    }
			    case 2:
			    {
			        if(GetMoney(playerid) < HealDrugs * 2) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
					ServerMoney(playerid, "Вылечился у участкового", -HealDrugs * 2, 0);
				    SendMes(playerid, COLOR_MAIN, "Участковый сделал Вам укол от наркозависимости за {"#DC_WHITE"}$%d.", HealDrugs * 2);
					PlayerInfo[playerid][pAddictionLimit]++;
					PlayerInfo[playerid][pAddictionInfo][2]++;
					if(PlayerInfo[playerid][pAddictionInfo][2] == 10)
					{
						for(new i = 0; i < 3; i++) PlayerInfo[playerid][pAddictionInfo][i] = 0;
						SendMes(playerid, COLOR_MAIN, "Вы полностью вылечились от наркозависимости.");
					} else SendMes(playerid, COLOR_MAIN, "Вы сделали {"#DC_WHITE"}%d{"#DC_MAIN"} укол(-а/-ов) от наркозависимости.", PlayerInfo[playerid][pAddictionInfo][2]);
			    }
			}
			return 1;
		}
		case did_hospital_disease:
		{
		    if(!response) return 1;
		    if(PlayerInfo[playerid][pDisease][listitem] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет этого заболевания."), ShowHospitalDisease(playerid);
		    if(GetMoney(playerid) < Disease[listitem] * PlayerInfo[playerid][pDisease][listitem]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"), ShowHospitalDisease(playerid);
		    if(InjectionShow[playerid] == true) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже оплатили лечение болезни, обратитесь к врачу.");
			ServerMoney(playerid, "Оплата лечения болезней", -Disease[listitem] * PlayerInfo[playerid][pDisease][listitem], 0);
			new diseasename[32];
			switch(listitem)
			{
			    case 0: diseasename = "ОРВИ";
			    case 1: diseasename = "диареи";
			    case 2: diseasename = "СПИДа";
			}
			format(strings, sizeof(strings), "Вы оплатили {"#DC_WHITE"}$%d{"#DC_MAIN"} за лечение {"#DC_WHITE"}%s.", Disease[listitem] * PlayerInfo[playerid][pDisease][listitem], diseasename);
			SendMes(playerid, COLOR_MAIN, strings);
			SendMes(playerid, COLOR_MAIN, "Обратитесь к врачам-инфекционистам для завершения лечения.");
			InjectionShow[playerid] = true;
			InjectionInfo[playerid] = listitem+1;
			/*InjectionText[playerid] = Create3DTextLabel("Ожидает укола", COLOR_PINK, 30.0, 40.0, 60.0, 10.0, 0);
			Attach3DTextLabelToPlayer(InjectionText[playerid], playerid, 0.0, 0.0, 0.3);*/
			return 1;
		}
		case did_army_eat:
		{
		    if(!response) return 1;
		    SPD(playerid, did_army_eat, DSL, "{"#DC_MAIN"}Столовая", "{"#DC_MAIN"}1.{"#DC_WHITE"} Копчённый лосось\n{"#DC_MAIN"}2.{"#DC_WHITE"} Филадельфиский стейк\n{"#DC_MAIN"}3.{"#DC_WHITE"} Кукурузная каша с креветками и рукколой", "Далее", "Отмена");
			new Float:health;
			GetPlayerHealth(playerid, health);
			UseEat(playerid, 20 * (listitem + 1));
			return 1;
		}
		case did_family_create:
		{
		    if(!response) return SPD(playerid, did_mayor, DSL, "{"#DC_MAIN"}Мэрия", "{"#DC_MAIN"}1.{"#DC_WHITE"} Пожертвование\n{"#DC_MAIN"}2.{"#DC_WHITE"} Информация\n{"#DC_MAIN"}3.{"#DC_WHITE"} Выборы\n{"#DC_MAIN"}4.{"#DC_WHITE"} Создание семьи", "Далее", "Отмена");
		    if(PlayerInfo[playerid][pFamily]) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже состоите в семье.");
		    if(GetMoney(playerid) < CreateFamily)
			{
   				totalstring = "";
			    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите название семьи:\n\nСтоимость создания семьи: $%d.\n\n{"#DC_RED"}Ошибка: У Вас нет столько денег. Используйте: /donate", CreateFamily);
				return SPD(playerid, did_family_create, DSI, "{"#DC_MAIN"}Создание семьи", totalstring, "Далее", "Отмена");
			}
			if(strlen(inputtext) < 3 || strlen(inputtext) > 49)
			{
   				totalstring = "";
			    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите название семьи:\n\nСтоимость создания семьи: $%d.\n\n{"#DC_RED"}Ошибка: Название семьи должно быть от 3 символов до 50.", CreateFamily);
				return SPD(playerid, did_family_create, DSI, "{"#DC_MAIN"}Создание семьи", totalstring, "Далее", "Отмена");
			}
			if(strfind(inputtext, " ", true) != -1 || strfind(inputtext, ".", true) != -1 || strfind(inputtext, ", ", true) != -1)
			{
   				totalstring = "";
			    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите название семьи:\n\nСтоимость создания семьи: $%d.\n\n{"#DC_RED"}Ошибка: Вы ввели запрещенные символы.", CreateFamily);
				return SPD(playerid, did_family_create, DSI, "{"#DC_MAIN"}Создание семьи", totalstring, "Далее", "Отмена");
			}
			if(IsTextInvalid(inputtext))
			{
   				totalstring = "";
			    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите название семьи:\n\nСтоимость создания семьи: $%d.\n\n{"#DC_RED"}Ошибка: Вы ввели запрещенные символы.", CreateFamily);
				return SPD(playerid, did_family_create, DSI, "{"#DC_MAIN"}Создание семьи", totalstring, "Далее", "Отмена");
			}
			if(IsTextRussian(inputtext))
			{
   				totalstring = "";
			    format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Введите название семьи:\n\nСтоимость создания семьи: $%d.\n\n{"#DC_RED"}Ошибка: Вы используете русские символы.", CreateFamily);
				return SPD(playerid, did_family_create, DSI, "{"#DC_MAIN"}Создание семьи", totalstring, "Далее", "Отмена");
			}
			if(TOTALFAMILIES >= MAX_FAMILIES) return SendMes(playerid, COLOR_DARKORANGE, "К сожалению, временно создать семьи нельзя. Попробуйте позже.");
			TOTALFAMILIES++;
            new data[16];
			format(data, sizeof(data), "%s", date("%dd.%mm.%yyyy", gettime()-46800));
			FamiliesInfo[TOTALFAMILIES][id] = TOTALFAMILIES;
			strmid(FamiliesInfo[TOTALFAMILIES][fName], inputtext, 0, strlen(inputtext), 50);
			strmid(FamiliesInfo[TOTALFAMILIES][fOwner], PlayerInfo[playerid][pName], 0, strlen(PlayerInfo[playerid][pName]), 32);
			FamiliesInfo[TOTALFAMILIES][fOwnerID] = PlayerInfo[playerid][pID];
			FamiliesInfo[TOTALFAMILIES][fColor] = 0xFFFFFFFF;
			format(FamiliesInfo[TOTALFAMILIES][fColorDialog], 32, "FFFFFF");
			format(FamiliesInfo[TOTALFAMILIES][fCreateDate], 16, data);
			FamiliesInfo[TOTALFAMILIES][fMoney] = 0;
			FamiliesInfo[TOTALFAMILIES][fHouse] = 0;
			FamiliesInfo[TOTALFAMILIES][fHouseStatus] = 0;
			FamiliesInfo[TOTALFAMILIES][fDonateSlots] = 0;
			PlayerInfo[playerid][pFamily] = TOTALFAMILIES;
			PlayerInfo[playerid][pFamilyRank] = 5;
			SetPlayerInt(PlayerInfo[playerid][pID], "family", PlayerInfo[playerid][pFamily]);
			ServerMoney(playerid, "Создание семьи", -CreateFamily, 0);
			for(new i = 1; i < 6; i++)
			{
			    format(FamiliesRank[TOTALFAMILIES][i], 32, "None");
			}
			SendMes(playerid, COLOR_MAIN, "Вы создали семью за {"#DC_WHITE"}$%d.", CreateFamily);
			mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_FAMILIES" (name, owner, ownerid, color, date, colordialog) VALUES ('%e', '%s', '%d', '%d', '%s', '%s')",
			FamiliesInfo[TOTALFAMILIES][fName], FamiliesInfo[TOTALFAMILIES][fOwner], FamiliesInfo[TOTALFAMILIES][fOwnerID], FamiliesInfo[TOTALFAMILIES][fColor], data, FamiliesInfo[TOTALFAMILIES][fColorDialog]);
			mysql_query(mysql, request, false);
			/*format(strings, sizeof(strings), "[»] %s {"#DC_WHITE"}Family", FamiliesInfo[TOTALFAMILIES][fName]);
			FamiliesPlayerText[playerid] = Create3DTextLabel(strings, FamiliesInfo[TOTALFAMILIES][fColor], 0.0, 0.0, 0.0, 10.0, 0, 1);
    		Attach3DTextLabelToPlayer(FamiliesPlayerText[playerid], playerid, 0.0, 0.0, 0.5);*/
			return 1;
		}
		case did_family_menu:
		{
			if(!response) return 1;
			new idx = PlayerInfo[playerid][pFamily];
			switch(listitem)
			{
			    case 0:
			    {
   					totalstring = "";
			        format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
			        Название: %s\n\
			        Создатель: %s\n\
			        Дата создания: %s\n\
			        Денежный счет: $%d\n\
			        Количество слотов: %d", FamiliesInfo[idx][fName], FamiliesInfo[idx][fOwner], FamiliesInfo[idx][fCreateDate], FamiliesInfo[idx][fMoney], 15 + FamiliesInfo[idx][fDonateSlots]);
					SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация о семье", totalstring, "Отмена", "");
			    }
			    case 1:
			    {
					new total = 0;
   					totalstring = "", bigstring = "{"#DC_WHITE"}";
					foreach(new i:Player)
			        {
				    	if(PlayerLogged[i] == 0 || PlayerInfo[i][pFamily] != idx) continue;
						{
							format(totalstring, sizeof(totalstring), "%s [ID: %d]: %s (%d)\n", PlayerInfo[i][pName], i, FamiliesRank[idx][PlayerInfo[i][pFamilyRank]], PlayerInfo[i][pFamilyRank]);
							strcat(bigstring, totalstring);
							total++;
						}
					}
					if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент членов семьи нет в сети.");
				    else SendMes(playerid, COLOR_MAIN, "Всего членов семьи онлайн - {"#DC_WHITE"}%d{"#DC_MAIN"} игрок(-а/-ов).", total);
					SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Состав семьи", bigstring, "Отмена", "");
			    }
			    case 2:
			    {
			        mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `family` = '%d' ORDER BY `familyrank` DESC", idx);
					new Cache:result = mysql_query(mysql, request);
					if(cache_num_rows())
					{
						new name[32], rank, lastcon[16];
						totalstring = "", bigstring = "{"#DC_WHITE"}";
						for(new i = 0; i < 50; i++)
						{
							if(i >= cache_num_rows()) break;
							cache_get_value_name(i, "name", name, MAX_PLAYER_NAME);
							cache_get_value_name_int(i, "familyrank", rank);
							cache_get_value_name(i, "lastcon", lastcon, 16);
							format(totalstring, sizeof(totalstring), "%s: %s [%s]\n", name, FamiliesRank[idx][rank], lastcon);
							strcat(bigstring, totalstring);
						}
						SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Полный состав семьи", bigstring, "Отмена", "");
					} else SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
					return cache_delete(result);
			    }
			    case 3:
			    {
				    if(FamiliesInfo[idx][fOwnerID] == PlayerInfo[playerid][pID])
				    {
				        SPD(playerid, did_family_money, DSL, "{"#DC_MAIN"}Денежный счет", "{"#DC_MAIN"}1.{"#DC_WHITE"} Положить деньги\n{"#DC_MAIN"}2.{"#DC_WHITE"} Снять деньги\n{"#DC_MAIN"}3.{"#DC_WHITE"} Баланс", "Далее", "Отмена");
				    }
				    else SPD(playerid, did_family_money, DSL, "{"#DC_MAIN"}Денежный счет", "{"#DC_MAIN"}1.{"#DC_WHITE"} Положить деньги\n{"#DC_MAIN"}2.{"#DC_WHITE"} Баланс", "Далее", "Отмена");
			    }
				case 4:
				{
			        if(FamiliesInfo[idx][fOwnerID] == PlayerInfo[playerid][pID])
			        {
						SPD(playerid, did_family_name_change, DSI, "{"#DC_MAIN"}Изменить название", "{"#DC_WHITE"}Введите новое название:", "Далее", "Отмена");
			        }
					else
			        {
						format(strings, sizeof(strings), "[%s] [%s] %s [%d] покинул семью по собственному желанию.", FamiliesInfo[idx][fName], FamiliesRank[idx][PlayerInfo[playerid][pFamilyRank]], PlayerInfo[playerid][pName], playerid);
						SendFamilyMessage(idx, FamiliesInfo[idx][fColor], strings);
			            PlayerInfo[playerid][pFamily] = 0;
			            PlayerInfo[playerid][pFamilyRank] = 0;
			            SendMes(playerid, COLOR_MAIN, "Вы вышли из семьи.");
 						/*Delete3DTextLabel(FamiliesPlayerText[playerid]);*/
			        }
				}
				case 5:
				{
			        if(FamiliesInfo[idx][fOwnerID] == PlayerInfo[playerid][pID])
			        {
						SPD(playerid, did_family_rank_change, DSI, "{"#DC_MAIN"}Изменить названия рангов", "{"#DC_WHITE"}Введите номер ранга и название через запятую:", "Далее", "Отмена");
			        } else return 1;
				}
				case 6:
				{
				    if(FamiliesInfo[idx][fOwnerID] == PlayerInfo[playerid][pID])
				    {
				        bigstring = "";
				        for(new i = 0; i < sizeof(FamiliesColors); i++)
						{
							format(bigstring, sizeof(bigstring), "%s{"#DC_WHITE"}[%d] %s\n", bigstring, i+1, FamiliesColors[i][fColorName]);
						}
						SPD(playerid, did_family_color, DSL, "{"#DC_MAIN"}Изменить цвет", bigstring, "Далее", "Отмена");
				    } else return 1;
				}
				case 7:
				{
				    if(FamiliesInfo[idx][fOwnerID] == PlayerInfo[playerid][pID])
				    {
				        if(FamiliesInfo[idx][fHouse] != 0)
				        {
						    new houseid = FamiliesInfo[idx][fHouse];
				            FamiliesInfo[idx][fHouse] = 0;
							FamiliesInfo[idx][fHouseStatus] = 0;
							SaveFamilies(idx);
				       	 	HouseInfo[houseid][hFamily] = 0;
							SaveHouse(houseid);
							SendMes(playerid, COLOR_MAIN, "Вы отвязали дом от семьи.");
						}
				        else
				        {
						    new houseid = PlayerInfo[playerid][pHouse];
						    if(houseid == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет дома.");
						    if(HouseInfo[houseid][hDiscript] < 2) return SendMes(playerid, COLOR_DARKORANGE, "Ваш дом должен быть класса C, B или A.");
						    if(HouseInfo[houseid][hFamily] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Ваш дом уже привязан к семье %s.", FamiliesInfo[idx][fName]);
					        if(GetMoney(playerid) < SET_FAMILIES_HOUSE) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
							ServerMoney(playerid, "Изменение дома семьи", -SET_FAMILIES_HOUSE, 0);
							FamiliesInfo[idx][fHouse] = houseid;
							SaveFamilies(idx);
							HouseInfo[houseid][hFamily] = idx;
							SaveHouse(houseid);
							SendMes(playerid, COLOR_MAIN, "Вы привязали свой дом к семье.");
						}
				    } else return 1;
				}
				case 8:
				{
				    if(FamiliesInfo[idx][fOwnerID] == PlayerInfo[playerid][pID])
				    {
					    if(FamiliesInfo[idx][fHouse] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вашей семьи нет дома.");
				        if(GetMoney(playerid) < SET_FAMILIES_HOUSE_STATUS) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
						ServerMoney(playerid, "Изменение появления в доме семьи", -SET_FAMILIES_HOUSE_STATUS, 0);
						FamiliesInfo[idx][fHouseStatus] ^= 1;
						SaveFamilies(idx);
						SendMes(playerid, COLOR_MAIN, "Вы изменили место появления в доме семьи.");
				    } else return 1;
				}
				case 9:
				{
				    if(FamiliesInfo[idx][fOwnerID] == PlayerInfo[playerid][pID])
				    {
						SPD(playerid, did_family_owner, DSI, "{"#DC_MAIN"}Назначить владельца семьи", "{"#DC_WHITE"}Введите ID человека, которого Вы желаете назначить владельцем семьи:", "Далее", "Отмена");
				    } else return 1;
				}
				case 10:
				{
				    if(FamiliesInfo[idx][fOwnerID] == PlayerInfo[playerid][pID])
				    {
						format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}В семей сейчас %d мест.\nВы желаете увеличить количество мест на 10?\n\nСтоимость: 50 GOLD CINS?", 15 + FamiliesInfo[idx][fDonateSlots]);
						SPD(playerid, did_family_donate, DSM, "{"#DC_MAIN"}Увеличить слоты", totalstring, "Да", "Нет");
				    } else return 1;
				}
				case 11:
				{
				    if(FamiliesInfo[idx][fOwnerID] == PlayerInfo[playerid][pID])
				    {
				        if(GetMoney(playerid) < SET_FAMILIES_DISBAND) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
						ServerMoney(playerid, "Расформировка семьи", -SET_FAMILIES_DISBAND, 0);
				        foreach(new i:Player)
				        {
					    	if(PlayerLogged[i] == 0 || PlayerInfo[i][pFamily] != idx || i == playerid) continue;
							{
							    PlayerInfo[i][pFamily] = 0;
							    PlayerInfo[i][pFamilyRank] = 0;
							    SendMes(i, COLOR_MAIN, "Вы были исключены из семьи. Создатель расформировал ее.");
 								/*Delete3DTextLabel(FamiliesPlayerText[i]);*/
							}
				        }
						mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_ACCOUNT" SET `family` = '0', `familyrank` = '0' WHERE `family` = '%d' AND `name` != '%e' LIMIT 1", FamiliesInfo[idx][id], PlayerInfo[playerid][pName]);
						mysql_query(mysql, request, false);
						SendMes(playerid, COLOR_MAIN, "Вы расформировали семью.");
				    } else return 1;
				}
			}
			return 1;
		}
		case did_family_money:
		{
		    if(!response) return cmd_family(playerid, "/0");
		    new idx = PlayerInfo[playerid][pFamily];
		    switch(listitem)
		    {
		        case 0: SPD(playerid, did_family_money_put, DSI, "{"#DC_MAIN"}Положить деньги", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена");
		        case 1:
		        {
		            if(FamiliesInfo[idx][fOwnerID] == PlayerInfo[playerid][pID])
		            {
		                SPD(playerid, did_family_money_take, DSI, "{"#DC_MAIN"}Снять деньги", "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета:", "Далее", "Отмена");
		            }
		            else
		            {
						totalstring = "";
		                format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Баланс семейного счета: $%d.", FamiliesInfo[idx][fMoney]);
						SPD(playerid, did_family_money_balance, DSM, "{"#DC_MAIN"}Баланс", totalstring, "Отмена", "");
		            }
		        }
		        case 2:
          		{
					totalstring = "";
            		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Баланс семейного счета: $%d.", FamiliesInfo[idx][fMoney]);
					SPD(playerid, did_family_money_balance, DSM, "{"#DC_MAIN"}Баланс", totalstring, "Отмена", "");
     			}
		    }
			return 1;
		}
		case did_family_money_put:
		{
			new price, idx = PlayerInfo[playerid][pFamily];
			if(!response)
			{
   				if(FamiliesInfo[idx][fOwnerID] == PlayerInfo[playerid][pID])
			    {
			        SPD(playerid, did_family_money, DSL, "{"#DC_MAIN"}Денежный счет", "{"#DC_MAIN"}1.{"#DC_WHITE"} Положить деньги\n{"#DC_MAIN"}2.{"#DC_WHITE"} Снять деньги\n{"#DC_MAIN"}3.{"#DC_WHITE"} Баланс", "Далее", "Отмена");
			    }
			    else SPD(playerid, did_family_money, DSL, "{"#DC_MAIN"}Денежный счет", "{"#DC_MAIN"}1.{"#DC_WHITE"} Положить деньги\n{"#DC_MAIN"}2.{"#DC_WHITE"} Баланс", "Далее", "Отмена");
			}
			if(sscanf(inputtext, "i", price)) return SPD(playerid, did_family_money_put, DSI, "{"#DC_MAIN"}Положить деньги", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена");
			if(price < 1) return SPD(playerid, did_family_money_put, DSI, "{"#DC_MAIN"}Положить деньги", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена");
			if(GetMoney(playerid) < price) { SPD(playerid, did_family_money_put, DSI, "{"#DC_MAIN"}Положить деньги", "{"#DC_WHITE"}Введите сумму, на которую хотите пополнить счет:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"); }
			FamiliesInfo[idx][fMoney] += price;
			SaveFamilies(idx);
			ServerMoney(playerid, "Положил на счет семьи", -price, 0);
			format(strings, sizeof(strings), "Вы положили на счет семьи {"#DC_WHITE"}$%d.{"#DC_MAIN"} Текущий баланс семьи: {"#DC_WHITE"}$%d.", price, FamiliesInfo[idx][fMoney]);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "[%s] [%s] %s [%d] положил на счет семьи $%d.", FamiliesInfo[PlayerInfo[playerid][pFamily]][fName], FamiliesRank[PlayerInfo[playerid][pFamily]][PlayerInfo[playerid][pFamilyRank]], PlayerInfo[playerid][pName], playerid, price);
			SendFamilyMessage(idx, FamiliesInfo[idx][fColor], strings);
			return 1;
		}
		case did_family_money_take:
		{
			new price, idx = PlayerInfo[playerid][pFamily];
			if(!response)
			{
   				if(FamiliesInfo[idx][fOwnerID] == PlayerInfo[playerid][pID])
			    {
			        SPD(playerid, did_family_money, DSL, "{"#DC_MAIN"}Денежный счет", "{"#DC_MAIN"}1.{"#DC_WHITE"} Положить деньги\n{"#DC_MAIN"}2.{"#DC_WHITE"} Снять деньги\n{"#DC_MAIN"}3.{"#DC_WHITE"} Баланс", "Далее", "Отмена");
			    }
			    else SPD(playerid, did_family_money, DSL, "{"#DC_MAIN"}Денежный счет", "{"#DC_MAIN"}1.{"#DC_WHITE"} Положить деньги\n{"#DC_MAIN"}2.{"#DC_WHITE"} Баланс", "Далее", "Отмена");
			}
			if(sscanf(inputtext, "i", price)) return SPD(playerid, did_family_money_take, DSI, "{"#DC_MAIN"}Снять деньги", "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета:", "Далее", "Отмена");
			if(price < 1) return SPD(playerid, did_family_money_take, DSI, "{"#DC_MAIN"}Снять деньги", "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета:", "Далее", "Отмена");
			if(FamiliesInfo[idx][fMoney] < price) { SPD(playerid, did_family_money_take, DSI, "{"#DC_MAIN"}Снять деньги", "{"#DC_WHITE"}Введите сумму, которую хотите снять со счета:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "На счете семьи нет столько денег."); }
			FamiliesInfo[idx][fMoney] -= price;
			SaveFamilies(idx);
			ServerMoney(playerid, "Снял со счета семьи", price, 0);
			format(strings, sizeof(strings), "Вы сняли со счета семьи {"#DC_WHITE"}$%d.{"#DC_MAIN"} Текущий баланс семьи: {"#DC_WHITE"}$%d.", price, FamiliesInfo[idx][fMoney]);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "[%s] [%s] %s [%d] снял со счета семьи $%d.", FamiliesInfo[PlayerInfo[playerid][pFamily]][fName], FamiliesRank[PlayerInfo[playerid][pFamily]][PlayerInfo[playerid][pFamilyRank]], PlayerInfo[playerid][pName], playerid, price);
			SendFamilyMessage(idx, FamiliesInfo[idx][fColor], strings);
			return 1;
		}
		case did_family_money_balance:
		{
		    new idx = PlayerInfo[playerid][pFamily];
		    if(FamiliesInfo[idx][fOwnerID] == PlayerInfo[playerid][pID])
  			{
     			SPD(playerid, did_family_money, DSL, "{"#DC_MAIN"}Денежный счет", "{"#DC_MAIN"}1.{"#DC_WHITE"} Положить деньги\n{"#DC_MAIN"}2.{"#DC_WHITE"} Снять деньги\n{"#DC_MAIN"}3.{"#DC_WHITE"} Баланс", "Далее", "Отмена");
	    	}
		    else SPD(playerid, did_family_money, DSL, "{"#DC_MAIN"}Денежный счет", "{"#DC_MAIN"}1.{"#DC_WHITE"} Положить деньги\n{"#DC_MAIN"}2.{"#DC_WHITE"} Баланс", "Далее", "Отмена");
			return 1;
	    }
	    case did_family_name_change:
	    {
			new idx = PlayerInfo[playerid][pFamily];
			if(!response) return cmd_family(playerid, inputtext);
			if(strlen(inputtext) < 3 || strlen(inputtext) > 49) return SPD(playerid, did_family_name_change, DSI, "{"#DC_MAIN"}Изменить название", "{"#DC_WHITE"}Введите новое название:\n\n{"#DC_RED"}Ошибка: Название семьи должно быть от 3 символов до 50.", "Далее", "Отмена");
			if(strfind(inputtext, " ", true) != -1 || strfind(inputtext, ".", true) != -1 || strfind(inputtext, ", ", true) != -1) return SPD(playerid, did_family_name_change, DSI, "{"#DC_MAIN"}Изменить название", "{"#DC_WHITE"}Введите новое название:\n\n{"#DC_RED"}Ошибка: Вы ввели запрещенные символы.", "Далее", "Отмена");
			if(IsTextInvalid(inputtext)) return SPD(playerid, did_family_name_change, DSI, "{"#DC_MAIN"}Изменить название", "{"#DC_WHITE"}Введите новое название:\n\n{"#DC_RED"}Ошибка: Вы ввели запрещенные символы.", "Далее", "Отмена");
			if(IsTextRussian(inputtext)) return SPD(playerid, did_family_name_change, DSI, "{"#DC_MAIN"}Изменить название", "{"#DC_WHITE"}Введите новое название:\n\n{"#DC_RED"}Ошибка: Вы используете русские символы.", "Далее", "Отмена");
	   		if(GetMoney(playerid) < SET_FAMILIES_NAME) return SPD(playerid, did_family_name_change, DSI, "{"#DC_MAIN"}Изменить название", "{"#DC_WHITE"}Введите новое название:\n\n{"#DC_RED"}Ошибка: У Вас нет столько денег. Используйте: /donate", "Далее", "Отмена");
			ServerMoney(playerid, "Изменение названия семьи", -SET_FAMILIES_NAME, 0);
			strmid(FamiliesInfo[idx][fName], inputtext, 0, strlen(inputtext), 50);
			/*foreach(new i:Player)
	        {
		    	if(PlayerLogged[i] == 0 || PlayerInfo[i][pFamily] != idx) continue;
				{
					Delete3DTextLabel(FamiliesPlayerText[i]);
					format(strings, sizeof(strings), "[»] %s {"#DC_WHITE"}Family", FamiliesInfo[idx][fName]);
					FamiliesPlayerText[i] = Create3DTextLabel(strings, FamiliesInfo[idx][fColor], 0.0, 0.0, 0.0, 10.0, 0, 1);
					Attach3DTextLabelToPlayer(FamiliesPlayerText[i], i, 0.0, 0.0, 0.5);
				}
	        }*/
			SendMes(playerid, COLOR_MAIN, "Вы изменили название семьи.");
	        SaveFamilies(idx);
			return 1;
	    }
	    case did_family_rank_change:
	    {
	        if(!response) return cmd_family(playerid, inputtext);
   	    	new rank, RankName[32];
			if(sscanf(inputtext, "p<,>ds[32]", rank, RankName)) return SPD(playerid, did_family_rank_change, DSI, "{"#DC_MAIN"}Изменить названия рангов", "{"#DC_WHITE"}Введите номер ранга и название через запятую:\n\n{"#DC_RED"}Ошибка: Вы ничего не ввели.", "Далее", "Отмена");
			if(rank > 5 || rank < 1) return SPD(playerid, did_family_rank_change, DSI, "{"#DC_MAIN"}Изменить названия рангов", "{"#DC_WHITE"}Введите номер ранга и название через запятую:\n\n{"#DC_RED"}Ошибка: Введите ранг от 1 до 5.", "Далее", "Отмена");
			if(GetMoney(playerid) < SET_FAMILIES_RANK) return SPD(playerid, did_family_rank_change, DSI, "{"#DC_MAIN"}Изменить названия рангов", "{"#DC_WHITE"}Введите номер ранга и название через запятую:\n\n{"#DC_RED"}Ошибка: У Вас нет столько денег. Используйте: /donate", "Далее", "Отмена");
			ServerMoney(playerid, "Изменение ранга семьи", -SET_FAMILIES_RANK, 0);
			new idx = PlayerInfo[playerid][pFamily];
			format(FamiliesRank[idx][rank], 32, RankName);
			format(strings, sizeof(strings), "Название {"#DC_WHITE"}%d{"#DC_MAIN"} ранга изменено на {"#DC_WHITE"}\"%s\".", rank, RankName);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "rank%d", rank);
			SaveFamilies(idx);
			return 1;
	    }
	    case did_family_color:
	    {
	        if(!response) return cmd_family(playerid, inputtext);
            if(GetMoney(playerid) < SET_FAMILIES_COLOR) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			ServerMoney(playerid, "Изменение цвета семьи", -SET_FAMILIES_COLOR, 0);
			new idx = PlayerInfo[playerid][pFamily];
			FamiliesInfo[idx][fColor] = FamiliesColors[listitem][fColor];
			format(FamiliesInfo[idx][fColorDialog], 32, FamiliesColors[listitem][fColorDialog]);
			SendMes(playerid, COLOR_MAIN, "Вы изменили цвет семьи на %s.", FamiliesColors[listitem][fColorName]);
			/*foreach(new i:Player)
	        {
		    	if(PlayerLogged[i] == 0 || PlayerInfo[i][pFamily] != idx) continue;
				{
					Delete3DTextLabel(FamiliesPlayerText[i]);
					format(strings, sizeof(strings), "[»] %s {"#DC_WHITE"}Family", FamiliesInfo[idx][fName]);
					FamiliesPlayerText[i] = Create3DTextLabel(strings, FamiliesInfo[idx][fColor], 0.0, 0.0, 0.0, 10.0, 0, 1);
					Attach3DTextLabelToPlayer(FamiliesPlayerText[i], i, 0.0, 0.0, 0.5);
				}
	        }*/
	        SaveFamilies(idx);
			return 1;
	    }
	    case did_family_owner:
	    {
	        if(!response) return cmd_family(playerid, inputtext);
   	    	new scdplayerid;
			if(sscanf(inputtext, "u", scdplayerid)) return SPD(playerid, did_family_owner, DSI, "{"#DC_MAIN"}Назначить владельца семьи", "{"#DC_WHITE"}Введите ID человека, которого Вы желаете назначить владельцем семьи:", "Далее", "Отмена");
            if(!IsPlayerConnected(scdplayerid)) return SPD(playerid, did_family_owner, DSI, "{"#DC_MAIN"}Назначить владельца семьи", "{"#DC_WHITE"}Введите ID человека, которого Вы желаете назначить владельцем семьи:\n\n{"#DC_RED"}Ошибка: Данный игрок не в игре.", "Далее", "Отмена");
			if(PlayerLogged[scdplayerid] == 0) return SPD(playerid, did_family_owner, DSI, "{"#DC_MAIN"}Назначить владельца семьи", "{"#DC_WHITE"}Введите ID человека, которого Вы желаете назначить владельцем семьи:\n\n{"#DC_RED"}Ошибка: Данный игрок еще не авторизовался.", "Далее", "Отмена");
			if(PlayerInfo[scdplayerid][pFamily] != PlayerInfo[playerid][pFamily]) return SPD(playerid, did_family_owner, DSI, "{"#DC_MAIN"}Назначить владельца семьи", "{"#DC_WHITE"}Введите ID человека, которого Вы желаете назначить владельцем семьи:\n\n{"#DC_RED"}Ошибка: Этот игрок не состоит в Вашей семье.", "Далее", "Отмена");
			if(scdplayerid == playerid) return SPD(playerid, did_family_owner, DSI, "{"#DC_MAIN"}Назначить владельца семьи", "{"#DC_WHITE"}Введите ID человека, которого Вы желаете назначить владельцем семьи:\n\n{"#DC_RED"}Ошибка: Вы не можете назначить себя владельцем семьи.", "Далее", "Отмена");
			if(!IsPlayerInRangeOfPlayer(10.0, playerid, scdplayerid)) return SPD(playerid, did_family_owner, DSI, "{"#DC_MAIN"}Назначить владельца семьи", "{"#DC_WHITE"}Введите ID человека, которого Вы желаете назначить владельцем семьи:\n\n{"#DC_RED"}Ошибка: Этот игрок слишком далеко от Вас.", "Далее", "Отмена");
			if(GetMoney(playerid) < SET_FAMILIES_OWNER) return SPD(playerid, did_family_owner, DSI, "{"#DC_MAIN"}Назначить владельца семьи", "{"#DC_WHITE"}Введите ID человека, которого Вы желаете назначить владельцем семьи:\n\n{"#DC_RED"}Ошибка: У Вас нет столько денег. Используйте: /donate", "Далее", "Отмена");
			ServerMoney(playerid, "Изменение владельца семьи", -SET_FAMILIES_OWNER, 0);
			new idx = PlayerInfo[playerid][pFamily];
			if(FamiliesInfo[idx][fHouse] != 0)
	        {
			    new houseid = FamiliesInfo[idx][fHouse];
	            FamiliesInfo[idx][fHouse] = 0;
				FamiliesInfo[idx][fHouseStatus] = 0;
				SaveFamilies(idx);
	       	 	HouseInfo[houseid][hFamily] = 0;
				SaveHouse(houseid);
			}
			PlayerInfo[playerid][pFamilyRank] = 4;
    		SetPlayerInt(PlayerInfo[playerid][pID], "familyrank", PlayerInfo[playerid][pFamilyRank]);
			PlayerInfo[scdplayerid][pFamilyRank] = 5;
    		SetPlayerInt(PlayerInfo[scdplayerid][pID], "familyrank", PlayerInfo[scdplayerid][pFamilyRank]);
			strmid(FamiliesInfo[idx][fOwner], PlayerInfo[scdplayerid][pName], 0, strlen(PlayerInfo[scdplayerid][pName]), 32);
			FamiliesInfo[idx][fOwnerID] = PlayerInfo[scdplayerid][pID];
			SaveFamilies(idx);
			format(strings, sizeof(strings), "[%s] [%s] [%d] назначен новым владельцем семьи.", FamiliesInfo[idx][fName], PlayerInfo[scdplayerid][pName], scdplayerid);
			SendFamilyMessage(idx, FamiliesInfo[idx][fColor], strings);
			return 1;
	    }
	    case did_family_donate:
	    {
	        if(!response) return cmd_family(playerid, inputtext);
	        if(50 > PlayerInfo[playerid][pDonateMoney]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько DONATE COINS.");
			else
			{
			    new idx = PlayerInfo[playerid][pFamily];
			    FamiliesInfo[idx][fDonateSlots] += 10;
			    SaveFamilies(idx);
                SendMes(playerid, COLOR_MAIN, "Вы увеличили слоты в семье.");
				PlayerInfo[playerid][pDonateMoney] -= 50;
				format(strings, sizeof(strings), "C вашего счета снятно {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS. Остаток на счете: {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", 50, PlayerInfo[playerid][pDonateMoney]);
				SendMes(playerid, COLOR_MAIN, strings);
				SetPlayerInt(PlayerInfo[playerid][pID], "donate", PlayerInfo[playerid][pDonateMoney]);
				format(strings, sizeof(strings), "Игрок %s потратил %d DONATE COINS на увеличение слотов в семье. Остаток на счете: %d DONATE COINS.", PlayerInfo[playerid][pName], 50, PlayerInfo[playerid][pDonateMoney]);
				WriteLog("logs_donate", strings);
			}
			return 1;
	    }
		case did_family_invite:
		{
			new scdplayerid = GetPVarInt(playerid, "PlayerInvite"), idx = PlayerInfo[scdplayerid][pFamily];
			if(response)
			{
			    mysql_format(mysql, request, sizeof(request), "SELECT COUNT(`family`) AS `allmembers` FROM "TABLE_ACCOUNT" WHERE `family` = '%d'", idx);
				mysql_tquery(mysql, request, "OnPlayerSelectBase", "ddds", playerid, 23, 1, idx);
			}
			else
			{
				format(strings, sizeof(strings), "%s{"#DC_MAIN"} отклонил(-а) предложение присоединиться к семье {"#DC_WHITE"}%s.", PlayerInfo[playerid][pName], FamiliesInfo[idx][fName]);
				SendMes(scdplayerid, COLOR_WHITE, strings);
				DeletePVar(playerid, "PlayerInvite");
			}
			return 1;
		}
		case did_family_giverank:
		{
			new scdplayerid = GetPVarInt(playerid, "PlayerRank");
			if(!response) { DeletePVar(playerid, "PlayerRank"); return 1; }
			if(PlayerInfo[playerid][pFamilyRank] <= listitem+1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
			if(!IsPlayerConnected(scdplayerid)) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
			if(PlayerLogged[scdplayerid] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
			if(PlayerInfo[scdplayerid][pFamily] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не находиться в семье.");
			if(PlayerInfo[scdplayerid][pFamily] != PlayerInfo[playerid][pFamily]) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в другой семье.");
			if(PlayerInfo[scdplayerid][pFamilyRank] == listitem+1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока и так этот ранг.");
			PlayerInfo[scdplayerid][pFamilyRank] = listitem+1;
			format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} повысил/понизил ваш ранг. Сейчас Вы: {"#DC_WHITE"}%s.", FamiliesRank[PlayerInfo[playerid][pFamily]][PlayerInfo[playerid][pFamilyRank]], PlayerInfo[playerid][pName], FamiliesRank[PlayerInfo[scdplayerid][pFamily]][PlayerInfo[scdplayerid][pFamilyRank]]);
			SendMes(scdplayerid, COLOR_WHITE, strings);
			format(strings, sizeof(strings), "Вы повысили/понизили {"#DC_WHITE"}%s{"#DC_MAIN"} до {"#DC_WHITE"}%d{"#DC_MAIN"} ранга.", PlayerInfo[scdplayerid][pName], PlayerInfo[scdplayerid][pFamilyRank]);
			SendMes(playerid, COLOR_MAIN, strings);
			return 1;
		}
		case did_question:
		{
			if(!response) return 1;
			if(QuestionFlood[playerid] != 0)
			{
				SendMes(playerid, COLOR_DARKORANGE, "Отправлять вопрос можно раз в 40 секунд.");
				return 1;
			}
			if(PlayerInfo[playerid][pMute] > 0)
			{
				SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
				return 1;
			}
			if(!strlen(inputtext)) return SPD(playerid, did_question, DSI, "{"#DC_MAIN"}Задать вопрос помощникам", "{"#DC_WHITE"}Введите свой вопрос помощникам:", "Далее", "Отмена");
			format(strings, sizeof(strings), "[S] [ASK] %s [%d]: {"#DC_ADMIN_THREE"}%s", PlayerInfo[playerid][pName], playerid, inputtext);
			SendSupportMessage(COLOR_ADMIN_TWO, strings), SendAdminMessage(COLOR_ADMIN_TWO, strings, 9);
			format(strings, sizeof(strings), "Вопрос от %s [%d]: {"#DC_WHITE"}%s", PlayerInfo[playerid][pName], playerid, inputtext);
			SendMes(playerid, COLOR_MAIN, strings);
			SendMes(playerid, COLOR_MAIN, "Ваш вопрос был отправлен помощникам.");
			QuestionFlood[playerid] = 40;
			return 1;
		}
		case did_report:
		{
			if(!response) return 1;
			if(ReportFlood[playerid] != 0)
			{
				SendMes(playerid, COLOR_DARKORANGE, "Отправлять обращение можно раз в 2 минуты.");
				return 1;
			}
			if(PlayerInfo[playerid][pMute] > 0)
			{
				SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
				return cmd_mm(playerid, inputtext);
			}
		    if(GetPVarInt(playerid, "report_id"))
		    {
				SendMes(playerid, COLOR_DARKORANGE, "Вы уже отправили обращение.");
		     	return 1;
			}
		    if(totaladminreports == MAX_ADMIN_REPORTS-1)
		    {
				SendMes(playerid, COLOR_DARKORANGE, "У администрации большое количество обращений, подождите.");
		     	return 1;
			}
			if(!strlen(inputtext)) return SPD(playerid, did_report, DSI, "{"#DC_MAIN"}Связь с администрацией", "{"#DC_WHITE"}Введите свое обращение к администрации:", "Далее", "Отмена");
			format(strings, sizeof(strings), "[A] [REPORT] %s [%d]: {"#DC_ADMIN_THREE"}%s", PlayerInfo[playerid][pName], playerid, inputtext);
			SendAdminMessage(COLOR_ADMIN_TWO, strings, 4);
			format(strings, sizeof(strings), "Обращение от %s [%d]: {"#DC_WHITE"}%s", PlayerInfo[playerid][pName], playerid, inputtext);
			SendMes(playerid, COLOR_MAIN, strings);
			SendMes(playerid, COLOR_MAIN, "Ваше обращение было отправлено администрации.");
			ReportFlood[playerid] = 120;
			for(new i = 1; i < MAX_ADMIN_REPORTS; i++)
		    {
		        if(aReportInfo[i][rPlayerID] != -1) continue;
		        aReportInfo[i][rIsTooked] = false;
		        aReportInfo[i][rID] = i;
		        aReportInfo[i][rPlayerID] = playerid;
		        format(strings, sizeof(strings), "%s", inputtext);
		        strmid(aReportInfo[i][rText], strings, 0, MAX_ADMIN_REPORT_TEXT_LENGTH, MAX_ADMIN_REPORT_TEXT_LENGTH);
		        aReportInfo[i][rWhenWroted_Time] = gettime();
		        new hour, minute, second;
		        gettime(hour, minute, second);
		        format(strings, sizeof(strings), "%02d:%02d:%02d", hour, minute, second);
		        strmid(aReportInfo[i][rWhenWroted_Text], strings, 0, 10, 10);
		        SetPVarInt(playerid, "report_id", i);
		        totaladminreports++;
		        break;
		    }
			return 1;
		}
		case did_route:
		{
		    if(!response) return SPD(playerid, did_route, DSL, "{"#DC_MAIN"}Маршрут", "{"#DC_MAIN"}1.{"#DC_WHITE"} Автовокзал ЛС - ЖД-ЛС - Автошкола", "Далее", "Отмена");
			CHECKPOINT = 0;
			new i = CHECKPOINT;
			if(GetPVarInt(playerid, "pGPSWork") == 1)
			{
				DisablePlayerRaceCheckpoint(playerid);
				SetPVarInt(playerid, "pGPSWork", 0);
				DeletePVar(playerid, "GPSX");
				DeletePVar(playerid, "GPSY");
				DeletePVar(playerid, "GPSZ");
				DeletePVar(playerid, "GPSID");
			}
			if(listitem == 0) SetPlayerRaceCheckpoint(playerid, 0, LS_AutoSchool[i][mPosX], LS_AutoSchool[i][mPosY], LS_AutoSchool[i][mPosZ]-1.5, LS_AutoSchool[i+1][mPosX], LS_AutoSchool[i+1][mPosY], LS_AutoSchool[i+1][mPosZ]-1.5, 5.0);
			SendMes(playerid, COLOR_MAIN, "Вы начали рабочий день.");
			SetPVarInt(playerid, "BusJob", 1), SetPVarInt(playerid, "BusType", listitem+1);
			new vehicleid = GetPlayerVehicleID(playerid);
		    if(VehicleTextUse[vehicleid])
			{
				Delete3DTextLabel(VehicleJobText[vehicleid]);
				VehicleTextUse[vehicleid] = false;
			}
			format(strings, sizeof(strings), "Водитель автобуса\n{"#DC_LYELLOW"}%s\n{"#DC_WHITE"}Проезд бесплатный", BusName[listitem]);
			VehicleJobText[vehicleid] = Create3DTextLabel(strings, COLOR_YELLOW, 0.0, 0.0, 0.0, 10.0, 0, 1);
			Attach3DTextLabelToVehicle(VehicleJobText[vehicleid], GetPlayerVehicleID(playerid), 0.0, 0.0, 2.25);
			VehicleTextUse[vehicleid] = true;
			return 1;
		}
		case did_google:
		{
			if(!response)
			{
				new test = -1;
				for(new i = 0; i < 6; i++)
				{
					if(PlayerInfo[playerid][pGoogleReserv][i] != 0)
					{
						test = 1;
					}
				}
				if(test == -1)
				{
					SendMes(playerid, COLOR_DARKORANGE, "Ваши резервные коды закончились.");
					return SPD(playerid, did_google, DSI, "{"#DC_MAIN"}Google Authenticator", "{"#DC_WHITE"}Введите код Google Authenticator:", "Далее", "РЕЗ. КОД");
				}
				return SPD(playerid, did_google_reserv, DSI, "{"#DC_MAIN"}Google Authenticator", "{"#DC_WHITE"}Введите резервный код:", "Далее", "МОБ. КОД");
   			}
			if(strlen(inputtext) != 6) return SPD(playerid, did_google, DSI, "{"#DC_MAIN"}Google Authenticator", "{"#DC_WHITE"}Введите код Google Authenticator:", "Далее", "РЕЗ. КОД");
			new authCode[3];
			authCode[0] = GoogleAuthenticatorCode(PlayerInfo[playerid][pGoogle], gettime()-30);
			authCode[1] = GoogleAuthenticatorCode(PlayerInfo[playerid][pGoogle], gettime());
			authCode[2] = GoogleAuthenticatorCode(PlayerInfo[playerid][pGoogle], gettime()+30);
			if(authCode[0] == strval(inputtext) || authCode[1] == strval(inputtext) || authCode[2] == strval(inputtext)) SPD(playerid, did_spawn, DSM, "{"#DC_MAIN"}Место появления", "{"#DC_WHITE"}Вы желаете появиться на месте выхода?", "Да", "Нет");
			else KickWithMessage(playerid, COLOR_DARKORANGE, "Вы ввели неверный код Google Authenticator. Введите (/q)");
			return 1;
		}
		case did_google_reserv:
		{
			if(!response) return SPD(playerid, did_google, DSI, "{"#DC_MAIN"}Google Authenticator", "{"#DC_WHITE"}Введите код Google Authenticator:", "Далее", "РЕЗ. КОД");
			if(strlen(inputtext) != 6 || strval(inputtext) < 100000 || strval(inputtext) > 999999) return SPD(playerid, did_google_reserv, DSI, "{"#DC_MAIN"}Google Authenticator", "{"#DC_WHITE"}Введите резервный код:", "Далее", "МОБ. КОД");
			new test = -1;
			for(new i = 0; i < 6; i++)
			{
				if(PlayerInfo[playerid][pGoogleReserv][i] == strval(inputtext))
				{
					test = i;
				}
			}
			if(test == -1) return KickWithMessage(playerid, COLOR_DARKORANGE, "Вы ввели неверный резервный код Google Authenticator. Введите (/q)");
			PlayerInfo[playerid][pGoogleReserv][test] = 0;
			mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_ACCOUNT" SET `otp_reserve_codes` = '%d, %d, %d, %d, %d, %d' WHERE `name` = '%e'", PlayerInfo[playerid][pGoogleReserv][0], PlayerInfo[playerid][pGoogleReserv][1], PlayerInfo[playerid][pGoogleReserv][2],
			PlayerInfo[playerid][pGoogleReserv][3], PlayerInfo[playerid][pGoogleReserv][4], PlayerInfo[playerid][pGoogleReserv][5], PlayerInfo[playerid][pName]);
			mysql_query(mysql, request, false);
			SPD(playerid, did_spawn, DSM, "{"#DC_MAIN"}Место появления", "{"#DC_WHITE"}Вы желаете появиться на месте выхода?", "Да", "Нет");
			return 1;
		}
		case did_spawn:
		{
		    if(!response) return OnPlayerLoadAccount(playerid);
		    PlayerInfo[playerid][pRespawnStatus] = true;
		    OnPlayerLoadAccount(playerid);
		    return 1;
		}
		case did_set_spawn:
		{
		    if(!response) return 1;
			switch(listitem)
			{
				case 0:
				{
					PlayerInfo[playerid][pSpawnChange] = 0;
					SendMes(playerid, COLOR_MAIN, "Место респауна изменено. Теперь вы будете появляться на стандартном респауне.");
				}
				case 1:
				{
					if(PlayerInfo[playerid][pHouse] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет дома.");
					PlayerInfo[playerid][pSpawnChange] = 1;
					SendMes(playerid, COLOR_MAIN, "Место респауна изменено. Теперь вы будете появляться в вашем доме.");
				}
				case 2:
				{
					if(PlayerInfo[playerid][pHotelID] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не проживаете в отеле.");
					PlayerInfo[playerid][pSpawnChange] = 2;
					SendMes(playerid, COLOR_MAIN, "Место респауна изменено. Теперь вы будете появляться в отеле.");
				}
				case 3:
				{
					if(FracInfo[PlayerInfo[playerid][pMember]][fSpawn] == 0 || PlayerInfo[playerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У вашей фракции нет своего респауна.");
					PlayerInfo[playerid][pSpawnChange] = 3;
					SendMes(playerid, COLOR_MAIN, "Место респауна изменено. Теперь вы будете появляться на респауне фракции.");
				}
				case 4:
				{
				    new idx = PlayerInfo[playerid][pFamily];
				    if(idx == 0)
					{
						SPD(playerid, did_settings_other_spawn, DSL, "{"#DC_MAIN"}Изменить место появления", "{"#DC_MAIN"}1.{"#DC_WHITE"} Стандарт\n{"#DC_MAIN"}2.{"#DC_WHITE"} Дом\n{"#DC_MAIN"}3.{"#DC_WHITE"} Отель\n{"#DC_MAIN"}4.{"#DC_WHITE"} Фракция\n{"#DC_MAIN"}5.{"#DC_WHITE"} Семейный дом", "Далее", "Отмена");
						return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в семье.");
				    }
					if(FamiliesInfo[idx][fHouse] == 0)
					{
						SPD(playerid, did_settings_other_spawn, DSL, "{"#DC_MAIN"}Изменить место появления", "{"#DC_MAIN"}1.{"#DC_WHITE"} Стандарт\n{"#DC_MAIN"}2.{"#DC_WHITE"} Дом\n{"#DC_MAIN"}3.{"#DC_WHITE"} Отель\n{"#DC_MAIN"}4.{"#DC_WHITE"} Фракция\n{"#DC_MAIN"}5.{"#DC_WHITE"} Семейный дом", "Далее", "Отмена");
						return SendMes(playerid, COLOR_DARKORANGE, "У Вашей семьи нет дома.");
				    }
					if(FamiliesInfo[idx][fHouseStatus] == 0)
					{
                        SPD(playerid, did_settings_other_spawn, DSL, "{"#DC_MAIN"}Изменить место появления", "{"#DC_MAIN"}1.{"#DC_WHITE"} Стандарт\n{"#DC_MAIN"}2.{"#DC_WHITE"} Дом\n{"#DC_MAIN"}3.{"#DC_WHITE"} Отель\n{"#DC_MAIN"}4.{"#DC_WHITE"} Фракция\n{"#DC_MAIN"}5.{"#DC_WHITE"} Семейный дом", "Далее", "Отмена");
						return SendMes(playerid, COLOR_DARKORANGE, "Владелец семьи не дал разрешение на появление в доме семьи.");
				    }
					PlayerInfo[playerid][pSpawnChange] = 4;
					SendMes(playerid, COLOR_MAIN, "Место респауна изменено. Теперь вы будете появляться в семейном доме.");
				}
			}
			return 1;
		}
		case did_trunks_vehicle_choose:
		{
			if(!response) return 1;
		    TrunkChoose[playerid] = listitem;
			SPD(playerid, did_trunks_vehicle_operation, DSL, "{"#DC_MAIN"}Действие", "{"#DC_MAIN"}1.{"#DC_WHITE"} Положить\n{"#DC_MAIN"}2.{"#DC_WHITE"} Взять", "Далее", "Отмена");
			return 1;
        }
        case did_trunks_vehicle_operation:
        {
            if(!response) return cmd_trunk(playerid, inputtext);
			new vehicleid = GetPVarInt(playerid, "TrunkVehicleID");
            switch(listitem)
			{
				case 0:
				{
					if(VehInfo[vehicleid][vTrunk][TrunkChoose[playerid]] >= TrunkInfo[TrunkChoose[playerid]][FreeSlots]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже максимальное количество содержимого в багажнике.");
					SPD(playerid, did_trunks_vehicle_put, DSI, "{"#DC_MAIN"}Положить", "{"#DC_WHITE"}Введите количество, которое хотите положить:", "Далее", "Отмена");
				}
				case 1:
				{
					if(VehInfo[vehicleid][vTrunk][TrunkChoose[playerid]] <= 0) return SendMes(playerid, COLOR_DARKORANGE, "В этом слоте ничего нет.");
					SPD(playerid, did_trunks_vehicle_take, DSI, "{"#DC_MAIN"}Взять", "{"#DC_WHITE"}Введите количество, которое хотите взять:", "Далее", "Отмена");
				}
			}
			return 1;
        }
        case did_trunks_vehicle_put:
        {
            if(!response) return SPD(playerid, did_trunks_vehicle_operation, DSL, "{"#DC_MAIN"}Действие", "{"#DC_MAIN"}1.{"#DC_WHITE"} Положить\n{"#DC_MAIN"}2.{"#DC_WHITE"} Взять", "Далее", "Отмена");
			new vehicleid = GetPVarInt(playerid, "TrunkVehicleID");
            if(strval(inputtext) <= 0 || !strlen(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "Значение должно быть не менее 1."), ShowVehicleTrunks(playerid, vehicleid);
			if(strval(inputtext) + VehInfo[vehicleid][vTrunk][TrunkChoose[playerid]] > TrunkInfo[TrunkChoose[playerid]][FreeSlots]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете превышать максимальное количество содержимого в багажнике."), ShowVehicleTrunks(playerid, vehicleid);
			switch(TrunkChoose[playerid])
			{
				case 0..6:
				{
					new weapslot = GetWeaponSlot(TrunkInfo[TrunkChoose[playerid]][WeaponGiveID]);
					new weapons[2];
					GetPlayerWeaponData(playerid, weapslot, weapons[0], weapons[1]);
					if(weapons[0] != TrunkInfo[TrunkChoose[playerid]][WeaponGiveID]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет данного оружия."), ShowVehicleTrunks(playerid, vehicleid);
					if(weapons[1] < strval(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько патронов."), ShowVehicleTrunks(playerid, vehicleid);
					GiveWeapon(playerid, TrunkInfo[TrunkChoose[playerid]][WeaponGiveID], -strval(inputtext));
				}
				default:
				{
 					SendAdminMessage(COLOR_LRED, "[A] Ошибка #108! Сообщите разработчикам!", 8);
					return SendMes(playerid, COLOR_DARKORANGE, "Вы выбрали неправильный слот.");
				}
			}
			VehInfo[vehicleid][vTrunk][TrunkChoose[playerid]] += strval(inputtext);
			SendMes(playerid, COLOR_MAIN, "Вы положили введенное количество в багажник.");
			SPCB(playerid, "положил(-а) что-то в багажник", COLOR_PINK, 10.0, 1000);
			ShowVehicleTrunks(playerid, vehicleid);
			SaveVehicleTrunks(vehicleid);
			return 1;
		}
		case did_trunks_vehicle_take:
		{
			if(!response) return SPD(playerid, did_trunks_vehicle_operation, DSL, "{"#DC_MAIN"}Действие", "{"#DC_MAIN"}1.{"#DC_WHITE"} Положить\n{"#DC_MAIN"}2.{"#DC_WHITE"} Взять", "Далее", "Отмена");
			new vehicleid = GetPVarInt(playerid, "TrunkVehicleID");
            if(strval(inputtext) <= 0 || !strlen(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "Значение должно быть не менее 1."), ShowVehicleTrunks(playerid, vehicleid);
			if(strval(inputtext) > VehInfo[vehicleid][vTrunk][TrunkChoose[playerid]]) return SendMes(playerid, COLOR_DARKORANGE, "В багажнике нет такого количества в этом слоте."), ShowVehicleTrunks(playerid, vehicleid);
			switch(TrunkChoose[playerid])
			{
			    case 0..6: GiveWeapon(playerid, TrunkInfo[TrunkChoose[playerid]][WeaponGiveID], strval(inputtext));
				default:
				{
 					SendAdminMessage(COLOR_LRED, "[A] Ошибка #108! Сообщите разработчикам!", 8);
					return SendMes(playerid, COLOR_DARKORANGE, "Вы выбрали неправильный слот.");
				}
			}
			VehInfo[vehicleid][vTrunk][TrunkChoose[playerid]] -= strval(inputtext);
			SendMes(playerid, COLOR_MAIN, "Вы взяли введенное количество с багажника.");
			SPCB(playerid, "взял(-а) что-то из багажника", COLOR_PINK, 10.0, 1000);
			ShowVehicleTrunks(playerid, vehicleid);
			SaveVehicleTrunks(vehicleid);
			return 1;
		}
		case did_disguise:
		{
		    if(!response) return 1;
			new totals = 0;
			totalstring = "", bigstring = "";
			for(new i = 0; i <= MAX_SKINS; i++)
			{
				if(i == 23) break;
				if(FracInfo[listitem + 1][fSkin][i] == 0) break;
				format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Скин № %d\n", i + 1, FracInfo[listitem + 1][fSkin][i]);
				strcat(bigstring, totalstring);
				totals++;
			}
			if(totals == 0) return SendAdminMessage(COLOR_LRED, "[A] Ошибка #116! Сообщите разработчикам!", 8);
			SPD(playerid, did_disguise_skin, DSL, "{"#DC_MAIN"}Скин", bigstring, "Далее", "Отмена");
			SetPVarInt(playerid, "DisguiseID", listitem + 1);
			return 1;
		}
		case did_disguise_skin:
		{
  			if(!response) return DeletePVar(playerid, "DisguiseID");
     		DisguiseInfo[playerid] = GetPVarInt(playerid, "DisguiseID");
			SetPlayerSkin(playerid, FracInfo[DisguiseInfo[playerid]][fSkin][listitem]);
     		SendMes(playerid, COLOR_MAIN, "Вы замаскировались под организацию {"#DC_WHITE"}\"%s\".", FracInfo[DisguiseInfo[playerid]][fName]);
     		format(strings, sizeof(strings), "[F] %s (%d) %s [%d] замаскировался под организацию \"%s\".", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pRank], PlayerInfo[playerid][pName], playerid, FracInfo[DisguiseInfo[playerid]][fName]);
			SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
			PlayerInfo[playerid][pSkip] = DisguiseInfo[playerid];
     		SetPlayerDisguiseColor(playerid);
     		DeletePVar(playerid, "DisguiseID");
			return 1;
		}
		case did_inventory:
		{
			if(!response) return 1;
			new idx = PlayerGUIItem[playerid][listitem];
			if(idx == 100) ShowPlayerAccessories(playerid);
			else ShowPlayerInventoryInfo(playerid, idx);
			return 1;
		}
		case did_inventory_items:
		{
            if(!response)
            {
                if(PlayerInfo[playerid][pInterfaceSetting][1] == 0) return ShowPlayerInventory(playerid);
                return 1;
            }
            SPD(playerid, did_inventory_items_act, DSL, "{"#DC_MAIN"}Действие", "{"#DC_MAIN"}1.{"#DC_WHITE"} Использовать\n{"#DC_MAIN"}2.{"#DC_WHITE"} Передать\n{"#DC_MAIN"}3.{"#DC_WHITE"} Выбросить", "Далее", "Отмена");
			/*SPD(playerid, did_inventory_items_act, DSL, "{"#DC_MAIN"}Действие", "{"#DC_MAIN"}1.{"#DC_WHITE"} Использовать\n{"#DC_MAIN"}2.{"#DC_WHITE"} Продать\n{"#DC_MAIN"}3.{"#DC_WHITE"} Выбросить", "Далее", "Отмена");*/
			return 1;
		}
		case did_inventory_items_act:
		{
            new idx = InventoryUseItems[playerid];
            InventoryUseItems[playerid] = -1;
            if(!response) return ShowPlayerInventoryInfo(playerid, idx);
			switch(listitem)
			{
				case 0: UsePlayerInventoryItems(playerid, idx);
				case 1: SellPlayerInventoryItems(playerid, idx);
				case 2: DropPlayerInventoryItems(playerid, idx);
			}
			return 1;
		}
		case did_inventory_sell:
		{
            if(!response)
            {
                if(PlayerInfo[playerid][pInterfaceSetting][1] == 0) return ShowPlayerInventory(playerid);
                return 1;
            }
		    new scdplayerid, count, idx = InventorySellItems[playerid];
			if(sscanf(inputtext, "p<,>ii", scdplayerid, count)) return SellPlayerInventoryItems(playerid, idx);
			if(!IsPlayerConnected(scdplayerid)) { SellPlayerInventoryItems(playerid, idx); return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре."); }
			if(PlayerLogged[scdplayerid] == 0) { SellPlayerInventoryItems(playerid, idx); return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался."); }
			if(scdplayerid == playerid) { SellPlayerInventoryItems(playerid, idx); return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе."); }
			if(!IsPlayerInRangeOfPlayer(5.0, playerid, scdplayerid)) { SellPlayerInventoryItems(playerid, idx); return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас."); }
			if(count < 1 || count > PlayerInfo[playerid][pInventoryItems][idx]) { SellPlayerInventoryItems(playerid, idx); return SendMes(playerid, COLOR_DARKORANGE, "Кол-во должно быть не менее 1 и не более %d.", PlayerInfo[playerid][pInventoryItems][idx]); }
			if(CheckSentence(scdplayerid) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
			if(PlayerInfo[scdplayerid][pAdmin] > 1 && PlayerInfo[scdplayerid][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "Игрок администратор, действие невозможно.");

			format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} взять {"#DC_WHITE"}%d %s. %s.", PlayerInfo[scdplayerid][pName], count, Inventory[idx][InvUnitName], Inventory[idx][InvStringName]);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "%s{"#DC_WHITE"} предложил Вам взять {"#DC_WHITE"}%d %s. %s.", PlayerInfo[playerid][pName], count, Inventory[idx][InvUnitName], Inventory[idx][InvStringName]);
			SendMes(scdplayerid, COLOR_WHITE, strings);
			SendMes(scdplayerid, COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");

			PlayerInfo[scdplayerid][pSINVSeller] = playerid;
			PlayerInfo[scdplayerid][pSINVSIDx] = PlayerInfo[playerid][pID];
			PlayerInfo[scdplayerid][pSINVPrice] = 0;
			PlayerInfo[scdplayerid][pSINVNumber] = idx;
			PlayerInfo[scdplayerid][pSINVNumberIDx] = count;
			return 1;
		}
		/*case did_inventory_sell:
		{
            if(!response)
            {
                if(PlayerInfo[playerid][pInterfaceSetting][1] == 0) return ShowPlayerInventory(playerid);
                return 1;
            }
		    new scdplayerid, count, price, idx = InventorySellItems[playerid];
			if(sscanf(inputtext, "p<,>iii", scdplayerid, count, price)) return SellPlayerInventoryItems(playerid, idx);
			if(!IsPlayerConnected(scdplayerid)) { SellPlayerInventoryItems(playerid, idx); return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре."); }
			if(PlayerLogged[scdplayerid] == 0) { SellPlayerInventoryItems(playerid, idx); return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался."); }
			if(scdplayerid == playerid) { SellPlayerInventoryItems(playerid, idx); return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе."); }
			if(!IsPlayerInRangeOfPlayer(5.0, playerid, scdplayerid)) { SellPlayerInventoryItems(playerid, idx); return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас."); }
			if(count < 1 || count > PlayerInfo[playerid][pInventoryItems][idx]) { SellPlayerInventoryItems(playerid, idx); return SendMes(playerid, COLOR_DARKORANGE, "Кол-во должно быть не менее 1 и не более %d.", PlayerInfo[playerid][pInventoryItems][idx]); }
			if(price < 1 || price > 100000000) { SellPlayerInventoryItems(playerid, idx); return SendMes(playerid, COLOR_DARKORANGE, "Стоимость должна быть не менее $1 и не более $100000000."); }
			if(CheckSentence(scdplayerid) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
			if(PlayerInfo[scdplayerid][pAdmin] > 1 && PlayerInfo[scdplayerid][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "Игрок администратор, действие невозможно.");

			format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} купить {"#DC_WHITE"}%d %s. %s{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[scdplayerid][pName], count, Inventory[idx][InvUnitName], Inventory[idx][InvStringName], price);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "%s{"#DC_WHITE"} предложил Вам купить {"#DC_WHITE"}%d %s. %s{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], count, Inventory[idx][InvUnitName], Inventory[idx][InvStringName], price);
			SendMes(scdplayerid, COLOR_WHITE, strings);
			SendMes(scdplayerid, COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");

			PlayerInfo[scdplayerid][pSINVSeller] = playerid;
			PlayerInfo[scdplayerid][pSINVSIDx] = PlayerInfo[playerid][pID];
			PlayerInfo[scdplayerid][pSINVPrice] = price;
			PlayerInfo[scdplayerid][pSINVNumber] = idx;
			PlayerInfo[scdplayerid][pSINVNumberIDx] = count;
			return 1;
		}*/
        case did_craft:
        {
            if(!response) return 1;
            ShowPlayerCraftInfo(playerid, listitem);
            return 1;
        }
        case did_craft_items:
        {
            if(!response)
            {
                if(PlayerInfo[playerid][pInterfaceSetting][1] == 0) return ShowPlayerCraft(playerid);
                return 1;
            }
            if(PlayerInfo[playerid][pInterfaceSetting][1] == 0) SPD(playerid, did_craft_items_act, DSL, "{"#DC_MAIN"}Действие", "{"#DC_MAIN"}1.{"#DC_WHITE"} Крафт", "Далее", "Отмена");
            return 1;
        }
        case did_craft_items_act:
        {
            new idx = CraftUseItems[playerid];
            CraftUseItems[playerid] = -1;
            if(!response) return ShowPlayerCraftInfo(playerid, idx);
            switch(listitem)
            {
                case 0: UsePlayerCraft(playerid, idx);
            }
            return 1;
        }
		case did_market_start:
		{
			if(!response) return 1;
			if(CheckPlayerMarketItemsMysql(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "На рыночном складе есть не проданные предметы, заберите их с помощью команды /returnmarket");
			if(MarketBuyIDx[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Что-то пошло не так, подойдите к палатке заново.");
			if(MarketUse[playerid] != -1) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть арендованная палатка.");
			new idx = MarketBuyIDx[playerid];
			if(MarketInfo[idx][MarketStatus] != 0 || MarketInfo[idx][MarketOwnerID] != INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Данная палатка уже имеет арендатора.");
			MarketUse[playerid] = idx;
			MarketInfo[idx][MarketStatus] = 1;
			MarketInfo[idx][MarketOwnerID] = playerid;
			SendMes(playerid, COLOR_MAIN, "Вы арендовали палатку.");
			SendMes(playerid, COLOR_MAIN, "Редактировать товар: {"#DC_WHITE"}/market");
			UpdateMarket(idx);
			return 1;
		}
		case did_market:
		{
			if(!response) return 1;
			if(MarketUse[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не являетесь арендатором какой либо палатки.");
			new idx = MarketUse[playerid];
			switch(listitem)
			{
				case 0: ShowPlayerItemsMarket(playerid);
				case 1: ShowItemsMarket(playerid, idx, 1);
				case 2: OnPlayerLeaveFromMarket(playerid);
			}
			return 1;
		}
		case did_market_back:
		{
			if(MarketUse[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не являетесь арендатором какой либо палатки.");
			if(!response) return SPD(playerid, did_market, DSL, "{"#DC_MAIN"}Управление палаткой", "{"#DC_MAIN"}1.{"#DC_WHITE"} Выставить товар\n{"#DC_MAIN"}2.{"#DC_WHITE"} Список товара\n{"#DC_MAIN"}3.{"#DC_WHITE"} Закончить продавать товар", "Далее", "Отмена");
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
			new i = PlayerGUIItem[playerid][listitem], idx = MarketUse[playerid];
			if(i == 100)
			{
				new count;
				bigstring = "", totalstring = "";
				for(new x = 0; x < 25; x++)
				{
					if(MarketInfo[idx][MarketAccessories][x] == 0) continue;
					format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Аксессуар \"%s\" (Стоимость $%d)\n", count + 1, AccessoriesInfo[MarketInfo[idx][MarketAccessories][x]-1][aName], MarketInfo[idx][MarketAccessoriesPrice][x]);
					strcat(bigstring, totalstring);
					PlayerGUIItem[playerid][count] = x;
					count++;
				}
				if(count == 0)
				{
					if(MarketUse[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не являетесь арендатором какой либо палатки.");
					SPD(playerid, did_market, DSL, "{"#DC_MAIN"}Управление палаткой", "{"#DC_MAIN"}1.{"#DC_WHITE"} Выставить товар\n{"#DC_MAIN"}2.{"#DC_WHITE"} Список товара\n{"#DC_MAIN"}3.{"#DC_WHITE"} Закончить продавать товар", "Далее", "Отмена");
					SendMes(playerid, COLOR_DARKORANGE, "В палатке нет аксессуаров.");
					return 1;
				}
				SPD(playerid, did_market_back_accessories, DSL, "{"#DC_MAIN"}Список товара", bigstring, "Отмена", "");
				return 1;
			}
			SPD(playerid, did_market, DSL, "{"#DC_MAIN"}Управление палаткой", "{"#DC_MAIN"}1.{"#DC_WHITE"} Выставить товар\n{"#DC_MAIN"}2.{"#DC_WHITE"} Список товара\n{"#DC_MAIN"}3.{"#DC_WHITE"} Закончить продавать товар", "Далее", "Отмена");
			return 1;
		}
		case did_market_back_accessories:
		{
			if(MarketUse[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не являетесь арендатором какой либо палатки.");
			new idx = MarketUse[playerid];
			ShowItemsMarket(playerid, idx, 1);
			return 1;
		}
		case did_market_use:
		{
			if(!response) return MarketBuyIDx[playerid] = -1;
			if(MarketBuyIDx[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не просматриваете товар в какой либо палатке.");
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
			new i = PlayerGUIItem[playerid][listitem], idx = MarketBuyIDx[playerid];
			if(i == 100)
			{
				new count;
				bigstring = "", totalstring = "";
				for(new x = 0; x < 25; x++)
				{
					if(MarketInfo[idx][MarketAccessories][x] == 0) continue;
					format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Аксессуар \"%s\" (Стоимость $%d)\n", count + 1, AccessoriesInfo[MarketInfo[idx][MarketAccessories][x]-1][aName], MarketInfo[idx][MarketAccessoriesPrice][x]);
					strcat(bigstring, totalstring);
					PlayerGUIItem[playerid][count] = x;
					count++;
				}
				if(count == 0)
				{
					if(MarketBuyIDx[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не просматриваете товар в какой либо палатке.");
					ShowItemsMarket(playerid, idx);
					SendMes(playerid, COLOR_DARKORANGE, "В палатке нет аксессуаров.");
					return 1;
				}
				SPD(playerid, did_market_use_buy_acc, DSI, "{"#DC_MAIN"}Покупка товара", bigstring, "Далее", "Отмена");
				return 1;
			}
			MarketBuyItems[playerid] = i;
			bigstring = "";
			format(bigstring, sizeof(bigstring), "{"#DC_WHITE"}\
			Название товара: {"#DC_YELLOW"}%s{"#DC_WHITE"}\n\
			Кол-во товара: {"#DC_YELLOW"}%d{"#DC_WHITE"}\n\
			Стоимость 1 %s.: {"#DC_YELLOW"}$%d{"#DC_WHITE"}\n\n\
			Введите кол-во %s., которое хотите приобрести:", Inventory[i][InvName], MarketInfo[idx][MarketInventory][i], Inventory[i][InvUnitName], MarketInfo[idx][MarketInventoryPrice][i], Inventory[i][InvUnitName]);
			SPD(playerid, did_market_use_buy, DSI, "{"#DC_MAIN"}Покупка товара", bigstring, "Далее", "Отмена");
			return 1;
		}
		case did_market_use_buy:
		{
			if(MarketBuyIDx[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не просматриваете товар в какой либо палатке.");
			new i = MarketBuyItems[playerid], idx = MarketBuyIDx[playerid];
			if(!response) return ShowItemsMarket(playerid, idx), MarketBuyItems[playerid] = -1;
			if(strlen(inputtext) == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы ничего не ввели."), ShowItemsMarket(playerid, idx), MarketBuyItems[playerid] = -1;
			new scdplayerid = MarketInfo[idx][MarketOwnerID];
			if(scdplayerid == INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Арендатор палатки не в игре."), MarketBuyIDx[playerid] = -1, MarketBuyItems[playerid] = -1;
			if(MarketInfo[idx][MarketStatus] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Палатка не имеет арендатора."), MarketBuyIDx[playerid] = -1, MarketBuyItems[playerid] = -1;
			new count = strval(inputtext);
			if(count < 1 || count > MarketInfo[idx][MarketInventory][i]) return SendMes(playerid, COLOR_DARKORANGE, "Кол-во товара должно быть не менее 1 и не более %d.", MarketInfo[idx][MarketInventory][i]), ShowItemsMarket(playerid, idx), MarketBuyItems[playerid] = -1;
			new price = MarketInfo[idx][MarketInventoryPrice][i] * count;
			if(price < 1 || price > 100000000) return SendMes(playerid, COLOR_DARKORANGE, "Стоимость должна быть не менее $1 и не более $100000000.");
			if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"), ShowItemsMarket(playerid, idx), MarketBuyItems[playerid] = -1;
			new max_value;
			GetPlayerMaxInventoryItems(playerid, i, max_value);
			if(PlayerInfo[playerid][pInventoryItems][i] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[i][InvUnitName], Inventory[i][InvStringName]), ShowItemsMarket(playerid, idx), MarketBuyItems[playerid] = -1;
			MarketInfo[idx][MarketInventory][i] -= count;
			if(MarketInfo[idx][MarketInventory][i] == 0) MarketInfo[idx][MarketInventoryPrice][i] = 0;
			PlayerInfo[playerid][pInventoryItems][i] += count;
			SavePlayerInventoryItems(playerid, i);
			UpdatePlayerMarketItemsMysql(scdplayerid, count, i);
			SendMes(playerid, COLOR_MAIN, "Вы купили {"#DC_WHITE"}%d %s. %s{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", count, Inventory[i][InvUnitName], Inventory[i][InvStringName], price);
			SendMes(scdplayerid, COLOR_MAIN, "Вы продали {"#DC_WHITE"}%d %s. %s{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", count, Inventory[i][InvUnitName], Inventory[i][InvStringName], price);
			ServerMoney(playerid, "Покупка товара на рынке", -price, 0);
			ServerMoney(scdplayerid, "Продажа товара на рынке", price, 0);
			MarketBuyItems[playerid] = -1;
			ShowItemsMarket(playerid, idx);
			format(strings, sizeof(strings), "%s купил(-а) товар на рынке %d в кол-ве %d за $%d у %s.", PlayerInfo[playerid][pName], i, count, price, PlayerInfo[scdplayerid][pName]);
			WriteLog("logs_buy_market", strings);
			format(strings, sizeof(strings), "%s продал(-а) товар на рынке %d в кол-ве %d за $%d %s.", PlayerInfo[scdplayerid][pName], i, count, price, PlayerInfo[playerid][pName]);
			WriteLog("logs_sell_market", strings);
			return 1;
		}
		case did_market_use_buy_acc:
		{
			if(MarketBuyIDx[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не просматриваете товар в какой либо палатке.");
			if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
			new i = PlayerGUIItem[playerid][listitem], idx = MarketBuyIDx[playerid];
			if(!response) return ShowItemsMarket(playerid, idx);
			if(MarketInfo[idx][MarketAccessories][i] == 0) return ShowItemsMarket(playerid, idx);
			bigstring = "";
			format(bigstring, sizeof(bigstring), "{"#DC_WHITE"}\
			Название товара: {"#DC_YELLOW"}%s{"#DC_WHITE"}\n\
			Стоимость: {"#DC_YELLOW"}$%d{"#DC_WHITE"}", AccessoriesInfo[MarketInfo[idx][MarketAccessories][i]-1][aName], MarketInfo[idx][MarketAccessoriesPrice][i]);
			SPD(playerid, did_market_use_buy_acc_go, DSM, "{"#DC_MAIN"}Покупка товара", bigstring, "Далее", "Отмена");
			MarketBuyItems[playerid] = i;
			return 1;
		}
		case did_market_use_buy_acc_go:
		{
			if(MarketBuyIDx[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не просматриваете товар в какой либо палатке.");
			new i = MarketBuyItems[playerid], idx = MarketBuyIDx[playerid];
			MarketBuyItems[playerid] = -1;
			if(!response) return ShowItemsMarket(playerid, idx);
			new scdplayerid = MarketInfo[idx][MarketOwnerID];
			if(scdplayerid == INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Арендатор палатки не в игре."), MarketBuyIDx[playerid] = -1;
			if(MarketInfo[idx][MarketStatus] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Палатка не имеет арендатора."), MarketBuyIDx[playerid] = -1;
			if(MarketInfo[idx][MarketAccessories][i] == 0) return SendMes(playerid, COLOR_DARKORANGE, "В палатке нет данного аксессуара."), ShowItemsMarket(playerid, idx);
			new price = MarketInfo[idx][MarketAccessoriesPrice][i];
			if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"), ShowItemsMarket(playerid, idx);
			new free_slot_acc = GetPlayerSlotAccessories(playerid);
	        if(free_slot_acc == -1) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет свободного места под аксессуар."), ShowItemsMarket(playerid, idx);
	        else
			{
				new acc_idx = MarketInfo[idx][MarketAccessories][i];
				GivePlayerSlotAccessories(playerid, free_slot_acc, acc_idx);
				MarketInfo[idx][MarketAccessories][i] = 0;
				MarketInfo[idx][MarketAccessoriesPrice][i] = 0;
				UpdatePlayerMarketItemsMysql(scdplayerid, acc_idx + 100000, i + 100000);
				SendMes(playerid, COLOR_MAIN, "Вы купили аксессуар {"#DC_WHITE"}\"%s\"{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", AccessoriesInfo[acc_idx-1][aName], price);
				SendMes(scdplayerid, COLOR_MAIN, "Вы продали аксессуар {"#DC_WHITE"}\"%s\"{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", AccessoriesInfo[acc_idx-1][aName], price);
				ServerMoney(playerid, "Покупка аксессуара на рынке", -price, 0);
				ServerMoney(scdplayerid, "Продажа аксессуара на рынке", price, 0);
				ShowItemsMarket(playerid, idx);
				format(strings, sizeof(strings), "%s купил(-а) аксессуар на рынке %d за $%d у %s.", PlayerInfo[playerid][pName], acc_idx, price, PlayerInfo[scdplayerid][pName]);
				WriteLog("logs_buy_market", strings);
				format(strings, sizeof(strings), "%s продал(-а) аксессуар на рынке %d за $%d %s.", PlayerInfo[scdplayerid][pName], acc_idx, price, PlayerInfo[playerid][pName]);
				WriteLog("logs_sell_market", strings);
			}
			return 1;
		}
		case did_market_inventory:
		{
			if(MarketUse[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не являетесь арендатором какой либо палатки.");
			if(!response) return SPD(playerid, did_market, DSL, "{"#DC_MAIN"}Управление палаткой", "{"#DC_MAIN"}1.{"#DC_WHITE"} Выставить товар\n{"#DC_MAIN"}2.{"#DC_WHITE"} Список товара\n{"#DC_MAIN"}3.{"#DC_WHITE"} Закончить продавать товар", "Далее", "Отмена");
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1) return 1;
			new i = PlayerGUIItem[playerid][listitem];
			if(i == 100) return ShowPlayerAccessoriesMarket(playerid);
			bigstring = "";
			format(bigstring, sizeof(bigstring), "{"#DC_WHITE"}Введите кол-во %s и стоимость 1 %s. через запятую:", Inventory[i][InvStringName], Inventory[i][InvUnitName]);
			SPD(playerid, did_market_inventory_add, DSI, "{"#DC_MAIN"}Настройки товара", bigstring, "Далее", "Отмена");
			MarketUseItems[playerid] = i;
			return 1;
		}
		case did_market_inventory_add:
		{
			if(MarketUse[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не являетесь арендатором какой либо палатки.");
			if(!response) return SPD(playerid, did_market, DSL, "{"#DC_MAIN"}Управление палаткой", "{"#DC_MAIN"}1.{"#DC_WHITE"} Выставить товар\n{"#DC_MAIN"}2.{"#DC_WHITE"} Список товара\n{"#DC_MAIN"}3.{"#DC_WHITE"} Закончить продавать товар", "Далее", "Отмена");
			new count, price, i = MarketUseItems[playerid];
			if(sscanf(inputtext, "p<,>ii", count, price))
			{
				bigstring = "";
				format(bigstring, sizeof(bigstring), "{"#DC_WHITE"}Введите кол-во %s и стоимость 1 %s. через запятую:", Inventory[i][InvStringName], Inventory[i][InvUnitName]);
				SPD(playerid, did_market_inventory_add, DSI, "{"#DC_MAIN"}Настройки товара", bigstring, "Далее", "Отмена");
				return 1;
			}
			if(PlayerInfo[playerid][pInventoryItems][i] < count)
			{
				bigstring = "";
				format(bigstring, sizeof(bigstring), "{"#DC_WHITE"}Введите кол-во %s и стоимость 1 %s. через запятую:", Inventory[i][InvStringName], Inventory[i][InvUnitName]);
				SPD(playerid, did_market_inventory_add, DSI, "{"#DC_MAIN"}Настройки товара", bigstring, "Далее", "Отмена");
				SendMes(playerid, COLOR_DARKORANGE, "У Вас нет такого кол-ва выбранного товара.");
				return 1;
			}
			if(count < 1 || count > PlayerInfo[playerid][pInventoryItems][i])
			{
				bigstring = "";
				format(bigstring, sizeof(bigstring), "{"#DC_WHITE"}Введите кол-во %s и стоимость 1 %s. через запятую:", Inventory[i][InvStringName], Inventory[i][InvUnitName]);
				SPD(playerid, did_market_inventory_add, DSI, "{"#DC_MAIN"}Настройки товара", bigstring, "Далее", "Отмена");
				SendMes(playerid, COLOR_DARKORANGE, "Кол-во должно быть не менее 1 и не более %d.", PlayerInfo[playerid][pInventoryItems][i]);
				return 1;
			}
			if(price < 1 || price > 100000000)
			{
				bigstring = "";
				format(bigstring, sizeof(bigstring), "{"#DC_WHITE"}Введите кол-во %s и стоимость 1 %s. через запятую:", Inventory[i][InvStringName], Inventory[i][InvUnitName]);
				SPD(playerid, did_market_inventory_add, DSI, "{"#DC_MAIN"}Настройки товара", bigstring, "Далее", "Отмена");
				SendMes(playerid, COLOR_DARKORANGE, "Стоимость должна быть не менее $1 и не более $100000000.");
				return 1;
			}
			MarketUseItems[playerid] = -1;
			AddPlayerInventoryMarketItems(playerid, i, count, price);
			return 1;
		}
		case did_market_accessories:
		{
			if(MarketUse[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не являетесь арендатором какой либо палатки.");
			if(!response) return SPD(playerid, did_market, DSL, "{"#DC_MAIN"}Управление палаткой", "{"#DC_MAIN"}1.{"#DC_WHITE"} Выставить товар\n{"#DC_MAIN"}2.{"#DC_WHITE"} Список товара\n{"#DC_MAIN"}3.{"#DC_WHITE"} Закончить продавать товар", "Далее", "Отмена");
		    if(listitem < 0) return 1;
			if(PlayerGUIItem[playerid][listitem] == -1 || PlayerGUIItem[playerid][listitem] == 100) return 1;
			new i = PlayerGUIItem[playerid][listitem], idx = PlayerInfo[playerid][pAccessories][i];
			bigstring = "";
			format(bigstring, sizeof(bigstring), "{"#DC_WHITE"}Введите стоимость аксессуара \"%s\":", AccessoriesInfo[idx-1][aName]);
			SPD(playerid, did_market_accessories_add, DSI, "{"#DC_MAIN"}Настройки товара", bigstring, "Далее", "Отмена");
			MarketUseItems[playerid] = i;
			return 1;
		}
		case did_market_accessories_add:
		{
			if(MarketUse[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не являетесь арендатором какой либо палатки.");
			if(!response) return SPD(playerid, did_market, DSL, "{"#DC_MAIN"}Управление палаткой", "{"#DC_MAIN"}1.{"#DC_WHITE"} Выставить товар\n{"#DC_MAIN"}2.{"#DC_WHITE"} Список товара\n{"#DC_MAIN"}3.{"#DC_WHITE"} Закончить продавать товар", "Далее", "Отмена");
			new i = MarketUseItems[playerid], idx = PlayerInfo[playerid][pAccessories][i];
			if(strlen(inputtext) == 0)
			{
				bigstring = "";
				format(bigstring, sizeof(bigstring), "{"#DC_WHITE"}Введите стоимость аксессуара \"%s\":", AccessoriesInfo[idx-1][aName]);
				SPD(playerid, did_market_accessories_add, DSI, "{"#DC_MAIN"}Настройки товара", bigstring, "Далее", "Отмена");
				SendMes(playerid, COLOR_DARKORANGE, "Вы ничего не ввели.");
				return 1;
			}
			new price = strval(inputtext);
			if(PlayerInfo[playerid][pAccessories][i] == 0)
			{
				bigstring = "";
				format(bigstring, sizeof(bigstring), "{"#DC_WHITE"}Введите стоимость аксессуара \"%s\":", AccessoriesInfo[idx-1][aName]);
				SPD(playerid, did_market_accessories_add, DSI, "{"#DC_MAIN"}Настройки товара", bigstring, "Далее", "Отмена");
				SendMes(playerid, COLOR_DARKORANGE, "У Вас нет выбранного аксессуара.");
				return 1;
			}
			if(price < 1 || price > 100000000)
			{
				bigstring = "";
				format(bigstring, sizeof(bigstring), "{"#DC_WHITE"}Введите стоимость аксессуара \"%s\":", AccessoriesInfo[idx-1][aName]);
				SPD(playerid, did_market_accessories_add, DSI, "{"#DC_MAIN"}Настройки товара", bigstring, "Далее", "Отмена");
				SendMes(playerid, COLOR_DARKORANGE, "Стоимость должна быть не менее $1 и не более $100000000.");
				return 1;
			}
			MarketUseItems[playerid] = -1;
			AddPlayerAccessoriesMarketItems(playerid, i, idx, price);
			return 1;
		}
		case did_radio:
		{
			if(!response) return 1;
			switch(listitem)
			{
			    case 0..2:
			    {
			        PlayerInfo[playerid][pNews] = listitem+1;
			        SendMes(playerid, COLOR_MAIN, "Вы включили радио на волне {"#DC_WHITE"}\"%s\".", FracInfo[8+listitem][fName]);
			    }
			    case 3:
			    {
			        PlayerInfo[playerid][pNews] = 0;
			        SendMes(playerid, COLOR_MAIN, "Вы выключили радио.");
			    }
			}
			return 1;
		}
		case did_take_priz:
		{
            if(!response) return 1;
            new number;
            sscanf(inputtext, "p<.>d", number);
            number = number - 1;
            GivePlayerRoulettePrize(playerid, RoulettePrize[playerid][number][0], RoulettePrize[playerid][number][1], RoulettePrize[playerid][number][2], RoulettePrize[playerid][number][3], RoulettePrize[playerid][number][4]);
			return 1;
        }
        case did_duel:
        {
            if(!response) return 1;
            new scdplayerid, weaponid, rate;
			if(sscanf(inputtext, "p<,>iii", scdplayerid, weaponid, rate))
			{
				SPD(playerid, did_duel, DSI, "{"#DC_MAIN"}Поединок", "{"#DC_WHITE"}Введите ID игрока, ID оружия и ставку через запятую:\n\nСписок оружия:\n\n\
				{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n\
				{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n\
				{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n\
				{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n\
				{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n\
				{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47", "Далее", "Отмена");
				return 1;
			}
			if(!IsPlayerConnected(scdplayerid))
			{
				SPD(playerid, did_duel, DSI, "{"#DC_MAIN"}Поединок", "{"#DC_WHITE"}Введите ID игрока, ID оружия и ставку через запятую:\n\nСписок оружия:\n\n\
				{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n\
				{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n\
				{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n\
				{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n\
				{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n\
				{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n\n\
				{"#DC_RED"}Ошибка: Данный игрок не в игре.", "Далее", "Отмена");
				return 1;
			}
		 	if(PlayerLogged[scdplayerid] == 0)
			{
				SPD(playerid, did_duel, DSI, "{"#DC_MAIN"}Поединок", "{"#DC_WHITE"}Введите ID игрока, ID оружия и ставку через запятую:\n\nСписок оружия:\n\n\
				{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n\
				{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n\
				{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n\
				{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n\
				{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n\
				{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n\n\
				{"#DC_RED"}Ошибка: Данный игрок еще не авторизовался.", "Далее", "Отмена");
				return 1;
			}
			if(scdplayerid == playerid)
			{
				SPD(playerid, did_duel, DSI, "{"#DC_MAIN"}Поединок", "{"#DC_WHITE"}Введите ID игрока, ID оружия и ставку через запятую:\n\nСписок оружия:\n\n\
				{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n\
				{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n\
				{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n\
				{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n\
				{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n\
				{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n\n\
				{"#DC_RED"}Ошибка: Вы не можете вызвать себя на поединок.", "Далее", "Отмена");
				return 1;
			}
		 	if(!IsPlayerInRangeOfPlayer(5.0, playerid, scdplayerid))
			{
				SPD(playerid, did_duel, DSI, "{"#DC_MAIN"}Поединок", "{"#DC_WHITE"}Введите ID игрока, ID оружия и ставку через запятую:\n\nСписок оружия:\n\n\
				{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n\
				{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n\
				{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n\
				{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n\
				{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n\
				{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n\n\
				{"#DC_RED"}Ошибка: Этот игрок слишком далеко от Вас.", "Далее", "Отмена");
				return 1;
			}
			if(weaponid < 1 || weaponid > 6)
			{
				SPD(playerid, did_duel, DSI, "{"#DC_MAIN"}Поединок", "{"#DC_WHITE"}Введите ID игрока, ID оружия и ставку через запятую:\n\nСписок оружия:\n\n\
				{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n\
				{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n\
				{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n\
				{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n\
				{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n\
				{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n\n\
				{"#DC_RED"}Ошибка: Введите ID оружия от 1 до 7.", "Далее", "Отмена");
				return 1;
			}
			if(rate < 1000 || rate > 10000)
			{
				SPD(playerid, did_duel, DSI, "{"#DC_MAIN"}Поединок", "{"#DC_WHITE"}Введите ID игрока, ID оружия и ставку через запятую:\n\nСписок оружия:\n\n\
				{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n\
				{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n\
				{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n\
				{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n\
				{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n\
				{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n\n\
				{"#DC_RED"}Ошибка: Введите ставку от $1000 до $10000.", "Далее", "Отмена");
				return 1;
			}
			if(GetMoney(playerid) < rate)
			{
				SPD(playerid, did_duel, DSI, "{"#DC_MAIN"}Поединок", "{"#DC_WHITE"}Введите ID игрока, ID оружия и ставку через запятую:\n\nСписок оружия:\n\n\
				{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n\
				{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n\
				{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n\
				{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n\
				{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n\
				{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n\n\
				{"#DC_RED"}Ошибка: У Вас нет столько денег. Используйте: /donate", "Далее", "Отмена");
				return 1;
			}
			if(GetMoney(scdplayerid) < rate)
			{
				SPD(playerid, did_duel, DSI, "{"#DC_MAIN"}Поединок", "{"#DC_WHITE"}Введите ID игрока, ID оружия и ставку через запятую:\n\nСписок оружия:\n\n\
				{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n\
				{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n\
				{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n\
				{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n\
				{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n\
				{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n\n\
				{"#DC_RED"}Ошибка: У игрока нет столько денег. Он может использовать: /donate", "Далее", "Отмена");
				return 1;
			}
			if(CheckSentence(scdplayerid) == 1)
			{
				SPD(playerid, did_duel, DSI, "{"#DC_MAIN"}Поединок", "{"#DC_WHITE"}Введите ID игрока, ID оружия и ставку через запятую:\n\nСписок оружия:\n\n\
				{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n\
				{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n\
				{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n\
				{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n\
				{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n\
				{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n\n\
				{"#DC_RED"}Ошибка: У игрока есть активное предложение.", "Далее", "Отмена");
				return 1;
			}
			if(PlayerInfo[scdplayerid][pAdmin] > 1 && PlayerInfo[scdplayerid][pAdmin] < 10)
			{
				SPD(playerid, did_duel, DSI, "{"#DC_MAIN"}Поединок", "{"#DC_WHITE"}Введите ID игрока, ID оружия и ставку через запятую:\n\nСписок оружия:\n\n\
				{"#DC_MAIN"}1.{"#DC_WHITE"} Silenced Pistol\n\
				{"#DC_MAIN"}2.{"#DC_WHITE"} Desert Eagle\n\
				{"#DC_MAIN"}3.{"#DC_WHITE"} Shotgun\n\
				{"#DC_MAIN"}4.{"#DC_WHITE"} MP5\n\
				{"#DC_MAIN"}5.{"#DC_WHITE"} M4\n\
				{"#DC_MAIN"}6.{"#DC_WHITE"} AK-47\n\n\
				{"#DC_RED"}Ошибка: Игрок администратор, действие невозможно.", "Далее", "Отмена");
				return 1;
			}
			new weaponidx[7] = {23, 24, 25, 29, 31, 30}, gunname[32];
			GetWeaponName(weaponidx[weaponid-1], gunname, sizeof(gunname));
			format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} поединок. Оружие {"#DC_WHITE"}%s,{"#DC_MAIN"} ставка {"#DC_WHITE"}$%d.", PlayerInfo[scdplayerid][pName], gunname, rate);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "%s{"#DC_MAIN"} предлагает Вам выступить против него на поединке. Оружие {"#DC_WHITE"}%s,{"#DC_MAIN"} ставка {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], gunname, rate);
			SendMes(scdplayerid, COLOR_WHITE, strings);
			SendMes(scdplayerid, COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
			OfferDuel[scdplayerid] = true;
			OffeeDuel[scdplayerid] = playerid;
			OffeeCash[scdplayerid] = rate;
			OffeeWeaponid[scdplayerid] = weaponidx[weaponid-1];
			return 1;
		}
		case did_robbery_fueling:
		{
			if(!response) return 1;
			new idx = GetPVarInt(playerid, "UseBiz");
		    RobberyFueling(playerid, idx);
			return 1;
		}
		case did_robbery_bank:
		{
			if(!response) return 1;
		    if(!IsAMafia(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Если ты не мафийоза, ты не сможешь уйти красиво с ограбления.");
		    new vworld = GetPlayerVirtualWorld(playerid);
		    if(BankRobbery[vworld-1]) return SendMes(playerid, COLOR_DARKORANGE, "Уже кто-то обносит этот банк. Вряд ли они будут рады твоему участию.");
		    if(BankRobberyTime[vworld-1] > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Банк пуст, только что его кто-то обнёс!.");
		    if(RobberyBankItems[playerid][0] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет отвёртки, приобретите ее в 24/7 и возвращайтесь.");
		    if(RobberyBankItems[playerid][1] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет прослушивающего устройства, приобретите его недалеко от Pig Pen и возвращайтесь.");
		    if(RobberyBankItems[playerid][2] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет отбойного молота, приобретите его на свалке и возвращайтесь.");
		    if(RobberyBankItems[playerid][3] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет лазера, найдите его на территории армии и возвращайтесь.");
		    new check_mafia = 0;
			foreach(new i:Player)
			{
				if(PlayerLogged[i] == 0) continue;
				if(IsPlayerInRangeOfPlayer(10.0, playerid, i))
				{
					if(IsAMafia(i) && PlayerInfo[i][pMember] == PlayerInfo[playerid][pMember])
					{
						check_mafia++;
					}
				}
			}
			if(check_mafia < 5) return SendMes(playerid, COLOR_DARKORANGE, "Чтобы безопасно ограбить банк, нужно как минимум 5 человек.");
			foreach(new i:Player)
			{
				if(PlayerLogged[i] == 0) continue;
				if(IsPlayerInRangeOfPlayer(10.0, playerid, i))
				{
					if(IsAMafia(i) && PlayerInfo[i][pMember] == PlayerInfo[playerid][pMember])
					{
						RobberyBankIDx[i] = vworld;
						RobberyBankTime[i] = 600;
						SendMes(i, COLOR_MAIN, "Ограбление началось! Складывайте все деньги в сумки и сваливайте!");
						SendMes(i, COLOR_MAIN, "Проведи операцию красиво! Уложитесь в {"#DC_WHITE"}10{"#DC_MAIN"} минут, иначе копы накроют тут всё.");
						CheckQuest(i, 46);
						CheckTask(i, 64);
						CheckAchievement(i, 44);
						PlayerInfo[i][pData][24]++;
					}
				}
			}
			new BankName[3][16] = {"Лос-Сантос", "Сан-Фиерро", "Лас-Вентурас"};
			format(strings, sizeof(strings), "[F] Чрезвычайное положение! Грабители в банке г. %s, через 10 минут они уже скроются, быстрее поймайте их.", BankName[vworld-1]);
			/*if(IsValidDynamicObject(BankDoor[vworld-1])) DestroyDynamicObject(BankDoor[vworld-1]);*/
			BankRobbery[vworld-1] = true;
			BankRobberyTime[vworld-1] = gettime() + 10800;
			for(new i = 0; i < 4; i++)
			{
			    RobberyBankItems[playerid][i] = 0;
			}
			return 1;
		}
		case did_buy_device:
		{
		    if(!response) return 1;
		    if(GetMoney(playerid) < 2500) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			if(RobberyBankItems[playerid][1]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть подслушивающее устройство.");
			ServerMoney(playerid, "Покупка устройства", -2500, 0);
			SendMes(playerid, COLOR_MAIN, "Вы приобрели подслушивающее устройство.");
		    SendMes(playerid, COLOR_MAIN, "Обратите внимание, после перезахода подслушивающее устройство пропадёт.");
			RobberyBankItems[playerid][1] = 1;
			return 1;
		}
		case did_buy_hammer:
		{
		    if(!response) return 1;
		    if(GetMoney(playerid) < 1000) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			if(RobberyBankItems[playerid][2]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть отбойный молот.");
			ServerMoney(playerid, "Покупка молота", -1000, 0);
			SendMes(playerid, COLOR_MAIN, "Вы приобрели отбойный молот.");
		    SendMes(playerid, COLOR_MAIN, "Обратите внимание, после перезахода отбойный молот пропадёт.");
			RobberyBankItems[playerid][2] = 1;
			return 1;
		}
		case did_robbery_laser:
		{
		    if(!response) return 1;
			if(RobberyBankItems[playerid][3]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть лазер.");
		    SendMes(playerid, COLOR_MAIN, "Вы взяли мощный лазер.");
		    SendMes(playerid, COLOR_MAIN, "Обратите внимание, после перезахода лазер пропадёт.");
			RobberyBankItems[playerid][3] = 1;
			return 1;
		}
		case did_unload_gun_car:
		{
		    if(!response) return RemoveFromVehicle(playerid);
			if(!IsPlayerInAnyVehicle(playerid)) return 1;
		    new vehicleid = GetPlayerVehicleID(playerid);
			if(VehGunInfo[vehicleid][vGunLoading] == false && VehGunInfo[vehicleid][vGunUnloading] == false) return 1;
			VehGunInfo[vehicleid][vGunLoading] = false;
			VehGunInfo[vehicleid][vGunUnloading] = false;
			Delete3DTextLabel(VehGunInfo[vehicleid][vGunText]);
			if(IsValidDynamicArea(VehGunInfo[vehicleid][vGunArea])) DestroyDynamicArea(VehGunInfo[vehicleid][vGunArea]);
			if(IsValidDynamicPickup(VehGunInfo[vehicleid][vGunPickup])) DestroyDynamicPickup(VehGunInfo[vehicleid][vGunPickup]);
			VehGunInfo[vehicleid][vGunArea] = 0;
			VehGunInfo[vehicleid][vGunPickup] = 0;
			SendMes(playerid, COLOR_MAIN, "Вы закончили загрузку / разгрузку транспортного средства.");
			return 1;
		}
		case did_army_security_ship:
		{
		    if(!response) return 1;
		    new member = PlayerInfo[playerid][pMember];
		    ArmySecurityShip[playerid] ^= 1;
			format(strings, sizeof(strings), "Вы {"#DC_WHITE"}%s{"#DC_MAIN"} охрану военного корабля.", ArmySecurityShip[playerid] ? ("начали"):("закончили"));
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "[F] %s %s охрану военного корабля.", PlayerInfo[playerid][pName], ArmySecurityShip[playerid]? ("начал"):("закончил"));
			SendFMes(member, COLOR_NEWLBLUE, strings);
			return 1;
		}
		case did_farm:
		{
		    if(!response) return 1;
		    if(FarmDuty[playerid] < 3) return 1;
			new i = PlayerInfo[playerid][pFarm];
		    if(listitem > 7)
			{
			    if(listitem == 16)
				{
					new Float:VPos[3];
					SetPVarFloat(playerid, "GPSX", FarmInfo[i][fEnterX]);
					SetPVarFloat(playerid, "GPSY", FarmInfo[i][fEnterY]);
					SetPVarFloat(playerid, "GPSZ", FarmInfo[i][fEnterZ]);
					GetPlayerPos(playerid, VPos[0], VPos[1], VPos[2]);
					SetPVarInt(playerid, "pGPSWork", 1);
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerRaceCheckpoint(playerid, 1, GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ"), 0, 0, 0, 5.0);
					SendMes(playerid, COLOR_MAIN, "Местоположение {"#DC_WHITE"}фермы{"#DC_MAIN"} отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
					SendMes(playerid, COLOR_MAIN, "Расстояние: {"#DC_WHITE"}%.1f метров.", GetDistanceBetweenPoints(VPos[0], VPos[1], VPos[2], GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ")));
				}
				else if(listitem-7 <= MAX_FARM_SUBSTITUENTS)
				{
					if(FarmDuty[playerid] < 4) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете воспользоваться данным пунктом.");
					SPD(playerid, did_farm_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:", "Далее", "Отмена");
					SetPVarInt(playerid, "FarmSelectedID", listitem-8);
				}
				else
				{
					SPD(playerid, did_farm_farmer, DSI, "{"#DC_MAIN"}Установить фермера", "{"#DC_WHITE"}Введите ID игрока чтобы назначить фермера, -1 чтобы освободить данный слот:", "Далее", "Отмена");
					SetPVarInt(playerid, "FarmSelectedID", listitem-8-MAX_FARM_SUBSTITUENTS);
				}
			}
			else
			{
				switch(listitem)
				{
				    case 0: SPD(playerid, did_farm_salary, DSI, "{"#DC_MAIN"}Установить зарплату", "{"#DC_WHITE"}Введите зарплату:", "Далее", "Отмена");
				    case 1: SPD(playerid, did_farm_corn, DSI, "{"#DC_MAIN"}Установить стоимость зерна", "{"#DC_WHITE"}Введите стоимость зерна:", "Далее", "Отмена");
				    case 2: SPD(playerid, did_farm_harvest, DSI, "{"#DC_MAIN"}Установить стоимость урожая", "{"#DC_WHITE"}Введите стоимость урожая:", "Далее", "Отмена");
				    case 3: SPD(playerid, did_farm_money_put, DSI, "{"#DC_MAIN"}Ввести денежные средства", "{"#DC_WHITE"}Введите количество:", "Далее", "Отмена");
				    case 4: SPD(playerid, did_farm_money_take, DSI, "{"#DC_MAIN"}Вывести денежные средства", "{"#DC_WHITE"}Введите количество:", "Далее", "Отмена");
					case 5: ShowFarmEarnings(playerid, FarmWorking[playerid], 1);
					case 6: ShowFarmEarnings(playerid, FarmWorking[playerid], 0);
					case 7:
					{
						if(PlayerInfo[playerid][pFarm] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет фермы.");
					    totalstring = "";
						format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы хотите продать свою ферму государству за $%d?", FarmInfo[i][fPrice]+FarmInfo[i][fMoney]);
						SPD(playerid, did_sellfarm, DSM, "{"#DC_MAIN"}Продажа фермы", totalstring, "Да", "Нет");
					}
				}
			}
			return 1;
		}
		case did_farm_salary:
		{
		    if(!response) return cmd_farm(playerid, inputtext);
			if(FarmDuty[playerid] < 3) return 1;
		    new price, i = FarmWorking[playerid];
		   	if(sscanf(inputtext, "i", price)) return SPD(playerid, did_farm_salary, DSI, "{"#DC_MAIN"}Установить зарплату", "{"#DC_WHITE"}Введите зарплату:", "Далее", "Отмена");
			if(price < 20 || price > 200) return SPD(playerid, did_farm_salary, DSI, "{"#DC_MAIN"}Установить зарплату", "{"#DC_WHITE"}Введите зарплату:\n\n{"#DC_RED"}Ошибка: Введите значение цены от 20 до 200.", "Далее", "Отмена");
			if(FarmInfo[i][fSalaryLimit] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Изменять заработную плату разрешено раз в час, осталось %d мин.", FarmInfo[i][fSalaryLimit]);
			FarmInfo[i][fSalary] = price;
			FarmInfo[i][fSalaryLimit] = 60;
			SaveFarm(i);
			SendMes(playerid, COLOR_MAIN, "Вы установили зарплату на {"#DC_WHITE"}$%d.", price);
			return 1;
		}
		case did_farm_corn:
		{
		    if(!response) return cmd_farm(playerid, inputtext);
			if(FarmDuty[playerid] < 3) return 1;
		    new price, i = FarmWorking[playerid];
		   	if(sscanf(inputtext, "i", price)) return SPD(playerid, did_farm_corn, DSI, "{"#DC_MAIN"}Установить стоимость зерна", "{"#DC_WHITE"}Введите стоимость зерна:", "Далее", "Отмена");
			if(price < 6 || price > 9) return SPD(playerid, did_farm_corn, DSI, "{"#DC_MAIN"}Установить стоимость зерна", "{"#DC_WHITE"}Введите стоимость зерна:\n\n{"#DC_RED"}Ошибка: Введите значение цены от 6 до 9.", "Далее", "Отмена");
			FarmInfo[i][fCornCost] = price;
			SaveFarm(i);
			SendMes(playerid, COLOR_MAIN, "Вы установили стоимость зерна на {"#DC_WHITE"}$%d.", price);
			return 1;
		}
		case did_farm_harvest:
		{
		    if(!response) return cmd_farm(playerid, inputtext);
			if(FarmDuty[playerid] < 3) return 1;
		    new price, i = FarmWorking[playerid];
		   	if(sscanf(inputtext, "i", price)) return SPD(playerid, did_farm_harvest, DSI, "{"#DC_MAIN"}Установить стоимость урожая", "{"#DC_WHITE"}Введите стоимость урожая:", "Далее", "Отмена");
			if(price < 39 || price > 41) return SPD(playerid, did_farm_harvest, DSI, "{"#DC_MAIN"}Установить стоимость урожая", "{"#DC_WHITE"}Введите стоимость урожая:\n\n{"#DC_RED"}Ошибка: Введите значение цены от 39 до 41.", "Далее", "Отмена");
			FarmInfo[i][fHarvestCost] = price;
			SaveFarm(i);
			SendMes(playerid, COLOR_MAIN, "Вы установили стоимость урожая на {"#DC_WHITE"}$%d.", price);
			return 1;
		}
		case did_farm_money_put:
		{
			if(!response) return cmd_farm(playerid, inputtext);
			if(FarmDuty[playerid] < 4) return 1;
		    new price, i = FarmWorking[playerid];
		    if(sscanf(inputtext, "i", price)) return SPD(playerid, did_farm_money_put, DSI, "{"#DC_MAIN"}Ввести денежные средства", "{"#DC_WHITE"}Введите количество:", "Далее", "Отмена");
			if(price < 1) return SPD(playerid, did_farm_money_put, DSI, "{"#DC_MAIN"}Ввести денежные средства", "{"#DC_WHITE"}Введите количество:", "Далее", "Отмена");
			if(GetMoney(playerid) < price) { SPD(playerid, did_farm_money_put, DSI, "{"#DC_MAIN"}Ввести денежные средства", "{"#DC_WHITE"}Введите количество:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"); }
			FarmInfo[i][fMoney] += price;
			SaveFarm(i);
			ServerMoney(playerid, "Положил на счет фермы", -price, 0);
			format(strings, sizeof(strings), "Вы положили на счет фермы {"#DC_WHITE"}$%d.{"#DC_MAIN"} Текущий баланс фермы: {"#DC_WHITE"}$%d.", price, FarmInfo[i][fMoney]);
			SendMes(playerid, COLOR_MAIN, strings);
			return 1;
		}
		case did_farm_money_take:
		{
			if(!response) return cmd_farm(playerid, inputtext);
			if(FarmDuty[playerid] < 4) return 1;
		    new price, i = FarmWorking[playerid];
		    if(sscanf(inputtext, "i", price)) return SPD(playerid, did_farm_money_take, DSI, "{"#DC_MAIN"}Вывести денежные средства", "{"#DC_WHITE"}Введите количество:", "Далее", "Отмена");
			if(price < 1) return SPD(playerid, did_farm_money_take, DSI, "{"#DC_MAIN"}Вывести денежные средства", "{"#DC_WHITE"}Введите количество:", "Далее", "Отмена");
			if(FarmInfo[i][fMoney] < price) { SPD(playerid, did_farm_money_take, DSI, "{"#DC_MAIN"}Вывести денежные средства", "{"#DC_WHITE"}Введите количество:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "На счете фермы нет столько денег."); }
			FarmInfo[i][fMoney] -= price;
			SaveFarm(i);
			ServerMoney(playerid, "Снял со счета фермы", price, 0);
			format(strings, sizeof(strings), "Вы сняли со счета фермы {"#DC_WHITE"}$%d.{"#DC_MAIN"} Текущий баланс фермы: {"#DC_WHITE"}$%d.", price, FarmInfo[i][fMoney]);
			SendMes(playerid, COLOR_MAIN, strings);
			return 1;
		}
		case did_sellfarm:
		{
			if(!response) return cmd_farm(playerid, inputtext);
			new i = PlayerInfo[playerid][pFarm];
			if(strcmp(PlayerInfo[playerid][pName], FarmInfo[i][fOwner])) return SendMes(playerid, COLOR_DARKORANGE, "Вы не являетесь владельцем данной фермы.");
			strmid(FarmInfo[i][fOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
			SendMes(playerid, COLOR_MAIN, "Вы продали ферму за {"#DC_WHITE"}$%d.", FarmInfo[i][fPrice]+FarmInfo[i][fMoney]);
		    ServerMoney(playerid, "Продажа фермы", FarmInfo[i][fPrice]+FarmInfo[i][fMoney], 0);
			format(strings, sizeof(strings), "Игрок %s продал ферму %d за %d. Кол-во денег: $%d", PlayerInfo[playerid][pName], i, FarmInfo[i][fPrice]+FarmInfo[i][fMoney], PlayerInfo[playerid][pCash]);
			WriteLog("logs_sellfarm", strings);
			ClearFarm(i);
			SaveFarm(i);
			PlayerInfo[playerid][pFarm] = 0;
			UpdateFarm(i);
			return 1;
		}
		case did_farm_substituent:
		{
			if(!response) return cmd_farm(playerid, inputtext);
			if(FarmDuty[playerid] < 4) return 1;
			new i = PlayerInfo[playerid][pFarm], sidx = GetPVarInt(playerid, "FarmSelectedID"), scdplayerid = strval(inputtext);
			if(scdplayerid < -1 || scdplayerid > 1000) return SPD(playerid, did_farm_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Введите ID от -1 до 1000.", "Далее", "Отмена");
			if(scdplayerid == -1)
			{
			    if(FarmInfo[i][fSubstituentSlotsUsed][sidx] == 0) return SPD(playerid, did_farm_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный слот пуст.", "Далее", "Отмена");
				new checkplayerid = GetPlayerID(SubstituentsFarm[i][sidx]);
				if(checkplayerid != INVALID_PLAYER_ID)
				{
					PlayerInfo[checkplayerid][pFarmRank] = 0;
					PlayerInfo[checkplayerid][pFarmIDx] = 0;
					PlayerInfo[checkplayerid][pFarmSlot] = 0;
					if(FarmDuty[checkplayerid] > 0) LeaveFromFarm(checkplayerid, FarmWorking[checkplayerid]);
					SendMes(checkplayerid, COLOR_WHITE, "%s{"#DC_MAIN"} уволил Вас с заместителя {"#DC_WHITE"}%d.", PlayerInfo[playerid][pName], sidx + 1);
				}
				format(SubstituentsFarm[i][sidx], MAX_PLAYER_NAME, "None");
				SaveFarm(i);
				FarmInfo[i][fSubstituentSlotsUsed][sidx] = 0;
				SendMes(playerid, COLOR_MAIN, "Вы уволили заместителя {"#DC_WHITE"}%d.", sidx + 1);
			}
			else
			{
				if(FarmInfo[i][fSubstituentSlotsUsed][sidx] != 0) return SPD(playerid, did_farm_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный слот занят.", "Далее", "Отмена");
				if(!IsPlayerConnected(scdplayerid)) return SPD(playerid, did_farm_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный игрок не в игре.", "Далее", "Отмена");
				if(PlayerLogged[scdplayerid] == 0) return SPD(playerid, did_farm_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный игрок еще не авторизовался.", "Далее", "Отмена");
				if(!IsPlayerInRangeOfPlayer(5.0, playerid, scdplayerid)) return SPD(playerid, did_farm_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Этот игрок слишком далеко от Вас.", "Далее", "Отмена");
				if(PlayerInfo[scdplayerid][pFarmIDx]) return SPD(playerid, did_farm_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный игрок уже является работником фермы.", "Далее", "Отмена");
				if(PlayerInfo[scdplayerid][pFarm]) return SPD(playerid, did_farm_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный игрок владеет фермой.", "Далее", "Отмена");
				if(scdplayerid == playerid) return SPD(playerid, did_farm_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Вы не можете назначить себя заместителем.", "Далее", "Отмена");
				format(SubstituentsFarm[i][sidx], MAX_PLAYER_NAME, PlayerInfo[scdplayerid][pName]);
				SaveFarm(i);
				FarmInfo[i][fSubstituentSlotsUsed][sidx] = 1;
				SendMes(playerid, COLOR_MAIN, "Вы назначили {"#DC_WHITE"}%s{"#DC_MAIN"} на заместителя {"#DC_WHITE"}%d.", PlayerInfo[scdplayerid][pName], sidx + 1);
				SendMes(scdplayerid, COLOR_WHITE, "%s{"#DC_MAIN"} назначил Вас на заместителя {"#DC_WHITE"}%d.", PlayerInfo[playerid][pName], sidx + 1);
				PlayerInfo[scdplayerid][pFarmRank] = 2;
				PlayerInfo[scdplayerid][pFarmIDx] = i;
				PlayerInfo[scdplayerid][pFarmSlot] = sidx;
			}
			return 1;
		}
		case did_farm_farmer:
		{
			if(!response) return cmd_farm(playerid, inputtext);
			if(FarmDuty[playerid] < 4) return 1;
			new i = PlayerInfo[playerid][pFarm], sidx = GetPVarInt(playerid, "FarmSelectedID"), scdplayerid = strval(inputtext);
			if(scdplayerid < -1 || scdplayerid > 1000) return SPD(playerid, did_farm_farmer, DSI, "{"#DC_MAIN"}Установить фермера", "{"#DC_WHITE"}Введите ID игрока чтобы назначить фермера, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Введите ID от -1 до 1000.", "Далее", "Отмена");
			if(scdplayerid == -1)
			{
			    if(FarmInfo[i][fWorkSlotsUsed][sidx] == 0) return SPD(playerid, did_farm_farmer, DSI, "{"#DC_MAIN"}Установить фермера", "{"#DC_WHITE"}Введите ID игрока чтобы назначить фермера, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный слот пуст.", "Далее", "Отмена");
				new checkplayerid = GetPlayerID(WorkersFarm[i][sidx]);
				if(checkplayerid != INVALID_PLAYER_ID)
				{
					PlayerInfo[checkplayerid][pFarmRank] = 0;
					PlayerInfo[checkplayerid][pFarmIDx] = 0;
					PlayerInfo[checkplayerid][pFarmSlot] = 0;
					if(FarmDuty[checkplayerid] > 0) LeaveFromFarm(checkplayerid, FarmWorking[checkplayerid]);
					SendMes(checkplayerid, COLOR_MAIN, "%s уволил Вас с фермера {"#DC_WHITE"}%d.", PlayerInfo[playerid][pName], sidx + 1);
				}
				format(WorkersFarm[i][sidx], MAX_PLAYER_NAME, "None");
				SaveFarm(i);
				FarmInfo[i][fWorkSlotsUsed][sidx] = 0;
				SendMes(playerid, COLOR_MAIN, "Вы уволили фермера {"#DC_WHITE"}%d.", sidx + 1);
			}
			else
			{
				if(FarmInfo[i][fWorkSlotsUsed][sidx] != 0) return SPD(playerid, did_farm_farmer, DSI, "{"#DC_MAIN"}Установить фермера", "{"#DC_WHITE"}Введите ID игрока чтобы назначить фермера, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный слот занят.", "Далее", "Отмена");
				if(!IsPlayerConnected(scdplayerid)) return SPD(playerid, did_farm_farmer, DSI, "{"#DC_MAIN"}Установить фермера", "{"#DC_WHITE"}Введите ID игрока чтобы назначить фермера, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный игрок не в игре.", "Далее", "Отмена");
				if(PlayerLogged[scdplayerid] == 0) return SPD(playerid, did_farm_farmer, DSI, "{"#DC_MAIN"}Установить фермера", "{"#DC_WHITE"}Введите ID игрока чтобы назначить фермера, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный игрок еще не авторизовался.", "Далее", "Отмена");
				if(!IsPlayerInRangeOfPlayer(5.0, playerid, scdplayerid)) return SPD(playerid, did_farm_farmer, DSI, "{"#DC_MAIN"}Установить фермера", "{"#DC_WHITE"}Введите ID игрока чтобы назначить фермера, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Этот игрок слишком далеко от Вас.", "Далее", "Отмена");
				if(PlayerInfo[scdplayerid][pFarmIDx]) return SPD(playerid, did_farm_farmer, DSI, "{"#DC_MAIN"}Установить фермера", "{"#DC_WHITE"}Введите ID игрока чтобы назначить фермера, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный игрок уже является работником фермы.", "Далее", "Отмена");
				if(PlayerInfo[scdplayerid][pFarm]) return SPD(playerid, did_farm_farmer, DSI, "{"#DC_MAIN"}Установить фермера", "{"#DC_WHITE"}Введите ID игрока чтобы назначить фермера, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный игрок владеет фермой.", "Далее", "Отмена");
				if(scdplayerid == playerid) return SPD(playerid, did_farm_farmer, DSI, "{"#DC_MAIN"}Установить фермера", "{"#DC_WHITE"}Введите ID игрока чтобы назначить фермера, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Вы не можете назначить себя фермером.", "Далее", "Отмена");
				format(WorkersFarm[i][sidx], MAX_PLAYER_NAME, PlayerInfo[scdplayerid][pName]);
				SaveFarm(i);
				FarmInfo[i][fWorkSlotsUsed][sidx] = 1;
				SendMes(playerid, COLOR_MAIN, "Вы назначили {"#DC_WHITE"}%s{"#DC_MAIN"} на фермера {"#DC_WHITE"}%d.", PlayerInfo[scdplayerid][pName], sidx + 1);
				SendMes(scdplayerid, COLOR_WHITE, "%s{"#DC_MAIN"} назначил Вас на фермера {"#DC_WHITE"}%d.", PlayerInfo[playerid][pName], sidx + 1);
				PlayerInfo[scdplayerid][pFarmRank] = 1;
				PlayerInfo[scdplayerid][pFarmIDx] = i;
				PlayerInfo[scdplayerid][pFarmSlot] = sidx;
			}
			return 1;
		}
		case did_farm_duty:
		{
			if(!response) return 1;
			new fidx = GetPVarInt(playerid, "UseFarm");
			if(FarmDuty[playerid] == 0)
			{
			    if(!strcmp(FarmInfo[fidx][fOwner], "None", true)) return SendMes(playerid, COLOR_DARKORANGE, "Ферма продается, Вы не можете начать рабочий день.");
				if(FarmInfo[fidx][fMoney] < 10000) SendMes(playerid, COLOR_DARKORANGE, "В кассе фермы $%d, если Вы заработаете больше, с Вами не расчитаются.", FarmInfo[fidx][fMoney]);
				SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
				if(PlayerInfo[playerid][pFarm] == fidx)
				{
					SetPlayerSkin(playerid, 34);
					FarmDuty[playerid] = 4;
				}
				else if(PlayerInfo[playerid][pFarmIDx] == fidx && PlayerInfo[playerid][pFarmRank] == 2)
				{
					SetPlayerSkin(playerid, 161);
					FarmDuty[playerid] = 3;
				}
				else if(PlayerInfo[playerid][pFarmIDx] == fidx && PlayerInfo[playerid][pFarmRank] == 1)
				{
					SetPlayerSkin(playerid, 158);
					FarmDuty[playerid] = 2;
				}
				else
				{
					SetPlayerSkin(playerid, 132);
					FarmDuty[playerid] = 1;
				}
				if(PlayerInfo[playerid][pSex] == 2) SetPlayerSkin(playerid, 131);
				FarmWorking[playerid] = fidx;
				SendMes(playerid, COLOR_MAIN, "Вы начали работать на ферме.");
			}
			else
			{
				if(FarmWorking[playerid] != fidx) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете на этой ферме.");
				LeaveFromFarm(playerid, FarmWorking[playerid]);
			}
			return 1;
		}
		case did_farm_vehicle_harvest:
		{
		    new fidx = FarmWorking[playerid], vehicleid = GetPlayerVehicleID(playerid), vidx = GetFarmCarIndex(fidx, vehicleid);
			if(fidx == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не начали рабочий день на ферме."), RemoveFromVehicle(playerid);
			if(vidx == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве."), RemoveFromVehicle(playerid);
		    if(!response) 
		    {
		        if(FarmCarUsed[fidx][vidx] != 0) return RemoveFromVehicle(playerid);
		        return 1;
			}
			if(FarmCarUsed[fidx][vidx] == 0)
			{
				FarmStart[playerid] = 1;
				if(VehInfo[vehicleid][vStatus] == 1)
				{
				    switch(random(2))
					{
						case 0: SetPlayerRaceCheckpoint(playerid, 1, -318.8623,-1413.1534,14.0779, 0.0, 0.0, 0.0, 5.0);
						case 1: SetPlayerRaceCheckpoint(playerid, 1, -186.3248,-1389.9719,4.6713, 0.0, 0.0, 0.0, 5.0);
						case 2: SetPlayerRaceCheckpoint(playerid, 1, -283.9335,-1336.5490,7.5327, 0.0, 0.0, 0.0, 5.0);
						default: SetPlayerRaceCheckpoint(playerid, 1, -318.8623,-1413.1534,14.0779, 0.0, 0.0, 0.0, 5.0);
					}
                }
				else if(VehInfo[vehicleid][vStatus] == 2)
				{
    				switch(random(2))
					{
						case 0: SetPlayerRaceCheckpoint(playerid, 1, 1927.1705,232.7724,28.8232, 0.0, 0.0, 0.0, 5.0);
						case 1: SetPlayerRaceCheckpoint(playerid, 1, 1954.9498,230.1683,28.5234, 0.0, 0.0, 0.0, 5.0);
						case 2: SetPlayerRaceCheckpoint(playerid, 1, 1997.3955,225.7190,27.1133, 0.0, 0.0, 0.0, 5.0);
						default: SetPlayerRaceCheckpoint(playerid, 1, 1927.1705,232.7724,28.8232, 0.0, 0.0, 0.0, 5.0);
					}
				}
				else if(VehInfo[vehicleid][vStatus] == 3)
				{
    				switch(random(2))
					{
						case 0: SetPlayerRaceCheckpoint(playerid, 1, -1047.4470,-1024.2229,129.1785, 0.0, 0.0, 0.0, 5.0);
						case 1: SetPlayerRaceCheckpoint(playerid, 1, -1156.5184,-944.0643,129.1868, 0.0, 0.0, 0.0, 5.0);
						case 2: SetPlayerRaceCheckpoint(playerid, 1, -1038.5542,-950.7828,129.1885, 0.0, 0.0, 0.0, 5.0);
						default: SetPlayerRaceCheckpoint(playerid, 1, -1047.4470,-1024.2229,129.1785, 0.0, 0.0, 0.0, 5.0);
					}
				}
				SendMes(playerid, COLOR_MAIN, "Место отмечено на {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
			}
			else
			{
			    SendMes(playerid, COLOR_MAIN, "Вы завершили сбор урожая, отправляйтесь к ферме чтобы разгрузиться.");
				StopUseFarmCar(fidx, vehicleid);
				FarmCarUsed[fidx][vidx] = 0;
			}
			return 1;
		}
		case did_prod_menu:
		{
		    if(!response) return 1;
		    switch(listitem)
		    {
		        case 0: SPD(playerid, did_prod_buy_corn, DSI, "{"#DC_MAIN"}Приобретение зерна", "{"#DC_WHITE"}Введите кол-во зерна, которое желаете приобрести:", "Далее", "Отмена");
		        case 1: SPD(playerid, did_prod_sell_corn, DSI, "{"#DC_MAIN"}Продажа зерна", "{"#DC_WHITE"}Введите кол-во зерна, которое желаете продать:", "Далее", "Отмена");
		        case 2: SPD(playerid, did_prod_buy_harvest, DSI, "{"#DC_MAIN"}Приобретение урожая", "{"#DC_WHITE"}Введите кол-во урожая, которое желаете приобрести:", "Далее", "Отмена");
		        case 3: SPD(playerid, did_prod_sell_harvest, DSI, "{"#DC_MAIN"}Продажа урожая", "{"#DC_WHITE"}Введите кол-во урожая, которое желаете продать:", "Далее", "Отмена");
		    }
			return 1;
		}
		case did_prod_buy_corn:
		{
		    if(!response) return SPD(playerid, did_prod_menu, DSL, "{"#DC_MAIN"}Меню продуктов", "{"#DC_MAIN"}1.{"#DC_WHITE"} Приобрести зерно\n{"#DC_MAIN"}2.{"#DC_WHITE"} Продать зерно\n{"#DC_MAIN"}3.{"#DC_WHITE"} Приобрести урожай\n{"#DC_MAIN"}4.{"#DC_WHITE"} Продать урожай", "Далее", "Отмена");
			if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в транспортном средстве.");
			if(!IsPlayerInRangeOfPoint(playerid, 15.0, -116.6878,-314.5253,2.7646)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться на складе продуктов.");
			if(!strlen(inputtext) || strval(inputtext) < 1 || strval(inputtext) > 5000) return SPD(playerid, did_prod_buy_corn, DSI, "{"#DC_MAIN"}Приобретение зерна", "{"#DC_WHITE"}Введите кол-во зерна, которое желаете приобрести:", "Далее", "Отмена");
			new vehicleid = GetPlayerVehicleID(playerid);
			if(VehInfo[vehicleid][vFarmInfo][0] >= 5000) return SendMes(playerid, COLOR_DARKORANGE, "В машине максимальное количество зерна.");
			if(VehInfo[vehicleid][vFarmInfo][0] + strval(inputtext) > 5000) return SendMes(playerid, COLOR_DARKORANGE, "В машине нет столько места. Доступно: %d ед. зерна.", 5000 - VehInfo[vehicleid][vFarmInfo][0]);
			new price = 4 * strval(inputtext);
			if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			VehInfo[vehicleid][vFarmInfo][0] += strval(inputtext);
			ServerMoney(playerid, "Покупка зерна", -price, 0);
			format(strings, sizeof(strings), "Вы приобрели {"#DC_WHITE"}%d{"#DC_MAIN"} ед. зерна. Стоимость: {"#DC_WHITE"}$%d.", strval(inputtext), price);
			SendMes(playerid, COLOR_MAIN, strings);
			SendMes(playerid, COLOR_MAIN, "Зерна в машине: {"#DC_WHITE"}%d.", VehInfo[vehicleid][vFarmInfo][0]);
			SendMes(playerid, COLOR_MAIN, "Урожая в машине: {"#DC_WHITE"}%d.", VehInfo[vehicleid][vFarmInfo][1]);
			return 1;
		}
		case did_prod_sell_corn:
		{
		    if(!response) return SPD(playerid, did_prod_menu, DSL, "{"#DC_MAIN"}Меню продуктов", "{"#DC_MAIN"}1.{"#DC_WHITE"} Приобрести зерно\n{"#DC_MAIN"}2.{"#DC_WHITE"} Продать зерно\n{"#DC_MAIN"}3.{"#DC_WHITE"} Приобрести урожай\n{"#DC_MAIN"}4.{"#DC_WHITE"} Продать урожай", "Далее", "Отмена");
			if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в транспортном средстве.");
			if(!strlen(inputtext) || strval(inputtext) < 1 || strval(inputtext) > 1000) return SPD(playerid, did_prod_sell_corn, DSI, "{"#DC_MAIN"}Продажа зерна", "{"#DC_WHITE"}Введите кол-во зерна, которое желаете продать:", "Далее", "Отмена");
			for(new fidx = 1; fidx <= TOTALFARM; fidx++)
			{
				if(!IsPlayerInRangeOfPoint(playerid, 15.0, FarmInfo[fidx][fEnterX], FarmInfo[fidx][fEnterY], FarmInfo[fidx][fEnterZ])) continue;
				if(FarmDuty[playerid] == 0 || FarmWorking[playerid] != fidx) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете на этой ферме.");
				new vehicleid = GetPlayerVehicleID(playerid);
				if(VehInfo[vehicleid][vFarmInfo][0] < strval(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько зерна в машине.");
				if(FarmInfo[fidx][fCornCount] + strval(inputtext) > 25000) return SendMes(playerid, COLOR_DARKORANGE, "На ферме нет столько места. Доступно: %d ед. зерна.", 25000 - FarmInfo[fidx][fCornCount]);
				new price = FarmInfo[fidx][fCornCost] * strval(inputtext);
				if(FarmInfo[fidx][fMoney] < price) return SendMes(playerid, COLOR_DARKORANGE, "На ферме нет столько денег.");
				VehInfo[vehicleid][vFarmInfo][0] -= strval(inputtext);
				FarmInfo[fidx][fCornCount] += strval(inputtext);
				ServerMoney(playerid, "Продажа зерна", price, 0);
				FarmInfo[fidx][fMoney] -= price;
				FarmInfo[fidx][fSpendOnCorn][0] -= price;
				FarmInfo[fidx][fSpendOnCorn][1] -= price;
				format(strings, sizeof(strings), "Вы продали {"#DC_WHITE"}%d{"#DC_MAIN"} ед. зерна. Стоимость: {"#DC_WHITE"}$%d.", strval(inputtext), price);
				SendMes(playerid, COLOR_MAIN, strings);
				SendMes(playerid, COLOR_MAIN, "Зерна в машине: {"#DC_WHITE"}%d.", VehInfo[vehicleid][vFarmInfo][0]);
				SendMes(playerid, COLOR_MAIN, "Урожая в машине: {"#DC_WHITE"}%d.", VehInfo[vehicleid][vFarmInfo][1]);
				return 1;
			}
			SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с фермой.");
			return 1;
		}
		case did_prod_buy_harvest:
		{
		    if(!response) return SPD(playerid, did_prod_menu, DSL, "{"#DC_MAIN"}Меню продуктов", "{"#DC_MAIN"}1.{"#DC_WHITE"} Приобрести зерно\n{"#DC_MAIN"}2.{"#DC_WHITE"} Продать зерно\n{"#DC_MAIN"}3.{"#DC_WHITE"} Приобрести урожай\n{"#DC_MAIN"}4.{"#DC_WHITE"} Продать урожай", "Далее", "Отмена");
			if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в транспортном средстве.");
			if(!strlen(inputtext) || strval(inputtext) < 1 || strval(inputtext) > 5000) return SPD(playerid, did_prod_buy_harvest, DSI, "{"#DC_MAIN"}Приобретение урожая", "{"#DC_WHITE"}Введите кол-во урожая, которое желаете приобрести:", "Далее", "Отмена");
			for(new fidx = 1; fidx <= TOTALFARM; fidx++)
			{
				if(!IsPlayerInRangeOfPoint(playerid, 15.0, FarmInfo[fidx][fEnterX], FarmInfo[fidx][fEnterY], FarmInfo[fidx][fEnterZ])) continue;
				if(FarmDuty[playerid] == 0 || FarmWorking[playerid] != fidx) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете на этой ферме.");
				new vehicleid = GetPlayerVehicleID(playerid);
				if(VehInfo[vehicleid][vFarmInfo][1] >= 5000) return SendMes(playerid, COLOR_DARKORANGE, "В машине максимальное количество урожая.");
				if(VehInfo[vehicleid][vFarmInfo][1] + strval(inputtext) > 5000) return SendMes(playerid, COLOR_DARKORANGE, "В машине нет столько места. Доступно: %d ед. урожая.", 5000 - VehInfo[vehicleid][vFarmInfo][1]);
				if(FarmInfo[fidx][fHarvest] < strval(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "На ферме нет столько урожая.");
				FarmInfo[fidx][fHarvest] -= strval(inputtext);
				new price = FarmInfo[fidx][fHarvestCost] * strval(inputtext);
				if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
	            VehInfo[vehicleid][vFarmInfo][1] += strval(inputtext);
				FarmInfo[fidx][fMoney] += price;
				FarmInfo[fidx][fHarvestSold][0] += price;
				FarmInfo[fidx][fHarvestSold][1] += price;
				ServerMoney(playerid, "Покупка урожая", -price, 0);
				format(strings, sizeof(strings), "Вы приобрели {"#DC_WHITE"}%d{"#DC_MAIN"} ед. урожая. Стоимость: {"#DC_WHITE"}$%d.", strval(inputtext), price);
				SendMes(playerid, COLOR_MAIN, strings);
				SendMes(playerid, COLOR_MAIN, "Зерна в машине: {"#DC_WHITE"}%d.", VehInfo[vehicleid][vFarmInfo][0]);
				SendMes(playerid, COLOR_MAIN, "Урожая в машине: {"#DC_WHITE"}%d.", VehInfo[vehicleid][vFarmInfo][1]);
				return 1;
			}
			SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с фермой.");
			return 1;
		}
		case did_prod_sell_harvest:
		{
		    if(!response) return SPD(playerid, did_prod_menu, DSL, "{"#DC_MAIN"}Меню продуктов", "{"#DC_MAIN"}1.{"#DC_WHITE"} Приобрести зерно\n{"#DC_MAIN"}2.{"#DC_WHITE"} Продать зерно\n{"#DC_MAIN"}3.{"#DC_WHITE"} Приобрести урожай\n{"#DC_MAIN"}4.{"#DC_WHITE"} Продать урожай", "Далее", "Отмена");
			if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в транспортном средстве.");
			if(!IsPlayerInRangeOfPoint(playerid, 15.0, -116.6878,-314.5253,2.7646)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться на складе продуктов.");
			if(!strlen(inputtext) || strval(inputtext) < 1 || strval(inputtext) > 5000) return SPD(playerid, did_prod_sell_harvest, DSI, "{"#DC_MAIN"}Продажа урожая", "{"#DC_WHITE"}Введите кол-во урожая, которое желаете продать:", "Далее", "Отмена");
            new vehicleid = GetPlayerVehicleID(playerid);
			if(VehInfo[vehicleid][vFarmInfo][1] < strval(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "В машине нет столько урожая.");
			VehInfo[vehicleid][vFarmInfo][1] -= strval(inputtext);
			new price = 43 * strval(inputtext);
			ServerMoney(playerid, "Продажа урожая", price, 0);
			format(strings, sizeof(strings), "Вы продали {"#DC_WHITE"}%d{"#DC_MAIN"} ед. урожая. Стоимость: {"#DC_WHITE"}$%d.", strval(inputtext), price);
			SendMes(playerid, COLOR_MAIN, strings);
			SendMes(playerid, COLOR_MAIN, "Зерна в машине: {"#DC_WHITE"}%d.", VehInfo[vehicleid][vFarmInfo][0]);
			SendMes(playerid, COLOR_MAIN, "Урожая в машине: {"#DC_WHITE"}%d.", VehInfo[vehicleid][vFarmInfo][1]);
			return 1;
		}
		case did_service:
		{
		    if(!response) return 1;
		    if(ServiceDuty[playerid] < 2) return 1;
			new i = PlayerInfo[playerid][pService];
		    if(listitem > 4)
			{
				if(listitem == 13)
				{
					new Float:VPos[3];
					SetPVarFloat(playerid, "GPSX", ServiceInfo[i][sEnterX]);
					SetPVarFloat(playerid, "GPSY", ServiceInfo[i][sEnterY]);
					SetPVarFloat(playerid, "GPSZ", ServiceInfo[i][sEnterZ]);
					GetPlayerPos(playerid, VPos[0], VPos[1], VPos[2]);
					SetPVarInt(playerid, "pGPSWork", 1);
					DisablePlayerRaceCheckpoint(playerid);
					SetPlayerRaceCheckpoint(playerid, 1, GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ"), 0, 0, 0, 5.0);
					SendMes(playerid, COLOR_MAIN, "Местоположение {"#DC_WHITE"}СТО{"#DC_MAIN"} отмечено в вашем {"#DC_WHITE"}GPS{"#DC_MAIN"} навигаторе.");
					SendMes(playerid, COLOR_MAIN, "Расстояние: {"#DC_WHITE"}%.1f метров.", GetDistanceBetweenPoints(VPos[0], VPos[1], VPos[2], GetPVarFloat(playerid, "GPSX"), GetPVarFloat(playerid, "GPSY"), GetPVarFloat(playerid, "GPSZ")));
				}
				else if(listitem-4 <= MAX_SERVICE_SUBSTITUENTS)
				{
					if(ServiceDuty[playerid] < 3) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете воспользоваться данным пунктом.");
					SPD(playerid, did_service_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:", "Далее", "Отмена");
					SetPVarInt(playerid, "ServiceSelectedID", listitem-5);
				}
				else
				{
					SPD(playerid, did_service_mechanic, DSI, "{"#DC_MAIN"}Установить механика", "{"#DC_WHITE"}Введите ID игрока чтобы назначить механика, -1 чтобы освободить данный слот:", "Далее", "Отмена");
					SetPVarInt(playerid, "ServiceSelectedID", listitem-5-MAX_SERVICE_SUBSTITUENTS);
				}
			}
			else
			{
				switch(listitem)
				{
				    case 0: SPD(playerid, did_service_salary, DSI, "{"#DC_MAIN"}Установить зарплату", "{"#DC_WHITE"}Введите зарплату:", "Далее", "Отмена");
				    case 1: SPD(playerid, did_service_till, DSI, "{"#DC_MAIN"}Установить стоимость запчастей", "{"#DC_WHITE"}Введите стоимость запчастей:", "Далее", "Отмена");
				    case 2: SPD(playerid, did_service_money_put, DSI, "{"#DC_MAIN"}Ввести денежные средства", "{"#DC_WHITE"}Введите количество:", "Далее", "Отмена");
				    case 3: SPD(playerid, did_service_money_take, DSI, "{"#DC_MAIN"}Вывести денежные средства", "{"#DC_WHITE"}Введите количество:", "Далее", "Отмена");
					case 4:
					{
						if(PlayerInfo[playerid][pService] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет СТО.");
					    totalstring = "";
						format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы хотите продать свое СТО государству за $%d?", ServiceInfo[i][sPrice]+ServiceInfo[i][sMoney]);
						SPD(playerid, did_sellservice, DSM, "{"#DC_MAIN"}Продажа СТО", totalstring, "Да", "Нет");
					}
				}
			}
			return 1;
		}
		case did_service_salary:
		{
		    if(!response) return cmd_service(playerid, inputtext);
			if(ServiceDuty[playerid] < 2) return 1;
		    new price, i = ServiceWorking[playerid];
		   	if(sscanf(inputtext, "i", price)) return SPD(playerid, did_service_salary, DSI, "{"#DC_MAIN"}Установить зарплату", "{"#DC_WHITE"}Введите зарплату:", "Далее", "Отмена");
			if(price < 10 || price > 30) return SPD(playerid, did_service_salary, DSI, "{"#DC_MAIN"}Установить зарплату", "{"#DC_WHITE"}Введите зарплату:\n\n{"#DC_RED"}Ошибка: Введите значение цены от 10 до 30.", "Далее", "Отмена");
			if(ServiceInfo[i][sSalaryLimit] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Изменять заработную плату разрешено раз в час, осталось %d мин.", ServiceInfo[i][sSalaryLimit]);
			ServiceInfo[i][sSalary] = price;
			ServiceInfo[i][sSalaryLimit] = 60;
			SaveService(i);
			SendMes(playerid, COLOR_MAIN, "Вы установили зарплату на {"#DC_WHITE"}$%d.", price);
			return 1;
		}
		case did_service_till:
		{
		    if(!response) return cmd_service(playerid, inputtext);
			if(ServiceDuty[playerid] < 2) return 1;
		    new price, i = ServiceWorking[playerid];
		   	if(sscanf(inputtext, "i", price)) return SPD(playerid, did_service_till, DSI, "{"#DC_MAIN"}Установить стоимость запчастей", "{"#DC_WHITE"}Введите стоимость запчастей:", "Далее", "Отмена");
			if(price < 1 || price > 5) return SPD(playerid, did_service_till, DSI, "{"#DC_MAIN"}Установить стоимость запчастей", "{"#DC_WHITE"}Введите стоимость запчастей:\n\n{"#DC_RED"}Ошибка: Введите значение цены от 1 до 5.", "Далее", "Отмена");
			ServiceInfo[i][sTill] = price;
			SaveService(i);
			SendMes(playerid, COLOR_MAIN, "Вы установили стоимость запчастей на {"#DC_WHITE"}$%d.", price);
			return 1;
		}
		case did_service_money_put:
		{
		    if(!response) return cmd_service(playerid, inputtext);
			if(ServiceDuty[playerid] < 3) return 1;
		    new price, i = ServiceWorking[playerid];
		    if(sscanf(inputtext, "i", price)) return SPD(playerid, did_service_money_put, DSI, "{"#DC_MAIN"}Ввести денежные средства", "{"#DC_WHITE"}Введите количество:", "Далее", "Отмена");
			if(price < 1) return SPD(playerid, did_service_money_put, DSI, "{"#DC_MAIN"}Ввести денежные средства", "{"#DC_WHITE"}Введите количество:", "Далее", "Отмена");
			if(GetMoney(playerid) < price) { SPD(playerid, did_service_money_put, DSI, "{"#DC_MAIN"}Ввести денежные средства", "{"#DC_WHITE"}Введите количество:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"); }
			ServiceInfo[i][sMoney] += price;
			SaveService(i);
			ServerMoney(playerid, "Положил на счет СТО", -price, 0);
			format(strings, sizeof(strings), "Вы положили на счет СТО $%d. Текущий баланс СТО: $%d.", price, ServiceInfo[i][sMoney]);
			SendMes(playerid, COLOR_MAIN, strings);
			return 1;
		}
		case did_service_money_take:
		{
		    if(!response) return cmd_service(playerid, inputtext);
			if(ServiceDuty[playerid] < 3) return 1;
		    new price, i = ServiceWorking[playerid];
		    if(sscanf(inputtext, "i", price)) return SPD(playerid, did_service_money_take, DSI, "{"#DC_MAIN"}Вывести денежные средства", "{"#DC_WHITE"}Введите количество:", "Далее", "Отмена");
			if(price < 1) return SPD(playerid, did_service_money_take, DSI, "{"#DC_MAIN"}Вывести денежные средства", "{"#DC_WHITE"}Введите количество:", "Далее", "Отмена");
			if(ServiceInfo[i][sMoney] < price) { SPD(playerid, did_service_money_take, DSI, "{"#DC_MAIN"}Вывести денежные средства", "{"#DC_WHITE"}Введите количество:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "На счете СТО нет столько денег."); }
			ServiceInfo[i][sMoney] -= price;
			SaveService(i);
			ServerMoney(playerid, "Снял со счета СТО", price, 0);
			format(strings, sizeof(strings), "Вы сняли со счета СТО {"#DC_WHITE"}$%d.{"#DC_MAIN"} Текущий баланс СТО: {"#DC_WHITE"}$%d.", price, ServiceInfo[i][sMoney]);
			SendMes(playerid, COLOR_MAIN, strings);
			return 1;
		}
		case did_sellservice:
		{
			if(!response) return cmd_service(playerid, inputtext);
			new i = PlayerInfo[playerid][pService];
			if(strcmp(PlayerInfo[playerid][pName], ServiceInfo[i][sOwner])) return SendMes(playerid, COLOR_DARKORANGE, "Вы не являетесь владельцем данного СТО.");
			strmid(ServiceInfo[i][sOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
			SendMes(playerid, COLOR_MAIN, "Вы продали СТО за {"#DC_WHITE"}$%d.", ServiceInfo[i][sPrice]+ServiceInfo[i][sMoney]);
		    ServerMoney(playerid, "Продажа СТО", ServiceInfo[i][sPrice]+ServiceInfo[i][sMoney], 0);
			format(strings, sizeof(strings), "Игрок %s продал СТО %d за %d. Кол-во денег: $%d", PlayerInfo[playerid][pName], i, ServiceInfo[i][sPrice]+ServiceInfo[i][sMoney], PlayerInfo[playerid][pCash]);
			WriteLog("logs_sellservice", strings);
			ClearService(i);
			SaveService(i);
			PlayerInfo[playerid][pService] = 0;
			UpdateService(i);
			return 1;
		}
		case did_service_substituent:
		{
			if(!response) return cmd_service(playerid, inputtext);
			if(ServiceDuty[playerid] < 3) return 1;
			new i = PlayerInfo[playerid][pService], sidx = GetPVarInt(playerid, "ServiceSelectedID"), scdplayerid = strval(inputtext);
			if(scdplayerid < -1 || scdplayerid > 1000) return SPD(playerid, did_service_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Введите ID от -1 до 1000.", "Далее", "Отмена");
			if(scdplayerid == -1)
			{
			    if(ServiceInfo[i][sSubstituentSlotsUsed][sidx] == 0) return SPD(playerid, did_service_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный слот пуст.", "Далее", "Отмена");
				new checkplayerid = GetPlayerID(SubstituentsService[i][sidx]);
				if(checkplayerid != INVALID_PLAYER_ID)
				{
					PlayerInfo[checkplayerid][pServiceRank] = 0;
					PlayerInfo[checkplayerid][pServiceIDx] = 0;
					PlayerInfo[checkplayerid][pServiceSlot] = 0;
					if(ServiceDuty[checkplayerid] > 0) LeaveFromService(checkplayerid, ServiceWorking[checkplayerid]);
					SendMes(checkplayerid, COLOR_WHITE, "%s{"#DC_MAIN"} уволил Вас с заместителя {"#DC_WHITE"}%d.", PlayerInfo[playerid][pName], sidx + 1);
				}
				format(SubstituentsService[i][sidx], MAX_PLAYER_NAME, "None");
				SaveService(i);
				ServiceInfo[i][sSubstituentSlotsUsed][sidx] = 0;
				SendMes(playerid, COLOR_MAIN, "Вы уволили заместителя {"#DC_WHITE"}%d.", sidx + 1);
			}
			else
			{
				if(ServiceInfo[i][sSubstituentSlotsUsed][sidx] != 0) return SPD(playerid, did_service_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный слот занят.", "Далее", "Отмена");
				if(!IsPlayerConnected(scdplayerid)) return SPD(playerid, did_service_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный игрок не в игре.", "Далее", "Отмена");
				if(PlayerLogged[scdplayerid] == 0) return SPD(playerid, did_service_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный игрок еще не авторизовался.", "Далее", "Отмена");
				if(!IsPlayerInRangeOfPlayer(5.0, playerid, scdplayerid)) return SPD(playerid, did_service_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Этот игрок слишком далеко от Вас.", "Далее", "Отмена");
				if(PlayerInfo[scdplayerid][pServiceIDx]) return SPD(playerid, did_service_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный игрок уже является работником СТО.", "Далее", "Отмена");
				if(PlayerInfo[scdplayerid][pService]) return SPD(playerid, did_service_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный игрок владеет СТО.", "Далее", "Отмена");
				if(scdplayerid == playerid) return SPD(playerid, did_service_substituent, DSI, "{"#DC_MAIN"}Установить заместителя", "{"#DC_WHITE"}Введите ID игрока чтобы назначить заместителя, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Вы не можете назначить себя заместителем.", "Далее", "Отмена");
				format(SubstituentsService[i][sidx], MAX_PLAYER_NAME, PlayerInfo[scdplayerid][pName]);
				SaveService(i);
				ServiceInfo[i][sSubstituentSlotsUsed][sidx] = 1;
				SendMes(playerid, COLOR_MAIN, "Вы назначили {"#DC_WHITE"}%s{"#DC_MAIN"} на заместителя {"#DC_WHITE"}%d.", PlayerInfo[scdplayerid][pName], sidx + 1);
				SendMes(scdplayerid, COLOR_WHITE, "%s{"#DC_MAIN"} назначил Вас на заместителя {"#DC_WHITE"}%d.", PlayerInfo[playerid][pName], sidx + 1);
				PlayerInfo[scdplayerid][pServiceRank] = 2;
				PlayerInfo[scdplayerid][pServiceIDx] = i;
				PlayerInfo[scdplayerid][pServiceSlot] = sidx;
			}
			return 1;
		}
		case did_service_mechanic:
		{
			if(!response) return cmd_service(playerid, inputtext);
			if(ServiceDuty[playerid] < 3) return 1;
			new i = PlayerInfo[playerid][pService], sidx = GetPVarInt(playerid, "ServiceSelectedID"), scdplayerid = strval(inputtext);
			if(scdplayerid < -1 || scdplayerid > 1000) return SPD(playerid, did_service_mechanic, DSI, "{"#DC_MAIN"}Установить механика", "{"#DC_WHITE"}Введите ID игрока чтобы назначить механика, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Введите ID от -1 до 1000.", "Далее", "Отмена");
			if(scdplayerid == -1)
			{
			    if(ServiceInfo[i][sWorkSlotsUsed][sidx] == 0) return SPD(playerid, did_service_mechanic, DSI, "{"#DC_MAIN"}Установить механика", "{"#DC_WHITE"}Введите ID игрока чтобы назначить механика, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный слот пуст.", "Далее", "Отмена");
				new checkplayerid = GetPlayerID(WorkersService[i][sidx]);
				if(checkplayerid != INVALID_PLAYER_ID)
				{
					PlayerInfo[checkplayerid][pServiceRank] = 0;
					PlayerInfo[checkplayerid][pServiceIDx] = 0;
					PlayerInfo[checkplayerid][pServiceSlot] = 0;
					if(ServiceDuty[checkplayerid] > 0) LeaveFromService(checkplayerid, ServiceWorking[checkplayerid]);
					SendMes(checkplayerid, COLOR_WHITE, "%s{"#DC_MAIN"} уволил Вас с механика {"#DC_WHITE"}%d.", PlayerInfo[playerid][pName], sidx + 1);
				}
				format(WorkersService[i][sidx], MAX_PLAYER_NAME, "None");
				SaveService(i);
				ServiceInfo[i][sWorkSlotsUsed][sidx] = 0;
				SendMes(playerid, COLOR_MAIN, "Вы уволили механика {"#DC_WHITE"}%d.", sidx + 1);
			}
			else
			{
				if(ServiceInfo[i][sWorkSlotsUsed][sidx] != 0) return SPD(playerid, did_service_mechanic, DSI, "{"#DC_MAIN"}Установить механика", "{"#DC_WHITE"}Введите ID игрока чтобы назначить механика, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный слот занят.", "Далее", "Отмена");
				if(!IsPlayerConnected(scdplayerid)) return SPD(playerid, did_service_mechanic, DSI, "{"#DC_MAIN"}Установить механика", "{"#DC_WHITE"}Введите ID игрока чтобы назначить механика, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный игрок не в игре.", "Далее", "Отмена");
				if(PlayerLogged[scdplayerid] == 0) return SPD(playerid, did_service_mechanic, DSI, "{"#DC_MAIN"}Установить механика", "{"#DC_WHITE"}Введите ID игрока чтобы назначить механика, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный игрок еще не авторизовался.", "Далее", "Отмена");
				if(!IsPlayerInRangeOfPlayer(5.0, playerid, scdplayerid)) return SPD(playerid, did_service_mechanic, DSI, "{"#DC_MAIN"}Установить механика", "{"#DC_WHITE"}Введите ID игрока чтобы назначить механика, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Этот игрок слишком далеко от Вас.", "Далее", "Отмена");
				if(PlayerInfo[scdplayerid][pServiceIDx]) return SPD(playerid, did_service_mechanic, DSI, "{"#DC_MAIN"}Установить механика", "{"#DC_WHITE"}Введите ID игрока чтобы назначить механика, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный игрок уже является работником СТО.", "Далее", "Отмена");
				if(PlayerInfo[scdplayerid][pService]) return SPD(playerid, did_service_mechanic, DSI, "{"#DC_MAIN"}Установить механика", "{"#DC_WHITE"}Введите ID игрока чтобы назначить механика, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Данный игрок владеет СТО.", "Далее", "Отмена");
				if(scdplayerid == playerid) return SPD(playerid, did_service_mechanic, DSI, "{"#DC_MAIN"}Установить механика", "{"#DC_WHITE"}Введите ID игрока чтобы назначить механика, -1 чтобы освободить данный слот:\n\n{"#DC_RED"}Ошибка: Вы не можете назначить себя фермером.", "Далее", "Отмена");
				format(WorkersService[i][sidx], MAX_PLAYER_NAME, PlayerInfo[scdplayerid][pName]);
				SaveService(i);
				ServiceInfo[i][sWorkSlotsUsed][sidx] = 1;
				SendMes(playerid, COLOR_MAIN, "Вы назначили {"#DC_WHITE"}%s{"#DC_MAIN"} на механика {"#DC_WHITE"}%d.", PlayerInfo[scdplayerid][pName], sidx + 1);
				SendMes(scdplayerid, COLOR_WHITE, "%s{"#DC_MAIN"} назначил Вас на механика {"#DC_WHITE"}%d.", PlayerInfo[playerid][pName], sidx + 1);
				PlayerInfo[scdplayerid][pServiceRank] = 1;
				PlayerInfo[scdplayerid][pServiceIDx] = i;
				PlayerInfo[scdplayerid][pServiceSlot] = sidx;
			}
			return 1;
		}
		case did_service_duty:
		{
			if(!response) return 1;
			new sidx = GetPVarInt(playerid, "UseService");
			if(PlayerInfo[playerid][pService] == 0 && PlayerInfo[playerid][pServiceIDx] != sidx) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете в этом СТО.");
			if(ServiceDuty[playerid] == 0)
			{
			    if(!strcmp(ServiceInfo[sidx][sOwner], "None", true)) return SendMes(playerid, COLOR_DARKORANGE, "СТО продается, Вы не можете начать рабочий день.");
				SetPVarInt(playerid, "SkinMain", GetPlayerSkin(playerid));
				if(PlayerInfo[playerid][pService] == sidx)
				{
					SetPlayerSkin(playerid, 221);
					ServiceDuty[playerid] = 3;
				}
				else if(PlayerInfo[playerid][pServiceRank] == 2)
				{
					SetPlayerSkin(playerid, 222);
					ServiceDuty[playerid] = 2;
				}
				else if(PlayerInfo[playerid][pServiceRank] == 1)
				{
					SetPlayerSkin(playerid, 50);
					ServiceDuty[playerid] = 1;
				}
				if(PlayerInfo[playerid][pSex] == 2) SetPlayerSkin(playerid, 225);
				ServiceWorking[playerid] = sidx;
				SendMes(playerid, COLOR_MAIN, "Вы начали работать на СТО.");
			}
			else
			{
				LeaveFromService(playerid, ServiceWorking[playerid]);
			}
			return 1;
		}
		case did_accessories:
		{
			if(!response) return cmd_inv(playerid, inputtext);
			if(PlayerInfo[playerid][pAccessories][listitem] == 0) return ShowPlayerAccessories(playerid);
			else
			{
			    ShowPlayerAccessoriesInfo(playerid, listitem);
			}
			return 1;
		}
		case did_accessories_info:
		{
            if(!response)
            {
                if(PlayerInfo[playerid][pInterfaceSetting][1] == 0) return ShowPlayerAccessories(playerid);
                return 1;
            }
            if(PlayerInfo[playerid][pInterfaceSetting][1] == 0) SPD(playerid, did_accessories_act, DSL, "{"#DC_MAIN"}Действие", "{"#DC_MAIN"}1.{"#DC_WHITE"} Надеть\n{"#DC_MAIN"}2.{"#DC_WHITE"} Снять\n{"#DC_MAIN"}3.{"#DC_WHITE"} Выбросить\n{"#DC_MAIN"}4.{"#DC_WHITE"} Продать", "Далее", "Отмена");
			return 1;
		}
		case did_accessories_act:
		{
			new aidx = InventoryUseAccessories[playerid];
            if(!response)
            {
                if(PlayerInfo[playerid][pInterfaceSetting][1] == 0) return ShowPlayerAccessoriesInfo(playerid, aidx);
                return 1;
            }
			switch(listitem)
			{
			    case 0:
			    {
			        if(PlayerInfo[playerid][pAccessoriesUse][aidx] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот аксессуар уже используется.");
			        UsePlayerAccessories(playerid, aidx);
			    }
			    case 1:
			    {
			        if(PlayerInfo[playerid][pAccessoriesUse][aidx] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот аксессуар не используется.");
			        UsePlayerAccessories(playerid, aidx);
			    }
			    case 2:
			    {
			        if(PlayerInfo[playerid][pAccessoriesUse][aidx] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот аксессуар используется.");
			        DropPlayerAccessories(playerid, aidx);
			    }
			    case 3:
			    {
			        if(PlayerInfo[playerid][pAccessoriesUse][aidx] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот аксессуар используется.");
			        SellPlayerAccessories(playerid, aidx);
			    }
			}
			return 1;
		}
		case did_accessories_sell:
		{
			if(!response)
			{
			    if(PlayerInfo[playerid][pInterfaceSetting][1] == 0) return SPD(playerid, did_accessories_act, DSL, "{"#DC_MAIN"}Действие", "{"#DC_MAIN"}1.{"#DC_WHITE"} Надеть\n{"#DC_MAIN"}2.{"#DC_WHITE"} Снять\n{"#DC_MAIN"}3.{"#DC_WHITE"} Выбросить\n{"#DC_MAIN"}4.{"#DC_WHITE"} Продать", "Далее", "Отмена");
			    return 1;
			}
			new scdplayerid, price;
			if(sscanf(inputtext, "p<,>ii", scdplayerid, price)) return SPD(playerid, did_accessories_sell, DSI, "{"#DC_MAIN"}Продать аксессуар", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена");
			if(!IsPlayerConnected(scdplayerid)) { SPD(playerid, did_accessories_sell, DSI, "{"#DC_MAIN"}Продать аксессуар", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре."); }
			if(PlayerLogged[scdplayerid] == 0) { SPD(playerid, did_accessories_sell, DSI, "{"#DC_MAIN"}Продать аксессуар", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался."); }
			if(scdplayerid == playerid) { SPD(playerid, did_accessories_sell, DSI, "{"#DC_MAIN"}Продать аксессуар", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе."); }
			if(!IsPlayerInRangeOfPlayer(5.0, playerid, scdplayerid)) { SPD(playerid, did_accessories_sell, DSI, "{"#DC_MAIN"}Продать аксессуар", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас."); }
			if(price < 1) return SPD(playerid, did_accessories_sell, DSI, "{"#DC_MAIN"}Продать аксессуар", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена");
			if(CheckSentence(scdplayerid) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
			if(PlayerInfo[scdplayerid][pAdmin] > 1 && PlayerInfo[scdplayerid][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "Игрок администратор, действие невозможно.");

			new aidx = InventoryUseAccessories[playerid], sidx = PlayerInfo[playerid][pAccessories][aidx] - 1;

			if(price < AccessoriesInfo[sidx][aPrice])  { SPD(playerid, did_accessories_sell, DSI, "{"#DC_MAIN"}Продать аксессуар", "{"#DC_WHITE"}Введите ID игрока и сумму через запятую:", "Далее", "Отмена"); return SendMes(playerid, COLOR_DARKORANGE, "Стоимость должна быть не менее $%d.", AccessoriesInfo[sidx][aPrice]); }

			format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} купить аксессуар {"#DC_WHITE"}%s{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[scdplayerid][pName], AccessoriesInfo[sidx][aName], price);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "%s{"#DC_WHITE"} предложил Вам купить его аксессуар {"#DC_WHITE"}%s{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], AccessoriesInfo[sidx][aName], price);
			SendMes(scdplayerid, COLOR_WHITE, strings);
			SendMes(scdplayerid, COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
			
			PlayerInfo[scdplayerid][pSACCSeller] = playerid;
			PlayerInfo[scdplayerid][pSACCSIDx] = PlayerInfo[playerid][pID];
			PlayerInfo[scdplayerid][pSACCPrice] = price;
			PlayerInfo[scdplayerid][pSACCNumber] = aidx;
			PlayerInfo[scdplayerid][pSACCNumberIDx] = sidx;
			return 1;
		}
		case did_opening_code:
		{
		    if(!response) return 1;
		    if(PlayerInfo[playerid][pOpeningCode]) return SendMes(playerid, COLOR_DARKORANGE, "Эй, ты меня обмануть хочешь? Ты уже получил свой приз, не мешай мне!");
		    if(!strlen(inputtext)) return SendMes(playerid, COLOR_DARKORANGE, "Чтобы получить приз за введение кода, нужно сначала ввести код. Логично, не так ли?");
			if(!strcmp("220520", inputtext, true))
			{
			    PlayerInfo[playerid][pOpeningCode] = 1;
				SetPlayerInt(PlayerInfo[playerid][pID], "openingcode", PlayerInfo[playerid][pOpeningCode]);
			    SendMes(playerid, COLOR_MAIN, "Вот, держи свой приз, ты его, определенно заслужил. До встречи, красавчик!");
				InsertRoulettePriz(playerid, 2, PlayerInfo[playerid][pID], -2, 10, -1);
				new AccIDx[4] = {165, 166, 167, 168}, IDx = AccIDx[random(sizeof(AccIDx))];
				InsertRoulettePriz(playerid, 1, PlayerInfo[playerid][pID], 1, IDx);
			    InsertRoulettePriz(playerid, 0, PlayerInfo[playerid][pID], 0, 2);
			} else SendMes(playerid, COLOR_DARKORANGE, "Эй, я вообще-то не слепая, братец! Введи правильный код, и только тогда получишь приз.");
			return 1;
		}
		case did_opening_server:
		{
		    if(!response) return 1;
			if(PlayerInfo[playerid][pOpeningServer]) return SendMes(playerid, COLOR_DARKORANGE, "Эй, бро, я ведь уже выдал тебе приз. Желающих много, а я один, хоть и большой, хе-хе!");
		    PlayerInfo[playerid][pOpeningServer] = 1;
			SetPlayerInt(PlayerInfo[playerid][pID], "openingserver", PlayerInfo[playerid][pOpeningServer]);
   			SendMes(playerid, COLOR_MAIN, "Вот и твой подарочек, ух, тяжелый! Забирай его скорее, еще увидимся.");
		  	InsertRoulettePriz(playerid, 0, PlayerInfo[playerid][pID], -1, 10000, -1);
		    InsertRoulettePriz(playerid, 0, PlayerInfo[playerid][pID], 0, 2);
			return 1;
		}
		case did_report_list:
        {
            if(!response) return 1;
            if(aReportInfo[listitem+1][rIsTooked] == false) ShowPlayerAdminReportAnswer(playerid, listitem + 1);
            else SendMes(playerid, COLOR_DARKORANGE, "Администрация уже работает по данному обращению.");
            return 1;
        }
        case did_report_ans:
        {
            if(!response)
            {
                aReportInfo[GetPVarInt(playerid, "report_id_to_answer")][rIsTooked] = false;
                DeletePVar(playerid, "report_id_to_answer");
                DeletePVar(playerid, "report_playerid");
                ShowPlayerAdminReportList(playerid);
            }
            else
            {
                new
                    report_id = GetPVarInt(playerid, "report_id_to_answer"),
                    target_id = aReportInfo[report_id][rPlayerID];

                if(report_id == -1) return ShowPlayerAdminReportList(playerid);

                if(!strlen(inputtext))
                {
                    aReportInfo[GetPVarInt(playerid, "report_id_to_answer")][rIsTooked] = false;
                    DeletePVar(playerid, "report_id_to_answer");
                    DeletePVar(playerid, "report_playerid");
                    ShowPlayerAdminReportList(playerid);
                    return 1;
                }

                if(target_id == INVALID_PLAYER_ID || !IsPlayerConnected(target_id))
                {
                    aReportInfo[GetPVarInt(playerid, "report_id_to_answer")][rIsTooked] = false;
                    DeletePVar(playerid, "report_id_to_answer");
                    DeletePVar(playerid, "report_playerid");
                    ShowPlayerAdminReportList(playerid);
                    SendMes(playerid, COLOR_DARKORANGE, "Игрок не в игре.");
                    return 1;
                }

                if(target_id != GetPVarInt(playerid, "report_playerid"))
                {
                    aReportInfo[GetPVarInt(playerid, "report_id_to_answer")][rIsTooked] = false;
                    DeletePVar(playerid, "report_id_to_answer");
                    DeletePVar(playerid, "report_playerid");
                    ShowPlayerAdminReportList(playerid);
                    SendMes(playerid, COLOR_DARKORANGE, "Игрок уже получил ответ.");
                    return 1;
                }
                
               	format(strings, sizeof(strings), "Ответ от администратора %s [%d]: {"#DC_WHITE"}%s", PlayerInfo[playerid][pName], playerid, inputtext);
				SendMes(target_id, COLOR_MAIN, strings);
				format(strings, sizeof(strings), "[A] %s [%d] ответил %s [%d]: %s", PlayerInfo[playerid][pName], playerid, PlayerInfo[target_id][pName], target_id, inputtext);
				SendAdminMessage(COLOR_ADMIN_ONE, strings, 6);

                DeletePVar(target_id, "report_id");

                aReportInfo[report_id][rIsTooked] = false;
                aReportInfo[report_id][rID] = report_id;
                aReportInfo[report_id][rPlayerID] = -1;
                aReportInfo[report_id][rText][0] = EOS;
                aReportInfo[report_id][rWhenWroted_Time] = -1;
                aReportInfo[report_id][rWhenWroted_Text][0] = EOS;

                totaladminreports--;

				WriteLog("logs_adminanswer", strings);
				PlayerInfo[playerid][pAdminData][1]++;
				PlayerInfo[playerid][pAdminAnswer]++;

                ShowPlayerAdminReportList(playerid);

                DeletePVar(playerid, "report_id_to_answer");
                DeletePVar(playerid, "report_playerid");
            }
            return 1;
        }
        case did_bank_deposit:
        {
            if(!response)
            {
                if(!strlen(inputtext)) return 1;
                new price = 0;
                if(sscanf(inputtext, "i", price)) return 1;
                if(PlayerInfo[playerid][pBankDeposit] < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег на банковском вкладе."), ShowBankDeposit(playerid);
                if(PlayerInfo[playerid][pBankDepositLimitTake]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете снимать деньги с банковского вклада в течении %d час(-а/-ов).", PlayerInfo[playerid][pBankDepositLimitTake]), ShowBankDeposit(playerid);
                if(!(1 <= price <= 1000000)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете снять мене $1 и более $1000000."), ShowBankDeposit(playerid);

				ServerMoney(playerid, "Снял с банковского вклада", price, 0);
				ServerMoney(playerid, "Перевел на наличный счет с банковского вклада", -price, 3);

                SendMes(playerid, COLOR_MAIN, "Вы сняли с банковского вклада: $%d. Всего: $%d.", price, PlayerInfo[playerid][pBankDeposit]);

                ShowBankDeposit(playerid);
                return 1;
            }
            else
            {
                if(!strlen(inputtext)) return 1;
                new price = 0;
                if(sscanf(inputtext, "i", price)) return 1;
                if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate"), ShowBankDeposit(playerid);
                if(PlayerInfo[playerid][pBankDepositLimitPut]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете положить деньги на банковский вклад в течении %d час(-а/-ов).", PlayerInfo[playerid][pBankDepositLimitPut]), ShowBankDeposit(playerid);
                if(!(1 <= price <= 1000000)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете положить менее $1 и более $1000000."), ShowBankDeposit(playerid);

				ServerMoney(playerid, "Перевел на банковский вклад", -price, 0);
				ServerMoney(playerid, "Пополнил банковский вклад", price, 2);

                PlayerInfo[playerid][pBankDepositLimitPut] = 1;
                SetPlayerInt(PlayerInfo[playerid][pID], "bankdepositlimitput", PlayerInfo[playerid][pBankDepositLimitPut]);
                PlayerInfo[playerid][pBankDepositLimitTake] = 5;
                SetPlayerInt(PlayerInfo[playerid][pID], "bankdepositlimittake", PlayerInfo[playerid][pBankDepositLimitTake]);

                SendMes(playerid, COLOR_MAIN, "Вы положили на банковский вклад: $%d. Всего: $%d.", price, PlayerInfo[playerid][pBankDeposit]);

                ShowBankDeposit(playerid);
                return 1;
            }
        }
        case did_bank_pension:
        {
            if(!response) return 1;
            PlayerInfo[playerid][pBankPensionStatus] ^= 1;
            SetPlayerInt(PlayerInfo[playerid][pID], "bankpensionstatus", PlayerInfo[playerid][pBankPensionStatus]);
            SendMes(playerid, COLOR_MAIN, "Вы %s.", (PlayerInfo[playerid][pBankPensionStatus] == 0) ? ("расторгли документы на получение пенсии") : ("подписали документы на получение пенсии"));
            return 1;
        }
        case did_binder:
        {
            if(!response) return 1;
            BinderUseNumber[playerid] = listitem;
            SPD(playerid, did_binder_settings, DSI, "{"#DC_MAIN"}Настройки биндера", "{"#DC_WHITE"}\
            Для использования необходимо ввести тип и текст:\n\n\
            Типы:\n\n\
            \t{"#DC_MAIN"}chat{"#DC_WHITE"} - обычный чат;\n\
            \t{"#DC_MAIN"}n{"#DC_WHITE"} - OOC чат;\n\
            \t{"#DC_MAIN"}me{"#DC_WHITE"} - действие от 1-ого лица;\n\
            \t{"#DC_MAIN"}do{"#DC_WHITE"} - действие от 3-его лица;\n\
            \t{"#DC_MAIN"}try{"#DC_WHITE"} - выполнить действие;\n\
            \t{"#DC_MAIN"}s{"#DC_WHITE"} - кричать;\n\
            \t{"#DC_MAIN"}w{"#DC_WHITE"} - шептать;\n\
            \t{"#DC_MAIN"}r rb f fb d db lc lcb fc fcb{"#DC_WHITE"} - фракционные и семейные чаты;\n\
            \t{"#DC_MAIN"}gov{"#DC_WHITE"} - гос. новости.\n\n\
            Пример:\n\n\
            \tОбычный чат: {"#DC_MAIN"}chat Hello, World!{"#DC_WHITE"}\n\
            \tФракционный чат: {"#DC_MAIN"}r Pawn Coder на связи, прием!{"#DC_WHITE"}\n\
            \tГос. новости: {"#DC_MAIN"}gov В 18:00 пройдет собеседование в мэрию.{"#DC_WHITE"}", "Далее", "Отмена");
            return 1;
        }
        case did_binder_settings:
        {
            if(!response) return cmd_binder(playerid, inputtext);
            if(BinderUseNumber[playerid] == -1) return 1;
            new idx = BinderUseNumber[playerid];
            BinderUseNumber[playerid] = -1;
            if(strlen(inputtext) < 1 || strlen(inputtext) > 144) return SendMes(playerid, COLOR_DARKORANGE, "Название должно быть не менее 1 и не более 144 символов."), cmd_binder(playerid, inputtext);
            new cmd[2][150];
            format(cmd[0], sizeof(cmd[]), inputtext);
            if(strlen(cmd[0]) < 3) return 1;
            for(new i, l = strlen(cmd[0]); i < l; i++)
            {
                if (cmd[0][i] == ' ' && i < l - 1)
                {
                    cmd[0][i] = '\0';
                    format(cmd[1], sizeof cmd[], cmd[0][i + 1]);
                    break;
                }
            }
            new cmdType = -1;
            if(!strlen(cmd[0]) || !strlen(cmd[1])) return 1;
            if(!strcmp(cmd[0], "chat", true)) cmdType = 0;
            else if(!strcmp(cmd[0], "me", true) || !strcmp(cmd[0], "do", true) || !strcmp(cmd[0], "try", true) || !strcmp(cmd[0], "s", true) || !strcmp(cmd[0], "w", true) ||
                !strcmp(cmd[0], "r", true) || !strcmp(cmd[0], "rb", true) || !strcmp(cmd[0], "f", true) || !strcmp(cmd[0], "fb", true) || !strcmp(cmd[0], "d", true) ||
                !strcmp(cmd[0], "db", true) || !strcmp(cmd[0], "lc", true) || !strcmp(cmd[0], "lcb", true) || !strcmp(cmd[0], "fc", true) || !strcmp(cmd[0], "fcb", true) ||
                !strcmp(cmd[0], "gov", true) || !strcmp(cmd[0], "n", true)) cmdType = 1;
            switch (cmdType)
            {
                case 0, 1:
                {
                    strmid(BinderInfo[playerid][idx], inputtext, 0, strlen(inputtext), 144);
                    new string[32];
                    format(string, sizeof(string), "binder_info_%d", idx);
                    SetPlayerStr(PlayerInfo[playerid][pID], string, BinderInfo[playerid][idx]);
                    SendMes(playerid, COLOR_MAIN, "Вы изменили настройки биндера.");
                    cmd_binder(playerid, inputtext);
                    return 1;
                }
            }
            SendMes(playerid, COLOR_DARKORANGE, "Вы ввели что-то не так.");
            cmd_binder(playerid, inputtext);
            return 1;
        }
        case did_durak_bet:
        {
            if(PlayerInfo[playerid][pDurakTable]) Durak_HandleBetDlg(playerid, response, inputtext);
            return 1;
        }
        case did_durak_leave:
        {
            if(!response) return 1;
            Durak_LeaveTable(playerid);
            return 1;
        }
        case did_promocode_stats:
		{
			if(!response) return 1;
		    mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `promocode` = '%e'", PromocodeInfo[listitem]);
			new Cache:result = mysql_query(mysql, request);
			if(cache_num_rows())
			{
				new level, count[4] = {0, 0, 0, 0};
				for(new i = 0; i < cache_num_rows(); i++)
				{
					if(i >= cache_num_rows()) break;
					cache_get_value_name_int(i, "level", level);
					count[0]++;
					if(level >= 1 && level <= 2) count[1]++;
					if(level >= 3 && level <= 5) count[2]++;
					if(level >= 6) count[3]++;
				}
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
				Промокод: {"#DC_MAIN"}%s{"#DC_WHITE"}\n\n\
				Активаций всего: {"#DC_MAIN"}%d{"#DC_WHITE"}\n\n\
				Игроков 1 и 2 уровня: {"#DC_MAIN"}%d{"#DC_WHITE"}\n\
				Игроков 3, 4 и 5 уровня: {"#DC_MAIN"}%d{"#DC_WHITE"}\n\
				Игроков 6 и выше уровня: {"#DC_MAIN"}%d{"#DC_WHITE"}", PromocodeInfo[listitem], count[0], count[1], count[2], count[3]);
				SPD(playerid, did_promocode_stats_back, DSM, "{"#DC_MAIN"}Статистика промокодов", totalstring, "Далее", "Отмена");
			} else SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
			return cache_delete(result);
		}
		case did_promocode_stats_back:
		{
			if(!response) return cmd_promocodestats(playerid, inputtext);
		}
	}
	return 1;
}
//==============================================================================
public OnPlayerCommandPerformed(playerid, cmdtext[], success)
{
	/*if(IsTextInvalid(cmdtext)) printf("CMDLOG: ВОЗМОЖНА АТАКА: %s", cmdtext);*/
	SetPVarInt(playerid, "AntiFlood", gettime() + TIME_FLOOD);
	return 1;
}
//==============================================================================
public OnPlayerCommandReceived(playerid, cmdtext[])
{
	if(GetPVarInt(playerid, "AntiFlood") > gettime())
	{
		SendMes(playerid, COLOR_DARKORANGE, "Нельзя писать в чат так часто.");
		return 0;
	}
    if(GetPVarInt(playerid, "report_id_to_answer")) return SendMes(playerid, COLOR_DARKORANGE, "У Вас открыто обращение, закройте его или ответьте на него.") & 0;
    if(GetPVarInt(playerid, "advert_id_to_sending")) return SendMes(playerid, COLOR_DARKORANGE, "У Вас открыто объявление, закройте, отправьте или отклоните его.") & 0;
	return 1;
}
//==============================================================================
CMD:fstats(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в организации.");
	new MaxRang = MaxFracRang(PlayerInfo[playerid][pMember]);
	if(PlayerInfo[playerid][pRank] < MaxRang-1) return SendMes(playerid, COLOR_DARKORANGE, "Данная команда доступна только для лидера и заместителя.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /fstats [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не состоит в организации.");
	if(PlayerInfo[params[0]][pLeader] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок лидер другой организации.");
	if(PlayerInfo[params[0]][pMember] != PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в другой организации.");
	new mtext[20], tdate[32], time[32];
	new year, month, day;
	getdate(year, month, day);
	if(month == 1) { mtext = "Января"; }
	else if(month == 2) { mtext = "Февраля"; }
	else if(month == 3) { mtext = "Марта"; }
	else if(month == 4) { mtext = "Апреля"; }
	else if(month == 5) { mtext = "Мая"; }
	else if(month == 6) { mtext = "Июня"; }
	else if(month == 7) { mtext = "Июля"; }
	else if(month == 8) { mtext = "Августа"; }
	else if(month == 9) { mtext = "Сентября"; }
	else if(month == 10) { mtext = "Октября"; }
	else if(month == 11) { mtext = "Ноября"; }
	else if(month == 12) { mtext = "Декабря"; }
	new hour, minuite, second;
	gettime(hour, minuite, second);
	format(tdate, sizeof(tdate), "%d %s %d г", day, mtext, year);
	if(minuite < 10) format(time, sizeof(time), "%d : 0%d", hour, minuite);
	else format(time, sizeof(time), "%d:%d", hour, minuite);
	bigstring = "", totalstring = "";
	format(bigstring, sizeof(bigstring), "{"#DC_WHITE"}\
    Ник: %s\n\
    Дата: %s\n\
    Время: %s\n\
    День: %s\n\
    Организация: %s\n\
    Ранг: %s\n\
    Отыграно часов: %d час(-а/-ов)\n\
	Время в игре за час: %d мин\n\
	Время в игре за сегодня: %s\n\
	Время в игре за вчера: %s\n\
	AFK за сегодня: %s\n\
	AFK за вчера: %s\n", PlayerInfo[params[0]][pName], tdate, time, GetDay(3), GetFracName(params[0]), GetRangName(params[0]), PlayerInfo[params[0]][pData][0]/3600, PlayerInfo[params[0]][pTime]/60, ConvertSeconds(PlayerInfo[params[0]][pTimeToday]), ConvertSeconds(PlayerInfo[params[0]][pTimeYesterday]), ConvertSeconds(PlayerInfo[params[0]][pAFKToday]), ConvertSeconds(PlayerInfo[params[0]][pAFKYesterday]));
	if(IsAMayor(params[0]))
	{
	    format(totalstring, sizeof(totalstring), "\
	   	Освобождено из тюрьмы: %d игрок(-а/-ов)\n\
	    Опечатано имущества: %d единиц(-а/-ы)", PlayerInfo[params[0]][pData][1], PlayerInfo[params[0]][pData][2]);
		strcat(bigstring, totalstring);
	}
	else if(IsACop(params[0]))
	{
	    format(totalstring, sizeof(totalstring), "\
	    Выдано розыска: %d раз(-а)\n\
	    Изъято лицензий: %d раз(-а)\n\
	    Изъято наркотиков: %d грамм(-а)\n\
	    Изъято материалов: %d единиц(-а/-ы)\n\
	    Выписано штрафов: %d раз(-а)\n\
	    Проведено аррестов: %d раз(-а)\n\
	    Уничтожено наркотических растений: %d раз(-а)", PlayerInfo[params[0]][pData][3], PlayerInfo[params[0]][pData][4], PlayerInfo[params[0]][pData][5], PlayerInfo[params[0]][pData][6], PlayerInfo[params[0]][pData][7], PlayerInfo[params[0]][pData][8], PlayerInfo[params[0]][pData][9]);
		strcat(bigstring, totalstring);
	}
	else if(IsAMedic(params[0]))
	{
	    format(totalstring, sizeof(totalstring), "\
	    Проведено лечений: %d раз(-а)\n\
	    Сделано уколов от болезней: %d раз(-а)\n\
	    Выдано медкарт: %d раз(-а)", PlayerInfo[params[0]][pData][10], PlayerInfo[params[0]][pData][11], PlayerInfo[params[0]][pData][12]);
		strcat(bigstring, totalstring);
	}
	else if(IsAArmy(params[0]))
	{
	    format(totalstring, sizeof(totalstring), "\
	    Нейтрализовано бандитов: %d раз(-а)\n\
	    Перенесено материалов на склад: %d единиц(-а/-ы)", PlayerInfo[params[0]][pData][13], PlayerInfo[params[0]][pData][14]);
		strcat(bigstring, totalstring);
	}
	else if(IsANews(params[0]))
	{
	    format(totalstring, sizeof(totalstring), "\
	    Отредактировано объявлений: %d раз(-а)", PlayerInfo[params[0]][pData][15]);
		strcat(bigstring, totalstring);
	}
	else if(IsADriving(params[0]))
	{
	    format(totalstring, sizeof(totalstring), "\
	    Продано лицензий: %d раз(-а)", PlayerInfo[params[0]][pData][16]);
		strcat(bigstring, totalstring);
	}
	else if(IsAGang(params[0]))
	{
	    format(totalstring, sizeof(totalstring), "\
	    Нейтрализовано армейцев: %d раз(-а)\n\
	    Посажено наркотических растений: %d раз(-а)\n\
	    Собрано наркотических растений: %d раз(-а)\n\
	    Продано оружия: %d раз(-а)\n\
	    Продано наркотиков: %d раз(-а)\n\
	    Зарисовано граффити: %d раз(-а)\n\
	    Перенесено ящиков с материалами: %d единиц(-а/-ы)", PlayerInfo[params[0]][pData][17], PlayerInfo[params[0]][pData][18], PlayerInfo[params[0]][pData][19], PlayerInfo[params[0]][pData][20], PlayerInfo[params[0]][pData][21], PlayerInfo[params[0]][pData][22], PlayerInfo[params[0]][pData][23]);
		strcat(bigstring, totalstring);
	}
	else if(IsAMafia(params[0]))
	{
	    format(totalstring, sizeof(totalstring), "\
	    Ограблено банков: %d раз(-а)\n\
	    Перенесено ящиков с материалами: %d единиц(-а/-ы)", PlayerInfo[params[0]][pData][24], PlayerInfo[params[0]][pData][25]);
		strcat(bigstring, totalstring);
	}
	else if(IsABiker(params[0]))
	{
	    format(totalstring, sizeof(totalstring), "\
	    Ограблено АЗС: %d раз(-а)\n\
	    Перенесено ящиков с материалами: %d единиц(-а/-ы)", PlayerInfo[params[0]][pData][26], PlayerInfo[params[0]][pData][27]);
		strcat(bigstring, totalstring);
	}
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Статистика организации", bigstring, "Отмена", "");
	return 1;
}
CMD:myfstats(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не находитесь в организации.");
	new mtext[20], tdate[32], time[32];
	new year, month, day;
	getdate(year, month, day);
	if(month == 1) { mtext = "Января"; }
	else if(month == 2) { mtext = "Февраля"; }
	else if(month == 3) { mtext = "Марта"; }
	else if(month == 4) { mtext = "Апреля"; }
	else if(month == 5) { mtext = "Мая"; }
	else if(month == 6) { mtext = "Июня"; }
	else if(month == 7) { mtext = "Июля"; }
	else if(month == 8) { mtext = "Августа"; }
	else if(month == 9) { mtext = "Сентября"; }
	else if(month == 10) { mtext = "Октября"; }
	else if(month == 11) { mtext = "Ноября"; }
	else if(month == 12) { mtext = "Декабря"; }
	new hour, minuite, second;
	gettime(hour, minuite, second);
	format(tdate, sizeof(tdate), "%d %s %d г", day, mtext, year);
	if(minuite < 10) format(time, sizeof(time), "%d : 0%d", hour, minuite);
	else format(time, sizeof(time), "%d:%d", hour, minuite);
	bigstring = "", totalstring = "";
	format(bigstring, sizeof(bigstring), "{"#DC_WHITE"}\
    Ник: %s\n\
    Дата: %s\n\
    Время: %s\n\
    День: %s\n\
    Организация: %s\n\
    Ранг: %s\n\
    Отыграно часов: %d час(-а/-ов)\n\
	Время в игре за час: %d мин\n\
	Время в игре за сегодня: %s\n\
	Время в игре за вчера: %s\n\
	AFK за сегодня: %s\n\
	AFK за вчера: %s\n", PlayerInfo[playerid][pName], tdate, time, GetDay(3), GetFracName(playerid), GetRangName(playerid), PlayerInfo[playerid][pData][0]/3600, PlayerInfo[playerid][pTime]/60, ConvertSeconds(PlayerInfo[playerid][pTimeToday]), ConvertSeconds(PlayerInfo[playerid][pTimeYesterday]), ConvertSeconds(PlayerInfo[playerid][pAFKToday]), ConvertSeconds(PlayerInfo[playerid][pAFKYesterday]));
	if(IsAMayor(playerid))
	{
	    format(totalstring, sizeof(totalstring), "\
	   	Освобождено из тюрьмы: %d игрок(-а/-ов)\n\
	    Опечатано имущества: %d единиц(-а/-ы)", PlayerInfo[playerid][pData][1], PlayerInfo[playerid][pData][2]);
		strcat(bigstring, totalstring);
	}
	else if(IsACop(playerid))
	{
	    format(totalstring, sizeof(totalstring), "\
	    Выдано розыска: %d раз(-а)\n\
	    Изъято лицензий: %d раз(-а)\n\
	    Изъято наркотиков: %d грамм(-а)\n\
	    Изъято материалов: %d единиц(-а/-ы)\n\
	    Выписано штрафов: %d раз(-а)\n\
	    Проведено аррестов: %d раз(-а)\n\
	    Уничтожено наркотических растений: %d раз(-а)", PlayerInfo[playerid][pData][3], PlayerInfo[playerid][pData][4], PlayerInfo[playerid][pData][5], PlayerInfo[playerid][pData][6], PlayerInfo[playerid][pData][7], PlayerInfo[playerid][pData][8], PlayerInfo[playerid][pData][9]);
		strcat(bigstring, totalstring);
	}
	else if(IsAMedic(playerid))
	{
	    format(totalstring, sizeof(totalstring), "\
	    Проведено лечений: %d раз(-а)\n\
	    Сделано уколов от болезней: %d раз(-а)\n\
	    Выдано медкарт: %d раз(-а)", PlayerInfo[playerid][pData][10], PlayerInfo[playerid][pData][11], PlayerInfo[playerid][pData][12]);
		strcat(bigstring, totalstring);
	}
	else if(IsAArmy(playerid))
	{
	    format(totalstring, sizeof(totalstring), "\
	    Нейтрализовано бандитов: %d раз(-а)\n\
	    Перенесено материалов на склад: %d единиц(-а/-ы)", PlayerInfo[playerid][pData][13], PlayerInfo[playerid][pData][14]);
		strcat(bigstring, totalstring);
	}
	else if(IsANews(playerid))
	{
	    format(totalstring, sizeof(totalstring), "\
	    Отредактировано объявлений: %d раз(-а)", PlayerInfo[playerid][pData][15]);
		strcat(bigstring, totalstring);
	}
	else if(IsADriving(playerid))
	{
	    format(totalstring, sizeof(totalstring), "\
	    Продано лицензий: %d раз(-а)", PlayerInfo[playerid][pData][16]);
		strcat(bigstring, totalstring);
	}
	else if(IsAGang(playerid))
	{
	    format(totalstring, sizeof(totalstring), "\
	    Нейтрализовано армейцев: %d раз(-а)\n\
	    Посажено наркотических растений: %d раз(-а)\n\
	    Собрано наркотических растений: %d раз(-а)\n\
	    Продано оружия: %d раз(-а)\n\
	    Продано наркотиков: %d раз(-а)\n\
	    Зарисовано граффити: %d раз(-а)\n\
	    Перенесено ящиков с материалами: %d единиц(-а/-ы)", PlayerInfo[playerid][pData][17], PlayerInfo[playerid][pData][18], PlayerInfo[playerid][pData][19], PlayerInfo[playerid][pData][20], PlayerInfo[playerid][pData][21], PlayerInfo[playerid][pData][22], PlayerInfo[playerid][pData][23]);
		strcat(bigstring, totalstring);
	}
	else if(IsAMafia(playerid))
	{
	    format(totalstring, sizeof(totalstring), "\
	    Ограблено банков: %d раз(-а)\n\
	    Перенесено ящиков с материалами: %d единиц(-а/-ы)", PlayerInfo[playerid][pData][24], PlayerInfo[playerid][pData][25]);
		strcat(bigstring, totalstring);
	}
	else if(IsABiker(playerid))
	{
	    format(totalstring, sizeof(totalstring), "\
	    Ограблено АЗС: %d раз(-а)\n\
	    Перенесено ящиков с материалами: %d единиц(-а/-ы)", PlayerInfo[playerid][pData][26], PlayerInfo[playerid][pData][27]);
		strcat(bigstring, totalstring);
	}
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Статистика организации", bigstring, "Отмена", "");
	return 1;
}
CMD:mn(playerid, params[]) return cmd_mm(playerid, params);
CMD:main(playerid, params[]) return cmd_mm(playerid, params);
CMD:help(playerid, params[]) return cmd_mm(playerid, params);
CMD:menu(playerid, params[]) return cmd_mm(playerid, params);
CMD:stats(playerid, params[]) return cmd_mm(playerid, params);
CMD:support(playerid, params[]) return cmd_mm(playerid, params);
CMD:mm(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	SPD(playerid, did_menu, DSL, "{"#DC_MAIN"}Личное меню", "\
	{"#DC_MAIN"}1.{"#DC_WHITE"} Статистика персонажа\n\
	{"#DC_MAIN"}2.{"#DC_WHITE"} Помощь по игре\n\
	{"#DC_MAIN"}3.{"#DC_WHITE"} Команды сервера\n\
	{"#DC_MAIN"}4.{"#DC_WHITE"} Настройки\n\
	{"#DC_MAIN"}5.{"#DC_WHITE"} Связь с администрацией\n\
	{"#DC_MAIN"}6.{"#DC_WHITE"} Инвентарь\n\
	{"#DC_MAIN"}7.{"#DC_WHITE"} Навыки\n\
	{"#DC_MAIN"}8.{"#DC_WHITE"} Квесты\n\
	{"#DC_MAIN"}9.{"#DC_WHITE"} Ежедневные задания\n\
	{"#DC_MAIN"}10.{"#DC_WHITE"} Достижения\n\
	{"#DC_MAIN"}11.{"#DC_WHITE"} Ежедневные награды\n\
	{"#DC_MAIN"}12.{"#DC_WHITE"} Промокод\n\
	{"#DC_MAIN"}13.{"#DC_WHITE"} Донат", "Далее", "Отмена");
	return 1;
}
CMD:mtop(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	SPD(playerid, did_mtop, DSL, "{"#DC_MAIN"}TOP", "{"#DC_MAIN"}1.{"#DC_WHITE"} TOP Отыгранных часов: 5000 рублей\n{"#DC_MAIN"}2.{"#DC_WHITE"} TOP Заработанных денег на работах: 2500 рублей\n{"#DC_MAIN"}3.{"#DC_WHITE"} TOP Выполненных квестов: 2500 рублей\n{"#DC_MAIN"}4.{"#DC_WHITE"} TOP Выполненных ежедневных заданий: 2500 рублей\n{"#DC_MAIN"}5.{"#DC_WHITE"} TOP Полученных достижений: 2500 рублей\n{"#DC_MAIN"}6.{"#DC_WHITE"} Информация", "Далее", "Отмена");
	return 1;
}
CMD:binder(playerid, params[])
{
    totalstring = "", bigstring = "";
    for(new i; i < 20; i++)
    {
        format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Биндер #%d (/bind %d) [%s]\n", i + 1, i + 1, i + 1, BinderInfo[playerid][i]);
        strcat(bigstring, totalstring);
    }
    SPD(playerid, did_binder, DSL, "{"#DC_MAIN"}Настройки биндера", bigstring, "Далее", "Отмена");
    return 1;
}
CMD:b(playerid, params[]) return cmd_bind(playerid, params);
CMD:bind(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
    if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Введите: /bind [id (не менее 1 и не более 20)]");
    if(params[0] < 1 || params[0] > 20) return SendMes(playerid, COLOR_DARKORANGE, "ID должен быть не менее 1 и не более 20.");
    new cmd[2][150];
    format(cmd[0], sizeof(cmd[]), BinderInfo[playerid][params[0] - 1]);
    if(strlen(cmd[0]) < 3) return 1;
    for(new i, l = strlen(cmd[0]); i < l; i++)
    {
        if (cmd[0][i] == ' ' && i < l - 1)
        {
            cmd[0][i] = '\0';
            format(cmd[1], sizeof cmd[], cmd[0][i + 1]);
            break;
        }
    }
    new cmdType = -1;
    if(!strlen(cmd[0]) || !strlen(cmd[1])) return 1;
    if(!strcmp(cmd[0], "chat", true)) cmdType = 0;
    else if(!strcmp(cmd[0], "me", true) || !strcmp(cmd[0], "do", true) || !strcmp(cmd[0], "try", true) || !strcmp(cmd[0], "s", true) || !strcmp(cmd[0], "w", true) ||
        !strcmp(cmd[0], "r", true) || !strcmp(cmd[0], "rb", true) || !strcmp(cmd[0], "f", true) || !strcmp(cmd[0], "fb", true) || !strcmp(cmd[0], "d", true) ||
        !strcmp(cmd[0], "db", true) || !strcmp(cmd[0], "lc", true) || !strcmp(cmd[0], "lcb", true) || !strcmp(cmd[0], "fc", true) || !strcmp(cmd[0], "fcb", true) ||
        !strcmp(cmd[0], "gov", true) || !strcmp(cmd[0], "n", true)) cmdType = 1;
    new sendcmd[50];
    switch (cmdType)
    {
        case 0: CallRemoteFunction("OnPlayerText", "is", playerid, cmd[1]);
        case 1:
        {
            format(sendcmd, sizeof sendcmd, "cmd_%s", cmd[0]);
            CallRemoteFunction(sendcmd, "is", playerid, cmd[1]);
        }
    }
    return 1;
}
CMD:online(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
    SendMes(playerid, COLOR_MAIN, "Кол-во игроков: {"#DC_WHITE"}%d.{"#DC_MAIN"} Максимальное кол-во игроков: {"#DC_WHITE"}%d.", count_player, max_online);
    return 1;
}
CMD:yes(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
    if(IsPlayerInAnyVehicle(playerid))
    {
        if(GetPVarInt(playerid, "NeedPolice") == 1)
		{
			if(PoliceCallTime[playerid] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже приняли вызов.");
			if(PoliceCall == -1) return SendMes(playerid, COLOR_DARKORANGE, "Никто не вызывал полицию.");
			if(!IsPlayerConnected(PoliceCall)) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок вышел из игры.");
			format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} принял(-а) ваш вызов, ждите.", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName]);
			SendMes(PoliceCall, COLOR_WHITE, strings);
			SendMes(playerid, COLOR_MAIN, "Вы приняли вызов от {"#DC_WHITE"}%s.{"#DC_MAIN"} Направляйтесь к метке, указанной в {"#DC_WHITE"}GPS.", PlayerInfo[PoliceCall][pName]);
			new Float:X, Float:Y, Float:Z;
			GetPlayerPos(PoliceCall, X, Y, Z);
			SetPlayerRaceCheckpoint(playerid, 1, X, Y, Z, 0.0, 0.0, 0.0, 5);
			SetPVarInt(PoliceCall, "CallPolice", gettime() + 180);
			PoliceCallTime[playerid] = 180;
			PoliceCall = -1;
			DeletePVar(playerid, "NeedPolice");
		}
		if(GetPVarInt(playerid, "NeedMedic") == 1)
		{
			if(MedicCallTime[playerid] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже приняли вызов.");
			if(MedicCall == -1) return SendMes(playerid, COLOR_DARKORANGE, "Никто не вызывал медицинскую помощь.");
			if(!IsPlayerConnected(MedicCall)) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок вышел из игры.");
			format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} принял(-а) ваш вызов, ждите.", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName]);
			SendMes(MedicCall, COLOR_WHITE, strings);
			SendMes(playerid, COLOR_MAIN, "Вы приняли вызов от {"#DC_WHITE"}%s.{"#DC_MAIN"} Направляйтесь к метке, указанной в {"#DC_WHITE"}GPS.", PlayerInfo[MedicCall][pName]);
			new Float:X, Float:Y, Float:Z;
			GetPlayerPos(MedicCall, X, Y, Z);
			SetPlayerRaceCheckpoint(playerid, 1, X, Y, Z, 0.0, 0.0, 0.0, 5);
			SetPVarInt(MedicCall, "CallMedic", gettime() + 180);
			MedicCallTime[playerid] = 180;
			MedicCall = -1;
			DeletePVar(playerid, "NeedMedic");
		}
		if(GetPVarInt(playerid, "NeedTaxi") == 1)
		{
			if(TaxiCallTime[playerid] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже приняли вызов.");
			if(TaxiCall == -1) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент активных заказов нет.");
			if(!IsPlayerConnected(TaxiCall)) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не найден.");
			SendMes(TaxiCall, COLOR_MAIN, "Таксист {"#DC_WHITE"}%s{"#DC_MAIN"} принял(-а) ваш вызов, ждите.", PlayerInfo[playerid][pName]);
			SendMes(playerid, COLOR_MAIN, "Вы приняли вызов от {"#DC_WHITE"}%s.{"#DC_MAIN"} Направляйтесь к метке, указанной в {"#DC_WHITE"}GPS.", PlayerInfo[TaxiCall][pName]);
			new Float:X, Float:Y, Float:Z;
			GetPlayerPos(TaxiCall, X, Y, Z);
			SetPlayerRaceCheckpoint(playerid, 1, X, Y, Z, 0.0, 0.0, 0.0, 5);
			SetPVarInt(TaxiCall, "CallTaxi", gettime() + 180);
			TaxiCallTime[playerid] = 180;
			TaxiCall = -1;
			DeletePVar(playerid, "NeedTaxi");
		}
		if(GetPVarInt(playerid, "NeedMech") == 1)
		{
			if(MechCallTime[playerid] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже приняли вызов.");
			if(MechCall == -1) return SendMes(playerid, COLOR_DARKORANGE, "Никто не вызывал механика.");
			if(!IsPlayerConnected(MechCall)) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не найден.");
			SendMes(MechCall, COLOR_MAIN, "Автомеханик {"#DC_WHITE"}%s{"#DC_MAIN"} принял(-а) ваш вызов, ждите.", PlayerInfo[playerid][pName]);
			SendMes(playerid, COLOR_MAIN, "Вы приняли вызов от {"#DC_WHITE"}%s.{"#DC_MAIN"} Направляйтесь к метке, указанной в {"#DC_WHITE"}GPS.", PlayerInfo[MechCall][pName]);
			new Float:X, Float:Y, Float:Z;
			GetPlayerPos(MechCall, X, Y, Z);
			SetPlayerRaceCheckpoint(playerid, 1, X, Y, Z, 0.0, 0.0, 0.0, 5);
			SetPVarInt(MechCall, "CallMech", gettime() + 180);
			MechCallTime[playerid] = 180;
			MechCall = -1;
			DeletePVar(playerid, "NeedMech");
		}
	}
	if(PlayerInfo[playerid][pSSIMSeller] != INVALID_PLAYER_ID)
    {
	    new scdplayerid = PlayerInfo[playerid][pSSIMSeller], price = PlayerInfo[playerid][pSSIMPrice];
		if(GetMoney(playerid) < price)
		{
		 	SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			PlayerInfo[playerid][pSSIMSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSSIMSIDx] = 0;
			PlayerInfo[playerid][pSSIMPrice] = 0;
			PlayerInfo[playerid][pSSIMNumber] = 0;
            return SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
		}
		if(PlayerInfo[scdplayerid][pPhoneNumber] != PlayerInfo[playerid][pSSIMNumber])
		{
		 	SendMes(playerid, COLOR_DARKORANGE, "Игрок не владеет предложенным номером.");
			PlayerInfo[playerid][pSSIMSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSSIMSIDx] = 0;
			PlayerInfo[playerid][pSSIMPrice] = 0;
			PlayerInfo[playerid][pSSIMNumber] = 0;
            return SendMes(scdplayerid, COLOR_DARKORANGE, "Вы не владеете предложенным номером.");
		}
		if(PlayerInfo[playerid][pSSIMSIDx] != PlayerInfo[scdplayerid][pID] || !IsPlayerConnected(scdplayerid))
		{
			PlayerInfo[playerid][pSSIMSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSSIMSIDx] = 0;
			PlayerInfo[playerid][pSSIMPrice] = 0;
			PlayerInfo[playerid][pSSIMNumber] = 0;
            return SendMes(playerid, COLOR_DARKORANGE, "Продавец номера телефона вышел из игры.");
		}
		PlayerInfo[playerid][pPhone] = 1;
		PlayerInfo[playerid][pPhoneNumber] = PlayerInfo[scdplayerid][pPhoneNumber];
		PlayerInfo[scdplayerid][pPhoneNumber] = 0;
		PlayerInfo[scdplayerid][pPhone] = 0;
		SetPlayerInt(PlayerInfo[playerid][pID], "phonenumber", PlayerInfo[playerid][pPhoneNumber]);
		SetPlayerInt(PlayerInfo[scdplayerid][pID], "phonenumber", PlayerInfo[scdplayerid][pPhoneNumber]);
		ServerMoney(playerid, "Купил сим-карту у игрока", -price, 0);
		ServerMoney(scdplayerid, "Продал сим-карту игроку", price, 0);
		PlayerInfo[playerid][pSSIMSeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSSIMSIDx] = 0;
		PlayerInfo[playerid][pSSIMPrice] = 0;
		PlayerInfo[playerid][pSSIMNumber] = 0;
		format(strings, sizeof(strings), "Вы приобрели номер {"#DC_WHITE"}%d у %s.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pPhoneNumber], PlayerInfo[scdplayerid][pName], price);
		SendMes(playerid, COLOR_MAIN, strings);
		format(strings, sizeof(strings), "%s{"#DC_WHITE"} купил(-а) номер {"#DC_WHITE"}%d.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], PlayerInfo[playerid][pPhoneNumber], price);
		SendMes(scdplayerid, COLOR_WHITE, strings);
		format(strings, sizeof(strings), "Игрок %s купил номер телефона %d у игрока %s за %d.", PlayerInfo[playerid][pName], PlayerInfo[playerid][pPhoneNumber], PlayerInfo[scdplayerid][pName], price);
		WriteLog("logs_sellsim", strings);
	}
    if(PlayerInfo[playerid][pSHOUSESeller] != INVALID_PLAYER_ID)
    {
		new scdplayerid = PlayerInfo[playerid][pSHOUSESeller], price = PlayerInfo[playerid][pSHOUSEPrice], houseid = PlayerInfo[playerid][pSHOUSENumber];
		if(GetMoney(playerid) < price)
		{
		 	SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			PlayerInfo[playerid][pSHOUSESeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSHOUSESIDx] = 0;
			PlayerInfo[playerid][pSHOUSEPrice] = 0;
			PlayerInfo[playerid][pSHOUSENumber] = 0;
            return SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
		}
		if(PlayerInfo[scdplayerid][pHouse] != houseid)
		{
		 	SendMes(playerid, COLOR_DARKORANGE, "Игрок не владеет предложенным домом.");
			PlayerInfo[playerid][pSHOUSESeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSHOUSESIDx] = 0;
			PlayerInfo[playerid][pSHOUSEPrice] = 0;
			PlayerInfo[playerid][pSHOUSENumber] = 0;
            return SendMes(scdplayerid, COLOR_DARKORANGE, "Вы не владеете предложенным домом.");
		}
		if(PlayerInfo[playerid][pSHOUSESIDx] != PlayerInfo[scdplayerid][pID] || !IsPlayerConnected(scdplayerid))
		{
			PlayerInfo[playerid][pSHOUSESeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSHOUSESIDx] = 0;
			PlayerInfo[playerid][pSHOUSEPrice] = 0;
			PlayerInfo[playerid][pSHOUSENumber] = 0;
            return SendMes(playerid, COLOR_DARKORANGE, "Продавец дома вышел из игры.");
		}
		ServerMoney(playerid, "Купил дом у игрока", -price, 0);
		ServerMoney(scdplayerid, "Продал дом игроку", price, 0);
		strmid(HouseInfo[houseid][hOwner], PlayerInfo[playerid][pName], 0, strlen(PlayerInfo[playerid][pName]), 32);
		HouseInfo[houseid][hLock] = 1;
		HouseInfo[houseid][hPaymentDays] = 3;
		if(HouseInfo[houseid][hFamily] != 0)
		{
	 		new idx = HouseInfo[houseid][hFamily];
		    HouseInfo[houseid][hFamily] = 0;
		    FamiliesInfo[idx][fHouse] = 0;
		    FamiliesInfo[idx][fHouseStatus] = 0;
		    SaveFamilies(idx);
		}
		SaveHouse(houseid);
		PlayerInfo[playerid][pHouse] = houseid;
		PlayerInfo[scdplayerid][pHouse] = 0;
		OnPlayerSaveAccount(playerid);
		OnPlayerSaveAccount(scdplayerid);
		PlayerInfo[playerid][pSHOUSESeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSHOUSESIDx] = 0;
		PlayerInfo[playerid][pSHOUSEPrice] = 0;
		PlayerInfo[playerid][pSHOUSENumber] = 0;
		format(strings, sizeof(strings), "Вы приобрели дом № {"#DC_WHITE"}%d у %s.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pHouse], PlayerInfo[scdplayerid][pName], price);
		SendMes(playerid, COLOR_MAIN, strings);
		format(strings, sizeof(strings), "%s{"#DC_MAIN"} купил(-а) дом № {"#DC_WHITE"}%d.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], PlayerInfo[playerid][pHouse], price);
		SendMes(scdplayerid, COLOR_WHITE, strings);
		format(strings, sizeof(strings), "Игрок %s купил дом № %d у %s за %d.", PlayerInfo[playerid][pName], houseid, PlayerInfo[scdplayerid][pName], price);
		WriteLog("logs_changehouse", strings);
		CheckQuest(playerid, 19);
	}
    if(PlayerInfo[playerid][pSBIZSeller] != INVALID_PLAYER_ID)
    {
     	new scdplayerid = PlayerInfo[playerid][pSBIZSeller], price = PlayerInfo[playerid][pSBIZPrice], bizid = PlayerInfo[playerid][pSBIZNumber];
		if(GetMoney(playerid) < price)
		{
		 	SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			PlayerInfo[playerid][pSBIZSeller] = INVALID_PLAYER_ID;
			PlayerInfo[scdplayerid][pSBIZBuyer] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSBIZPrice] = 0;
			PlayerInfo[playerid][pSBIZNumber] = 0;
            return SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
		}
		if(PlayerInfo[scdplayerid][pBiz] != bizid)
		{
		 	SendMes(playerid, COLOR_DARKORANGE, "Игрок не владеет предложенным бизнесом.");
			PlayerInfo[playerid][pSBIZSeller] = INVALID_PLAYER_ID;
			PlayerInfo[scdplayerid][pSBIZBuyer] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSBIZPrice] = 0;
			PlayerInfo[playerid][pSBIZNumber] = 0;
            return SendMes(scdplayerid, COLOR_DARKORANGE, "Вы не владеете предложенным бизнесом.");
		}
		if(PlayerInfo[scdplayerid][pSBIZBuyer] == INVALID_PLAYER_ID || !IsPlayerConnected(scdplayerid))
		{
			PlayerInfo[playerid][pSBIZSeller] = INVALID_PLAYER_ID;
			PlayerInfo[scdplayerid][pSBIZBuyer] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSBIZPrice] = 0;
			PlayerInfo[playerid][pSBIZNumber] = 0;
            return SendMes(playerid, COLOR_DARKORANGE, "Продавец бизнеса вышел из игры.");
		}
		ServerMoney(playerid, "Купил бизнес у игрока", -price, 0);
		ServerMoney(scdplayerid, "Продал бизнес игроку", price+BizInfo[bizid][bMoney], 0);
		strmid(BizInfo[bizid][bOwner], PlayerInfo[playerid][pName], 0, strlen(PlayerInfo[playerid][pName]), 32);
		BizInfo[bizid][bMoney] = 0;
		PlayerInfo[playerid][pBiz] = bizid;
		PlayerInfo[scdplayerid][pBiz] = 0;
		OnPlayerSaveAccount(playerid);
		OnPlayerSaveAccount(scdplayerid);
		SaveBiz(bizid);
		UpdateBiz(bizid);
		PlayerInfo[playerid][pSBIZSeller] = INVALID_PLAYER_ID;
		PlayerInfo[scdplayerid][pSBIZBuyer] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSBIZPrice] = 0;
		PlayerInfo[playerid][pSBIZNumber] = 0;
		format(strings, sizeof(strings), "Вы купили бизнес {"#DC_WHITE"}%s (%d) у %s.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", BizInfo[bizid][bName], bizid, PlayerInfo[scdplayerid][pName], price);
		SendMes(playerid, COLOR_MAIN, strings);
		format(strings, sizeof(strings), "%s{"#DC_MAIN"} купил(-а) бизнес {"#DC_WHITE"}%s (%d).{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], BizInfo[bizid][bName], bizid, price);
		SendMes(scdplayerid, COLOR_WHITE, strings);
		format(strings, sizeof(strings), "Игрок %s купил бизнес %s (%d) у %s за %d.", PlayerInfo[playerid][pName], BizInfo[bizid][bName], bizid, PlayerInfo[scdplayerid][pName], price);
		WriteLog("logs_changebiz", strings);
	}
    if(PlayerInfo[playerid][pSHOTELSeller] != INVALID_PLAYER_ID)
    {
	    new scdplayerid = PlayerInfo[playerid][pSHOTELSeller], price = PlayerInfo[playerid][pSHOTELPrice], hotelid = PlayerInfo[playerid][pSHOTELNumber];
		if(GetMoney(playerid) < price)
		{
		 	SendMes(playerid, COLOR_MAIN, "У Вас нет столько денег. Используйте: /donate");
			PlayerInfo[playerid][pSHOTELSeller] = INVALID_PLAYER_ID;
			PlayerInfo[scdplayerid][pSHOTELBuyer] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSHOTELPrice] = 0;
			PlayerInfo[playerid][pSHOTELNumber] = 0;
            return SendMes(scdplayerid, COLOR_MAIN, "У игрока нет столько денег. Он может использовать: /donate");
		}
		if(PlayerInfo[scdplayerid][pHotel] != hotelid)
		{
		 	SendMes(playerid, COLOR_MAIN, "Игрок не владеет предложенным отелем.");
			PlayerInfo[playerid][pSHOTELSeller] = INVALID_PLAYER_ID;
			PlayerInfo[scdplayerid][pSHOTELBuyer] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSHOTELPrice] = 0;
			PlayerInfo[playerid][pSHOTELNumber] = 0;
            return SendMes(scdplayerid, COLOR_MAIN, "Вы не владеете предложенным отелем.");
		}
		if(PlayerInfo[scdplayerid][pSHOTELBuyer] == INVALID_PLAYER_ID || !IsPlayerConnected(scdplayerid))
		{
			PlayerInfo[playerid][pSHOTELSeller] = INVALID_PLAYER_ID;
			PlayerInfo[scdplayerid][pSHOTELBuyer] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSHOTELPrice] = 0;
			PlayerInfo[playerid][pSHOTELNumber] = 0;
            return SendMes(playerid, COLOR_MAIN, "Продавец отеля вышел из игры.");
		}
		ServerMoney(playerid, "Купил отель у игрока", -price, 0);
		ServerMoney(scdplayerid, "Продал отель игроку", price+HotelInfo[hotelid][hMoney], 0);
		strmid(HotelInfo[hotelid][hOwner], PlayerInfo[playerid][pName], 0, strlen(PlayerInfo[playerid][pName]), 32);
		HotelInfo[hotelid][hMoney] = 0;
		PlayerInfo[playerid][pHotel] = hotelid;
		PlayerInfo[scdplayerid][pHotel] = 0;
		OnPlayerSaveAccount(playerid);
		OnPlayerSaveAccount(scdplayerid);
		SaveHotel(hotelid);
		UpdateHotel(hotelid);
		PlayerInfo[playerid][pSHOTELSeller] = INVALID_PLAYER_ID;
		PlayerInfo[scdplayerid][pSHOTELBuyer] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSHOTELPrice] = 0;
		PlayerInfo[playerid][pSHOTELNumber] = 0;
		format(strings, sizeof(strings), "Вы купили отель {"#DC_WHITE"}%s (%d) у %s.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", HotelInfo[hotelid][hName], hotelid, PlayerInfo[scdplayerid][pName], price);
		SendMes(playerid, COLOR_MAIN, strings);
		format(strings, sizeof(strings), "%s{"#DC_MAIN"} купил(-а) отель {"#DC_WHITE"}%s (%d).{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], HotelInfo[hotelid][hName], hotelid, price);
		SendMes(scdplayerid, COLOR_WHITE, strings);
		format(strings, sizeof(strings), "Игрок %s купил отель %s (%d) у %s за %d.", PlayerInfo[playerid][pName], HotelInfo[hotelid][hName], hotelid, PlayerInfo[scdplayerid][pName], price);
		WriteLog("logs_changehotel", strings);
	}
    if(PlayerInfo[playerid][pSCARSeller] != INVALID_PLAYER_ID)
    {
	    new scdplayerid = PlayerInfo[playerid][pSCARSeller], price = PlayerInfo[playerid][pSCARPrice], carid = PlayerInfo[playerid][pSCARNumber];
		if(GetMoney(playerid) < price)
		{
		 	SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			PlayerInfo[playerid][pSCARSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSCARSIDx] = 0;
			PlayerInfo[playerid][pSCARPrice] = 0;
			PlayerInfo[playerid][pSCARNumber] = 0;
            return SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
		}
		if(strcmp(PlayerInfo[scdplayerid][pName], VehInfo[carid][vOwner], true))
		{
			SendMes(playerid, COLOR_DARKORANGE, "Игрок не владеет предложенным транспортом.");
			PlayerInfo[playerid][pSCARSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSCARSIDx] = 0;
			PlayerInfo[playerid][pSCARPrice] = 0;
			PlayerInfo[playerid][pSCARNumber] = 0;
			return SendMes(scdplayerid, COLOR_DARKORANGE, "Вы не владеете предложенным транспортом.");
		}
		if(PlayerInfo[playerid][pSCARSIDx] != PlayerInfo[scdplayerid][pID] || !IsPlayerConnected(scdplayerid))
		{
			PlayerInfo[playerid][pSCARSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSCARSIDx] = 0;
			PlayerInfo[playerid][pSCARPrice] = 0;
			PlayerInfo[playerid][pSCARNumber] = 0;
            return SendMes(playerid, COLOR_DARKORANGE, "Продавец транспорта вышел из игры.");
		}
		if(PlayerInfo[scdplayerid][pVehicle] != carid)
		{
			SendMes(playerid, COLOR_DARKORANGE, "Игрок не владеет предложенным транспортом.");
			PlayerInfo[playerid][pSCARSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSCARSIDx] = 0;
			PlayerInfo[playerid][pSCARPrice] = 0;
			PlayerInfo[playerid][pSCARNumber] = 0;
			return SendMes(scdplayerid, COLOR_DARKORANGE, "Вы не владеете предложенным транспортом.");
		}
		if(GetPlayerCountVehicles(playerid) >= GetPlayerMaxVehicles(playerid))
		{
			SendMes(playerid, COLOR_DARKORANGE, "У Вас нет места под еще одно транспортное средство, либо Вы не владете VIP.");
			PlayerInfo[playerid][pSCARSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSCARSIDx] = 0;
			PlayerInfo[playerid][pSCARPrice] = 0;
			PlayerInfo[playerid][pSCARNumber] = 0;
			return SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет места под еще одно транспортное средство, либо игрок не владете VIP.");
		}
		ServerMoney(playerid, "Купил транспорт у игрока", -price, 0);
		ServerMoney(scdplayerid, "Продал транспорт игроку", price, 0);
		strmid(VehInfo[carid][vOwner], PlayerInfo[playerid][pName], 0, strlen(PlayerInfo[playerid][pName]), 32);
		strmid(VehInfo[carid][v2Owner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
		OnPlayerSaveAccount(playerid);
		OnPlayerSaveAccount(scdplayerid);
		if(PlayerInfo[playerid][pVehicle] != 0)
	    {
	        new vehicleid = PlayerInfo[playerid][pVehicle];
			SaveVehicle(vehicleid);
		    SaveVehicleDetails(vehicleid);
			DestroyVehicleEx(vehicleid);
			PlayerInfo[playerid][pVehicle] = 0;
			PlayerInfo[playerid][pVehicleIDx] = 0;
			TOTALVEH--;
	    }
		PlayerInfo[playerid][pVehicle] = carid;
		PlayerInfo[scdplayerid][pVehicle] = 0;
		PlayerInfo[scdplayerid][pVehicleIDx] = 0;
		UpdatePlayerVehiclePosition(carid);
		SaveVehicle(carid);
		PlayerInfo[playerid][pSCARSeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSCARSIDx] = 0;
		PlayerInfo[playerid][pSCARPrice] = 0;
		PlayerInfo[playerid][pSCARNumber] = 0;
		format(strings, sizeof(strings), "Вы приобрели транспорт {"#DC_WHITE"}%s у %s.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", VehicleNameS[GetVehicleModel(carid)-400], PlayerInfo[scdplayerid][pName], price);
		SendMes(playerid, COLOR_MAIN, strings);
		format(strings, sizeof(strings), "%s{"#DC_MAIN"} купил(-а) транспорт {"#DC_WHITE"}%s.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], VehicleNameS[GetVehicleModel(carid)-400], price);
		SendMes(scdplayerid, COLOR_WHITE, strings);
		format(strings, sizeof(strings), "Игрок %s купил транспорт %s (%d) у %s за %d.", PlayerInfo[playerid][pName], VehicleNameS[GetVehicleModel(carid)-400], VehInfo[carid][id], PlayerInfo[scdplayerid][pName], price);
		WriteLog("logs_changecar", strings);
		CheckQuest(playerid, 17);
	}
	if(PlayerInfo[playerid][pSGUNSeller] != INVALID_PLAYER_ID)
	{
		new scdplayerid = PlayerInfo[playerid][pSGUNSeller], price = PlayerInfo[playerid][pSGUNPrice];
		if(GetMoney(playerid) < price)
		{
		 	SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			PlayerInfo[playerid][pSGUNSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSGUNSIDx] = 0;
			PlayerInfo[playerid][pSGUNWeapon] = 0;
			PlayerInfo[playerid][pSGUNAmmo] = 0;
			PlayerInfo[playerid][pSGUNAmount] = 0;
			PlayerInfo[playerid][pSGUNPrice] = 0;
            return SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
		}
		if(PlayerInfo[playerid][pSGUNSIDx] != PlayerInfo[scdplayerid][pID] || !IsPlayerConnected(scdplayerid))
		{
			PlayerInfo[playerid][pSGUNSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSGUNSIDx] = 0;
			PlayerInfo[playerid][pSGUNWeapon] = 0;
			PlayerInfo[playerid][pSGUNAmmo] = 0;
			PlayerInfo[playerid][pSGUNAmount] = 0;
			PlayerInfo[playerid][pSGUNPrice] = 0;
            return SendMes(playerid, COLOR_DARKORANGE, "Продавец оружия вышел из игры.");
		}
		new weapon = PlayerInfo[playerid][pSGUNWeapon], ammo = PlayerInfo[playerid][pSGUNAmmo], amount = PlayerInfo[playerid][pSGUNAmount], gunname[32];
		GiveWeapon(playerid, weapon, ammo);
		PlayerInfo[scdplayerid][pInventoryItems][TYPE_MATERIALS] -= amount;
		SavePlayerInventoryItems(scdplayerid, TYPE_MATERIALS);
		GetWeaponName(weapon, gunname, sizeof(gunname));
		ServerMoney(playerid, "Купил оружие у игрока", -price, 0);
		ServerMoney(scdplayerid, "Продал оружие игроку", price, 0);
		PlayerInfo[playerid][pSGUNSeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSGUNSIDx] = 0;
		PlayerInfo[playerid][pSGUNWeapon] = 0;
		PlayerInfo[playerid][pSGUNAmmo] = 0;
		PlayerInfo[playerid][pSGUNAmount] = 0;
		PlayerInfo[playerid][pSGUNPrice] = 0;
		format(strings, sizeof(strings), "Вы приобрели {"#DC_WHITE"}%s (%d пт.) у %s.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", gunname, ammo, PlayerInfo[scdplayerid][pName], price);
		SendMes(playerid, COLOR_MAIN, strings);
		format(strings, sizeof(strings), "%s{"#DC_MAIN"} купил(-а) {"#DC_WHITE"}%s (%d пт.).{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], gunname, ammo, price);
		SendMes(scdplayerid, COLOR_WHITE, strings);
		if(LastSellgunID[scdplayerid] != playerid) CheckQuest(scdplayerid, 43), CheckTask(scdplayerid, 60), CheckAchievement(scdplayerid, 40), PlayerInfo[scdplayerid][pData][20]++;
		LastSellgunID[scdplayerid] = playerid;
	}
	if(PlayerInfo[playerid][pSDRUGSSeller] != INVALID_PLAYER_ID)
	{
		new scdplayerid = PlayerInfo[playerid][pSDRUGSSeller], price = PlayerInfo[playerid][pSDRUGSPrice];
		if(GetMoney(playerid) < price)
		{
			PlayerInfo[playerid][pSDRUGSSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSDRUGSSIDx] = 0;
			PlayerInfo[playerid][pSDRUGSAmount] = 0;
			PlayerInfo[playerid][pSDRUGSPrice] = 0;
            return SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
		}
		if(PlayerInfo[playerid][pSDRUGSSIDx] != PlayerInfo[scdplayerid][pID] || !IsPlayerConnected(scdplayerid))
		{
			PlayerInfo[playerid][pSDRUGSSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSDRUGSSIDx] = 0;
			PlayerInfo[playerid][pSDRUGSAmount] = 0;
			PlayerInfo[playerid][pSDRUGSPrice] = 0;
            return SendMes(playerid, COLOR_DARKORANGE, "Продавец наркотиков вышел из игры.");
		}
		new amount = PlayerInfo[playerid][pSDRUGSAmount];
		new max_value;
		GetPlayerMaxInventoryItems(playerid, TYPE_DRUGS, max_value);
		if(PlayerInfo[playerid][pInventoryItems][TYPE_DRUGS] + amount > max_value)
		{
			SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_DRUGS][InvUnitName], Inventory[TYPE_DRUGS][InvStringName]);
			PlayerInfo[playerid][pSDRUGSSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSDRUGSSIDx] = 0;
			PlayerInfo[playerid][pSDRUGSAmount] = 0;
			PlayerInfo[playerid][pSDRUGSPrice] = 0;
			return SendMes(scdplayerid, COLOR_DARKORANGE, "Игрок не может переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_DRUGS][InvUnitName], Inventory[TYPE_DRUGS][InvStringName]);
		}
		PlayerInfo[scdplayerid][pInventoryItems][TYPE_DRUGS] -= amount;
		SavePlayerInventoryItems(scdplayerid, TYPE_DRUGS);
		PlayerInfo[playerid][pInventoryItems][TYPE_DRUGS] += amount;
		SavePlayerInventoryItems(playerid, TYPE_DRUGS);
		ServerMoney(playerid, "Купил наркотики у игрока", -price, 0);
		ServerMoney(scdplayerid, "Продал наркотики игроку", price, 0);
		PlayerInfo[playerid][pSDRUGSSeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSDRUGSSIDx] = 0;
		PlayerInfo[playerid][pSDRUGSAmount] = 0;
		PlayerInfo[playerid][pSDRUGSPrice] = 0;
		format(strings, sizeof(strings), "Вы приобрели {"#DC_WHITE"}%d{"#DC_MAIN"} грамм наркотиков у {"#DC_WHITE"}%s.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", amount, PlayerInfo[scdplayerid][pName], price);
		SendMes(playerid, COLOR_MAIN, strings);
		format(strings, sizeof(strings), "%s{"#DC_MAIN"} купил(-а) {"#DC_WHITE"}%d{"#DC_MAIN"} грамм наркотиков. Стоимость: {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], amount, price);
		SendMes(scdplayerid, COLOR_WHITE, strings);
		if(LastSelldrugsID[scdplayerid] != playerid) CheckQuest(scdplayerid, 44), CheckTask(scdplayerid, 61), CheckAchievement(scdplayerid, 41), PlayerInfo[scdplayerid][pData][21]++;
		LastSelldrugsID[scdplayerid] = playerid;
	}
	if(PlayerInfo[playerid][pSACCSeller] != INVALID_PLAYER_ID)
	{
		new scdplayerid = PlayerInfo[playerid][pSACCSeller], price = PlayerInfo[playerid][pSACCPrice], number = PlayerInfo[playerid][pSACCNumber], numberIDx = PlayerInfo[playerid][pSACCNumberIDx];
		if(GetMoney(playerid) < price)
		{
			PlayerInfo[playerid][pSACCSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSACCSIDx] = 0;
			PlayerInfo[playerid][pSACCPrice] = 0;
			PlayerInfo[playerid][pSACCNumber] = 0;
			PlayerInfo[playerid][pSACCNumberIDx] = 0;
            return SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
		}
		if(PlayerInfo[playerid][pSACCSIDx] != PlayerInfo[scdplayerid][pID] || !IsPlayerConnected(scdplayerid))
		{
			PlayerInfo[playerid][pSACCSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSACCSIDx] = 0;
			PlayerInfo[playerid][pSACCPrice] = 0;
			PlayerInfo[playerid][pSACCNumber] = 0;
			PlayerInfo[playerid][pSACCNumberIDx] = 0;
            return SendMes(playerid, COLOR_DARKORANGE, "Продавец аксессуара вышел из игры.");
		}
		if(PlayerInfo[scdplayerid][pAccessories][number] != numberIDx + 1)
		{
		 	SendMes(playerid, COLOR_DARKORANGE, "Игрок не владеет предложенным аксессуаром.");
			PlayerInfo[playerid][pSACCSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSACCSIDx] = 0;
			PlayerInfo[playerid][pSACCPrice] = 0;
			PlayerInfo[playerid][pSACCNumber] = 0;
			PlayerInfo[playerid][pSACCNumberIDx] = 0;
            return SendMes(scdplayerid, COLOR_DARKORANGE, "Вы не владеете предложенным аксессуаром.");
		}
	 	new aidx = GetPlayerSlotAccessories(playerid);
		if(aidx == -1)
		{
		 	SendMes(playerid, COLOR_DARKORANGE, "У Вас нет свободного места под аксессуар.");
			PlayerInfo[playerid][pSACCSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSACCSIDx] = 0;
			PlayerInfo[playerid][pSACCPrice] = 0;
			PlayerInfo[playerid][pSACCNumber] = 0;
			PlayerInfo[playerid][pSACCNumberIDx] = 0;
            return SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет свободного места под аксессуар.");
		}
		PlayerInfo[scdplayerid][pAccessories][number] = 0;
		PlayerInfo[scdplayerid][pAccessoriesUse][number] = 0;
		SavePlayerAccessories(scdplayerid);
		PlayerInfo[playerid][pAccessories][aidx] = numberIDx + 1;
		SavePlayerAccessories(playerid);
		ServerMoney(playerid, "Купил аксессуар у игрока", -price, 0);
		ServerMoney(scdplayerid, "Продал аксессуар игроку", price, 0);
		PlayerInfo[playerid][pSACCSeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSACCSIDx] = 0;
		PlayerInfo[playerid][pSACCPrice] = 0;
		PlayerInfo[playerid][pSACCNumber] = 0;
		PlayerInfo[playerid][pSACCNumberIDx] = 0;
		format(strings, sizeof(strings), "Вы приобрели аксессуар {"#DC_WHITE"}%s у %s.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", AccessoriesInfo[numberIDx][aName], PlayerInfo[scdplayerid][pName], price);
		SendMes(playerid, COLOR_MAIN, strings);
		format(strings, sizeof(strings), "%s{"#DC_MAIN"} купил(-а) аксессуар {"#DC_WHITE"}%s.{"#DC_MAIN"} Стоимость:{"#DC_WHITE"} $%d.", PlayerInfo[playerid][pName], AccessoriesInfo[numberIDx][aName], price);
		SendMes(scdplayerid, COLOR_WHITE, strings);
		format(strings, sizeof(strings), "Игрок %s купил аксессуар %s (%d) у %s за %d.", PlayerInfo[playerid][pName], AccessoriesInfo[numberIDx][aName], numberIDx, PlayerInfo[scdplayerid][pName], price);
		WriteLog("logs_trade_accessories", strings);
	}
	if(PlayerInfo[playerid][pSLICSeller] != INVALID_PLAYER_ID)
	{
		new scdplayerid = PlayerInfo[playerid][pSLICSeller], price = PlayerInfo[playerid][pSLICPrice], type = PlayerInfo[playerid][pSLICType];
		if(GetMoney(playerid) < price)
		{
		 	SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			PlayerInfo[playerid][pSLICSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSLICSIDx] = 0;
			PlayerInfo[playerid][pSLICPrice] = 0;
			PlayerInfo[playerid][pSLICType] = 0;
            return SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
		}
		if(PlayerInfo[playerid][pSLICSIDx] != PlayerInfo[scdplayerid][pID] || !IsPlayerConnected(scdplayerid))
		{
			PlayerInfo[playerid][pSLICSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSLICSIDx] = 0;
			PlayerInfo[playerid][pSLICPrice] = 0;
			PlayerInfo[playerid][pSLICType] = 0;
            return SendMes(playerid, COLOR_DARKORANGE, "Продавец лицензии вышел из игры.");
		}
		PlayerInfo[playerid][pLic][type] = 1;
		ServerMoney(playerid, "Купил лицензию у игрока", -price, 0);
		ServerMoney(scdplayerid, "Продал лицензию игроку", floatround(price * 0.02, floatround_ceil), 0);
		GiveFracBank(PlayerInfo[scdplayerid][pMember], floatround(price * 0.02, floatround_ceil));
		PlayerInfo[playerid][pSLICSeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSLICSIDx] = 0;
		PlayerInfo[playerid][pSLICPrice] = 0;
		PlayerInfo[playerid][pSLICType] = 0;
		if(type == 0)
		{
			CheckQuest(playerid, 1);
			DeletePVar(playerid, "LicTest");
			DeletePVar(playerid, "LicTestHealth");
			DeletePVar(playerid, "LicTestError");
			DeletePVar(playerid, "LicTimer");
		}
		if(LastLicID[scdplayerid] != playerid) CheckQuest(scdplayerid, 37), CheckTask(scdplayerid, 56), CheckAchievement(scdplayerid, 36), PlayerInfo[scdplayerid][pData][16]++;
		LastLicID[scdplayerid] = playerid;
		new text[32];
		GetPVarString(playerid, "LicensesText", text, sizeof(text));
		format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} продал Вам лицензию на {"#DC_WHITE"}%s.", FracRank[PlayerInfo[scdplayerid][pMember]][PlayerInfo[scdplayerid][pRank]], PlayerInfo[scdplayerid][pName], text);
		SendMes(playerid, COLOR_WHITE, strings);
		format(strings, sizeof(strings), "Вы продали {"#DC_WHITE"}%s{"#DC_MAIN"} лицензию на {"#DC_WHITE"}%s.", PlayerInfo[playerid][pName], text);
		SendMes(scdplayerid, COLOR_MAIN, strings);
	}
	if(PlayerInfo[playerid][pSINVSeller] != INVALID_PLAYER_ID)
	{
		new scdplayerid = PlayerInfo[playerid][pSINVSeller], number = PlayerInfo[playerid][pSINVNumber], numberIDx = PlayerInfo[playerid][pSINVNumberIDx];
		if(PlayerInfo[playerid][pSINVSIDx] != PlayerInfo[scdplayerid][pID] || !IsPlayerConnected(scdplayerid))
		{
			PlayerInfo[playerid][pSINVSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSINVSIDx] = 0;
			PlayerInfo[playerid][pSINVPrice] = 0;
			PlayerInfo[playerid][pSINVNumber] = 0;
			PlayerInfo[playerid][pSINVNumberIDx] = 0;
            return SendMes(playerid, COLOR_DARKORANGE, "Владелец предмета вышел из игры.");
		}
		if(PlayerInfo[scdplayerid][pInventoryItems][number] < numberIDx)
		{
		 	SendMes(playerid, COLOR_DARKORANGE, "Игрок не владеет предложенным предметом.");
			PlayerInfo[playerid][pSINVSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSINVSIDx] = 0;
			PlayerInfo[playerid][pSINVPrice] = 0;
			PlayerInfo[playerid][pSINVNumber] = 0;
			PlayerInfo[playerid][pSINVNumberIDx] = 0;
            return SendMes(scdplayerid, COLOR_DARKORANGE, "Вы не владеете предложенным предметом.");
		}
		new max_value;
		GetPlayerMaxInventoryItems(playerid, number, max_value);
		if(PlayerInfo[playerid][pInventoryItems][number] + numberIDx > max_value)
		{
		    SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[number][InvUnitName], Inventory[number][InvStringName]);
			PlayerInfo[playerid][pSINVSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSINVSIDx] = 0;
			PlayerInfo[playerid][pSINVPrice] = 0;
			PlayerInfo[playerid][pSINVNumber] = 0;
			PlayerInfo[playerid][pSINVNumberIDx] = 0;
		    return SendMes(playerid, COLOR_DARKORANGE, "Игрок не может переносить в сумме более %d %s. %s.", max_value, Inventory[number][InvUnitName], Inventory[number][InvStringName]);
		}
		PlayerInfo[scdplayerid][pInventoryItems][number] -= numberIDx;
		SavePlayerInventoryItems(scdplayerid, number);
		PlayerInfo[playerid][pInventoryItems][number] += numberIDx;
		SavePlayerInventoryItems(playerid, number);
		PlayerInfo[playerid][pSINVSeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSINVSIDx] = 0;
		PlayerInfo[playerid][pSINVPrice] = 0;
		PlayerInfo[playerid][pSINVNumber] = 0;
		PlayerInfo[playerid][pSINVNumberIDx] = 0;
		format(strings, sizeof(strings), "Вы взяли предмет {"#DC_WHITE"}%s %d %s. у %s.", Inventory[number][InvStringName], numberIDx, Inventory[number][InvUnitName], PlayerInfo[scdplayerid][pName]);
		SendMes(playerid, COLOR_MAIN, strings);
		format(strings, sizeof(strings), "%s{"#DC_MAIN"} взял(-а) предмет {"#DC_WHITE"}%s %d %s.", PlayerInfo[playerid][pName], Inventory[number][InvStringName], numberIDx, Inventory[number][InvUnitName]);
		SendMes(scdplayerid, COLOR_WHITE, strings);
		format(strings, sizeof(strings), "Игрок %s взял предмет %s %d %s. у %s.", PlayerInfo[playerid][pName], Inventory[number][InvStringName], numberIDx, Inventory[number][InvUnitName], PlayerInfo[scdplayerid][pName]);
		WriteLog("logs_trade_inventory", strings);
	}
	/*if(PlayerInfo[playerid][pSINVSeller] != INVALID_PLAYER_ID)
	{
		new scdplayerid = PlayerInfo[playerid][pSINVSeller], price = PlayerInfo[playerid][pSINVPrice], number = PlayerInfo[playerid][pSINVNumber], numberIDx = PlayerInfo[playerid][pSINVNumberIDx];
		if(GetMoney(playerid) < price)
		{
			PlayerInfo[playerid][pSINVSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSINVSIDx] = 0;
			PlayerInfo[playerid][pSINVPrice] = 0;
			PlayerInfo[playerid][pSINVNumber] = 0;
			PlayerInfo[playerid][pSINVNumberIDx] = 0;
            return SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
		}
		if(PlayerInfo[playerid][pSINVSIDx] != PlayerInfo[scdplayerid][pID] || !IsPlayerConnected(scdplayerid))
		{
			PlayerInfo[playerid][pSINVSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSINVSIDx] = 0;
			PlayerInfo[playerid][pSINVPrice] = 0;
			PlayerInfo[playerid][pSINVNumber] = 0;
			PlayerInfo[playerid][pSINVNumberIDx] = 0;
            return SendMes(playerid, COLOR_DARKORANGE, "Продавец предмета вышел из игры.");
		}
		if(PlayerInfo[scdplayerid][pInventoryItems][number] < numberIDx)
		{
		 	SendMes(playerid, COLOR_DARKORANGE, "Игрок не владеет предложенным предметом.");
			PlayerInfo[playerid][pSINVSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSINVSIDx] = 0;
			PlayerInfo[playerid][pSINVPrice] = 0;
			PlayerInfo[playerid][pSINVNumber] = 0;
			PlayerInfo[playerid][pSINVNumberIDx] = 0;
            return SendMes(scdplayerid, COLOR_DARKORANGE, "Вы не владеете предложенным предметом.");
		}
		new max_value;
		GetPlayerMaxInventoryItems(playerid, number, max_value);
		if(PlayerInfo[playerid][pInventoryItems][number] + numberIDx > max_value)
		{
		    SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[number][InvUnitName], Inventory[number][InvStringName]);
			PlayerInfo[playerid][pSINVSeller] = INVALID_PLAYER_ID;
			PlayerInfo[playerid][pSINVSIDx] = 0;
			PlayerInfo[playerid][pSINVPrice] = 0;
			PlayerInfo[playerid][pSINVNumber] = 0;
			PlayerInfo[playerid][pSINVNumberIDx] = 0;
		    return SendMes(playerid, COLOR_DARKORANGE, "Игрок не может переносить в сумме более %d %s. %s.", max_value, Inventory[number][InvUnitName], Inventory[number][InvStringName]);
		}
		PlayerInfo[scdplayerid][pInventoryItems][number] -= numberIDx;
		SavePlayerInventoryItems(scdplayerid, number);
		PlayerInfo[playerid][pInventoryItems][number] += numberIDx;
		SavePlayerInventoryItems(playerid, number);
		ServerMoney(playerid, "Купил предмет у игрока", -price, 0);
		ServerMoney(scdplayerid, "Продал предмет игроку", price, 0);
		PlayerInfo[playerid][pSINVSeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSINVSIDx] = 0;
		PlayerInfo[playerid][pSINVPrice] = 0;
		PlayerInfo[playerid][pSINVNumber] = 0;
		PlayerInfo[playerid][pSINVNumberIDx] = 0;
		format(strings, sizeof(strings), "Вы приобрели предмет {"#DC_WHITE"}%s %d %s. у %s.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d.", Inventory[number][InvStringName], numberIDx, Inventory[number][InvUnitName], PlayerInfo[scdplayerid][pName], price);
		SendMes(playerid, COLOR_MAIN, strings);
		format(strings, sizeof(strings), "%s{"#DC_MAIN"} купил(-а) предмет {"#DC_WHITE"}%s %d %s.{"#DC_MAIN"} Стоимость:{"#DC_WHITE"} $%d.", PlayerInfo[playerid][pName], Inventory[number][InvStringName], numberIDx, Inventory[number][InvUnitName], price);
		SendMes(scdplayerid, COLOR_WHITE, strings);
		format(strings, sizeof(strings), "Игрок %s купил предмет %s %d %s. у %s за %d.", PlayerInfo[playerid][pName], Inventory[number][InvStringName], numberIDx, Inventory[number][InvUnitName], PlayerInfo[scdplayerid][pName], price);
		WriteLog("logs_trade_inventory", strings);
	}*/
	if(GetPVarInt(playerid, "OfferHi") == 1)
	{
	    new scdplayerid = GetPVarInt(playerid, "OffeeHi");
	    new Float:angle;
		GetPlayerFacingAngle(scdplayerid, angle);
		SetPlayerFacingAngle(playerid, angle + 180);
		format(strings, sizeof(strings), "%s пожал(-а) руку %s", PlayerInfo[scdplayerid][pName], PlayerInfo[playerid][pName]);
		SRM(scdplayerid, 10.0, COLOR_LPURPLE, strings);
		ApplyAnimation(scdplayerid, "GANGS", "hndshkfa", 4.0, 0, 0, 0, 0, 0);
		ApplyAnimation(playerid, "GANGS", "hndshkfa", 4.0, 0, 0, 0, 0, 0);
	   	DeletePVar(playerid, "OfferHi"), DeletePVar(playerid, "OffeeHi");
	}
	if(GetPVarInt(playerid, "OfferKiss") == 1)
	{
	    new scdplayerid = GetPVarInt(playerid, "OffeeKiss");
		new Float:angle;
		GetPlayerFacingAngle(scdplayerid, angle);
		SetPlayerFacingAngle(playerid, angle + 180);
		format(strings, sizeof(strings), "%s поцеловал(-а) %s", PlayerInfo[scdplayerid][pName] , PlayerInfo[playerid][pName]);
		SRM(scdplayerid, 10.0, COLOR_LPURPLE, strings);
	   	ApplyAnimation(scdplayerid, "KISSING", "Playa_Kiss_02", 3.0, 0, 0, 0, 0, 0);
	   	ApplyAnimation(playerid, "KISSING", "Playa_Kiss_02", 3.0, 0, 0, 0, 0, 0);
	   	DeletePVar(playerid, "OfferKiss"), DeletePVar(playerid, "OffeeKiss");
	}
	if(GetPVarInt(playerid, "OfferCarpass") == 1)
	{
	    new scdplayerid = GetPVarInt(playerid, "OffeeCarpass");
	    if(!IsPlayerInAnyVehicle(scdplayerid)) return SendMes(playerid, COLOR_DARKORANGE, "Игрок должен находиться в своем личном транспортном средстве."), DeletePVar(playerid, "OfferCarpass"), DeletePVar(playerid, "OffeeCarpass");
        new vehicleid = GetPlayerVehicleID(scdplayerid);
		if(strcmp(PlayerInfo[scdplayerid][pName], VehInfo[vehicleid][vOwner], true)) return SendMes(playerid, COLOR_DARKORANGE, "Игрок должен находиться в своем личном транспортном средстве."), DeletePVar(playerid, "OfferCarpass"), DeletePVar(playerid, "OffeeCarpass");
		new vehicleupgrade, Float:vehiclemaxspeed, vehiclemodel = GetVehicleModel(vehicleid);
		for(new i = 0; i < 7; i++)
		{
			if(VehInfo[vehicleid][vUpgrade][i] == 0) continue;
			vehicleupgrade++;
		}
		vehiclemaxspeed = GetVehicleMaxSpeed(vehiclemodel) * (1.0 + (vehicleupgrade * 0.1));
		if(vehiclemaxspeed == 0) vehiclemaxspeed = GetVehicleMaxSpeed(vehiclemodel);
		else if(vehiclemaxspeed > 210.0) vehiclemaxspeed = 210.0;
		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
		Владелец: %s\n\
		Название: %s\n\
		Пробег: %.1f KM\n\
		Номер: %s\n\
		Стартер: %.1f\n\
		Аккумулятор: %.1f\n\
		Топливная система: %.1f\n\
		Сцепление: %.1f\n\
		Двигатель: %.1f\n\
		Диаметр колес: %s\n\
		Внешний обвес: %s\n\
		Подвеска: %s\n\
		Сцепление: %s\n\
		Тормоза: %s\n\
		Трансмиссия: %s\n\
		Двигатель: %s\n\
		Макс. скорость: %d KM/H\n\
		Макс. скорость с тюнингом: %d KM/H", VehInfo[vehicleid][vOwner], VehicleNameS[vehiclemodel-400], VehInfo[vehicleid][vMileage], VehInfo[vehicleid][vNumber],
		VehInfo[vehicleid][vDetails][0], VehInfo[vehicleid][vDetails][1], VehInfo[vehicleid][vDetails][2], VehInfo[vehicleid][vDetails][3], VehInfo[vehicleid][vDetails][4],
		(!VehInfo[vehicleid][vUpgrade][0]) ? ("{"#DC_LRED"}Стандарт{"#DC_WHITE"}") : ("{"#DC_GREEN"}Обновлен{"#DC_WHITE"}"),
		(!VehInfo[vehicleid][vUpgrade][1]) ? ("{"#DC_LRED"}Стандарт{"#DC_WHITE"}") : ("{"#DC_GREEN"}Обновлен{"#DC_WHITE"}"),
		(!VehInfo[vehicleid][vUpgrade][2]) ? ("{"#DC_LRED"}Стандарт{"#DC_WHITE"}") : ("{"#DC_GREEN"}Обновлен{"#DC_WHITE"}"),
		(!VehInfo[vehicleid][vUpgrade][3]) ? ("{"#DC_LRED"}Стандарт{"#DC_WHITE"}") : ("{"#DC_GREEN"}Обновлен{"#DC_WHITE"}"),
		(!VehInfo[vehicleid][vUpgrade][4]) ? ("{"#DC_LRED"}Стандарт{"#DC_WHITE"}") : ("{"#DC_GREEN"}Обновлен{"#DC_WHITE"}"),
		(!VehInfo[vehicleid][vUpgrade][5]) ? ("{"#DC_LRED"}Стандарт{"#DC_WHITE"}") : ("{"#DC_GREEN"}Обновлен{"#DC_WHITE"}"),
		(!VehInfo[vehicleid][vUpgrade][6]) ? ("{"#DC_LRED"}Стандарт{"#DC_WHITE"}") : ("{"#DC_GREEN"}Обновлен{"#DC_WHITE"}"),
		floatround(GetVehicleMaxSpeed(vehiclemodel), floatround_ceil), floatround(vehiclemaxspeed, floatround_ceil));
		SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Паспорт транспорта", totalstring, "Отмена", "");
		format(strings, sizeof(strings), "%s показал(-a) паспорт транспорта %s", PlayerInfo[scdplayerid][pName] , PlayerInfo[playerid][pName]);
		SRM(scdplayerid, 10.0, COLOR_LPURPLE, strings);
	   	DeletePVar(playerid, "OfferCarpass"), DeletePVar(playerid, "OffeeCarpass");
	}
	if(GetPVarInt(playerid, "OfferTune") == 1)
	{
	    new scdplayerid = GetPVarInt(playerid, "OffeeTune");
		format(strings, sizeof(strings), "%s воспользовал(-ся/-ась) услугами автомастерской от %s", PlayerInfo[playerid][pName] , PlayerInfo[scdplayerid][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, strings);
		ShowTuningMenu(playerid);
		ServiceTune[playerid] = scdplayerid;
		ServiceTuneIDx[playerid] = PlayerInfo[scdplayerid][pID];
	   	DeletePVar(playerid, "OfferTune"), DeletePVar(playerid, "OffeeTune");
	}
	if(GetPVarInt(playerid, "OfferCertificate") == 1)
	{
	    new scdplayerid = GetPVarInt(playerid, "OffeeCertificate");
	    ShowCertificate(playerid, scdplayerid);
		format(strings, sizeof(strings), "%s показал(-a) своё удостоверение %s", PlayerInfo[scdplayerid][pName], PlayerInfo[playerid][pName]);
		SRM(scdplayerid, 10.0, COLOR_LPURPLE, strings);
	   	DeletePVar(playerid, "OfferCertificate"), DeletePVar(playerid, "OffeeCertificate");
	}
	if(GetPVarInt(playerid, "OfferPass") == 1)
	{
	    new scdplayerid = GetPVarInt(playerid, "OffeePass");
	    ShowPassport(playerid, scdplayerid);
		format(strings, sizeof(strings), "%s показал(-a) свой паспорт %s", PlayerInfo[scdplayerid][pName], PlayerInfo[playerid][pName]);
		SRM(scdplayerid, 10.0, COLOR_LPURPLE, strings);
	   	DeletePVar(playerid, "OfferPass"), DeletePVar(playerid, "OffeePass");
	}
	if(GetPVarInt(playerid, "OfferLicenses") == 1)
	{
	    new scdplayerid = GetPVarInt(playerid, "OffeeLicenses");
	    ShowLicenses(playerid, scdplayerid);
		format(strings, sizeof(strings), "%s показал(-а) свои лицензии %s", PlayerInfo[scdplayerid][pName], PlayerInfo[playerid][pName]);
		SRM(scdplayerid, 10.0, COLOR_LPURPLE, strings);
	   	DeletePVar(playerid, "OfferLicenses"), DeletePVar(playerid, "OffeeLicenses");
	}
	/*if(GetPVarInt(playerid, "OfferSkill") == 1)
	{
	    new scdplayerid = GetPVarInt(playerid, "OffeeSkill");
	    ShowGunSkills(playerid, scdplayerid);
		format(strings, sizeof(strings), "%s показал(-а) свои навыки владения оружием %s", PlayerInfo[scdplayerid][pName], PlayerInfo[playerid][pName]);
		SRM(scdplayerid, 10.0, COLOR_LPURPLE, strings);
	   	DeletePVar(playerid, "OfferSkill"), DeletePVar(playerid, "OffeeSkill");
	}*/
	if(GetPVarInt(playerid, "OfferMC") == 1)
	{
	    new scdplayerid = GetPVarInt(playerid, "OffeeMC");
	    ShowMedCard(playerid, scdplayerid);
		format(strings, sizeof(strings), "%s показал(-a) свою мед. карту %s", PlayerInfo[scdplayerid][pName], PlayerInfo[playerid][pName]);
		SRM(scdplayerid, 10.0, COLOR_LPURPLE, strings);
	   	DeletePVar(playerid, "OfferMC"), DeletePVar(playerid, "OffeeMC");
	}
	if(GetPVarInt(playerid, "OfferSex") == 1)
	{
	    new scdplayerid = GetPVarInt(playerid, "OffeeSex");
		new Float:angle;
		GetPlayerFacingAngle(scdplayerid, angle);
		SetPlayerFacingAngle(playerid, angle);
		format(strings, sizeof(strings), "%s изнасиловал(-а) %s", PlayerInfo[scdplayerid][pName] , PlayerInfo[playerid][pName]);
		SRM(scdplayerid, 10.0, COLOR_LPURPLE, strings);
	  	ApplyAnimation(scdplayerid, "SNM", "SPANKEDW", 4.1, 0, 1, 1, 1, 1, 1);
	 	ApplyAnimation(playerid, "SNM", "SPANKINGW", 4.1, 0, 1, 1, 1, 1, 1);
	   	DeletePVar(playerid, "OfferSex"), DeletePVar(playerid, "OffeeSex");
	}
	if(OfferDuel[playerid] == true)
	{
		new scdplayerid = OffeeDuel[playerid];
	    if(UseDuel[scdplayerid] == true)
		{
		    OfferDuel[playerid] = false;
			OffeeDuel[playerid] = INVALID_PLAYER_ID;
			OffeeCash[playerid] = 0;
			OffeeWeaponid[playerid] = 0;
			return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок уже участвует в дуэли.");
		}
		if(!IsPlayerInRangeOfPlayer(5.0, playerid, scdplayerid))
		{
		    OfferDuel[playerid] = false;
			OffeeDuel[playerid] = INVALID_PLAYER_ID;
			OffeeCash[playerid] = 0;
			OffeeWeaponid[playerid] = 0;
			return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
		}
	    new rate = OffeeCash[playerid], weaponid = OffeeWeaponid[playerid], randworld = RandomEx(10, 100);
	    ServerMoney(playerid, "Дуэль", -rate, 0);
	    ServerMoney(scdplayerid, "Дуэль", -rate, 0);
	    SendMes(playerid, COLOR_MAIN, "Вы согласились на дуэль с {"#DC_WHITE"}%s.", PlayerInfo[scdplayerid][pName]);
	    SendMes(scdplayerid, COLOR_WHITE, "%s{"#DC_MAIN"} согласился на дуэль с Вами.", PlayerInfo[playerid][pName]);
		CheckTask(playerid, 13), CheckTask(scdplayerid, 13);
	    SetPlayerPos(playerid, 2562.5515,2822.3105,10.8203);
	    SetPlayerFacingAngle(playerid, 269.4639);
	    SetPlayerInterior(playerid, 0);
	    SetPlayerVirtualWorld(playerid, playerid + scdplayerid + randworld);
		UseDuel[playerid] = true;
		EnemyDuelID[playerid] = scdplayerid;
		RateDuel[playerid] = rate * 2;
		ResetPlayerWeapon(playerid);
		ResetPlayerWeaponBase(playerid);
		SetHealth(playerid, 100);
		SetArmour(playerid, 0);
		GiveWeapon(playerid, weaponid, 500);
	    SetPlayerPos(scdplayerid, 2599.8254,2822.3105,10.8203);
	    SetPlayerFacingAngle(scdplayerid, 91.2174);
	    SetPlayerInterior(playerid, 0);
	    SetPlayerVirtualWorld(scdplayerid, playerid + scdplayerid + randworld);
		UseDuel[scdplayerid] = true;
		EnemyDuelID[scdplayerid] = playerid;
		RateDuel[scdplayerid] = rate * 2;
		ResetPlayerWeapon(scdplayerid);
		ResetPlayerWeaponBase(scdplayerid);
		SetHealth(scdplayerid, 100);
		SetArmour(scdplayerid, 0);
		GiveWeapon(scdplayerid, weaponid, 500);
	    OfferDuel[playerid] = false;
		OffeeDuel[playerid] = INVALID_PLAYER_ID;
		OffeeCash[playerid] = 0;
		OffeeWeaponid[playerid] = 0;
	}
	if(FishStart[playerid] == 1 && FishTimer[playerid] != 0 && FishPress[playerid] == 1) StopFish(playerid, 5);
	if(GetPVarInt(playerid, "CasinoOffered") != -1)
	{
	    new rate = GetPVarInt(playerid, "CasinoRate"), new_rate = rate - (rate / 100 * 10), scdplayerid = GetPVarInt(playerid, "CasinoOffered"), number[2];
	    if(GetPVarInt(scdplayerid, "CasinoOffer") != playerid) return SendMes(playerid, COLOR_DARKORANGE, "Кто-то из Вас отозвал свое предложение.");
	    if(GetPVarInt(playerid, "CasinoOffered") != scdplayerid) return SendMes(playerid, COLOR_DARKORANGE, "Кто-то из Вас отозвал свое предложение.");
	    if(GetMoney(playerid) < rate)
		{
			SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			SendMes(scdplayerid, COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
			SetPVarInt(playerid, "CasinoOffered", -1), DeletePVar(playerid, "CasinoRate");
			SetPVarInt(scdplayerid, "CasinoOffer", -1), DeletePVar(scdplayerid, "CasinoRate");
			return 1;
		}
		if(GetMoney(scdplayerid) < rate)
		{
		    SendMes(playerid, COLOR_DARKORANGE, "У игрока нет столько денег. Он может использовать: /donate");
		    SendMes(scdplayerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			SetPVarInt(playerid, "CasinoOffered", -1), DeletePVar(playerid, "CasinoRate");
			SetPVarInt(scdplayerid, "CasinoOffer", -1), DeletePVar(scdplayerid, "CasinoRate");
		    return 1;
		}
	    number[0] = 1 + random(11), number[1] = 1 + random(11);
		if(number[0] > number[1])
		{
			format(strings, sizeof(strings), "%s {"#DC_WHITE"}выиграл $%d у {"#DC_RED"}%s", PlayerInfo[playerid][pName], rate, PlayerInfo[scdplayerid][pName]);
			SRM(playerid, 5.0, COLOR_GREEN, strings);
			ServerMoney(playerid, "Победа в казино /dice", new_rate, 0);
			ServerMoney(scdplayerid, "Проигрыш в казино /dice", -rate, 0);
			format(strings, sizeof(strings), "+$%d", new_rate);
			SPCB(playerid, strings, COLOR_LGREEN, 10.0, 1000);
			format(strings, sizeof(strings), "-$%d", rate);
			SPCB(scdplayerid, strings, COLOR_LRED, 10.0, 1000);
		}
		else if(number[0] < number[1])
		{
			format(strings, sizeof(strings), "%s {"#DC_WHITE"}проиграл $%d {"#DC_GREEN"}%s", PlayerInfo[playerid][pName], rate, PlayerInfo[scdplayerid][pName]);
			SRM(playerid, 5.0, COLOR_RED, strings);
			ServerMoney(playerid, "Проигрыш в казино /dice", -rate, 0);
			ServerMoney(scdplayerid, "Победа в казино /dice", new_rate, 0);
			format(strings, sizeof(strings), "+$%d", new_rate);
			SPCB(scdplayerid, strings, COLOR_LGREEN, 10.0, 1000);
			format(strings, sizeof(strings), "-$%d", rate);
			SPCB(playerid, strings, COLOR_LRED, 10.0, 1000);
		}
		else if(number[0] == number[1])
		{
			format(strings, sizeof(strings), "%s {"#DC_WHITE"}и {"#DC_ORANGE"}%s{"#DC_WHITE"} сыграли в ничью", PlayerInfo[playerid][pName], PlayerInfo[scdplayerid][pName]);
			SRM(playerid, 5.0, COLOR_ORANGE, strings);
		}
		CheckTask(playerid, 9), CheckTask(scdplayerid, 9);
		SetPVarInt(playerid, "CasinoOffered", -1), DeletePVar(playerid, "CasinoRate");
		SetPVarInt(scdplayerid, "CasinoOffer", -1), DeletePVar(scdplayerid, "CasinoRate");
	}
	return 1;
}
CMD:no(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
    if(IsPlayerInAnyVehicle(playerid))
    {
		if(GetPVarInt(playerid, "NeedMedic") == 1) DeletePVar(playerid, "NeedMedic"), SendMes(playerid, COLOR_MAIN, "Вы отказались от вызова.");
		if(GetPVarInt(playerid, "NeedTaxi") == 1) DeletePVar(playerid, "NeedTaxi"), SendMes(playerid, COLOR_MAIN, "Вы отказались от вызова.");
		if(GetPVarInt(playerid, "NeedMech") == 1) DeletePVar(playerid, "NeedMech"), SendMes(playerid, COLOR_MAIN, "Вы отказались от вызова.");
		if(GetPVarInt(playerid, "NeedPolice") == 1) DeletePVar(playerid, "NeedPolice"), SendMes(playerid, COLOR_MAIN, "Вы отказались от вызова.");
	}
	if(PlayerInfo[playerid][pSSIMSeller] != INVALID_PLAYER_ID)
    {
    	new scdplayerid = PlayerInfo[playerid][pSSIMSeller];
	    SendMes(playerid, COLOR_DARKORANGE, "Вы отказались от покупки номера.");
		PlayerInfo[playerid][pSSIMSeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSSIMSIDx] = 0;
		PlayerInfo[playerid][pSSIMPrice] = 0;
		PlayerInfo[playerid][pSSIMNumber] = 0;
        SendMes(scdplayerid, COLOR_DARKORANGE, "Игрок отказался от покупки номера.");
    }
    if(PlayerInfo[playerid][pSHOUSESeller] != INVALID_PLAYER_ID)
    {
    	new scdplayerid = PlayerInfo[playerid][pSHOUSESeller];
	   	SendMes(playerid, COLOR_DARKORANGE, "Вы отказались от покупки дома.");
		PlayerInfo[playerid][pSHOUSESeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSHOUSESIDx] = 0;
		PlayerInfo[playerid][pSHOUSEPrice] = 0;
		PlayerInfo[playerid][pSHOUSENumber] = 0;
        SendMes(scdplayerid, COLOR_DARKORANGE, "Игрок отказался от покупки дома.");
    }
    if(PlayerInfo[playerid][pSBIZSeller] != INVALID_PLAYER_ID)
    {
 		new scdplayerid = PlayerInfo[playerid][pSBIZSeller];
	 	SendMes(playerid, COLOR_DARKORANGE, "Вы отказались от покупки бизнеса.");
		PlayerInfo[playerid][pSBIZSeller] = INVALID_PLAYER_ID;
		PlayerInfo[scdplayerid][pSBIZBuyer] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSBIZPrice] = 0;
		PlayerInfo[playerid][pSBIZNumber] = 0;
        SendMes(scdplayerid, COLOR_DARKORANGE, "Игрок отказался от покупки бизнеса.");
    }
    if(PlayerInfo[playerid][pSHOTELSeller] != INVALID_PLAYER_ID)
    {
    	new scdplayerid = PlayerInfo[playerid][pSHOTELSeller];
	   	SendMes(playerid, COLOR_DARKORANGE, "Вы отказались от покупки отеля.");
		PlayerInfo[playerid][pSHOTELSeller] = INVALID_PLAYER_ID;
		PlayerInfo[scdplayerid][pSHOTELBuyer] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSHOTELPrice] = 0;
		PlayerInfo[playerid][pSHOTELNumber] = 0;
        SendMes(scdplayerid, COLOR_DARKORANGE, "Игрок отказался от покупки отеля.");
    }
    if(PlayerInfo[playerid][pSCARSeller] != INVALID_PLAYER_ID)
    {
    	new scdplayerid = PlayerInfo[playerid][pSCARSeller];
	   	SendMes(playerid, COLOR_DARKORANGE, "Вы отказались от покупки транспорта.");
		PlayerInfo[playerid][pSCARSeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSCARSIDx] = 0;
		PlayerInfo[playerid][pSCARPrice] = 0;
		PlayerInfo[playerid][pSCARNumber] = 0;
        SendMes(scdplayerid, COLOR_DARKORANGE, "Игрок отказался от покупки транспорта.");
    }
	if(PlayerInfo[playerid][pSGUNSeller] != INVALID_PLAYER_ID)
	{
		new scdplayerid = PlayerInfo[playerid][pSGUNSeller];
	   	SendMes(playerid, COLOR_DARKORANGE, "Вы отказались от покупки оружия.");
		PlayerInfo[playerid][pSGUNSeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSGUNSIDx] = 0;
		PlayerInfo[playerid][pSGUNWeapon] = 0;
		PlayerInfo[playerid][pSGUNAmmo] = 0;
		PlayerInfo[playerid][pSGUNAmount] = 0;
		PlayerInfo[playerid][pSGUNPrice] = 0;
        SendMes(scdplayerid, COLOR_DARKORANGE, "Игрок отказался от покупки оружия.");
    }
	if(PlayerInfo[playerid][pSDRUGSSeller] != INVALID_PLAYER_ID)
	{
		new scdplayerid = PlayerInfo[playerid][pSDRUGSSeller];
	    SendMes(playerid, COLOR_DARKORANGE, "Вы отказались от покупки наркотиков.");
		PlayerInfo[playerid][pSDRUGSSeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSDRUGSSIDx] = 0;
		PlayerInfo[playerid][pSDRUGSAmount] = 0;
		PlayerInfo[playerid][pSDRUGSPrice] = 0;
        SendMes(scdplayerid, COLOR_DARKORANGE, "Игрок отказался от покупки наркотиков.");
    }
	if(PlayerInfo[playerid][pSACCSeller] != INVALID_PLAYER_ID)
	{
		new scdplayerid = PlayerInfo[playerid][pSACCSeller];
	    SendMes(playerid, COLOR_DARKORANGE, "Вы отказались от покупки аксессуара.");
		PlayerInfo[playerid][pSACCSeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSACCSIDx] = 0;
		PlayerInfo[playerid][pSACCPrice] = 0;
		PlayerInfo[playerid][pSACCNumber] = 0;
		PlayerInfo[playerid][pSACCNumberIDx] = 0;
        SendMes(scdplayerid, COLOR_DARKORANGE, "Игрок отказался от покупки аксессуара.");
    }
	if(PlayerInfo[playerid][pSLICSeller] != INVALID_PLAYER_ID)
	{
		new scdplayerid = PlayerInfo[playerid][pSLICSeller];
	    SendMes(playerid, COLOR_DARKORANGE, "Вы отказались от покупки лицензии.");
		PlayerInfo[playerid][pSLICSeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSLICSIDx] = 0;
		PlayerInfo[playerid][pSLICPrice] = 0;
		PlayerInfo[playerid][pSLICType] = 0;
        SendMes(scdplayerid, COLOR_DARKORANGE, "Игрок отказался от покупки лицензии.");
    }
    if(PlayerInfo[playerid][pSINVSeller] != INVALID_PLAYER_ID)
	{
		new scdplayerid = PlayerInfo[playerid][pSINVSeller];
	    SendMes(playerid, COLOR_DARKORANGE, "Вы отказались от взятия предмета.");
		PlayerInfo[playerid][pSINVSeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSINVSIDx] = 0;
		PlayerInfo[playerid][pSINVPrice] = 0;
		PlayerInfo[playerid][pSINVNumber] = 0;
		PlayerInfo[playerid][pSINVNumberIDx] = 0;
        SendMes(scdplayerid, COLOR_DARKORANGE, "Игрок отказался от взятия предмета.");
    }
	/*if(PlayerInfo[playerid][pSINVSeller] != INVALID_PLAYER_ID)
	{
		new scdplayerid = PlayerInfo[playerid][pSINVSeller];
	    SendMes(playerid, COLOR_DARKORANGE, "Вы отказались от покупки предмета.");
		PlayerInfo[playerid][pSINVSeller] = INVALID_PLAYER_ID;
		PlayerInfo[playerid][pSINVSIDx] = 0;
		PlayerInfo[playerid][pSINVPrice] = 0;
		PlayerInfo[playerid][pSINVNumber] = 0;
		PlayerInfo[playerid][pSINVNumberIDx] = 0;
        SendMes(scdplayerid, COLOR_DARKORANGE, "Игрок отказался от покупки предмета.");
    }*/
	if(GetPVarInt(playerid, "OfferHi") == 1)
	{
		DeletePVar(playerid, "OfferHi");
		SendMes(playerid, COLOR_MAIN, "Вы отказались от предложения.");
		SendMes(GetPVarInt(playerid, "OffeeHi"), COLOR_MAIN, "Игрок отказался от предложения.");
		DeletePVar(playerid, "OffeeHi");
	}
	if(GetPVarInt(playerid, "OfferKiss") == 1)
	{
		DeletePVar(playerid, "OfferKiss");
		SendMes(playerid, COLOR_MAIN, "Вы отказались от предложения.");
		SendMes(GetPVarInt(playerid, "OffeeKiss"), COLOR_MAIN, "Игрок отказался от предложения.");
		DeletePVar(playerid, "OffeeKiss");
	}
	if(GetPVarInt(playerid, "OfferCarpass") == 1)
	{
		DeletePVar(playerid, "OfferCarpass");
		SendMes(playerid, COLOR_MAIN, "Вы отказались от предложения.");
		SendMes(GetPVarInt(playerid, "OffeeCarpass"), COLOR_MAIN, "Игрок отказался от предложения.");
		DeletePVar(playerid, "OffeeCarpass");
	}
	if(GetPVarInt(playerid, "OfferTune") == 1)
	{
		DeletePVar(playerid, "OfferTune");
		SendMes(playerid, COLOR_MAIN, "Вы отказались от предложения.");
		DeletePVar(playerid, "ServiceUse");
		SendMes(GetPVarInt(playerid, "OffeeTune"), COLOR_MAIN, "Игрок отказался от предложения.");
		DeletePVar(playerid, "OffeeTune");
	}
	if(GetPVarInt(playerid, "OfferCertificate") == 1)
	{
		DeletePVar(playerid, "OfferCertificate");
		SendMes(playerid, COLOR_MAIN, "Вы отказались от предложения.");
		SendMes(GetPVarInt(playerid, "OffeeCertificate"), COLOR_MAIN, "Игрок отказался от предложения.");
		DeletePVar(playerid, "OffeeCertificate");
	}
	if(GetPVarInt(playerid, "OfferPass") == 1)
	{
		DeletePVar(playerid, "OfferPass");
		SendMes(playerid, COLOR_MAIN, "Вы отказались от предложения.");
		SendMes(GetPVarInt(playerid, "OffeePass"), COLOR_MAIN, "Игрок отказался от предложения.");
		DeletePVar(playerid, "OffeePass");
	}
	if(GetPVarInt(playerid, "OfferLicenses") == 1)
	{
		DeletePVar(playerid, "OfferLicenses");
		SendMes(playerid, COLOR_MAIN, "Вы отказались от предложения.");
		SendMes(GetPVarInt(playerid, "OffeeLicenses"), COLOR_MAIN, "Игрок отказался от предложения.");
		DeletePVar(playerid, "OffeeLicenses");
	}
	/*if(GetPVarInt(playerid, "OfferSkill") == 1)
	{
		DeletePVar(playerid, "OfferSkill");
		SendMes(playerid, COLOR_MAIN, "Вы отказались от предложения.");
		SendMes(GetPVarInt(playerid, "OffeeSkill"), COLOR_MAIN, "Игрок отказался от предложения.");
		DeletePVar(playerid, "OffeeSkill");
	}*/
	if(GetPVarInt(playerid, "OfferMC") == 1)
	{
		DeletePVar(playerid, "OfferMC");
		SendMes(playerid, COLOR_MAIN, "Вы отказались от предложения.");
		SendMes(GetPVarInt(playerid, "OffeeMC"), COLOR_MAIN, "Игрок отказался от предложения.");
		DeletePVar(playerid, "OffeeMC");
	}
	if(GetPVarInt(playerid, "OfferMY") == 1)
	{
		DeletePVar(playerid, "OfferMY");
		SendMes(playerid, COLOR_MAIN, "Вы отказались от предложения.");
		SendMes(GetPVarInt(playerid, "OffeeMY"), COLOR_MAIN, "Игрок отказался от предложения.");
		DeletePVar(playerid, "OffeeMY");
	}
	if(GetPVarInt(playerid, "OfferSex") == 1)
	{
		DeletePVar(playerid, "OfferSex");
		SendMes(playerid, COLOR_MAIN, "Вы отказались от предложения.");
		SendMes(GetPVarInt(playerid, "OffeeSex"), COLOR_MAIN, "Игрок отказался от предложения.");
		DeletePVar(playerid, "OffeeSex");
	}
	if(OfferDuel[playerid] == true)
	{
	    OfferDuel[playerid] = false;
		SendMes(playerid, COLOR_MAIN, "Вы отказались от предложения.");
		SendMes(OffeeDuel[playerid], COLOR_MAIN, "Игрок отказался от предложения.");
		OffeeDuel[playerid] = INVALID_PLAYER_ID;
		OffeeCash[playerid] = 0;
		OffeeWeaponid[playerid] = 0;
	}
	if(FishStart[playerid] == 1 && FishTimer[playerid] != 0 && FishPress[playerid] == 2) StopFish(playerid, 5);
	if(GetPVarInt(playerid, "CasinoOffered") != -1)
	{
	    new scdplayerid = GetPVarInt(playerid, "CasinoOffered");
	    if(GetPVarInt(scdplayerid, "CasinoOffer") != playerid) return SendMes(playerid, COLOR_DARKORANGE, "Кто-то из Вас уже отозвал свое предложение.");
	    if(GetPVarInt(playerid, "CasinoOffered") != scdplayerid) return SendMes(playerid, COLOR_DARKORANGE, "Кто-то из Вас уже отозвал свое предложение.");
	    SendMes(playerid, COLOR_MAIN, "Вы отказались от предложения сыграть в кости.");
	    SendMes(scdplayerid, COLOR_MAIN, "Игрок отказался сыграть с Вами в кости.");
		SetPVarInt(playerid, "CasinoOffered", -1), DeletePVar(playerid, "CasinoRate");
		SetPVarInt(scdplayerid, "CasinoOffer", -1), DeletePVar(scdplayerid, "CasinoRate");
	}
	return 1;
}
CMD:faq(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	SPD(playerid, did_faq, DSL, "{"#DC_MAIN"}Подсказки", "\
	{"#DC_MAIN"}1.{"#DC_WHITE"} Что же такое SA-MP?\n\
	{"#DC_MAIN"}2.{"#DC_WHITE"} Почему Luxury RP - самый крутой проект?\n\
	{"#DC_MAIN"}3.{"#DC_WHITE"} Что такое RolePlay?\n\
	{"#DC_MAIN"}4.{"#DC_WHITE"} Что такое lvl, exp и прочее?\n\
	{"#DC_MAIN"}5.{"#DC_WHITE"} Зачем нужны сайт, форум и прочие ресурсы проекта?\n\
	{"#DC_MAIN"}6.{"#DC_WHITE"} Как правильно начать игру и играть дальше?\n\
	{"#DC_MAIN"}7.{"#DC_WHITE"} Как получить помощь в игре?\n\
	{"#DC_MAIN"}8.{"#DC_WHITE"} Как обновить внешний вид персонажа?\n\
	{"#DC_MAIN"}9.{"#DC_WHITE"} Различия фракций и общественных работ\n\
	{"#DC_MAIN"}10.{"#DC_WHITE"} О читах и анти-чите\n\
	{"#DC_MAIN"}11.{"#DC_WHITE"} О нормативах наказаний\n\
	{"#DC_MAIN"}12.{"#DC_WHITE"} Кто такие лидеры и администраторы?\n\
	{"#DC_MAIN"}13.{"#DC_WHITE"} Развлечения на сервере", "Далее", "Отмена");
	return 1;
}
CMD:car(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pVehicle] != 0)
	{
	    SPD(playerid, did_car, DSL, "{"#DC_MAIN"}Личный транспорт", "{"#DC_MAIN"}1.{"#DC_WHITE"} Информация\n{"#DC_MAIN"}2.{"#DC_WHITE"} Двери\n{"#DC_MAIN"}3.{"#DC_WHITE"} Припарковать транспорт\n{"#DC_MAIN"}4.{"#DC_WHITE"} Продать транспорт\n{"#DC_MAIN"}5.{"#DC_WHITE"} Эвакуировать транспорт\n{"#DC_MAIN"}6.{"#DC_WHITE"} Найти транспорт на GPS навигаторе\n{"#DC_MAIN"}7.{"#DC_WHITE"} Выгрузить транспорт", "Далее", "Отмена");
	}
	else
	{
		mysql_format(mysql, request, sizeof(request), "SELECT * FROM `"TABLE_VEHICLE"` WHERE `owner` = '%e' AND `fraction` = '0'", PlayerInfo[playerid][pName]);
		mysql_tquery(mysql, request, "OnPlayerListVehicle", "d", playerid);
	}
	return 1;
}
CMD:atm(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	for(new i = 1; i <= TOTALATM; i++)
	{
		if(IsAPPos(playerid, 2.5, ATMInfo[i][aX], ATMInfo[i][aY], ATMInfo[i][aZ]))
		{
			SetTimerEx("OnPlayerShowATMList", 140, false, "i", playerid);
			new Float:x, Float:y, Float:z;
			GetPlayerPos(playerid, x, y, z);
			SetPlayerPos(playerid, x, y, z);
			return 1;
		}
	}
	SendMes(playerid, COLOR_DARKORANGE, "Вы далеко от остановки.");
	return 1;
}
CMD:bus(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(GetPVarInt(playerid, "WaitBus")) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже ожидаете автобус.");
	for(new i = 1; i <= TOTALSTOP; i++)
	{
	    if(GetPVarInt(playerid, "WaitBus")) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже ожидаете автобус.");
		if(IsAPPos(playerid, 7.5, STOPInfo[i][sX], STOPInfo[i][sY], STOPInfo[i][sZ]))
		{
			SPD(playerid, did_bus, DSL, "{"#DC_MAIN"}Остановка", "\
			{"#DC_MAIN"}1.{"#DC_WHITE"} Важные места\n\
			{"#DC_MAIN"}2.{"#DC_WHITE"} По работе\n\
			{"#DC_MAIN"}3.{"#DC_WHITE"} Автосалоны\n\
			{"#DC_MAIN"}4.{"#DC_WHITE"} Фермы\n\
			{"#DC_MAIN"}5.{"#DC_WHITE"} Отели\n\
			{"#DC_MAIN"}6.{"#DC_WHITE"} СТО\n\
			{"#DC_MAIN"}7.{"#DC_WHITE"} Базы организаций\n\
			{"#DC_MAIN"}8.{"#DC_WHITE"} Развлечения", "Далее", "Отмена");
			SetPVarInt(playerid, "SVWONE", i);
			return 1;
		}
	}
	SendMes(playerid, COLOR_DARKORANGE, "Вы далеко от остановки.");
	return 1;
}
CMD:viphelp(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}VIP", "{"#DC_WHITE"}\
	\t[ VIP {"#DC_BRONZE"}Bronze{"#DC_WHITE"} ]:\n\n\
	- {"#DC_MAIN"}/togphone{"#DC_WHITE"} - включить/выключить телефон\n\
	- Срок бана/варна снижается на {"#DC_MAIN"}10{"#DC_WHITE"} процентов от выданного количества\n\
	- Звёзды розыска пропадают в {"#DC_MAIN"}2{"#DC_WHITE"} раза быстрее\n\
	- Шанс заболевания болезнями снижается на {"#DC_MAIN"}10{"#DC_WHITE"} процентов\n\n\
	\t[ VIP {"#DC_SILVER"}Silver{"#DC_WHITE"} ]:\n\n\
	- {"#DC_MAIN"}/togphone{"#DC_WHITE"} - включить/выключить телефон\n\
	- {"#DC_MAIN"}/admins{"#DC_WHITE"} - список администрации\n\
	- Срок бана/варна снижается на {"#DC_MAIN"}20{"#DC_WHITE"} процентов от выданного количества\n\
	- Звёзды розыска пропадают в {"#DC_MAIN"}2{"#DC_WHITE"} раза быстрее\n\
	- Шанс заболевания болезнями снижается на {"#DC_MAIN"}20{"#DC_WHITE"} процентов\n\
	- Навыки на работах ({"#DC_MAIN"}/mn > Навыки персонажа{"#DC_WHITE"}) прокачиваются в {"#DC_MAIN"}2{"#DC_WHITE"} раза быстрее\n\
	- Возможность иметь до {"#DC_MAIN"}5{"#DC_WHITE"} транспортных средств\n\n\
	\t[ VIP {"#DC_GOLD"}Gold{"#DC_WHITE"} ]:\n\n\
	- {"#DC_MAIN"}/togphone{"#DC_WHITE"} - включить/выключить телефон\n\
	- {"#DC_MAIN"}/admins{"#DC_WHITE"} - список администрации\n\
	- {"#DC_MAIN"}/vipuninvite{"#DC_WHITE"} - покинуть организацию по собственному желанию\n\
	- Срок бана/варна снижается на {"#DC_MAIN"}30{"#DC_WHITE"} процентов от выданного количества\n\
	- Звёзды розыска пропадают в {"#DC_MAIN"}2{"#DC_WHITE"} раза быстрее\n\
	- Здоровье при голоде отнимается в {"#DC_MAIN"}2{"#DC_WHITE"} раза медленнее\n\
	- Шанс заболевания болезнями снижается на {"#DC_MAIN"}30{"#DC_WHITE"} процентов\n\
	- Навыки на работах ({"#DC_MAIN"}/mn > Навыки персонажа{"#DC_WHITE"}) прокачиваются в {"#DC_MAIN"}3{"#DC_WHITE"} раза быстрее\n\
	- Возможность иметь до {"#DC_MAIN"}10{"#DC_WHITE"} транспортных средств", "Отмена", "");
	/*- Навыки владения оружием прокачиваются в {"#DC_MAIN"}2{"#DC_WHITE"} раза быстрее\n\*/
	return 1;
}
CMD:togphone(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pPhone] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не владеете телефоном.");
	if(PlayerInfo[playerid][pVIP] < 1 && PlayerInfo[playerid][pAdmin] == 0 && AdminLogged[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы не владеете VIP BRONZE.");
	if(Phone[playerid] == true)
	{
		Phone[playerid] = false;
		SendMes(playerid, COLOR_MAIN, "Вы выключили телефон.");
	}
	else
	{
		SendMes(playerid, COLOR_MAIN, "Вы включили телефон.");
		Phone[playerid] = true;
	}
	return 1;
}
CMD:admins(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pVIP] < 2 && PlayerInfo[playerid][pAdmin] == 0 && AdminLogged[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы не владеете VIP SILVER.");
	SendMes(playerid, COLOR_YELLOW, "Администрация в сети:");
	new total = 0;
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0) continue;
		if(PlayerInfo[i][pAdmin] > 0)
		{
			total++;
			if(GetPVarInt(i, "AFK_Time") > 3)
			{
				if(SpectatePlayer[i] != -1 && SpectatePlayer[i] != 65535 && PlayerInfo[playerid][pAdmin] != 0) format(strings, sizeof(strings), "%s [%d] - [%s] - (%d уровень) - [/re %d] [AFK: %s]\n", PlayerInfo[i][pName], i, (AdminLogged[i] == false) ? ("{"#DC_RED"}Неавторизован{"#DC_LYELLOW"}") : ("{"#DC_GREEN"}Авторизован{"#DC_LYELLOW"}"), PlayerInfo[i][pAdmin], SpectatePlayer[i], Convert(GetPVarInt(i, "AFK_Time")));
				else format(strings, sizeof(strings), "%s [%d] - [%s] - (%d уровень) [AFK: %s]\n", PlayerInfo[i][pName], i, (AdminLogged[i] == false) ? ("{"#DC_RED"}Неавторизован{"#DC_LYELLOW"}") : ("{"#DC_GREEN"}Авторизован{"#DC_LYELLOW"}"), PlayerInfo[i][pAdmin], Convert(GetPVarInt(i, "AFK_Time")));
			}
			else
			{
				if(SpectatePlayer[i] != -1 && SpectatePlayer[i] != 65535 && PlayerInfo[playerid][pAdmin] != 0) format(strings, sizeof(strings), "%s [%d] - [%s] - (%d уровень) - [/re %d]\n", PlayerInfo[i][pName], i, (AdminLogged[i] == false) ? ("{"#DC_RED"}Неавторизован{"#DC_LYELLOW"}") : ("{"#DC_GREEN"}Авторизован{"#DC_LYELLOW"}"), PlayerInfo[i][pAdmin], SpectatePlayer[i]);
				else format(strings, sizeof(strings), "%s [%d] - [%s] - (%d уровень)\n", PlayerInfo[i][pName], i, (AdminLogged[i] == false) ? ("{"#DC_RED"}Неавторизован{"#DC_LYELLOW"}") : ("{"#DC_GREEN"}Авторизован{"#DC_LYELLOW"}"), PlayerInfo[i][pAdmin]);
			}
			SendMes(playerid, COLOR_LYELLOW, strings);
		}
	}
	if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент администраторов нет в сети.");
	return 1;
}
CMD:vipuninvite(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pVIP] < 3 && PlayerInfo[playerid][pAdmin] == 0 && AdminLogged[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы не владеете VIP GOLD.");
	if(PlayerInfo[playerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в организации.");
	if(PlayerInfo[playerid][pLeader] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы являетесь лидером организации.");
	SPD(playerid, did_leave, DSM, "{"#DC_MAIN"}Увольнение", "{"#DC_WHITE"}Вы действительно хотите покинуть организацию?", "Да", "Нет");
	return 1;
}
CMD:donate(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(GetPVarInt(playerid, "UpdateDonate") > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Нельзя использовать команду так часто, попробуйте немного позже.");
	SetPVarInt(playerid, "UpdateDonate", gettime() + 15);
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `id` = '%d' LIMIT 1", PlayerInfo[playerid][pID]);
	mysql_tquery(mysql, request, "OnPlayerUpdateDonate", "d", playerid);
	return 1;
}
CMD:id(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(sscanf(params, "s[32]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /id [ник-нейм игрока]");
	if(strlen(params[0]) > 32 || strlen(params[0]) < 3) return SendMes(playerid, COLOR_DARKORANGE, "Для поиска игрока нужно ввести минимум 3 символа.");
	new findplayer = 0;
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0) continue;
		if(strfind(PlayerInfo[i][pName], params[0], true) != -1)
		{
			findplayer++;
			if(GetPVarInt(i, "AFK_Time") > 3)
			{
				format(strings, sizeof(strings), "ID (%d) - %s - [AFK: %s]", i, PlayerInfo[i][pName], Convert(GetPVarInt(i, "AFK_Time")));
			}
			else format(strings, sizeof(strings), "ID (%d) - %s", i, PlayerInfo[i][pName]);
			SendMes(playerid, COLOR_WHITE, strings);
		}
	}
	if(!findplayer) return SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
	return 1;
}
/*CMD:supports(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	SendMes(playerid, COLOR_YELLOW, "Помощники в сети:");
	new total = 0;
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0) continue;
		if(PlayerInfo[i][pSupport] > 0)
		{
			total++;
			if(GetPVarInt(i, "AFK_Time") > 3)
			{
				format(strings, sizeof(strings), "%s [%d] - [%s] [AFK: %s]\n", PlayerInfo[i][pName], i, (SupportLogged[i] == false) ? ("{"#DC_RED"}Неавторизован{"#DC_LYELLOW"}") : ("{"#DC_GREEN"}Авторизован{"#DC_LYELLOW"}"), Convert(GetPVarInt(i, "AFK_Time")));
			}
			else
			{
				format(strings, sizeof(strings), "%s [%d] - [%s]\n", PlayerInfo[i][pName], i, (SupportLogged[i] == false) ? ("{"#DC_RED"}Неавторизован{"#DC_LYELLOW"}") : ("{"#DC_GREEN"}Авторизован{"#DC_LYELLOW"}"));
			}
			SendMes(playerid, COLOR_LYELLOW, strings);
		}
	}
	if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент помощников нет в сети.");
	return 1;
}*/
CMD:c(playerid, params[]) return cmd_call(playerid, params);
CMD:call(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
	if(Phone[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "У Вас выключен телефон.");
	if(Mobile[playerid] != -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже разговариваете по телефону.");
	if(PlayerInfo[playerid][pPhone] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не владеете телефоном.");
	if(sscanf(params, "i", params[0])) return SPD(playerid, did_call, DSL, "{"#DC_MAIN"}Сервис", "{"#DC_MAIN"}1.{"#DC_WHITE"} Вызвать механика\n{"#DC_MAIN"}2.{"#DC_WHITE"} Вызвать такси\n{"#DC_MAIN"}3.{"#DC_WHITE"} Вызвать мед. помощь\n{"#DC_MAIN"}4.{"#DC_WHITE"} Вызвать полицию", "Далее", "Отмена");
	if(params[0] < 0 || params[0] > 9999999) return SendMes(playerid, COLOR_DARKORANGE, "Неверный номер телефона.");
	if(params[0] == PlayerInfo[playerid][pPhoneNumber]) return SendMes(playerid, COLOR_DARKORANGE, "Ты не можешь позвонить самому себе.");
	if(PlayerInfo[playerid][pPhoneBalance] < 100) return SendMes(playerid, COLOR_DARKORANGE, "У Вас недостаточно средств на мобильном счете.");
	new total;
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0) continue;
		if(params[0] == PlayerInfo[i][pPhoneNumber])
		{
		    if(Phone[i] == false) return SendMes(playerid, COLOR_DARKORANGE, "Телефон в не зоне доступа.");
			if(Mobile[i] != -1) return SendMes(playerid, COLOR_DARKORANGE, "Этот номер занят, перезвоните позже.");
			if(PlayerInfo[i][pMute]) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент, абонент не может ответить на Ваш звонок.");
			Mobile[playerid] = i;
			SendMes(i, COLOR_MAIN, "Вас вызывает {"#DC_WHITE"}%s.{"#DC_MAIN"} Чтобы ответить, введите: {"#DC_WHITE"}/P", PlayerInfo[playerid][pName]);
			format(strings, sizeof(strings), "У %s звонит мобильный телефон.", PlayerInfo[i][pName]);
			SRM(i, 10.0, COLOR_LPURPLE, strings);
			PlayerPlaySound(playerid, 1057, 0.0, 0.0, 0.0);
			SendMes(playerid, COLOR_MAIN, "Чтобы повесить трубку, введите: {"#DC_WHITE"}/H");
			if(!IsPlayerInAnyVehicle(playerid)) SetPlayerSpecialAction(playerid, 11);
			CellTime[playerid] = 0;
			total++;
			break;
		}
	}
	if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Извините, данный номер не существует.");
	return 1;
}
CMD:p(playerid, params[])return cmd_pickup(playerid, params);
CMD:pickup(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(Mobile[playerid] != -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже разговариваете по телефону.");
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0) continue;
		if(Mobile[i] == playerid)
		{
			Mobile[playerid] = i;
			SendMes(i, COLOR_WHITE, "%s{"#DC_MAIN"} поднял(-а) трубку мобильного", PlayerInfo[playerid][pName]);
			format(strings, sizeof(strings), "%s ответил(-а) на звонок", PlayerInfo[playerid][pName]);
			SRM(playerid, 10.0, COLOR_LPURPLE, strings);
			if(!IsPlayerInAnyVehicle(playerid)) SetPlayerSpecialAction(playerid, SPECIAL_ACTION_USECELLPHONE);
			return 1;
		}
	}
	return 1;
}
CMD:h(playerid, params[])return cmd_hangup(playerid, params);
CMD:hangup(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(Mobile[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не разговариваете по телефону.");
	new caller = Mobile[playerid];
	SendMes(caller, COLOR_MAIN, "Абонент положил трубку.");
	SetPlayerSpecialAction(caller, SPECIAL_ACTION_STOPUSECELLPHONE);
	CellTime[caller] = -1;
	CellTime[playerid] = -1;
	Mobile[caller] = -1;
	SendMes(playerid,  COLOR_MAIN, "Вы положили трубку.");
	Mobile[playerid] = -1;
	SetPlayerSpecialAction(playerid, SPECIAL_ACTION_STOPUSECELLPHONE);
	DeletePVar(playerid, "CallTime");
	DeletePVar(caller, "CallTime");
	return 1;
}
CMD:sms(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	new scdplayerid = 1000;
	if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
	if(Phone[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "У Вас выключен телефон.");
	if(PlayerInfo[playerid][pPhone] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не владеете телефоном.");
	if(sscanf(params, "is[64]", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /sms [номер телефона] [текст]");
	if(params[0] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Номер должен состоять не менее чем из 1-ого символа.");
	else if(params[1] < 2) return SendMes(playerid, COLOR_DARKORANGE, "Сообщение должно содержать не менее 2-х символов.");
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0) continue;
		if(PlayerInfo[i][pPhoneNumber] == params[0])
		{
			scdplayerid = i;
			break;
		}
	}
	if(scdplayerid == 1000) return SendMes(playerid, COLOR_DARKORANGE, "Данный номер не доступен.");
	if(!IsPlayerConnected(scdplayerid)) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[scdplayerid] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pPhoneBalance] < 50) return SendMes(playerid, COLOR_DARKORANGE, "На счете мобильного телефона нет столько денег.");
	if(Phone[scdplayerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "У данного игрока выключен телефон.");
	if(PlayerInfo[scdplayerid][pMute]) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент, абонент не может ответить на Ваше сообщение.");
	if(AdvertisingCheck(params[1])) return AdvertisingPunishment(playerid, params[0], 1);
	PlayerInfo[playerid][pPhoneBalance] -= 50;
	PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
	format(strings, sizeof(strings), "SMS к %s, тел. %d: %s", PlayerInfo[scdplayerid][pName], PlayerInfo[scdplayerid][pPhoneNumber], params[1]);
	SendMes(playerid, COLOR_YELLOW, strings);
	PlayerPlaySound(scdplayerid, 1052, 0.0, 0.0, 0.0);
	format(strings, sizeof(strings), "SMS от %s, тел. %d: %s", PlayerInfo[playerid][pName], PlayerInfo[playerid][pPhoneNumber], params[1]);
	SendMes(scdplayerid, COLOR_YELLOW, strings);
	SendMes(playerid, COLOR_MAIN, "Ваше сообщение доставлено.");
	format(strings, sizeof(strings), "%s достал(-а) мобильный телефон", PlayerInfo[playerid][pName]);
	SPM(playerid, strings);
	// Отслеживание SMS;
	new smslstring[168];
	foreach(new i:Player)
 	{
		if(GetPVarInt(i, "ReadSms") != 1) continue;
		format(smslstring, sizeof(smslstring), "SMS: %s. От: %s [%d] К: %s [%d]", params[1], PlayerInfo[playerid][pName], playerid, PlayerInfo[scdplayerid][pName], scdplayerid);
		SendMes(i, COLOR_YELLOW, smslstring);
	}
	return 1;
}
CMD:number(playerid, params[]) return cmd_phone(playerid, params);
CMD:phone(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pPhoneBook] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет телефонной книжки.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /phone [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pPhone] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У игрока нет телефона.");
	format(strings, sizeof(strings), "%s - Телефон: %d", PlayerInfo[params[0]][pName], PlayerInfo[params[0]][pPhoneNumber]);
	SendMes(playerid, COLOR_WHITE, strings);
	return 1;
}
CMD:sellsim(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] > 1 && PlayerInfo[playerid][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "Вы администратор, действие невозможно.");
	if(PlayerInfo[playerid][pLevel] < 5) return SendMes(playerid, COLOR_DARKORANGE, "Продавать сим-карты можно с 5-ого уровня.");
	if(GetPVarInt(playerid, "UseBiz") == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не в бизнесе.");
	if(BizInfo[GetPVarInt(playerid, "UseBiz")][bType] != 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в магазине 24/7.");
	if(GetPlayerVirtualWorld(playerid) != BizInfo[GetPVarInt(playerid, "UseBiz")][bWorld]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не в бизнесе.");
 	if(PlayerInfo[playerid][pPhoneNumber] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет номера телефона.");
	if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /sellsim [id игрока] [стоимость]");
	if(params[1] < 1 || params[1] > 10000000) return SendMes(playerid, COLOR_DARKORANGE, "Стоимость номера телефона должна быть от $1 до $10000000.");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете продать себе номер.");
    if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
	if(PlayerInfo[params[0]][pLevel] < 5) return SendMes(playerid, COLOR_DARKORANGE, "Игрок должен быть 5-ого уровня и выше.");
	if(CheckSentence(params[0]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
	format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} купить номер телефона {"#DC_WHITE"}%d{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[params[0]][pName], PlayerInfo[playerid][pPhoneNumber], params[1]);
	SendMes(playerid, COLOR_MAIN, strings);
	format(strings, sizeof(strings), "%s{"#DC_MAIN"} предложил Вам купить его номер {"#DC_WHITE"}%d{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], PlayerInfo[playerid][pPhoneNumber], params[1]);
	SendMes(params[0], COLOR_WHITE, strings);
	SendMes(params[0], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
	PlayerInfo[params[0]][pSSIMSeller] = playerid;
	PlayerInfo[params[0]][pSSIMSIDx] = PlayerInfo[playerid][pID];
	PlayerInfo[params[0]][pSSIMPrice] = params[1];
	PlayerInfo[params[0]][pSSIMNumber] = PlayerInfo[playerid][pPhoneNumber];
	return 1;
}
CMD:dir(playerid, params[]) return cmd_directory(playerid, params);
CMD:directory(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pPhoneBook] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет телефонной книжки.");
	SPD(playerid, did_directory, DSL, "{"#DC_MAIN"}Телефонная книжка", "{"#DC_MAIN"}1.{"#DC_WHITE"} Лицензёры\n{"#DC_MAIN"}2.{"#DC_WHITE"} Адвокаты\n{"#DC_MAIN"}3.{"#DC_WHITE"} Медики\n{"#DC_MAIN"}4.{"#DC_WHITE"} Таксисты\n{"#DC_MAIN"}5.{"#DC_WHITE"} Механики", "Далее", "Отмена");
	return 1;
}
CMD:pay(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(sscanf(params, "ui", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /pay [id игрока] [сумма]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pLevel] < 3) return SendMes(playerid, COLOR_DARKORANGE, "Чтобы передавать деньги, необходимо иметь не менее 3 уровня.");
	if(params[1] < 1 || params[1] > 10000) return SendMes(playerid, COLOR_DARKORANGE, "Укажите количество денег от $1 до $10000.");
	if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
	if(params[1] > GetMoney(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
	if(PlayerInfo[playerid][pPayLimit] + params[1] > MAX_PAY_LIMIT) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете передать больше $%d.", MAX_PAY_LIMIT-PlayerInfo[playerid][pPayLimit]);
	PlayerInfo[playerid][pPayLimit] += params[1];
	SetPlayerInt(PlayerInfo[playerid][pID], "paylimit", PlayerInfo[playerid][pPayLimit]);
	ServerMoney(playerid, "Передал игроку", -params[1], 0);
	ServerMoney(params[0], "Получил от игрока", params[1], 0);
	format(strings, sizeof(strings), "Вы передали {"#DC_WHITE"}%s $%d.{"#DC_MAIN"} За сегодня Вы можете передать еще {"#DC_WHITE"}$%d.", PlayerInfo[params[0]][pName], params[1], MAX_PAY_LIMIT-PlayerInfo[playerid][pPayLimit]);
	SendMes(playerid, COLOR_MAIN, strings);
	format(strings, sizeof(strings), "%s{"#DC_MAIN"} передал(-а) вам $%d.", PlayerInfo[playerid][pName], params[1]);
	SendMes(params[0], COLOR_WHITE, strings);
	format(strings, sizeof(strings), "%s передал(-а) {"#DC_GREEN"}$%d{"#DC_LPURPLE"} %s", PlayerInfo[playerid][pName], params[1], PlayerInfo[params[0]][pName]);
	SRM(playerid, 5.0, COLOR_LPURPLE, strings);
	ApplyAnimation(playerid, "DEALER", "shop_pay", 4.1, 0, 0, 0, 0, 0);
	PlayerPlaySound(playerid, 1052, 0.0, 0.0, 0.0);
	PlayerPlaySound(params[0], 1052, 0.0, 0.0, 0.0);
	format(strings, sizeof(strings), "Игрок %s передал игроку %s деньги: %d", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName], params[1]);
	WriteLog("logs_pay", strings);
	return 1;
}
CMD:hi(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /hi [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(!IsPlayerInRangeOfPlayer(2.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
	if(CheckSentence(params[0]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
	SendMes(playerid, COLOR_MAIN, "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} пожать руку.", PlayerInfo[params[0]][pName]);
	SendMes(params[0], COLOR_WHITE, "%s{"#DC_MAIN"} предложил пожать Вам руку.", PlayerInfo[playerid][pName]);
	SendMes(params[0], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
	SetPVarInt(params[0], "OfferHi", true);
	SetPVarInt(params[0], "OffeeHi", playerid);
	return 1;
}
CMD:kiss(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /kiss [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(!IsPlayerInRangeOfPlayer(2.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
	if(PlayerInfo[playerid][pSex] == PlayerInfo[params[0]][pSex]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете поцеловать человека того-же пола.");
	if(CheckSentence(params[0]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
	SendMes(playerid, COLOR_MAIN, "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} поцеловаться.", PlayerInfo[params[0]][pName]);
	SendMes(params[0], COLOR_WHITE, "%s{"#DC_MAIN"} предложил Вам поцеловаться.", PlayerInfo[playerid][pName]);
	SendMes(params[0], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
	SetPVarInt(params[0], "OfferKiss", true);
	SetPVarInt(params[0], "OffeeKiss", playerid);
	return 1;
}
CMD:sex(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /sex [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(!IsPlayerInRangeOfPlayer(3.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
 	if(IsPlayerInAnyVehicle(playerid) || IsPlayerInAnyVehicle(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Вы или игрок в транспортном средстве.");
	if(PlayerInfo[playerid][pSex] == PlayerInfo[params[0]][pSex]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете предложить заняться сексом человеку того-же пола.");
	if(CheckSentence(params[0]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
	SendMes(playerid, COLOR_MAIN, "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} заняться сексом.", PlayerInfo[params[0]][pName]);
	SendMes(params[0], COLOR_WHITE, "%s{"#DC_MAIN"} предложил Вам заняться сексом.", PlayerInfo[playerid][pName]);
	SendMes(params[0], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
	SetPVarInt(params[0], "OfferSex", true);
	SetPVarInt(params[0], "OffeeSex", playerid);
	return 1;
}
CMD:married(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(!IsAPPos(playerid, 7.5, -1989.2498,1117.8887,54.4688)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться возле церкви.");
    if(strcmp(PlayerInfo[playerid][pMarried], "None", true)) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть пара.");
	if(GetMoney(playerid) < MARRIED_PRICE) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /married [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
	if(PlayerInfo[playerid][pSex] == PlayerInfo[params[0]][pSex]) return SendMes(playerid, COLOR_DARKORANGE, "В нашем штате запрещены однополые браки.");
	if(PlayerInfo[playerid][pSex] == 1)
	{
		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_PINK"}%s {"#DC_WHITE"}предлагает Вам выйти за него замуж.\n\nВы согласны?", PlayerInfo[playerid][pName]);
		SPD(params[0], did_married, DSM, "{"#DC_MAIN"}Свадьба", totalstring, "Да", "Нет");
		SendMes(playerid, COLOR_MAIN, "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} выйти за Вас замуж.", PlayerInfo[params[0]][pName]);
	}
	else
	{
		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_PINK"}%s {"#DC_WHITE"}предлагает Вам жениться.\n\nВы согласны?", PlayerInfo[playerid][pName]);
		SPD(params[0], did_married, DSM, "{"#DC_MAIN"}Свадьба", totalstring, "Да", "Нет");
		SendMes(playerid, COLOR_MAIN, "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} жениться на Вас.", PlayerInfo[params[0]][pName]);
	}
	SetPVarInt(params[0], "MarriedID", playerid);
	return 1;
}
CMD:unmarried(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
    if(!strcmp(PlayerInfo[playerid][pMarried], "None", true)) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет пары.");
    new married[32];
    format(married, 32, PlayerInfo[playerid][pMarried]);
   	// Выполняем развод для игрока;
	format(PlayerInfo[playerid][pMarried], 32, "None");
	// Проверяем пару игрока на онлайн;
	new scdplayerid = GetPlayerID(married);
	// Если он онлайн, то выполняем развод и выводим сообщение;
	if(scdplayerid != INVALID_PLAYER_ID)
	{
	    format(PlayerInfo[scdplayerid][pMarried], 32, "None");
		SendMes(scdplayerid, COLOR_WHITE, "%s{"#DC_MAIN"} развел(-ся/-ась) с вами.", PlayerInfo[playerid][pName]);
	}
	// Если же игрок офлайн, отправляем запрос в БД;
	else
	{
		mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_ACCOUNT" SET `married` = 'None' WHERE `name` = '%e' LIMIT 1", married);
		mysql_query(mysql, request, false);
	}
	// Выводим сообщение игроку;
	SendMes(playerid, COLOR_MAIN, "Вы развелись с {"#DC_WHITE"}%s.", married);
	return 1;
}
CMD:time(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	new mtext[20], tdate[32], time[32];
	new year, month, day;
	getdate(year, month, day);
	if(month == 1) { mtext = "Января"; }
	else if(month == 2) { mtext = "Февраля"; }
	else if(month == 3) { mtext = "Марта"; }
	else if(month == 4) { mtext = "Апреля"; }
	else if(month == 5) { mtext = "Мая"; }
	else if(month == 6) { mtext = "Июня"; }
	else if(month == 7) { mtext = "Июля"; }
	else if(month == 8) { mtext = "Августа"; }
	else if(month == 9) { mtext = "Сентября"; }
	else if(month == 10) { mtext = "Октября"; }
	else if(month == 11) { mtext = "Ноября"; }
	else if(month == 12) { mtext = "Декабря"; }
	new hour, minuite, second;
	gettime(hour, minuite, second);
	format(tdate, sizeof(tdate), "%d %s %d г", day, mtext, year);
	if(minuite < 10) format(time, sizeof(time), "%d : 0%d", hour, minuite);
	else format(time, sizeof(time), "%d:%d", hour, minuite);
	bigstring = "";
	format(bigstring, sizeof(bigstring), "{"#DC_WHITE"}\
	Сегодняшняя дата: %s\n\
	День недели: %s\n\
	Текущее время: %s\n\
	Время в игре за час: %d мин\n\
	Время в игре за сегодня: %s\n\
	Время в игре за вчера: %s\n\
	AFK за сегодня: %s\n\
	AFK за вчера: %s", tdate, GetDay(3), time, PlayerInfo[playerid][pTime]/60, ConvertSeconds(PlayerInfo[playerid][pTimeToday]), ConvertSeconds(PlayerInfo[playerid][pTimeYesterday]), ConvertSeconds(PlayerInfo[playerid][pAFKToday]), ConvertSeconds(PlayerInfo[playerid][pAFKYesterday]));
	if((PlayerInfo[playerid][pAdmin] > 0 && AdminLogged[playerid] == true) || (PlayerInfo[playerid][pSupport] > 0 && SupportLogged[playerid] == true))
	{
		totalstring = "";
		format(totalstring, sizeof(totalstring), "\nОтветов: %d", PlayerInfo[playerid][pAdminAnswer]);
		strcat(bigstring, totalstring);
	}
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Время", bigstring, "Отмена", "");
	if(PlayerInfo[playerid][pJailTime] > 0)
	{
		SendMes(playerid, COLOR_MAIN, "Оставшееся время в заключении под стражей: {"#DC_WHITE"}%d{"#DC_MAIN"} сек.", PlayerInfo[playerid][pJailTime]);
	}
 	if(PlayerInfo[playerid][pJailTime] <= 0)
    {
    	format(strings, sizeof(strings), "~y~%d:%02d ~n~~b~%02d-%d-%d", hour, minuite, day, month, year);
	}
	else
	{
	    format(strings, sizeof(strings),"~y~%d:%02d ~n~~b~%02d-%d-%d~n~~w~Jailed: %d", hour, minuite, day, month, year, PlayerInfo[playerid][pJailTime]);
	}
	GameTextForPlayer(playerid, strings, 5000, 1);
	if(!IsPlayerInAnyVehicle(playerid)) ApplyAnimation(playerid, "COP_AMBIENT", "Coplook_watch", 4.1, 0, 0, 0, 0, 0, 1);
	format(strings, sizeof(strings), "%s взглянул(-а) на часы", PlayerInfo[playerid][pName]);
	SPM(playerid, strings);
	return 1;
}
CMD:gps(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(MechCallTime[playerid] > 0 || TaxiCallTime[playerid] > 0 || MedicCallTime[playerid] > 0 || PizzaboyIDx[playerid] != -1 || PostmanIDx[playerid] != -1 || TaxIDx[playerid] != -1 || CollectorIDx[playerid] != -1 || FlowersboyIDx[playerid] != -1 || RoadmanIDx[playerid] || FireIDx[playerid] || TruckStatus[playerid]) return SendMes(playerid, COLOR_DARKORANGE, "В вашем GPS навигаторе уже установлена метка.");
	if(GetPVarInt(playerid, "pGPSWork") == 1)
	{
		SendMes(playerid, COLOR_MAIN, "Вы отключили {"#DC_WHITE"}GPS{"#DC_MAIN"} метку на радаре.");
		DisablePlayerRaceCheckpoint(playerid);
		DestroyObject(GPSObject[playerid]);
		SetPVarInt(playerid, "pGPSWork", 0);
		DeletePVar(playerid, "GPSX");
		DeletePVar(playerid, "GPSY");
		DeletePVar(playerid, "GPSZ");
		DeletePVar(playerid, "GPSID");
	}
	else
	{
		SPD(playerid, did_gps, DSL, "{"#DC_MAIN"}GPS навигация", "\
		{"#DC_MAIN"}1.{"#DC_WHITE"} Важные места\n\
		{"#DC_MAIN"}2.{"#DC_WHITE"} По работе\n\
		{"#DC_MAIN"}3.{"#DC_WHITE"} Автосалоны\n\
		{"#DC_MAIN"}4.{"#DC_WHITE"} Бизнесы\n\
		{"#DC_MAIN"}5.{"#DC_WHITE"} Фермы\n\
		{"#DC_MAIN"}6.{"#DC_WHITE"} Отели\n\
		{"#DC_MAIN"}7.{"#DC_WHITE"} СТО\n\
		{"#DC_MAIN"}8.{"#DC_WHITE"} Базы организаций\n\
		{"#DC_MAIN"}9.{"#DC_WHITE"} Рыбалка\n\
		{"#DC_MAIN"}10.{"#DC_WHITE"} Охота\n\
		{"#DC_MAIN"}11.{"#DC_WHITE"} Развлечения\n\
		{"#DC_MAIN"}12.{"#DC_WHITE"} Для мафий и банд\n\
		{"#DC_MAIN"}13.{"#DC_WHITE"} Поиск поблизости", "Далее", "Отмена");
	}
	return 1;
}
CMD:inv(playerid, params[])
{
    ShowPlayerInventory(playerid);
    return 1;
}
/*CMD:td(playerid, params[])
{
    new Float:x, Float:y;
    if(sscanf(params,"ff", x, y)) return 1;
    SendMes(playerid, COLOR_WHITE, "x %f y %f", x, y);
    TextDrawHideForPlayer(playerid, CraftButton[0]);
    TextDrawTextSize(CraftButton[0], x, y);
    TextDrawShowForPlayer(playerid, CraftButton[0]);
    return 1;
}*/
CMD:craft(playerid, params[])
{
    ShowPlayerCraft(playerid);
    return 1;
}
/*CMD:test(playerid)
{
	if(PlayerInfo[playerid][pTest] == 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже воспользовались пакетом тестера.");
    PlayerInfo[playerid][pLevel] = 10;
    SetPlayerScore(playerid, PlayerInfo[playerid][pLevel]);
    ServerMoney(playerid, "Команда /test", 25000000);
    for(new i = 1; i < 5; i++)
	{
	    PlayerInfo[playerid][pLic][i] = 1;
	}
	PlayerInfo[playerid][pDonateMoney] = 25000;
	PlayerInfo[playerid][pTest] = 1;
	SendMes(playerid, COLOR_WHITE, "Вам выдан 10 LVL, $25000000, лицензии (кроме вод. удостоверения) и 25000 DONATE COINS.");
    return 1;
}*/
/*CMD:test_inventory(playerid)
{
    for(new i = 0; i < sizeof(Inventory); i++)
    {
        PlayerInfo[playerid][pInventoryItems][i] = Inventory[i][InvMax];
        SavePlayerInventoryItems(playerid, i);
    }
    new AccessoriesTest[25] = {127, 134, 140, 141, 142, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 165, 166, 167, 168, 176, 177, 183, 184, 185, 186};
    for(new i = 0; i < MAX_PLAYER_ACCESSORIES; i++)
    {
        PlayerInfo[playerid][pAccessories][i] = AccessoriesTest[i];
        PlayerInfo[playerid][pAccessoriesUse][i] = 0;
    }
    return 1;
}*/
CMD:market(playerid)
{
    if(MarketUse[playerid] == -1) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет арендованной палатки.");
    SPD(playerid, did_market, DSL, "{"#DC_MAIN"}Управление палаткой", "{"#DC_MAIN"}1.{"#DC_WHITE"} Выставить товар\n{"#DC_MAIN"}2.{"#DC_WHITE"} Список товара\n{"#DC_MAIN"}3.{"#DC_WHITE"} Закончить продавать товар", "Далее", "Отмена");
    return 1;
}
CMD:returnmarket(playerid)
{
    if(MarketUse[playerid] != -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы арендуете палатку, откажитесь от аренды и повторите операцию.");
    mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_MARKET" WHERE `m_mysql_id` = '%d'", PlayerInfo[playerid][pID]);
    mysql_tquery(mysql, request, "ReturnPlayerMarketItemsMysql", "d", playerid);
    return 1;
}
CMD:fish(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	ShowFishMenu(playerid);
	return 1;
}
CMD:hunting(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	ShowHuntingMenu(playerid);
	return 1;
}
CMD:jobskill(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	ShowJobSkillMenu(playerid);
	return 1;
}
CMD:quest(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	ShowQuestMenu(playerid);
	return 1;
}
CMD:task(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	ShowTaskMenu(playerid);
	return 1;
}
CMD:achievement(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	ShowAchievementMenu(playerid);
	return 1;
}
CMD:bonus(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	ShowBonusMenu(playerid);
	return 1;
}
CMD:priz(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(GetPVarInt(playerid, "UpdatePriz") > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Нельзя использовать команду так часто, попробуйте немного позже.");
	SetPVarInt(playerid, "UpdatePriz", gettime() + 30);
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ROULETTE" WHERE `userID` = '%d' AND `activated` = 0 LIMIT 50", PlayerInfo[playerid][pID]);
	mysql_tquery(mysql, request, "OnPlayerShowPriz", "d", playerid);
	return 1;
}
CMD:anim(playerid, params[]) return cmd_animlist(playerid, params);
CMD:animlist(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(Freeze[playerid] || GetPVarInt(playerid, "FreezeType") || GetPVarInt(playerid, "CUFFED") || GetPVarInt(playerid, "PlayerCuffed") || IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент Вы не можете воспользоваться этой командой.");
 	if(GetPVarInt(playerid, "UseAnim") == 1)
	{
		StopLoopingAnim(playerid);
	}
	if(!sscanf(params, "d", params[0])) return GivePlayerAnim(playerid, params[0] - 1);
	bigstring = "";
	strcat(bigstring, "{"#DC_MAIN"}1.{"#DC_WHITE"} Танец № 1\n{"#DC_MAIN"}2.{"#DC_WHITE"} Танец № 2\n{"#DC_MAIN"}3.{"#DC_WHITE"} Танец № 3\n{"#DC_MAIN"}4.{"#DC_WHITE"} Танец № 4\n");
	strcat(bigstring, "{"#DC_MAIN"}5.{"#DC_WHITE"} Танец № 5\n{"#DC_MAIN"}6.{"#DC_WHITE"} Танец № 6\n{"#DC_MAIN"}7.{"#DC_WHITE"} Танец № 7\n{"#DC_MAIN"}8.{"#DC_WHITE"} Танец № 8\n");
	strcat(bigstring, "{"#DC_MAIN"}9.{"#DC_WHITE"} Танец № 9\n{"#DC_MAIN"}10.{"#DC_WHITE"} Танец № 10\n{"#DC_MAIN"}11.{"#DC_WHITE"} Руки вверх № 1\n{"#DC_MAIN"}12.{"#DC_WHITE"} Руки вверх № 2\n");
	strcat(bigstring, "{"#DC_MAIN"}13.{"#DC_WHITE"} Курить № 1\n{"#DC_MAIN"}14.{"#DC_WHITE"} Курить № 2\n{"#DC_MAIN"}15.{"#DC_WHITE"} Сесть № 1\n{"#DC_MAIN"}16.{"#DC_WHITE"} Сесть № 2\n");
	strcat(bigstring, "{"#DC_MAIN"}17.{"#DC_WHITE"} Сесть № 3\n{"#DC_MAIN"}18.{"#DC_WHITE"} Сесть № 4\n{"#DC_MAIN"}19.{"#DC_WHITE"} Сесть № 5\n{"#DC_MAIN"}20.{"#DC_WHITE"} Лежать № 1\n");
	strcat(bigstring, "{"#DC_MAIN"}21.{"#DC_WHITE"} Лежать № 2\n{"#DC_MAIN"}22.{"#DC_WHITE"} Лежать № 3\n{"#DC_MAIN"}23.{"#DC_WHITE"} Дилер № 1\n{"#DC_MAIN"}24.{"#DC_WHITE"} Дилер № 2\n");
	strcat(bigstring, "{"#DC_MAIN"}25.{"#DC_WHITE"} Дилер № 3\n{"#DC_MAIN"}26.{"#DC_WHITE"} Дилер № 4\n{"#DC_MAIN"}27.{"#DC_WHITE"} Читать рэп № 1\n{"#DC_MAIN"}28.{"#DC_WHITE"} Читать рэп № 2\n");
	strcat(bigstring, "{"#DC_MAIN"}29.{"#DC_WHITE"} Болельщик № 1\n{"#DC_MAIN"}30.{"#DC_WHITE"} Болельщик № 2\n{"#DC_MAIN"}31.{"#DC_WHITE"} Болельщик № 3\n{"#DC_MAIN"}32.{"#DC_WHITE"} Держать биту № 1\n");
	strcat(bigstring, "{"#DC_MAIN"}33.{"#DC_WHITE"} Держать биту № 2\n{"#DC_MAIN"}34.{"#DC_WHITE"} Гангстерский жест № 1\n{"#DC_MAIN"}35.{"#DC_WHITE"} Гангстерский жест № 2\n{"#DC_MAIN"}36.{"#DC_WHITE"} Гангстерский жест № 3\n");
	strcat(bigstring, "{"#DC_MAIN"}37.{"#DC_WHITE"} Гангстерский жест № 4\n{"#DC_MAIN"}38.{"#DC_WHITE"} Гангстерский жест № 5\n{"#DC_MAIN"}39.{"#DC_WHITE"} Гангстерский жест № 6\n{"#DC_MAIN"}40.{"#DC_WHITE"} Гангстерский жест № 7\n");
	strcat(bigstring, "{"#DC_MAIN"}41.{"#DC_WHITE"} Гангстерский жест № 8\n{"#DC_MAIN"}42.{"#DC_WHITE"} Наносить графити № 1\n{"#DC_MAIN"}43.{"#DC_WHITE"} Наносить графити № 2\n{"#DC_MAIN"}44.{"#DC_WHITE"} Облокотится № 1\n");
	strcat(bigstring, "{"#DC_MAIN"}45.{"#DC_WHITE"} Облокотится № 2\n{"#DC_MAIN"}46.{"#DC_WHITE"} Возмущение\n{"#DC_MAIN"}47.{"#DC_WHITE"} Жест рукой\n{"#DC_MAIN"}48.{"#DC_WHITE"} Зевать\n");
	strcat(bigstring, "{"#DC_MAIN"}49.{"#DC_WHITE"} Передал что-то\n{"#DC_MAIN"}50.{"#DC_WHITE"} Съел что-то\n{"#DC_MAIN"}51.{"#DC_WHITE"} Справить нужду\n{"#DC_MAIN"}52.{"#DC_WHITE"} Медитация\n");
	strcat(bigstring, "{"#DC_MAIN"}53.{"#DC_WHITE"} Шлепнуть рукой\n{"#DC_MAIN"}54.{"#DC_WHITE"} Курение\n{"#DC_MAIN"}55.{"#DC_WHITE"} Мужское курение\n{"#DC_MAIN"}56.{"#DC_WHITE"} Женское курение\n");
	strcat(bigstring, "{"#DC_MAIN"}57.{"#DC_WHITE"} Позвать кого-то\n{"#DC_MAIN"}58.{"#DC_WHITE"} Выпить что-то\n{"#DC_MAIN"}59.{"#DC_WHITE"} Махать руками\n{"#DC_MAIN"}60.{"#DC_WHITE"} Чинить транспорт\n");
	strcat(bigstring, "{"#DC_MAIN"}61.{"#DC_WHITE"} Прислониться к транспорту\n{"#DC_MAIN"}62.{"#DC_WHITE"} Плакать\n{"#DC_MAIN"}63.{"#DC_WHITE"} Искусственное дыхание\n{"#DC_MAIN"}64.{"#DC_WHITE"} Чесаться\n");
	strcat(bigstring, "{"#DC_MAIN"}65.{"#DC_WHITE"} Недоволен");
	SPD(playerid, did_animlist, DSL, "{"#DC_MAIN"}Анимации", bigstring, "Далее", "Отмена");
	return 1;
}
/*CMD:style(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(GetPVarInt(playerid, "GymTrainingStyde")) return SendMes(playerid, COLOR_DARKORANGE, "Во время тренировки нельзя изменить стиль боя.");
	totalstring = "";
	format(totalstring, sizeof(totalstring), "\
	{"#DC_MAIN"}1.{"#DC_WHITE"} Боксерский: %s\n\
	{"#DC_MAIN"}2.{"#DC_WHITE"} Кунг-Фу: %s\n\
	{"#DC_MAIN"}3.{"#DC_WHITE"} Тейк-Ван-До: %s\n\
	{"#DC_MAIN"}4.{"#DC_WHITE"} Стандартный: {"#DC_GREEN"}Изучен{"#DC_WHITE"}", \
	(!PlayerInfo[playerid][pStyle][1]) ? ("{"#DC_LRED"}Не изучен{"#DC_WHITE"}") : ("{"#DC_GREEN"}Изучен{"#DC_WHITE"}"),
	(!PlayerInfo[playerid][pStyle][2]) ? ("{"#DC_LRED"}Не изучен{"#DC_WHITE"}") : ("{"#DC_GREEN"}Изучен{"#DC_WHITE"}"),
	(!PlayerInfo[playerid][pStyle][3]) ? ("{"#DC_LRED"}Не изучен{"#DC_WHITE"}") : ("{"#DC_GREEN"}Изучен{"#DC_WHITE"}"));
	SPD(playerid, did_fight_style, DSL, "{"#DC_MAIN"}Стиль боя", totalstring, "Далее", "Отмена");
	return 1;
}*/
CMD:passport(playerid, params[]) return cmd_pass(playerid, params);
CMD:showpass(playerid, params[]) return cmd_pass(playerid, params);
CMD:pass(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /pass [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
	if(CheckSentence(params[0]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
	SendMes(playerid, COLOR_MAIN, "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} посмотреть паспорт.", PlayerInfo[params[0]][pName]);
	SendMes(params[0], COLOR_WHITE, "%s{"#DC_MAIN"} предложил Вам посмотреть паспорт.", PlayerInfo[playerid][pName]);
	SendMes(params[0], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
	SetPVarInt(params[0], "OfferPass", true);
	SetPVarInt(params[0], "OffeePass", playerid);
	return 1;
}
CMD:lic(playerid, params[]) return cmd_licenses(playerid, params);
CMD:licenses(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /licenses [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
	if(CheckSentence(params[0]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
	SendMes(playerid, COLOR_MAIN, "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} посмотреть лицензии.", PlayerInfo[params[0]][pName]);
	SendMes(params[0], COLOR_WHITE, "%s{"#DC_MAIN"} предложил Вам посмотреть лицензии.", PlayerInfo[playerid][pName]);
	SendMes(params[0], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
	SetPVarInt(params[0], "OfferLicenses", true);
	SetPVarInt(params[0], "OffeeLicenses", playerid);
	return 1;
}
/*CMD:skill(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /skill [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
	SendMes(playerid, COLOR_MAIN, "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} посмотреть навыки владения оружием.", PlayerInfo[params[0]][pName]);
	SendMes(params[0], COLOR_WHITE, "%s{"#DC_MAIN"} предложил Вам посмотреть навыки владения оружием.", PlayerInfo[playerid][pName]);
	SendMes(params[0], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
	SetPVarInt(params[0], "OfferSkill", true);
	SetPVarInt(params[0], "OffeeSkill", playerid);
	return 1;
}*/
CMD:showmc(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /showmc [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
	if(PlayerInfo[playerid][pMedicalCard] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет мед. карты.");
	if(CheckSentence(params[0]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
	SendMes(playerid, COLOR_MAIN, "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} посмотреть мед. карту.", PlayerInfo[params[0]][pName]);
	SendMes(params[0], COLOR_WHITE, "%s{"#DC_MAIN"} предложил Вам посмотреть мед. карту.", PlayerInfo[playerid][pName]);
	SendMes(params[0], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
	SetPVarInt(params[0], "OfferMC", true);
	SetPVarInt(params[0], "OffeeMC", playerid);
	return 1;
}
CMD:satiety(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	totalstring = "";
	format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Уровень вашей сытости %d процентов.", PlayerInfo[playerid][pSatiety]);
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Сытость", totalstring, "Отмена", "");
	return 1;
}
/*CMD:force(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	totalstring = "";
	format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Уровень вашей силы %d процентов.", PlayerInfo[playerid][pForce]);
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Сила", totalstring, "Отмена", "");
	return 1;
}*/
CMD:namestore(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	new scdplayerid;
	if(sscanf(params, "d", scdplayerid)) return SendMes(playerid, COLOR_WHITE, "Введите: /namestore [id игрока]");
	if(!IsPlayerConnected(scdplayerid)) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[scdplayerid] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_NAMESTORE" WHERE `user_id` = '%d' GROUP BY `id` DESC", PlayerInfo[scdplayerid][pID]);
	new Cache:result = mysql_query(mysql, request);
	if(cache_num_rows())
	{
		new old_name[32], new_name[32], timestamp[32];
		totalstring = "", bigstring = "{"#DC_WHITE"}";
		for(new i = 0; i < 50; i++)
		{
			if(i >= cache_num_rows()) break;
			cache_get_value_name(i, "old_name", old_name, MAX_PLAYER_NAME);
			cache_get_value_name(i, "new_name", new_name, MAX_PLAYER_NAME);
			cache_get_value_name(i, "timestamp", timestamp, 32);
			format(totalstring, sizeof(totalstring), "%s: %s - %s\n", timestamp, old_name, new_name);
			strcat(bigstring, totalstring);
		}
		SPD(playerid, did_null, DSM, "{"#DC_MAIN"}История ников", bigstring, "Отмена", "");
	} else SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
	return cache_delete(result);
}
CMD:ad(playerid, params[])return cmd_advertise(playerid, params);
CMD:advertise(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
	if(PlayerInfo[playerid][pLevel] < 3) return SendMes(playerid, COLOR_DARKORANGE, "Для отправки объявлений, вы должны проживать в штате не менее 3-х лет.");
	if(PlayerInfo[playerid][pPhone] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Для отправки объявления требуется мобильный телефон.");
	if(PlayerInfo[playerid][pNews] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не подключены к какой-либо радиостанции.");
	SendAdvertDialog(playerid);
	return 1;
}
CMD:ratingnews(playerid)
{
	if(PlayerLogged[playerid] == 0) return 1;
	new count[MAX_NEWS + 1], countall;
	foreach(new i : Player)
	{
		if(PlayerInfo[i][pNews] == 0) continue;
		count[PlayerInfo[i][pNews]]++;
		countall++;
	}
	if(countall <= 0) return SendMes(playerid, COLOR_DARKORANGE, "Нет игроков, подключенных к радиостанции.");
	totalstring = "";
	for(new i = 0; i < 3; i++)
	{
	    format(totalstring, sizeof(totalstring), "%s%s: %d\n", totalstring, FracInfo[i + 8][fName], count[i + 1]);
	}
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Рейтинг радиостанций", totalstring, "OK", "");
	return 1;
}
CMD:radio(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	SPD(playerid, did_radio, DSL, "{"#DC_MAIN"}Радиостанция", "{"#DC_MAIN"}1.{"#DC_WHITE"} Радиоцентр ЛС\n{"#DC_MAIN"}2.{"#DC_WHITE"} Радиоцентр СФ\n{"#DC_MAIN"}3.{"#DC_WHITE"} Радиоцентр ЛВ\n{"#DC_MAIN"}4.{"#DC_WHITE"} Выключить", "Далее", "Отмена");
	return 1;
}
CMD:gate(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsPlayerInAnyVehicle(playerid))
	{
 		new vehicleid = GetPlayerVehicleID(playerid);
		if(GetPlayerState(playerid) == PLAYER_STATE_DRIVER)
		{
			/*SearchBarrier(playerid);*/
		    if(IsPlayerInRangeOfPoint(playerid, 5.0, 1378.1090,-14.2255,1000.6348) || IsPlayerInRangeOfPoint(playerid, 5.0, 1399.2316,-14.9511,1000.6279) || IsPlayerInRangeOfPoint(playerid, 5.0, 1368.4884,-16.7363,1000.6308))
			{
		        new house = GetPlayerVirtualWorld(playerid) - 10;
		        if(house < 0) return SendMes(playerid, COLOR_DARKORANGE, "Не удалось определить номер дома этого гаража, обратитесь к администрации.");
		        SetVehiclePos(vehicleid, HouseInfo[house][hVehicleX], HouseInfo[house][hVehicleY], HouseInfo[house][hVehicleZ]);
				SetVehicleZAngle(vehicleid, HouseInfo[house][hVehicleR]);
				LinkVehicleToInterior(vehicleid, 0);
				SetVehicleVirtualWorld(vehicleid, 0);
				foreach(new i:Player)
				{
					if(PlayerLogged[i] == 0) continue;
					if(IsPlayerInVehicle(i, vehicleid) && GetPlayerState(i) == 2)
					{
						SetPlayerTime(i, DefaultTime, 0);
						SetPlayerWeather(i, DefaultWeather);
					 	PlayerInfo[i][pRespawnTime] = 100;
		 				PlayerInfo[i][pRespawnWeather] = 100;
						SetPlayerInterior(i, 0);
						SetPlayerVirtualWorld(i, 0);
					}
				}
				SetPlayerTime(playerid, DefaultTime, 0);
				SetPlayerWeather(playerid, DefaultWeather);
			 	PlayerInfo[playerid][pRespawnTime] = 100;
				PlayerInfo[playerid][pRespawnWeather] = 100;
				SetPlayerInterior(playerid, 0);
				SetPlayerVirtualWorld(playerid, 0);
			}
			if(IsBiz[playerid] != -1)
			{
			    new biz = IsBiz[playerid];
			    if(IsAPPos(playerid, 10.0, BizInfo[biz][bEnterX], BizInfo[biz][bEnterY], BizInfo[biz][bEnterZ]))
			    {
				    SetPVarInt(playerid, "UseBiz", IsBiz[playerid]);
					ServiceList(playerid, IsBiz[playerid]);
				}
			}
			if(IsHouse[playerid] != -1)
			{
			    new house = IsHouse[playerid];
			    if(IsAPPos(playerid, 10.0, HouseInfo[house][hVehicleX], HouseInfo[house][hVehicleY], HouseInfo[house][hVehicleZ]))
			    {
				    SetPVarInt(playerid, "UseHouse", house);
				    new type = HouseInfo[house][hDiscript] - 2;
		            SetVehiclePos(vehicleid, GarageVehicleSpawnPos[type][0], GarageVehicleSpawnPos[type][1], GarageVehicleSpawnPos[type][2]);
					SetVehicleZAngle(vehicleid, GarageVehicleSpawnPos[type][3]);
					LinkVehicleToInterior(vehicleid, type + 2);
					SetVehicleVirtualWorld(vehicleid, house + 10);
					foreach(new i:Player)
					{
						if(PlayerLogged[i] == 0) continue;
						if(IsPlayerInVehicle(i, vehicleid) && GetPlayerState(i) == 2)
						{
				   		 	SetPVarInt(i, "UseHouse", house);
							SetPlayerTime(i, 18, 0);
				    		SetPlayerWeather(i, 3);
						 	PlayerInfo[i][pRespawnTime] = 18;
			 				PlayerInfo[i][pRespawnWeather] = 3;
							SetPlayerInterior(i, type + 2);
							SetPlayerVirtualWorld(i, house + 10);
						}
					}
					SetPlayerTime(playerid, 18, 0);
		    		SetPlayerWeather(playerid, 3);
				 	PlayerInfo[playerid][pRespawnTime] = 18;
					PlayerInfo[playerid][pRespawnWeather] = 3;
					SetPlayerInterior(playerid, type + 2);
					SetPlayerVirtualWorld(playerid, house + 10);
				}
			}
			if(PlayerInfo[playerid][pMember] == F_NATIONAL_GUARD)
			{
				if(IsAPPos(playerid, 5.0, LVA_ONE_ENTER))
				{
				    if(GetPVarInt(playerid, "KEYAntiFlood") > gettime()) return 1;
					if(GetPlayerState(playerid) == 2)
					{
						SetVehiclePos(vehicleid, LVA_ONE_EXIT);
						SetVehicleZAngle(vehicleid, LVA_ONE_EXIT_FA);
						SetPVarInt(playerid, "KEYAntiFlood", gettime() + KEY_ANTI_FLOOD_TIME);
					}
				}
				else if(IsAPPos(playerid, 5.0, LVA_ONE_EXIT))
				{
				    if(GetPVarInt(playerid, "KEYAntiFlood") > gettime()) return 1;
					if(GetPlayerState(playerid) == 2)
					{
						SetVehiclePos(vehicleid, LVA_ONE_ENTER);
						SetVehicleZAngle(vehicleid, LVA_ONE_ENTER_FA);
						SetPVarInt(playerid, "KEYAntiFlood", gettime() + KEY_ANTI_FLOOD_TIME);
					}
				}
				else if(IsAPPos(playerid, 5.0, LVA_TWO_ENTER))
				{
				    if(GetPVarInt(playerid, "KEYAntiFlood") > gettime()) return 1;
					if(GetPlayerState(playerid) == 2)
					{
						SetVehiclePos(vehicleid, LVA_TWO_EXIT);
						SetVehicleZAngle(vehicleid, LVA_TWO_EXIT_FA);
						SetPVarInt(playerid, "KEYAntiFlood", gettime() + KEY_ANTI_FLOOD_TIME);
					}
				}
				else if(IsAPPos(playerid, 5.0, LVA_TWO_EXIT))
				{
				    if(GetPVarInt(playerid, "KEYAntiFlood") > gettime()) return 1;
					if(GetPlayerState(playerid) == 2)
					{
						SetVehiclePos(vehicleid, LVA_TWO_ENTER);
						SetVehicleZAngle(vehicleid, LVA_TWO_ENTER_FA);
						SetPVarInt(playerid, "KEYAntiFlood", gettime() + KEY_ANTI_FLOOD_TIME);
					}
				}
			}
		} else SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться за рулем транспортного средства.");
	} else SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в транспортном средстве.");
	return 1;
}
CMD:setspawn(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	SPD(playerid, did_set_spawn, DSL, "{"#DC_MAIN"}Место появления", "{"#DC_MAIN"}1.{"#DC_WHITE"} Стандарт\n{"#DC_MAIN"}2.{"#DC_WHITE"} Дом\n{"#DC_MAIN"}3.{"#DC_WHITE"} Отель\n{"#DC_MAIN"}4.{"#DC_WHITE"} Фракция\n{"#DC_MAIN"}5.{"#DC_WHITE"} Семейный дом", "Далее", "Отмена");
	return 1;
}
CMD:end(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(GetPVarInt(playerid, "CarryGun"))
	{
		DeletePVar(playerid, "CarryGun");
		if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
		SetPlayerSpecialAction(playerid, SPECIAL_ACTION_NONE);
		SendMes(playerid, COLOR_MAIN, "Вы выбросили предметы.");
		return 1;
	}
	return 1;
}
CMD:quitjob(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pJob] == 0 && PlayerInfo[playerid][pFarmIDx] == 0 && PlayerInfo[playerid][pServiceIDx] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы нигде не работаете.");
	SendMes(playerid, COLOR_MAIN, "Вы теперь безработный.");
	PlayerInfo[playerid][pJob] = 0;
	if(PlayerInfo[playerid][pFarmIDx])
	{
		if(PlayerInfo[playerid][pFarmRank] == 1)
		{
			new idx = PlayerInfo[playerid][pFarmIDx], sidx = PlayerInfo[playerid][pFarmSlot];
			if(strcmp(PlayerInfo[playerid][pName], WorkersFarm[idx][sidx]))
			{
				format(WorkersFarm[idx][sidx], MAX_PLAYER_NAME, "None");
				SaveFarm(idx);
				FarmInfo[idx][fWorkSlotsUsed][sidx] = 0;
				PlayerInfo[playerid][pFarmRank] = 0;
				PlayerInfo[playerid][pFarmIDx] = 0;
				PlayerInfo[playerid][pFarmSlot] = 0;
				
			}
		}
		else if(PlayerInfo[playerid][pFarmRank] == 2)
		{
			new idx = PlayerInfo[playerid][pFarmIDx], sidx = PlayerInfo[playerid][pFarmSlot];
			if(strcmp(PlayerInfo[playerid][pName], SubstituentsFarm[idx][sidx]))
			{
				format(SubstituentsFarm[idx][sidx], MAX_PLAYER_NAME, "None");
				SaveFarm(idx);
				FarmInfo[idx][fSubstituentSlotsUsed][sidx] = 0;
				PlayerInfo[playerid][pFarmRank] = 0;
				PlayerInfo[playerid][pFarmIDx] = 0;
				PlayerInfo[playerid][pFarmSlot] = 0;
			}
		}
	}
	if(PlayerInfo[playerid][pServiceIDx])
	{
		if(PlayerInfo[playerid][pServiceRank] == 0)
		{
			new idx = PlayerInfo[playerid][pServiceIDx], sidx = PlayerInfo[playerid][pServiceSlot];
			if(strcmp(PlayerInfo[playerid][pName], WorkersService[idx][sidx]))
			{
				format(WorkersService[idx][sidx], MAX_PLAYER_NAME, "None");
				SaveService(idx);
				ServiceInfo[idx][sWorkSlotsUsed][sidx] = 0;
				PlayerInfo[playerid][pFarmRank] = 0;
				PlayerInfo[playerid][pFarmIDx] = 0;
				PlayerInfo[playerid][pFarmSlot] = 0;
			}
		}
		else if(PlayerInfo[playerid][pServiceRank] == 1)
		{
			new idx = PlayerInfo[playerid][pServiceIDx], sidx = PlayerInfo[playerid][pServiceSlot];
			if(strcmp(PlayerInfo[playerid][pName], SubstituentsService[idx][sidx]))
			{
				format(SubstituentsService[idx][sidx], MAX_PLAYER_NAME, "None");
				SaveService(idx);
				ServiceInfo[idx][sSubstituentSlotsUsed][sidx] = 0;
				PlayerInfo[playerid][pServiceRank] = 0;
				PlayerInfo[playerid][pServiceIDx] = 0;
				PlayerInfo[playerid][pServiceSlot] = 0;
			}
		}
	}
	return 1;
}
CMD:unrent(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не должны находиться в транспортном средстве.");
	CancelVehicleRent(playerid);
	return 1;
}
CMD:report(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	SPD(playerid, did_report, DSI, "{"#DC_MAIN"}Связь с администрацией", "{"#DC_WHITE"}Введите своё обращение к администрации:", "Далее", "Отмена");
	return 1;
}
/*CMD:ask(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	SPD(playerid, did_question, DSI, "{"#DC_MAIN"}Задать вопрос помощникам", "{"#DC_WHITE"}Введите свой вопрос помощникам:", "Далее", "Отмена");
	return 1;
}*/
CMD:leaders(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	new idx = 0;
	totalstring = "", bigstring = "{"#DC_WHITE"}";
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0) continue;
		if(PlayerInfo[i][pLeader] > 0 && PlayerInfo[i][pLeader] < MAX_FRACTION && PlayerInfo[i][pAdmin] <= 0)
		{
 			format(totalstring, sizeof(totalstring), "%s [ID: %d]: %s (%s) [%d]\n", PlayerInfo[i][pName], i, FracInfo[PlayerInfo[i][pLeader]][fName], FracRank[PlayerInfo[i][pMember]][PlayerInfo[i][pRank]], PlayerInfo[i][pPhoneNumber]);
		    strcat(bigstring, totalstring);
			idx++;
		}
	}
	if(idx == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент лидеров организаций нет в сети.");
    else SendMes(playerid, COLOR_MAIN, "Всего лидеров онлайн - {"#DC_WHITE"}%d{"#DC_MAIN"} лидер(-а/-ов).", idx);
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Лидеры организаций", bigstring, "Отмена", "");
	return 1;
}
CMD:picklist(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(Pick == true) return SendMes(playerid, COLOR_DARKORANGE, "В штате не закончены выборы.");
	GetPick(playerid);
	return 1;
}
CMD:mask(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать маску в транспортном средстве.");
	if(PlayerInfo[playerid][pMaskTime])
	{
 		if(IsPlayerAttachedObjectSlotUsed(playerid, 0)) RemovePlayerAttachedObject(playerid, 0);
	    PlayerInfo[playerid][pMaskTime] = 0;
		if(PlayerInfo[playerid][pDuty] || IsACriminal(playerid))
		{
     		if(DisguiseInfo[playerid]) SetPlayerDisguiseColor(playerid);
			else SetPlayerTeamColor(playerid);
		}
		else SetPlayerColor(playerid, F_NONE_COLOR);
		ApplyAnimation(playerid, "PED", "gum_eat", 4.0, 0, 0, 0, 0, 0, 1);
		format(strings, sizeof(strings), "%s снял(-а) маску", PlayerInfo[playerid][pName]);
		SPM(playerid, strings);
		return 1;
	}
	if(PlayerInfo[playerid][pInventoryItems][TYPE_MASK] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет маски.");
	if(IsPlayerAttachedObjectSlotUsed(playerid, 0)) RemovePlayerAttachedObject(playerid, 0);
	SetPlayerAttachedObject(playerid, 0, 19801, 2,  0.072000, 0.020999, 0.001000,  42.000000, 83.400032, 138.300018,  1.247000, 1.355000, 1.221000);
 	SetPlayerColor(playerid, 0x84848400);
	PlayerInfo[playerid][pMaskTime] = 600;
	PlayerInfo[playerid][pInventoryItems][TYPE_MASK]--;
	SavePlayerInventoryItems(playerid, TYPE_MASK);
	SendMes(playerid, COLOR_MAIN, "Ваше местоположение на {"#DC_WHITE"}GPS{"#DC_MAIN"} скрыто на {"#DC_WHITE"}10{"#DC_MAIN"} минут.");
	ApplyAnimation(playerid, "PED", "gum_eat", 4.0, 0, 0, 0, 0, 0, 1);
	format(strings, sizeof(strings), "%s надел(-а) маску", PlayerInfo[playerid][pName]);
	SPM(playerid, strings);
	return 1;
}
CMD:healme(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pInventoryItems][TYPE_MEDICINE] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет аптечки.");
	if(IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать аптечку в транспортном средстве.");
	if(PlayerInfo[playerid][pSatiety] < 20) return SendMes(playerid, COLOR_DARKORANGE, "Сначала нужно поесть, иначе вы отравитесь.");
	new Float:health;
	GetPlayerHealth(playerid, health);
	if(health >= 100.0) return SendMes(playerid, COLOR_DARKORANGE, "Аптечка восстанавливает не более 100 HP.");
	health = health+60.0;
 	if(health > 100.0) health = 100.0;
	SetHealth(playerid, health);
	PlayerInfo[playerid][pInventoryItems][TYPE_MEDICINE]--;
	if(IsPlayerAttachedObjectSlotUsed(playerid, 4)) RemovePlayerAttachedObject(playerid, 4);
	SetPlayerAttachedObject(playerid, 4, 11738, 6,  0.244000, 0.019999, 0.072000,  0.000000, -105.499977, 0.000000,  1.000000, 1.000000, 1.000000);
	SetPVarInt(playerid, "HealmeCheck", gettime()+5);
	ApplyAnimation(playerid, "PED", "gum_eat", 4.0, 0, 0, 0, 0, 0, 1);
	SPCB(playerid, "60 HP", COLOR_GREEN, 10.0, 1000);
	format(strings, sizeof(strings), "%s использовал(-а) аптечку", PlayerInfo[playerid][pName]);
	SRM(playerid, 10.0, COLOR_LPURPLE, strings);
	return 1;
}
CMD:set(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(GetPVarInt(playerid, "GymTraining") == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не начали тренировку в спортзале.");
	if(GymInventory[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет спортивного инвентаря.");
	if(GymDumbbells[playerid] == false)
	{
	    GymDumbbells[playerid] = true;
	 	SetPlayerControl(playerid, false);
		SendMes(playerid, COLOR_MAIN, "Вы начали тренироваться. Нажмите {"#DC_WHITE"}SPACE ( Клавиша быстрого бега ){"#DC_MAIN"} чтобы выполнить упражнение.");
	}
	else
	{
	    GymDumbbells[playerid] = false;
	    GymDumbbellsUse[playerid] = false;
	    GymInventory[playerid] = false;
	 	SetPlayerControl(playerid, true);
     	if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
		if(IsPlayerAttachedObjectSlotUsed(playerid, 2)) RemovePlayerAttachedObject(playerid, 2);
		SendMes(playerid, COLOR_MAIN, "Вы закончили тренировку. Для начала тренировки возьмите спортивный инвентарь заново.");
	}
	return 1;
}
CMD:reset(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(GetPVarInt(playerid, "GymTraining") == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не начали тренировку в спортзале.");
	if(GymInventory[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет спортивного инвентаря.");
	if(GymDumbbells[playerid] == true)
	{
	    GymDumbbells[playerid] = false;
	    GymInventory[playerid] = false;
	 	SetPlayerControl(playerid, true);
     	if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
		if(IsPlayerAttachedObjectSlotUsed(playerid, 2)) RemovePlayerAttachedObject(playerid, 2);
		SendMes(playerid, COLOR_MAIN, "Вы закончили тренировку. Для начала тренировки возьмите спортивный инвентарь заново.");
	}
 	GymInventory[playerid] = false;
	if(IsPlayerAttachedObjectSlotUsed(playerid, 1)) RemovePlayerAttachedObject(playerid, 1);
	if(IsPlayerAttachedObjectSlotUsed(playerid, 2)) RemovePlayerAttachedObject(playerid, 2);
	SendMes(playerid, COLOR_MAIN, "Вы положили спортивный инвентарь.");
	return 1;
}
CMD:warninfo(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(!PlayerInfo[playerid][pWarn]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет активных предупреждений.");
	totalstring = "";
	format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Название\
	Кол-во предупреждений: %d\n\
	Причина послед. предупреждения: %s\n\
	Снятие одного предупреждения: %s", PlayerInfo[playerid][pWarn], PlayerInfo[playerid][pWarnReason], date("%dd.%mm.%yyyy в %hh:%d:%ss", PlayerInfo[playerid][pWarnTime]));
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация о предупреждениях", totalstring, "Отмена", "");
	return 1;
}
CMD:go(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(TeleportInMP == false) return SendMes(playerid, COLOR_DARKORANGE, "На данный момент нельзя телепортация на мероприятие закрыта.");
	if(PlayerInfo[playerid][pJail] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Нельзя телепортироваться из тюрьмы.");
	if(GetPVarInt(playerid, "WaitBus")) return SendMes(playerid, COLOR_DARKORANGE, "Нельзя телепортироваться ожидая автобус или находясь в нем.");
	if(IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Выйдите из транспорта.");
	if(PlayerTied[playerid]) return SendMes(playerid, COLOR_DARKORANGE, "Вы связаны.");
	if(GetPVarInt(playerid, "PlayerCuffed") == 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы в наручниках.");
	if(RaceStarted == true)
	{
	    SetPlayerPos(playerid, 1957.3762,-2181.5291,13.5469);
		SetPlayerFacingAngle(playerid, 268.9459);
	}
 	else if(DerbyStarted == true)
	{
	    SetPlayerPos(playerid, -1545.9233,-442.2566,6.0000);
		SetPlayerFacingAngle(playerid, 43.6337);
	}
 	else if(PaintBallStarted == true)
	{
	    SetPlayerPos(playerid, 2492.0054,2780.7930,10.8203);
		SetPlayerFacingAngle(playerid, 179.5402);
	}
	SetPlayerInterior(playerid, 0);
	SetPlayerVirtualWorld(playerid, 0);
	SendMes(playerid, COLOR_MAIN, "Вы телепортировались на мероприятие. Для регистрации подойдите к организатору.");
	return 1;
}
CMD:gotomp(playerid)
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(!MP_State) return SendMes(playerid, COLOR_DARKORANGE, "На данный момент нет ТП на МП.");
	if(PlayerInfo[playerid][pJail] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Нельзя телепортироваться из тюрьмы.");
	if(MP_Players)
	{
		if(MP_Current >= MP_Players) return SendMes(playerid, COLOR_DARKORANGE, "К сожалению, на мероприятии закончились свободные места.");
		if(gettime() - LastMPTime[playerid] > 60)
		{
			LastMPTime[playerid] = gettime();
			MP_Current++;
			if(MP_Current >= MP_Players) MP_State = 0, SCMTA(COLOR_MAIN, "Телепорт на мероприятие закрыт! Набрано нужное количество участников.");
		}
	}
	SetPlayerPos(playerid, MP_Pos[0], MP_Pos[1], MP_Pos[2]);
	SetPlayerInterior(playerid, MP_Interior);
	SetPlayerVirtualWorld(playerid, MP_VirtualWorld);
	SendMes(playerid, COLOR_MAIN, "Вы телепортировались на МП.");
	return 1;
}
CMD:music(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsPlayerMobile(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Возможность использования данной системы с телефона временно ограничена.");
	if(GetPVarInt(playerid, "UseMusic"))
	{
		StopAudioStreamForPlayer(playerid);
		DeletePVar(playerid, "UseMusic");
		SendMes(playerid, COLOR_MAIN, "Вы выключили радио.");
	} else SPD(playerid, did_music, DSL, "{"#DC_MAIN"}Радио", "{"#DC_MAIN"}1.{"#DC_WHITE"} Радио Европа Plus\n{"#DC_MAIN"}2.{"#DC_WHITE"} Радио Рекорд\n{"#DC_MAIN"}3.{"#DC_WHITE"} Радио DFM\n{"#DC_MAIN"}4.{"#DC_WHITE"} Радио Хит FM\n{"#DC_MAIN"}5.{"#DC_WHITE"} Радио Energy\n{"#DC_MAIN"}6.{"#DC_WHITE"} Радио Мелодия\n{"#DC_MAIN"}7.{"#DC_WHITE"} Радио Шансон\n{"#DC_MAIN"}8.{"#DC_WHITE"} Радио Kiss FM (UA)\n{"#DC_MAIN"}9.{"#DC_WHITE"} Радио \"Лучшие песни\"\n{"#DC_MAIN"}10.{"#DC_WHITE"} Радио Rock Online\n{"#DC_MAIN"}11.{"#DC_WHITE"} Black Star Radio\n{"#DC_MAIN"}12.{"#DC_WHITE"} Ввод URL", "Далее", "Отмена");
	return 1;
}
CMD:boombox(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pInventoryItems][TYPE_BOOMBOX] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет BoomBox.");
	SPD(playerid, did_boombox, DSL, "{"#DC_MAIN"}BoomBox", "{"#DC_MAIN"}1.{"#DC_WHITE"} Поставить\n{"#DC_MAIN"}2.{"#DC_WHITE"} Включить\n{"#DC_MAIN"}3.{"#DC_WHITE"} Забрать", "Далее", "Отмена");
	return 1;
}
CMD:me(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(sscanf(params, "s[168]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /me [текст]");
	if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
	if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
	format(strings, sizeof(strings), "%s %s", PlayerInfo[playerid][pName], params[0]);
	SRM(playerid, 10.0, COLOR_LPURPLE, strings);
	SPCB(playerid, params[0], COLOR_LPURPLE, 10.0, 1000);
	return 1;
}
CMD:do(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(sscanf(params, "s[168]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /do [текст]");
	if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
	if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
	format(strings, sizeof(strings), "%s (( %s ))", params[0], PlayerInfo[playerid][pName]);
	SRM(playerid, 10.0, COLOR_LPURPLE, strings);
	return 1;
}
CMD:try(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(sscanf(params, "s[168]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /try [текст]");
	if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
	if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
	new temptryrand = random(2);
	if(temptryrand == 1) format(strings, sizeof(strings), "%s %s {1CEF00}[Удачно].", PlayerInfo[playerid][pName], params[0]);
	else format(strings, sizeof(strings), "%s %s {"#DC_RED"}[Неудачно].", PlayerInfo[playerid][pName], params[0]);
	SRM(playerid, 10.0, COLOR_LPURPLE, strings);
	return 1;
}
CMD:todo(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	new text[168], make[168];
	if(sscanf(params, "p<*>s[168]s[168]", text, make)) return SendMes(playerid, COLOR_WHITE, "Введите: /todo [текст*действие]");
	if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
	if(AdvertisingCheck(text) || AdvertisingCheck(make)) return AdvertisingPunishment(playerid, params[0], 1);
	format(strings, sizeof(strings), "%s говорит: %s - {"#DC_LPURPLE"}%s", PlayerInfo[playerid][pName], text, make);
	SRM(playerid, 10.0, COLOR_GRAD5, strings);
	SPCB(playerid, params[0], COLOR_LPURPLE, 10.0, 1000);
	return 1;
}
CMD:gov(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAGov(playerid))
	{
		if(PlayerInfo[playerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в организации.");
		new MaxRang = MaxFracRang(PlayerInfo[playerid][pMember]);
		if(PlayerInfo[playerid][pRank] < MaxRang-1) return SendMes(playerid, COLOR_DARKORANGE, "Данная команда доступна только для лидера и заместителя.");
		if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
		if(sscanf(params, "s[128]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /gov [текст]");
		if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 0);
		// Если счетчик превышен, баним игрока;
		if(GetPVarInt(playerid, "GovAntiAttack") > 20)
		{
			// Выдаем бан;
			new data[32], unbandate;
			getdate(years, months, days);
			unbandate = gettime() + 30*86400;
			format(data, 32, "%02d.%02d.%04d", days, months, years);
			mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_BANS" (name, whobanned, ip, bandate, time, unbandate, reason) VALUES ('%e', 'System', '%e', '%e', 365, %d, 'GovAntiAttack')", PlayerInfo[playerid][pName], PlayerInfo[playerid][pIP], data, unbandate);
			mysql_query(mysql, request, false);
			// Вывод сообщения забаненому;
			KickWithMessage(playerid, COLOR_LRED, "Do not try to bite someone who can eat you.");
			return 1;
		}
		// Обновляем счетчик;
		SetPVarInt(playerid, "GovAntiAttack", GetPVarInt(playerid, "GovAntiAttack") + 5);
		// Выводим сообщение в чат;
		SCMTAEx(COLOR_WHITE, "------========= [ Гос. новости ] =========------", 4);
		format(strings, sizeof(strings), "[%s]: %s %s [%d]: %s", FracInfo[PlayerInfo[playerid][pMember]][fName], FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], playerid, params[0]);
		SCMTAEx(COLOR_BLUE, strings, 4);
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:s(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
	if(PlayerInfo[playerid][pLevel] < 2) return SendMes(playerid, COLOR_DARKORANGE, "Команда доступна со 2-ого уровня.");
	if(sscanf(params, "s[256]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /s [текст]");
	if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
	format(strings, sizeof(strings), "%s [%d] крикнул: %s", PlayerInfo[playerid][pName], playerid, params[0]);
	SRMMC(playerid, 20.0, strings, COLOR_NEWGREEN, COLOR_NEWGREEN, COLOR_NEWGREEN, COLOR_NEWGREEN, COLOR_NEWGREEN);
	SPCB(playerid, params[0], COLOR_NEWGREEN, 20.0, 1000);
	if(!IsPlayerInAnyVehicle(playerid)) ApplyAnimation(playerid, "ON_LOOKERS", "shout_01", 4.1, 0, 0, 0, 0, 3000);
	return 1;
}
CMD:n(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
	if(sscanf(params, "s[256]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /b [текст]");
	if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
	format(strings, sizeof(strings), "(( %s [%d]: %s ))", PlayerInfo[playerid][pName], playerid, params[0]);
	SRMMC(playerid, 10.0, strings, COLOR_FADE2, COLOR_FADE2, COLOR_FADE2, COLOR_FADE2, COLOR_FADE2);
	return 1;
}
CMD:r(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAGov(playerid) || IsANews(playerid))
	{
		if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
		if(sscanf(params, "s[78]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /r [текст]");
		if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
		if(PlayerInfo[playerid][pMember])
		{
			if(!FracInfo[PlayerInfo[playerid][pMember]][fSetting][3]) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент чат фракции закрыт лидером.");
			format(strings, sizeof(strings), "[R] %s (%d) %s [%d]: %s", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pRank], PlayerInfo[playerid][pName], playerid, params[0]);
			SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
		}
		else if(PlayerInfo[playerid][pJob])
		{
			format(strings, sizeof(strings), "[R] %s %s [%d]: %s", GetJobName(playerid), PlayerInfo[playerid][pName], playerid, params[0]);
			SendJMes(PlayerInfo[playerid][pJob], COLOR_NEWLBLUE, strings);
		}
		SPCB(playerid, "Сказал(-а) что-то в рацию", COLOR_PINK, 10.0, 1000);
	} else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:rb(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAGov(playerid) || IsANews(playerid))
	{
		if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
		if(sscanf(params, "s[78]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /rb [текст]");
		if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
		if(PlayerInfo[playerid][pMember])
		{
			if(!FracInfo[PlayerInfo[playerid][pMember]][fSetting][3]) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент чат фракции закрыт лидером.");
			format(strings, sizeof(strings), "(( [R] %s (%d) %s [%d]: %s ))", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pRank], PlayerInfo[playerid][pName], playerid, params[0]);
			SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
		}
		else if(PlayerInfo[playerid][pJob])
		{
			format(strings, sizeof(strings), "(( [R] %s %s [%d]: %s ))", GetJobName(playerid), PlayerInfo[playerid][pName], playerid, params[0]);
			SendJMes(PlayerInfo[playerid][pJob], COLOR_NEWLBLUE, strings);
		}
	} else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:f(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACriminal(playerid))
	{
		if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
		if(sscanf(params, "s[78]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /f [текст]");
		if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
		if(PlayerInfo[playerid][pMember])
		{
			if(!FracInfo[PlayerInfo[playerid][pMember]][fSetting][3]) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент чат фракции закрыт лидером.");
			format(strings, sizeof(strings), "[F] %s (%d) %s [%d]: %s", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pRank], PlayerInfo[playerid][pName], playerid, params[0]);
			SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
		}
		else if(PlayerInfo[playerid][pJob])
		{
			format(strings, sizeof(strings), "[F] %s %s [%d]: %s", GetJobName(playerid), PlayerInfo[playerid][pName], playerid, params[0]);
			SendJMes(PlayerInfo[playerid][pJob], COLOR_NEWLBLUE, strings);
		}
		SPCB(playerid, "Сказал(-а) что-то в рацию", COLOR_PINK, 10.0, 1000);
	} else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:fb(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACriminal(playerid))
	{
		if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
		if(sscanf(params, "s[78]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /fb [текст]");
		if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
		if(PlayerInfo[playerid][pMember])
		{
			if(!FracInfo[PlayerInfo[playerid][pMember]][fSetting][3]) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент чат фракции закрыт лидером.");
			format(strings, sizeof(strings), "(( [F] %s (%d) %s [%d]: %s ))", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pRank], PlayerInfo[playerid][pName], playerid, params[0]);
			SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
		}
		else if(PlayerInfo[playerid][pJob])
		{
			format(strings, sizeof(strings), "(( [F] %s %s [%d]: %s ))", GetJobName(playerid), PlayerInfo[playerid][pName], playerid, params[0]);
			SendJMes(PlayerInfo[playerid][pJob], COLOR_NEWLBLUE, strings);
		}
	} else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:d(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if((IsAMayor(playerid) || IsACop(playerid) || IsAMedic(playerid) || IsAArmy(playerid) || IsADriving(playerid)) && PlayerInfo[playerid][pRank] >= 3)
	{
		if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
		if(sscanf(params, "s[78]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /d [текст]");
		if(DepartmentFlood > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Отправить сообщение в чат департамента можно будет через %d сек.", DepartmentFlood - gettime());
		if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
		format(strings, sizeof(strings), "[D] %s (%d) %s [%d]: %s", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pRank], PlayerInfo[playerid][pName], playerid, params[0]);
		SendDMes(COLOR_NEWRED, strings);
		SPCB(playerid, "Сказал(-а) что-то в рацию", COLOR_PINK, 10.0, 1000);
		DepartmentFlood = gettime() + 15;
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:db(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if((IsAMayor(playerid) || IsACop(playerid) || IsAMedic(playerid) || IsAArmy(playerid) || IsADriving(playerid)) && PlayerInfo[playerid][pRank] >= 3)
	{
		if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
		if(sscanf(params, "s[78]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /db [текст]");
		if(DepartmentFlood > gettime()) return SendMes(playerid, COLOR_DARKORANGE, "Отправить сообщение в чат департамента можно будет через %d сек.", DepartmentFlood - gettime());
		if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
		format(strings, sizeof(strings), "(( [D] %s (%d) %s [%d]: %s ))", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pRank], PlayerInfo[playerid][pName], playerid, params[0]);
		SendDMes(COLOR_NEWRED, strings);
		DepartmentFlood = gettime() + 15;
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:lc(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pLeader])
	{
		if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
		if(sscanf(params, "s[78]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /lc [текст]");
		if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
		format(strings, sizeof(strings), "[LC] [%s] %s %s [%d]: %s", FracInfo[PlayerInfo[playerid][pMember]][fName], FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], playerid, params[0]);
		if(IsAMayor(playerid) || IsACop(playerid) || IsAMedic(playerid) || IsAArmy(playerid) || IsANews(playerid) || IsADriving(playerid)) SendLMes(COLOR_DARKYELLOW, strings, 1);
		else if(IsAGang(playerid)) SendLMes(COLOR_DARKYELLOW, strings, 2);
		else if(IsAMafia(playerid)) SendLMes(COLOR_DARKYELLOW, strings, 3);
		SPCB(playerid, "Сказал(-а) что-то в рацию", COLOR_PINK, 10.0, 1000);
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:lcb(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pLeader])
	{
		if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
		if(sscanf(params, "s[78]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /lcb [текст]");
		if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
		format(strings, sizeof(strings), "(( [LC] [%s] %s %s [%d]: %s ))", FracInfo[PlayerInfo[playerid][pMember]][fName], FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], playerid, params[0]);
		if(IsAMayor(playerid) || IsACop(playerid) || IsAMedic(playerid) || IsAArmy(playerid) || IsANews(playerid) || IsADriving(playerid)) SendLMes(COLOR_DARKYELLOW, strings, 1);
		else if(IsAGang(playerid)) SendLMes(COLOR_DARKYELLOW, strings, 2);
		else if(IsAMafia(playerid)) SendLMes(COLOR_DARKYELLOW, strings, 3);
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:w(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
	if(sscanf(params, "s[78]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /w [текст]");
	if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
	format(strings, sizeof(strings), "%s [%d] шепчет: %s", PlayerInfo[playerid][pName], playerid, params[0]);
	SRMMC(playerid, 2.5, strings, COLOR_LYELLOW, COLOR_LYELLOW, COLOR_LYELLOW, COLOR_LYELLOW, COLOR_LYELLOW);
	return 1;
}
CMD:start(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(GetPlayerState(playerid) != 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться за рулем транспортного средства.");
	new vehicleid = GetPlayerVehicleID(playerid);
	if(PlayerInfo[playerid][pJob] == J_TAXI)
	{
		if(VehInfo[vehicleid][vFraction] == V_J_TAXI)
		{
			if(GetPVarInt(playerid, "TaxiJob") > 0) LeaveFromTaxi(playerid);
			else
			{
			    SetPVarInt(playerid, "TaxiJob", 1);
				SendMes(playerid, COLOR_MAIN, "Вы начали работу, отправляйтесь на поиски клиентов.");
				if(VehicleTextUse[vehicleid])
				{
					Delete3DTextLabel(VehicleJobText[vehicleid]);
					VehicleTextUse[vehicleid] = false;
				}
				VehicleJobText[vehicleid] = Create3DTextLabel("Водитель такси\n{"#DC_WHITE"}Проезд бесплатный", COLOR_YELLOW, 9999.0, 9999.0, 9999.0, 10.0, 0, 1);
				Attach3DTextLabelToVehicle(VehicleJobText[vehicleid], vehicleid, 0.0, 0.0, 1.5);
		    	VehicleTextUse[vehicleid] = true;
				TaxiTime[playerid] = 0, TaxiPassenger[playerid] = INVALID_PLAYER_ID;
			}
		}
		else SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в такси.");
	}
	else if(PlayerInfo[playerid][pJob] == J_MECHANIC)
	{
		if(VehInfo[vehicleid][vFraction] == V_J_MECHANIC)
		{
			if(GetPVarInt(playerid, "MehJob") > 0) LeaveFromMechanic(playerid);
			else
			{
			    if(VehicleTextUse[vehicleid])
				{
					Delete3DTextLabel(VehicleJobText[vehicleid]);
					VehicleTextUse[vehicleid] = false;
				}
				VehicleJobText[vehicleid] = Create3DTextLabel("Автомеханик\n{"#DC_WHITE"}Нет топлива", COLOR_YELLOW, 9999.0, 9999.0, 9999.0, 10.0, 0, 1);
				Attach3DTextLabelToVehicle(VehicleJobText[vehicleid], vehicleid, 0, 0, 1.5);
				VehicleTextUse[vehicleid] = true;
				SendMes(playerid, COLOR_MAIN, "Используйте {"#DC_WHITE"}/start{"#DC_MAIN"} для начала или завершения рабочего дня.");
				SendMes(playerid, COLOR_MAIN, "Отправляйтесь на одну из заправок и возьмите там контракт, используя {"#DC_WHITE"}/gcontract");
				SendMes(playerid, COLOR_MAIN, "Используйте {"#DC_WHITE"}/refill{"#DC_MAIN"} для заправки и {"#DC_WHITE"}/repair{"#DC_MAIN"} для починки ТС.");
	   			SetPVarInt(playerid, "MehJob", 1);
			}
		}
		else SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в эвакуаторе.");
	}
	else if(PlayerInfo[playerid][pJob] == J_PILOT)
	{
		if(VehInfo[vehicleid][vFraction] == V_J_PILOT)
		{
			if(GetPVarInt(playerid, "PilotJob") > 0) LeaveFromPilot(playerid);
			else SPD(playerid, did_pilot_route, DSL, "{"#DC_MAIN"}Маршрут", "{"#DC_MAIN"}1.{"#DC_WHITE"} Лос-Сантос - Сан-Фиерро\n{"#DC_MAIN"}2.{"#DC_WHITE"} Лос-Сантос - Лас-Вентурас\n{"#DC_MAIN"}3.{"#DC_WHITE"} Сан-Фиерро - Лос-Сантос\n{"#DC_MAIN"}4.{"#DC_WHITE"} Сан-Фиерро - Лас-Вентурас\n{"#DC_MAIN"}5.{"#DC_WHITE"} Лас-Вентурас - Лос-Сантос\n{"#DC_MAIN"}6.{"#DC_WHITE"} Лас-Вентурас - Сан-Фиерро", "Далее", "Отмена");
		}
		else SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в самолете.");
	}
	else if(PlayerInfo[playerid][pJob] == J_BUS)
	{
		if(VehInfo[vehicleid][vFraction] == V_J_BUS)
		{
			if(GetPVarInt(playerid, "BusJob") > 0) LeaveFromBus(playerid);
			else SPD(playerid, did_route, DSL, "{"#DC_MAIN"}Маршрут", "{"#DC_MAIN"}1.{"#DC_WHITE"} Автовокзал ЛС - ЖД-ЛС - Автошкола", "Далее", "Отмена");
		}
		else SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в автобусе.");
	}
	else return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:arepair(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsPlayerInAnyVehicle(playerid))
	{
		new vehicleid = GetPlayerVehicleID(playerid);
		if(PlayerInfo[playerid][pJob] == J_PILOT && VehInfo[vehicleid][vFraction] == V_J_PILOT)
		{
		    if(IsAPPos(playerid, 10, 2001.233032, -2315.655273, 13.546875) || IsAPPos(playerid, 10, -1267.718994, 21.807279, 14.148437) || IsAPPos(playerid, 10, 1586.292724, 1228.821044, 10.812500))
		    {
				if(IsPlayerInAnyVehicle(playerid)) RepairVehicle(GetPlayerVehicleID(playerid));
				SendMes(playerid, COLOR_BLUE, "Вам отремонтировали самолет.");
			} else return SendMes(playerid, COLOR_DARKORANGE, "Вы далеко от места ремонта.");
		}
	} else return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:gcontract(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	new vehicleid = GetPlayerVehicleID(playerid), biz;
	if(PlayerInfo[playerid][pJob] == J_MECHANIC)
	{
		if(GetPlayerState(playerid) != 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве.");
		if(GetVehicleModel(vehicleid) == 525)
		{
			if(VehicleTextUse[vehicleid])
			{
				Delete3DTextLabel(VehicleJobText[vehicleid]);
				VehicleTextUse[vehicleid] = false;
			}
			if(GetPVarInt(playerid, "MehContract") != 0)
			{
				SetPVarInt(playerid, "FuelPrice", 0);
				SetPVarInt(playerid, "MehContract", 0);
				SendMes(playerid, COLOR_MAIN, "Контракт с заправкой расторгнут.");
				VehicleJobText[vehicleid] = Create3DTextLabel("Автомеханик\n{"#DC_WHITE"}Нет топлива", COLOR_YELLOW, 9999.0, 9999.0, 9999.0, 10.0, 0, 1);
				Attach3DTextLabelToVehicle(VehicleJobText[vehicleid], vehicleid, 0, 0, 1.5);
				VehicleTextUse[vehicleid] = true;
				return 1;
			}
			else if(GetPVarInt(playerid, "MehContract") == 0)
			{
				for(new i = 1; i <= TOTALBIZ; i++)
				{
					if(!IsAPPos(playerid, 10.0, BizInfo[i][bEnterX], BizInfo[i][bEnterY], BizInfo[i][bEnterZ]) || BizInfo[i][bType] != 2) continue;
					biz = BizInfo[i][bTill] * 50;
					SetPVarInt(playerid, "FuelPrice", biz);
					SetPVarInt(playerid, "MehContract", i);
					format(strings, sizeof(strings), "Автомеханик\n{"#DC_WHITE"}Стоимость 1-ого литра: {"#DC_LYELLOW"}$%d", GetPVarInt(playerid, "FuelPrice"));
					VehicleJobText[vehicleid] = Create3DTextLabel(strings, COLOR_YELLOW, 9999.0, 9999.0, 9999.0, 10.0, 0, 1);
					Attach3DTextLabelToVehicle(VehicleJobText[vehicleid], vehicleid, 0, 0, 1.5);
					VehicleTextUse[vehicleid] = true;
					SendMes(playerid, COLOR_MAIN, "Вы подписали контракт с заправкой.");
					return 1;
				}
				SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться на заправке.");
			}
		}
		else SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:refill(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pJob] == J_MECHANIC)
	{
		if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве.");
		new vehicleid = GetPlayerVehicleID(playerid), fuel;
		if(GetVehicleModel(vehicleid) == 525)
		{
   			if(!GetPVarInt(playerid, "MehJob")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не начали работу автомеханика.");
			if(sscanf(params, "ui", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /refill [id игрока] [Кол-во топлива]");
			if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
			if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
			new scdvehicleid = GetPlayerVehicleID(params[0]), model = GetVehicleModel(scdvehicleid);
			if(params[1] < 1 || params[1] > GetVehicleMaxGasTank(model)) return SendMes(playerid, COLOR_DARKORANGE, "Введите кол-во топлива от 1 до %d.", GetVehicleMaxGasTank(model));
			if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок слишком далеко.");
			if(GetPlayerState(params[0]) != 2) return SendMes(playerid, COLOR_DARKORANGE, "Игрок должен находиться за рулем транспортного средства.");
			if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
			if(GetPVarInt(playerid, "MehContract") == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны заключить контракт с заправкой.");
			if(GetPVarInt(params[0], "PlayerMech") != 0) return SendMes(playerid, COLOR_DARKORANGE, "Данному игроку уже предложили заправиться.");
			if(fuel+Fuel[scdvehicleid] > GetVehicleMaxGasTank(model)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете предложить приобрести столько топлива игроку. Рекомендуем: %d литр(-а/-ов).", GetVehicleMaxGasTank(model) - Fuel[scdvehicleid]);
			format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} заправить его транспорт на {"#DC_WHITE"}%d{"#DC_MAIN"} литр(-а/-ов) за {"#DC_WHITE"}$%d.", PlayerInfo[params[0]][pName], params[1], GetPVarInt(playerid, "FuelPrice")*params[1]);
			SendMes(playerid, COLOR_MAIN, strings);
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}%s предложил вам заправить ваш транспорт на %d литр(-а/-ов) за $%d\n\nВы согласны?", PlayerInfo[playerid][pName], params[1], GetPVarInt(playerid, "FuelPrice")*params[1]);
			SPD(params[0], did_refill, DSM, "{"#DC_MAIN"}Автомеханик", totalstring, "Да", "Нет");
			SetPVarInt(params[0], "PlayerMech", playerid);
			SetPVarInt(params[0], "MechanicPrice", GetPVarInt(playerid, "FuelPrice")*params[1]);
			SetPVarInt(params[0], "MechanicFuel", params[1]);
		}
		else SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:repair(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pJob] == J_MECHANIC)
	{
		if(GetPlayerState(playerid) != 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве.");
		new vehicleid = GetPlayerVehicleID(playerid);
		if(GetVehicleModel(vehicleid) == 525)
		{
   			if(!GetPVarInt(playerid, "MehJob")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не начали работу автомеханика.");
			if(sscanf(params, "ui", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /repair [id игрока] [цена]");
			if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
			if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
			if(params[1] < 1 || params[1] > 1000) return SendMes(playerid, COLOR_DARKORANGE, "Цена от $1 до $1000.");
			if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок слишком далеко.");
			if(GetPlayerState(params[0]) != 2) return SendMes(playerid, COLOR_DARKORANGE, "Игрок должен находиться за рулем транспортного средства.");
			if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
			if(GetPVarInt(params[0], "PlayerMech") != 0) return SendMes(playerid, COLOR_DARKORANGE, "Данному игроку уже предложили починиться.");
			format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} починить его транспорт за {"#DC_WHITE"}$%d.", PlayerInfo[params[0]][pName], params[1]);
			SendMes(playerid, COLOR_MAIN, strings);
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}%s предложил вам починить ваш транспорт за $%d.\n\nВы согласны?", PlayerInfo[playerid][pName], params[1]);
			SPD(params[0], did_repair, DSM, "{"#DC_MAIN"}Автомеханик", totalstring, "Да", "Нет");
			SetPVarInt(playerid, "MechVehID", GetPlayerVehicleID(params[0]));
			SetPVarInt(params[0], "PlayerMech", playerid);
			SetPVarInt(params[0], "MechanicRepairPrice", params[1]);
		}
		else SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:pmenu(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(FarmDuty[playerid] > 1 || PlayerInfo[playerid][pJob] == J_PRODUCT)
	{
	    new vehicleid = GetPlayerVehicleID(playerid);
	    if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве.");
	    if(FarmDuty[playerid] > 1)
	 	{
	 	    new fidx = FarmWorking[playerid];
		    if(GetFarmCarIndex(fidx, vehicleid) == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве.");
		    if(GetVehicleModel(vehicleid) != 440) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве.");
		    SPD(playerid, did_prod_menu, DSL, "{"#DC_MAIN"}Меню продуктов", "{"#DC_MAIN"}1.{"#DC_WHITE"} Приобрести зерно\n{"#DC_MAIN"}2.{"#DC_WHITE"} Продать зерно\n{"#DC_MAIN"}3.{"#DC_WHITE"} Приобрести урожай\n{"#DC_MAIN"}4.{"#DC_WHITE"} Продать урожай", "Далее", "Отмена");
	 	}
	    else if(PlayerInfo[playerid][pJob] == J_PRODUCT)
	    {
   	 		if(VehInfo[vehicleid][vFraction] != V_J_PRODUCT) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве.");
			SPD(playerid, did_product, DSL, "{"#DC_MAIN"}Меню работы", "{"#DC_MAIN"}1.{"#DC_WHITE"} Загрузить продукты\n{"#DC_MAIN"}2.{"#DC_WHITE"} Разгрузить продукты\n{"#DC_MAIN"}3.{"#DC_WHITE"} Список бизнесов", "Далее", "Отмена");
	    }
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:hold(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if((IsACop(playerid) && IsACopDuty(playerid)) || (IsAMayor(playerid) && IsAMayorDuty(playerid) && IsAMayorSecurity(playerid)) || PlayerInfo[playerid][pAdmin] || IsAMafia(playerid))
	{
		if(IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в транспортном средстве.");
		if(GetPVarInt(playerid, "PlayerCuffed") == 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы в наручниках, действие невозможно.");
		if(PlayerTied[playerid] == true) return SendMes(playerid, COLOR_DARKORANGE, "Вы связаны, действие невозможно.");
		if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /hold [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
		if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
		if(GetPlayerState(params[0]) != PLAYER_STATE_ONFOOT) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок находится в ТС.");
		if(IsACop(playerid) && (GetPVarInt(params[0], "PlayerCuffed") == 0 && PlayerTied[params[0]] == false) && FollowPlayer[playerid] != params[0]) return SendMes(playerid, COLOR_DARKORANGE, "Игрок должен быть в наручниках или связан.");
		if(IsAMafia(playerid) && PlayerTied[params[0]] == false) return SendMes(playerid, COLOR_DARKORANGE, "Игрок должен быть связан.");
		if(IsPlayerInAnyVehicle(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в транспортном средстве.");
		if(PlayerInfo[playerid][pJail] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в тюрьме.");
		if(FollowPlayer[playerid] == params[0])
		{
			ResetFollowToPlayer(playerid, params[0]);
			SetPlayerControl(params[0], true);
			SendMes(playerid, COLOR_MAIN, "Вы отпустили {"#DC_WHITE"}%s.", PlayerInfo[params[0]][pName]);
			if(GetPVarInt(params[0], "CUFFED")) SetPlayerSpecialAction(params[0], SPECIAL_ACTION_CUFFED);
			SendMes(params[0], COLOR_WHITE, "%s{"#DC_MAIN"} отпустил Вас.", PlayerInfo[playerid][pName]);
			return 1;
		}
		if(FollowPlayer[playerid] != MAX_PLAYERS-1) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже ведете игрока за собой.");
		FollowPlayer[params[0]] = playerid;
		FollowPlayer[playerid] = params[0];
		SetTimerEx("OnPlayerFollowToPlayer", 1000, false, "i", params[0]);
		SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
		ClearAnimations(params[0]);
		SendMes(playerid, COLOR_MAIN, "Вы ведете {"#DC_WHITE"}%s{"#DC_MAIN"} за собой.", PlayerInfo[params[0]][pName]);
		SendMes(params[0], COLOR_WHITE, "%s{"#DC_MAIN"} ведет Вас за собой.", PlayerInfo[playerid][pName]);
	} else return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:release(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
 	if(IsAMayor(playerid) && IsAMayorDuty(playerid) && PlayerInfo[playerid][pRank] == 2)
  	{
		if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /release [id игрока] [тип: 1 - наличный, 2 - банк]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(params[1] < 1 || params[1] > 2) return SendMes(playerid, COLOR_WHITE, "Введите: /release [id игрока] [тип: 1 - наличный, 2 - банк]");
		if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете себя освободить.");
		if(PlayerInfo[params[0]][pJail] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не находиться в тюрьме.");
		if(PlayerInfo[params[0]][pJail] == 4) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок находится в деморгане.");
		if(PlayerInfo[playerid][pJail] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в тюрьме.");
		if(IsPlayerInRangeOfPlayer(15.0, playerid, params[0]) && GetPlayerVirtualWorld(playerid) == GetPlayerVirtualWorld(params[0]))
		{
	    	new price = 2000;
	    	if(IsACriminal(params[0])) price = price * 2;
			format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} досрочно выйти из тюрьмы за {"#DC_WHITE"}$%d.", PlayerInfo[params[0]][pName], price);
			SendMes(playerid, COLOR_MAIN, strings);
			totalstring = "";
			format(totalstring, sizeof(totalstring), "%s предложил Вам досрочно выйти из тюрьмы.\n\nСтоимость: $%d.\n\nВы согласны?", PlayerInfo[playerid][pName], price);
			SPD(params[0], did_lawyer, DSM, "{"#DC_MAIN"}Услуги адвоката", totalstring, "Да", "Нет");
			LoopingAnim(playerid, "SHOP", "ROB_Loop_Threat", 4.0, 1, 0, 0, 0, 0);
			format(strings, sizeof(strings), "%s выписал(-а) чек и протянул(-а) его %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
			SRM(playerid, 10.0, COLOR_LPURPLE, strings);
			SetPVarInt(playerid, "GovName", params[0]);
			SetPVarInt(GetPVarInt(playerid, "GovName"), "GovNameGive", playerid);
			SetPVarInt(GetPVarInt(playerid, "GovName"), "GovType", params[1]);
		}
		else SendMes(playerid, COLOR_DARKORANGE, "Данный игрок слишком далеко от вас.");
	} else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:debtorsell(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
 	if(IsAMayor(playerid) && IsAMayorDuty(playerid) && PlayerInfo[playerid][pRank] >= 5)
  	{
		SPD(playerid, did_debtor, DSL, "{"#DC_MAIN"}Опечатать", "{"#DC_MAIN"}1.{"#DC_WHITE"} Дом\n{"#DC_MAIN"}2.{"#DC_WHITE"} Бизнес\n{"#DC_MAIN"}3.{"#DC_WHITE"} Отель\n{"#DC_MAIN"}4.{"#DC_WHITE"} Ферма\n{"#DC_MAIN"}5.{"#DC_WHITE"} СТО", "Далее", "Отмена");
	} else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:debtorlist(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
 	if(IsAMayor(playerid) && IsAMayorDuty(playerid) && PlayerInfo[playerid][pRank] >= 5)
  	{
		SPD(playerid, did_debtor_list, DSL, "{"#DC_MAIN"}Должники", "{"#DC_MAIN"}1.{"#DC_WHITE"} Дома\n{"#DC_MAIN"}2.{"#DC_WHITE"} Бизнесы\n{"#DC_MAIN"}3.{"#DC_WHITE"} Отели\n{"#DC_MAIN"}4.{"#DC_WHITE"} Фермы\n{"#DC_MAIN"}5.{"#DC_WHITE"} СТО", "Далее", "Отмена");
	} else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:exchequer(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAMayor(playerid) && IsAMayorDuty(playerid))
	{
		if(PlayerInfo[playerid][pLeader] > 0 && PlayerInfo[playerid][pMember] > 0) GiveExchequer(playerid);
		else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:members(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	new idx = 0;
	totalstring = "", bigstring = "{"#DC_WHITE"}";
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0 || PlayerInfo[i][pMember] != PlayerInfo[playerid][pMember] || PlayerInfo[i][pAdmin] > 0) continue;
		{
 			format(totalstring, sizeof(totalstring), "%s [ID: %d]: %s (Ранг: %d) [Выговоров: %d] (%s)\n", PlayerInfo[i][pName], i, FracRank[PlayerInfo[i][pMember]][PlayerInfo[i][pRank]], PlayerInfo[i][pRank], PlayerInfo[i][pFracWarn], (PlayerInfo[i][pDuty] == 0) ? ("{"#DC_RED"}Выходной{"#DC_WHITE"}") : ("{"#DC_GREEN"}Работает{"#DC_WHITE"}"));
		    strcat(bigstring, totalstring);
			idx++;
		}
	}
	if(idx == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент членов фракции нет в сети.");
    else SendMes(playerid, COLOR_MAIN, "Всего членов фракции онлайн - {"#DC_WHITE"}%d{"#DC_MAIN"} игрок(-а/-ов).", idx);
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Состав организации", bigstring, "Отмена", "");
	return 1;
}
CMD:ud(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(!IsACop(playerid) && !IsAArmy(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в полицейском департаменте, ФБР или армии.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /ud [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
	SendMes(playerid, COLOR_MAIN, "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} посмотреть удостоверение.", PlayerInfo[params[0]][pName]);
	SendMes(params[0], COLOR_WHITE, "%s{"#DC_MAIN"} предложил Вам посмотреть удостоверение.", PlayerInfo[playerid][pName]);
	SendMes(params[0], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
	SetPVarInt(params[0], "OfferCertificate", true);
	SetPVarInt(params[0], "OffeeCertificate", playerid);
	return 1;
}
CMD:take(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid) && IsACopDuty(playerid))
	{
		if((PlayerInfo[playerid][pMember] == F_LSPD || PlayerInfo[playerid][pMember] == F_SFPD || PlayerInfo[playerid][pMember] == F_LVPD) && PlayerInfo[playerid][pRank] <= 3) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
		if(PlayerInfo[playerid][pMember] == F_FBI && PlayerInfo[playerid][pRank] <= 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
		if(IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в транспортном средстве.");
		if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /take [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(playerid == params[0]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
		if(IsPlayerInAnyVehicle(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в транспортном средстве.");
		if(PlayerInfo[playerid][pJail] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в тюрьме.");
		if(IsPlayerInRangeOfPlayer(5.0, playerid, params[0]))
		{
			SPD(playerid, did_lic_take, DSL, "{"#DC_MAIN"}Изъять", "{"#DC_MAIN"}1.{"#DC_WHITE"} Водительское удостоверение\n{"#DC_MAIN"}2.{"#DC_WHITE"} Лицензию на водный транспорт\n{"#DC_MAIN"}3.{"#DC_WHITE"} Лицензию на воздушный транспорт\n{"#DC_MAIN"}4.{"#DC_WHITE"} Лицензию на оружие\n{"#DC_MAIN"}5.{"#DC_WHITE"} Наркотики\n{"#DC_MAIN"}6.{"#DC_WHITE"} Материалы\n{"#DC_MAIN"}7.{"#DC_WHITE"} Оружие", "Далее", "Отмена");
			SetPVarInt(playerid, "LicName", params[0]);
		}
		else SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:dplant(playerid, params[]) return cmd_destroyplant(playerid, params);
CMD:destroyplant(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(!IsACop(playerid) && !IsACopDuty(playerid) && (PlayerInfo[playerid][pAdmin] < 1 || AdminLogged[playerid] == false)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	for(new i = 1; i <= TOTALPLANTS; i++)
	{
		if(PlantInfo[i][pPlanted] > 0)
		{
			if(IsAPPos(playerid, 1.0, PlantInfo[i][pPosX], PlantInfo[i][pPosY], PlantInfo[i][pPosZ]))
			{
				PlantInfo[i][pPlanted] = 0;
				PlantInfo[i][pProg] = 0.0;
				strmid(PlantInfo[i][pName], "None", 0, strlen("None"), 32);
				if(IsValidDynamicObject(PlantInfo[i][pObject])) DestroyDynamicObject(PlantInfo[i][pObject]);
				//Delete3DTextLabel(PlantInfo[i][pText]);
				ApplyAnimation(playerid, "BOMBER", "BOM_Plant", 4.0, 0, 0, 0, 0, 0, 1);
				format(strings, sizeof(strings), "%s сорвал(-а) куст марихуаны и уничтожил(-а) его", PlayerInfo[playerid][pName]);
				SRM(playerid, 10.0, COLOR_LPURPLE, strings);
				CheckTask(playerid, 49);
				CheckAchievement(playerid, 29);
				PlayerInfo[playerid][pData][9]++;
				mysql_format(mysql, request, sizeof(request), "DELETE FROM "TABLE_PLANT" WHERE `id` = '%d'", PlantInfo[i][id]);
				mysql_query(mysql, request, false);
				return 1;
			}
		}
	}
	SendMes(playerid, COLOR_DARKORANGE, "Рядом с Вами нет куста с наркотиками.");
	return 1;
}
CMD:clear(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid) && IsACopDuty(playerid) || PlayerInfo[playerid][pAdmin] > 0)
	{
		if((PlayerInfo[playerid][pMember] == F_LSPD || PlayerInfo[playerid][pMember] == F_SFPD || PlayerInfo[playerid][pMember] == F_LVPD) && PlayerInfo[playerid][pRank] <= 5) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
		if(PlayerInfo[playerid][pMember] == F_FBI && PlayerInfo[playerid][pRank] <= 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
		if(sscanf(params, "us[32]", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /clear [id игрока] [причина]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(PlayerInfo[params[0]][pWanted] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок не находится в розыске.");
		if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете снять себе розыск.");
		if(AdvertisingCheck(params[1])) return AdvertisingPunishment(playerid, params[1], 0);
		format(strings, sizeof(strings), "[F] %s снял розыск с %s. Причина: %s.", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName], params[1]);
		SendGMes(COLOR_LRED, strings, 1);
		SendMes(playerid, COLOR_MAIN, "Вы сняли уровни розыска с {"#DC_WHITE"}%s.{"#DC_MAIN"} Причина: {"#DC_WHITE"}%s.", PlayerInfo[params[0]][pName], params[1]);
		SendMes(params[0], COLOR_WHITE, "%s{"#DC_MAIN"} снял с Вас розыск. Причина: {"#DC_WHITE"}%s", PlayerInfo[playerid][pName], params[1]);
		PlayerInfo[params[0]][pWanted] = 0;
		SetPlayerWantedLevel(params[0], 0);
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:jailinfo(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
 	if((IsAMayor(playerid) && IsAMayorDuty(playerid) && PlayerInfo[playerid][pRank] == 2) || (IsACop(playerid) && IsACopDuty(playerid) || PlayerInfo[playerid][pAdmin]))
  	{
		if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /jailinfo [тип (1 - LS, 2 - SF, 3 - LV)]");
		if(params[0] < 1 || params[0] > 3) return SendMes(playerid, COLOR_DARKORANGE, "Введите тип от 1 до 3.");
		new list, total, prison_name[3][32] = {"Тюрьма г. Лос-Сантос", "Тюрьма г. Сан-Фиерро", "Тюрьма г. Лас-Вентурас"};
		foreach(new i:Player)
		{
			if(PlayerLogged[i] == 0) continue;
			if(PlayerInfo[i][pJail] == params[0]) list++;
		}
		totalstring = "", bigstring = "{"#DC_WHITE"}";
		foreach(new i:Player)
		{
			if(PlayerLogged[i] == 0) continue;
			if(PlayerInfo[i][pJail] == params[0])
			{
			    format(totalstring, sizeof(totalstring), "%s [ID: %d]: %d сек.\n", PlayerInfo[i][pName], i, PlayerInfo[i][pJailTime]);
				strcat(bigstring, totalstring);
				total++;
			}
		}
		if(total == 0) strcat(totalstring, "{"#DC_WHITE"}Информация не найдена.");
		SPD(playerid, did_null, DSM, prison_name[params[0] - 1], bigstring, "Отмена", "");
	} else return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:mdc(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
    new vehicleid = GetPlayerVehicleID(playerid);
    if(IsACop(playerid) && IsACopDuty(playerid) && PlayerInfo[playerid][pRank] >= 2)
    {
		if(VehInfo[vehicleid][vStatus] != V_POLICE) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в транспортном средстве.");
		SPD(playerid, did_mdc, DSL, "{"#DC_MAIN"}Полицейский компьютер", "{"#DC_MAIN"}1.{"#DC_WHITE"} Информация о человеке\n{"#DC_MAIN"}2.{"#DC_WHITE"} Список разыскиваемых", "Далее", "Отмена");
	} else return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:unmask(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
    if((IsACop(playerid) && IsACopDuty(playerid)) || IsAArmy(playerid) || PlayerInfo[playerid][pAdmin])
	{
	   	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /unmask [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
		if(PlayerInfo[params[0]][pMaskTime] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок не надевал маску.");
		if(!IsPlayerInRangeOfPlayer(2.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
		PlayerInfo[params[0]][pMaskTime] = 0;
		if(PlayerInfo[params[0]][pDuty] || IsACriminal(params[0]))
		{
    		if(DisguiseInfo[params[0]]) SetPlayerDisguiseColor(params[0]);
			else SetPlayerTeamColor(params[0]);
		}
		else SetPlayerColor(params[0], F_NONE_COLOR);
		format(strings, sizeof(strings), "%s сорвал(-а) маску с %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, strings);
 		if(IsPlayerAttachedObjectSlotUsed(params[0], 0)) RemovePlayerAttachedObject(params[0], 0);
	} else return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:m(playerid, params[]) return cmd_megaphone(playerid, params);
CMD:megaphone(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid) && IsACopDuty(playerid) || IsAArmy(playerid) && IsAArmyDuty(playerid) || IsAMedic(playerid) && IsAMedicDuty(playerid))
	{
		if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в своем транспортном средстве.");
		new vehicleid = GetPlayerVehicleID(playerid);
		if(!IsASpecGovVehicle(vehicleid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве.");
		if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
		if(sscanf(params, "s[128]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /megaphone [текст]");
		format(strings, sizeof(strings), "[Мегафон] %s %s [%d]: %s", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], playerid, params[0]);
		SRM(playerid, 25.0, COLOR_YELLOW, strings);
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:incar(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(!IsACop(playerid) && !IsACopDuty(playerid) && !IsAMafia(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	if((PlayerInfo[playerid][pMember] == F_LSPD || PlayerInfo[playerid][pMember] == F_SFPD || PlayerInfo[playerid][pMember] == F_LVPD) && PlayerInfo[playerid][pRank] <= 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не в транспортном средстве.");
	new vehicleid = GetPlayerVehicleID(playerid);
	if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться за рулем транспортного средства.");
	if(sscanf(params, "ui", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /incar [id игрока] [место в авто(1-3)]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(GetPlayerState(params[0]) != PLAYER_STATE_ONFOOT) return SendMes(playerid, COLOR_DARKORANGE, "Игрок уже в транспортном средстве.");
	if(IsACop(playerid) && (GetPVarInt(params[0], "PlayerCuffed") == 0 && PlayerTied[params[0]] == false)) return SendMes(playerid, COLOR_DARKORANGE, "Игрок должен быть в наручниках или связан.");
	if(IsAMafia(playerid) && PlayerTied[params[0]] == false) return SendMes(playerid, COLOR_DARKORANGE, "Игрок должен быть связан.");
	if(params[1] < 1 || params[1] > 3) return SendMes(playerid, COLOR_WHITE, "Введите: /incar [id игрока] [место в авто(1-3)]");
	new place;
	for(new i = 0; i < MAX_PLAYERS; i++)
	{
		if(IsPlayerInVehicle(i, vehicleid))
		{
			place = GetPlayerVehicleSeat(i);
			if(place == params[1]) return SendMes(playerid, COLOR_DARKORANGE, "Это место уже занято.");
		}
	}
	if(IsPlayerInRangeOfPlayer(5.0, playerid, params[0]))
	{
		if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
		PutPlayerInVeh(params[0], vehicleid, params[1]);
		format(strings, sizeof(strings), "%s затащил(-а) в авто %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, strings);
		SetPlayerControl(params[0], false);
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
	return 1;
}
CMD:pt(playerid, params[]) return cmd_patrul(playerid, params);
CMD:patrul(playerid,params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid) && IsACopDuty(playerid))
	{
		if((PlayerInfo[playerid][pMember] == F_LSPD || PlayerInfo[playerid][pMember] == F_SFPD || PlayerInfo[playerid][pMember] == F_LVPD) && PlayerInfo[playerid][pRank] <= 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	    new vehicleid = GetPlayerVehicleID(playerid);
	    if(VehInfo[vehicleid][vStatus] != V_POLICE) return SendMes(playerid, COLOR_DARKORANGE, "Вы не в служебном транспортном средстве.");
		if(Patrul[playerid] != -1)
		{
			Patrolled[Patrul[playerid]] = -1;
			Patrul[playerid] = -1;
			SendMes(playerid, COLOR_MAIN, "Вы прекратили патруль за преступником.");
			DisablePlayerRaceCheckpoint(playerid);
			return 1;
		}
		if(GetPVarInt(playerid, "pGPSWork")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете начать патруль, пока у Вас на карте есть красная метка");
		new partner = -1;
		foreach(new i:Player)
		{
			if(GetPlayerVehicleID(playerid) != GetPlayerVehicleID(i)) continue;
			if(i == playerid) continue;
			if(PlayerInfo[playerid][pMember] != PlayerInfo[i][pMember]) continue;
			partner = i;
		}
		if(partner == -1) return SendMes(playerid, COLOR_DARKORANGE, "В вашей машине нет напарника.");
		if(PlayerInfo[playerid][pJail] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в тюрьме.");
		new Float:Pos[3];
		foreach(new i:Player)
		{
			if(ProxDetectorS(500.0, playerid, i) && PlayerInfo[i][pWanted] > 0 && Patrolled[i] == -1 && GetPlayerVirtualWorld(i) == GetPlayerVirtualWorld(playerid) && GetPVarInt(i, "AFK_Time") < 3)
			{
				GetPlayerPos(i, Pos[0], Pos[1], Pos[2]);
				SetPlayerRaceCheckpoint(playerid, 0, Pos[0], Pos[1], Pos[2], 0.0, 0.0, 0.0, 1.5);
				Patrul[playerid] = i;
				Patrolled[i] = playerid;
				format(strings, sizeof(strings), "[F] %s %s начал погоню за %s [%d].", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], PlayerInfo[i][pName], i);
				SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
				SendMes(playerid, COLOR_MAIN, "Вы начали погоню за {"#DC_WHITE"}%s.", PlayerInfo[i][pName]);
				SendMes(i, COLOR_MAIN, "За вами начали погоню. Если вы выйдете из игры, последует наказание.");
				return 1;
			}
		}
		SendMes(playerid, COLOR_DARKORANGE, "В вашем районе не замечено преступников.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:pr(playerid, params[]) return cmd_pursuit(playerid, params);
CMD:pursuit(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid) && IsACopDuty(playerid))
	{
		if((PlayerInfo[playerid][pMember] == F_LSPD || PlayerInfo[playerid][pMember] == F_SFPD || PlayerInfo[playerid][pMember] == F_LVPD) && PlayerInfo[playerid][pRank] <= 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	    if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /pursuit [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(IsACop(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете начать погоню за полицейским.");
		if(!PlayerInfo[params[0]][pWanted]) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок не преступник.");
		if(PlayerInfo[params[0]][pJailTime]) return SendMes(playerid, COLOR_DARKORANGE, "Игрок в тюрьме.");
		if(Pursuer[params[0]] != -1) return SendMes(playerid, COLOR_DARKORANGE, "За игроком уже ведется преследование.");
		if(!IsPlayerInRangeOfPlayer(50.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко.");
		if(Pursued[playerid] != -1)
		{
			Pursuer[Pursued[playerid]] = -1;
			Pursued[playerid] = -1;
			SendMes(playerid, COLOR_MAIN, "Вы прекратили приследование за преступником.");
			DisablePlayerRaceCheckpoint(playerid);
			return 1;
		}
		Pursued[playerid] = params[0];
		Pursuer[params[0]] = playerid;
		PursiutTime[params[0]] = 180;
		format(strings, sizeof(strings), "[F] %s %s начал погоню за %s.", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
		SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
		SendMes(playerid, COLOR_MAIN, "Вы начали погоню за {"#DC_WHITE"}%s.", PlayerInfo[params[0]][pName]);
		SendMes(params[0], COLOR_MAIN, "За вами начали погоню. Если вы выйдете из игры, последует наказание.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:search(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid) && IsACopDuty(playerid))
	{
		if((PlayerInfo[playerid][pMember] == F_LSPD || PlayerInfo[playerid][pMember] == F_SFPD || PlayerInfo[playerid][pMember] == F_LVPD) && PlayerInfo[playerid][pRank] <= 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	    if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /search [id]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(PlayerInfo[playerid][pJail] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в тюрьме.");
		if(PlayerInfo[params[0]][pWanted] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок не находится в розыске.");
		if(GetPVarInt(playerid, "FindPlayer") == 1)
		{
			DeletePVar(playerid, "FindPlayer");
			DeletePVar(playerid, "FindPlayerID");
			SendMes(playerid, COLOR_MAIN, "Вы отключили метку на радаре.");
			KillTimer(TimerWant[playerid]);
			TimerWant[playerid] = 0;
   			DisablePlayerCheckpoint(playerid);
		}
		else
		{
			SetPVarInt(playerid, "FindPlayer", 1);
			SendMes(playerid, COLOR_MAIN, "Вы отметили {"#DC_WHITE"}%s{"#DC_MAIN"} на радаре.", PlayerInfo[params[0]][pName]);
			new Float:pos[3];
			GetPlayerPos(params[0], pos[0], pos[1], pos[2]);
			SetPlayerCheckpoint(playerid, pos[0], pos[1], pos[2], 1.0);
			SetPVarInt(playerid, "FindPlayerID", params[0]);
			TimerWant[playerid] = SetTimerEx("OnPlayerWantedPlayer", 5000, true, "i", playerid);
		}
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:tazer(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid) && IsACopDuty(playerid) || IsAMayorSecurity(playerid) && IsAMayorDuty(playerid))
	{
	    if(sscanf(params, "u", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /tazer [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(PlayerInfo[params[0]][pJail] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок находится в тюрьме.");
		if(PlayerInfo[params[0]][pWanted] >= 6) return SendMes(playerid, COLOR_DARKORANGE, "У игрока максимальный уровень розыска.");
		if(IsACop(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете оглушить полицейского.");
		if(RegisterPaintBall[params[0]] == 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете оглушить игрока на пейнтболе.");
		if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
		if(!IsPlayerInAnyVehicle(params[0])) ClearAnimations(params[0]), ApplyAnimation(params[0], "CRACK", "crckdeth2", 4.1, 0, 0, 0, 1, 0, 1);
		SetPlayerControl(params[0], false);
  		SetTimerEx("OnPlayerToggle", 7500, false, "d", params[0]);
		Freeze[params[0]] = 1;
		SendMes(playerid, COLOR_MAIN, "Вы оглушили %s.", PlayerInfo[params[0]][pName]);
		SendMes(params[0], COLOR_MAIN, "%s оглушил(-а) Вас.", PlayerInfo[playerid][pName]);
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:su(playerid, params[])return cmd_suspect(playerid, params);
CMD:suspect(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid) && IsACopDuty(playerid))
	{
		new reason[32];
	    if((PlayerInfo[playerid][pMember] == F_LSPD || PlayerInfo[playerid][pMember] == F_SFPD || PlayerInfo[playerid][pMember] == F_LVPD) && PlayerInfo[playerid][pRank] <= 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
		if(sscanf(params, "us[32]i", params[0], reason, params[2])) return SendMes(playerid, COLOR_WHITE, "Введите: /suspect [id игрока] [причина] [уровень розыска]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(PlayerInfo[params[0]][pJail] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок находится в тюрьме.");
		if(PlayerInfo[params[0]][pWanted] >= 6) return SendMes(playerid, COLOR_DARKORANGE, "У игрока максимальный уровень розыска.");
		if(IsACop(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выдать розыск полицейскому.");
		if(params[2] < 1 || params[2] > 6) return SendMes(playerid, COLOR_DARKORANGE, "Уровень розыска должен быть от 1 до 6.");
		if(params[2]+PlayerInfo[params[0]][pWanted] > 6) return SendMes(playerid, COLOR_DARKORANGE, "Уровень розыска должен быть от 1 до %d.", 6-PlayerInfo[params[0]][pWanted]);
		if(AdvertisingCheck(reason)) return AdvertisingPunishment(playerid, reason, 0);
		PlayerInfo[params[0]][pWanted] += params[2];
		PlayerInfo[params[0]][pLaw] -= params[2];
		if(PlayerInfo[params[0]][pWanted] > 6) PlayerInfo[params[0]][pWanted] = 6;
		SetPlayerWantedLevel(params[0], PlayerInfo[params[0]][pWanted]);
		format(strings, sizeof(strings), "[F] %s объявлен в розыск. Причина: %s, (+%d). Сообщил: %s", PlayerInfo[params[0]][pName], reason, params[2], PlayerInfo[playerid][pName]);
		SendGMes(COLOR_LRED, strings, 1);
		format(strings, sizeof(strings), "Вы объявлены в розыск. Причина: %s, (+%d). Сообщил: %s", reason, params[2], PlayerInfo[playerid][pName]);
		SendMes(params[0], COLOR_LRED, strings);
		CheckQuest(playerid, 25);
		CheckTask(playerid, 45);
		CheckAchievement(playerid, 25);
		PlayerInfo[playerid][pData][3]++;
		new cmd_string[12];
		format(cmd_string, sizeof(cmd_string), "%d", params[0]);
 		if(IsPlayerInRangeOfPlayer(25.0, playerid, params[0])) return cmd_pursuit(playerid, cmd_string);
		/*if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /suspect [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(PlayerInfo[params[0]][pJail] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок находится в тюрьме.");
		if(PlayerInfo[params[0]][pWanted] >= 6) return SendMes(playerid, COLOR_DARKORANGE, "У игрока максимальный уровень розыска.");
		if(IsACop(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выдать розыск полицейскому.");
		if(PlayerInfo[playerid][pJail] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в тюрьме.");
		SPD(playerid, did_police_su, DSL, "{"#DC_MAIN"}Выдача розыска", "{"#DC_MAIN"}1.{"#DC_WHITE"} Неподчинение\n{"#DC_MAIN"}2.{"#DC_WHITE"} Соучастие в преступлении\n{"#DC_MAIN"}3.{"#DC_WHITE"} Ложный вызов\n{"#DC_MAIN"}4.{"#DC_WHITE"} Наркотические препараты\n{"#DC_MAIN"}5.{"#DC_WHITE"} Взятка\n\
		{"#DC_MAIN"}6.{"#DC_WHITE"} Использование предметов гос. назначения\n{"#DC_MAIN"}7.{"#DC_WHITE"} Угон транспортного средства\n{"#DC_MAIN"}8.{"#DC_WHITE"} Шантаж, вымогательство\n{"#DC_MAIN"}9.{"#DC_WHITE"} Национализм\n{"#DC_MAIN"}10.{"#DC_WHITE"} Бандитизм\n\
		{"#DC_MAIN"}11.{"#DC_WHITE"} Терроризм\n{"#DC_MAIN"}12.{"#DC_WHITE"} Заложники\n{"#DC_MAIN"}13.{"#DC_WHITE"} Преступления против государства\n{"#DC_MAIN"}14.{"#DC_WHITE"} Угрозы\n{"#DC_MAIN"}15.{"#DC_WHITE"} Оружие\n\
		{"#DC_MAIN"}16/{"#DC_WHITE"} Попрошайничество\n{"#DC_MAIN"}17.{"#DC_WHITE"} Превышение должностных полномочий\n{"#DC_MAIN"}18.{"#DC_WHITE"} Проникновение\n{"#DC_MAIN"}19.{"#DC_WHITE"} Оскорбление\n{"#DC_MAIN"}20.{"#DC_WHITE"} Нападение", "Далее", "Отмена");
		SetPVarInt(playerid, "SuspectID", params[0]);*/
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:fine(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid) && IsACopDuty(playerid))
	{
	    if((PlayerInfo[playerid][pMember] == F_LSPD || PlayerInfo[playerid][pMember] == F_SFPD || PlayerInfo[playerid][pMember] == F_LVPD) && PlayerInfo[playerid][pRank] <= 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
		new scdplayerid, price, reason[64];
		if(sscanf(params, "uis[64]", scdplayerid, price, reason)) return SendMes(playerid, COLOR_WHITE, "Введите: /fine [id игрока] [сумма] [причина]");
		if(!IsPlayerConnected(scdplayerid)) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[scdplayerid] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(!IsPlayerInRangeOfPlayer(5.0, playerid, scdplayerid)) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от вас!");
		if(PlayerInfo[playerid][pJail] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в тюрьме.");
		if(IsACop(scdplayerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выписать штраф полицейскому.");
		if(price < 1 || price > 10000) return SendMes(playerid, COLOR_DARKORANGE, "Введите сумму штрафа от 1 до 10000.");
		SetPVarInt(scdplayerid, "TicketPlayer", playerid);
		SetPVarInt(scdplayerid, "TicketSumma", price);
		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}%s %s выписал Вам штраф в размере $%d с причиной %s.\n\nВы согласны оплатить штраф?", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], price, reason);
		SPD(scdplayerid, did_fine, DSM, "{"#DC_MAIN"}Штраф",  totalstring, "Да", "Нет");
		LoopingAnim(playerid, "SHOP", "ROB_Loop_Threat", 4.0, 1, 0, 0, 0, 0);
		format(strings, sizeof(strings), "%s выписал(-а) штрафную квитанцию и протянул ее %s", PlayerInfo[playerid][pName], PlayerInfo[scdplayerid][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, strings);
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:frisk(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid) && IsACopDuty(playerid))
	{
	    if((PlayerInfo[playerid][pMember] == F_LSPD || PlayerInfo[playerid][pMember] == F_SFPD || PlayerInfo[playerid][pMember] == F_LVPD) && PlayerInfo[playerid][pRank] <= 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
		if(IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в транспортном средстве.");
		if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /frisk [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от вас!");
		if(playerid == params[0]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
		if(IsPlayerInAnyVehicle(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в транспортном средстве.");
		if(PlayerInfo[playerid][pJail] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в тюрьме.");
		new fpdrugs[32], gunname[32];
		if(PlayerInfo[params[0]][pInventoryItems][TYPE_DRUGS] == 0) format(fpdrugs, sizeof(fpdrugs), "Нет");
		else format(fpdrugs, sizeof(fpdrugs), "%d грамм(-а)", PlayerInfo[params[0]][pInventoryItems][TYPE_DRUGS]);
		SetPVarInt(playerid, "FriskGunInfo", 0);
		totalstring = "", bigstring = "{"#DC_WHITE"}";
		for (new i = 0; i < 13; i++)
		{
			GetPlayerWeaponData(params[0], i, GWeapons[i][0], GWeapons[i][1]);
			GetWeaponName(GWeapons[i][0], gunname, 32);
			if(GWeapons[i][0] == 18) strmid(gunname, "Molotov Cocktail", 0, strlen("Molotov Cocktail"));
			else if(GWeapons[i][0] == 44) strmid(gunname, "Night Vis Goggles", 0, strlen("Night Vis Goggles"));
			else if(GWeapons[i][0] == 45) strmid(gunname, "Thermal Goggles", 0, strlen("Thermal Goggles"));
			if(GWeapons[i][0] != 0)
			{
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Оружие:\t\t%s\nПатроны:\t\t%d\n\n", gunname, GWeapons[i][1]);
				strcat(bigstring, totalstring);
				SetPVarInt(playerid, "FriskGunInfo", 1);
			}
		}
		if(GetPVarInt(playerid, "FriskGunInfo") == 0)
		{
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Оружие:\t\tНет\nПатроны:\t\tНет\n\n");
			strcat(bigstring, totalstring);
		}
		format(totalstring, sizeof(totalstring), "Наркотики:\t\t%s\n", fpdrugs); strcat(bigstring, totalstring);
		SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Обыск игрока", bigstring, "Отмена", "");
		format(strings, sizeof(strings), "%s обыскал(-а) %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
		LoopingAnim(params[0], "ROB_BANK", "SHP_HandsUp_Scr", 4.0, 0, 1, 1, 1, 0);
		SRM(playerid, 10.0, COLOR_LPURPLE, strings);
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:arrest(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid) && IsACopDuty(playerid))
	{
		if(IsAPPos(playerid, 25.0, 1568.7626,-1694.1775,5.8906) || IsAPPos(playerid, 25.0, -1589.6727,716.3749,-5.2422) || IsAPPos(playerid, 25.0, 2282.3630,2430.6592,3.2734) || IsAPPos(playerid, 25.0, -671.7816,-2720.3164,1022.6334))
		{
			if(sscanf(params, "u", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /arrest [id игрока]");
			if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
			if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
			if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко.");
			if(PlayerInfo[params[0]][pJail] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок уже находиться в тюрьме.");
			if(PlayerInfo[params[0]][pWanted] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок должен иметь хотя бы 1 уровень розыска.");
			if(IsACop(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете арестовать полицейского.");
			if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
		    if(IsAPPos(playerid, 25.0, -671.7816,-2720.3164,1022.6334) && GetPlayerVirtualWorld(playerid) == 1 || IsAPPos(playerid, 25.0, 1568.7626,-1694.1775,5.8906)) PlayerInfo[params[0]][pJail] = 1;
		 	else if(IsAPPos(playerid, 25.0, -671.7816,-2720.3164,1022.6334) && GetPlayerVirtualWorld(playerid) == 2 || IsAPPos(playerid, 25.0, -1589.6727,716.3749,-5.2422)) PlayerInfo[params[0]][pJail] = 2;
			else if(IsAPPos(playerid, 25.0, -671.7816,-2720.3164,1022.6334) && GetPlayerVirtualWorld(playerid) == 3 || IsAPPos(playerid, 25.0, -671.7816,-2720.3164,1022.6334)) PlayerInfo[params[0]][pJail] = 3;
			switch(random(4))
			{
			    case 0: SetPlayerPos(params[0], -677.0667+random(2),-2714.2983+random(2),1022.6334), SetPlayerFacingAngle(params[0], 271.3859);
			    case 1: SetPlayerPos(params[0], -677.0667+random(2),-2718.2883+random(2),1022.6334), SetPlayerFacingAngle(params[0], 271.3859);
			    case 2: SetPlayerPos(params[0], -677.0667+random(2),-2722.2983+random(2),1022.6334), SetPlayerFacingAngle(params[0], 271.3859);
			    case 3: SetPlayerPos(params[0], -677.0667+random(2),-2726.2983+random(2),1022.6334), SetPlayerFacingAngle(params[0], 271.3859);
				default: SetPlayerPos(params[0], -677.0667+random(2),-2714.2983+random(2),1022.6334), SetPlayerFacingAngle(params[0], 271.3859);
			}
			SetPlayerInterior(params[0], 1);
			SetPlayerVirtualWorld(params[0], PlayerInfo[params[0]][pJail]);
			ResetPlayerWeapon(params[0]);
			ResetPlayerWeaponBase(params[0]);
			PlayerInfo[params[0]][pJailTime] = 600 * PlayerInfo[params[0]][pWanted];
			SetPVarInt(params[0], "CUFFED", 0);
			SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
			if(IsPlayerAttachedObjectSlotUsed(params[0], 3)) RemovePlayerAttachedObject(params[0], 3);
			if(FollowPlayer[params[0]] != MAX_PLAYERS-1) ResetFollowToPlayer(params[0], playerid);
			DeletePVar(params[0], "PlayerCuffed");
			format(strings, sizeof(strings), "Вы посадили в камеру {"#DC_WHITE"}%s{"#DC_MAIN"} на {"#DC_WHITE"}%d{"#DC_MAIN"} минут(-ы/-у).", PlayerInfo[params[0]][pName], PlayerInfo[params[0]][pJailTime]/60);
			SendMes(playerid, COLOR_MAIN, strings);
			format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} посадил Вас в камеру на {"#DC_WHITE"}%d{"#DC_MAIN"} минут(-ы/-у).", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], PlayerInfo[params[0]][pJailTime]/60);
			SendMes(params[0], COLOR_WHITE, strings);
			format(strings, sizeof(strings), "%s %s [%d] арестовал %s [%d].", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0]);
			SendGMes(COLOR_LRED, strings, 1);
			SetPlayerWantedLevel(params[0], 0);
			SetPlayerControl(params[0], true);
			PlayerInfo[playerid][pPayCheck] += 200*PlayerInfo[params[0]][pWanted];
			format(strings, sizeof(strings), "~g~$%d", 200*PlayerInfo[params[0]][pWanted]);
			GameTextForPlayer(playerid, strings, 5000, 1);
			PlayerInfo[params[0]][pWanted] = 0;
			CheckQuest(playerid, 26);
			CheckTask(playerid, 48);
			CheckAchievement(playerid, 28);
			PlayerInfo[playerid][pData][8]++;
		}
		else SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться около подземного входа в департамент.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:cuff(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if((IsACop(playerid) && IsACopDuty(playerid)) || PlayerInfo[playerid][pAdmin])
	{
	    if((PlayerInfo[playerid][pMember] == F_LSPD || PlayerInfo[playerid][pMember] == F_SFPD || PlayerInfo[playerid][pMember] == F_LVPD) && PlayerInfo[playerid][pRank] <= 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
		if(GetPVarInt(playerid, "PlayerCuffed") == 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы в наручниках, действие невозможно.");
		if(PlayerTied[playerid] == true) return SendMes(playerid, COLOR_DARKORANGE, "Вы связаны, действие невозможно.");
		if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /cuff [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
		if(GetPVarInt(params[0], "PlayerCuffed") == 1) return SendMes(playerid, COLOR_DARKORANGE, "Игрок уже в наручниках.");
		if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
		if(PlayerInfo[playerid][pJail] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в тюрьме.");
		SetPVarInt(params[0], "CUFFED", 1);
		SetPVarInt(params[0], "PlayerCuffed", 1);
		SetPlayerAttachedObject(params[0], 3, 19418, 6, -0.011000, 0.028000, -0.022000, -15.600012, -33.699977, -81.700035, 0.891999, 1.000000, 1.168000);
		SetPlayerSpecialAction(params[0], SPECIAL_ACTION_CUFFED);
		format(strings, sizeof(strings), "%s надел(-а) наручники на %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, strings);
		format(strings, sizeof(strings), "~r~cuffed");
		GameTextForPlayer(params[0], strings, 5000, 5);
		SetTimerEx("OnPlayerUnCuff", 60 * 1000 * 10, false, "d", params[0]);
	} else return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:uncuff(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if((IsACop(playerid) && IsACopDuty(playerid)) || PlayerInfo[playerid][pAdmin])
	{
		if((PlayerInfo[playerid][pMember] == F_LSPD || PlayerInfo[playerid][pMember] == F_SFPD || PlayerInfo[playerid][pMember] == F_LVPD) && PlayerInfo[playerid][pRank] <= 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
		if(GetPVarInt(playerid, "PlayerCuffed") == 1 && PlayerInfo[playerid][pAdmin] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы в наручниках, действие невозможно.");
		if(PlayerTied[playerid] == true) return SendMes(playerid, COLOR_DARKORANGE, "Вы связаны, действие невозможно.");
		if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /uncuff [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(params[0] == playerid && PlayerInfo[playerid][pAdmin] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
		if(GetPVarInt(params[0], "PlayerCuffed") == 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не в наручниках.");
		if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
		if(PlayerInfo[playerid][pJail] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в тюрьме.");
		SetPVarInt(params[0], "CUFFED", 0);
		SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
		DeletePVar(params[0], "PlayerCuffed");
	 	if(IsPlayerAttachedObjectSlotUsed(params[0], 3)) RemovePlayerAttachedObject(params[0], 3);
		format(strings, sizeof(strings), "%s снял(-а) наручники с %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, strings);
		format(strings, sizeof(strings), "~g~uncuffed");
		GameTextForPlayer(params[0], strings, 5000, 5);
	} else return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:wanted(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid) && IsACopDuty(playerid))
	{
		new idx = 0;
		totalstring = "", bigstring = "{"#DC_WHITE"}";
		foreach(new i:Player)
		{
			if(PlayerLogged[i] == 0 || PlayerInfo[i][pWanted] == 0) continue;
			{
				format(totalstring, sizeof(totalstring), "%s [ID: %d]: %d\n", PlayerInfo[i][pName], i, PlayerInfo[i][pWanted]);
				strcat(bigstring, totalstring);
				idx++;
			}
		}
		if(idx == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент нет игроков в розыске.");
		else SendMes(playerid, COLOR_MAIN, "Всего в розыске - {"#DC_WHITE"}%d{"#DC_MAIN"} игрок(ов).", idx);
		SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Список разыскиваемых", bigstring, "Отмена", "");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:ram(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid) && IsACopDuty(playerid) || PlayerInfo[playerid][pAdmin] > 0)
	{
		if((PlayerInfo[playerid][pMember] == F_LSPD || PlayerInfo[playerid][pMember] == F_SFPD || PlayerInfo[playerid][pMember] == F_LVPD) && PlayerInfo[playerid][pRank] <= 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
		new total = 0;
		for(new i = 1; i <= TOTALHOUSE; i++)
		{
			if(IsAPPos(playerid, 3.0, HouseInfo[i][hEnterX], HouseInfo[i][hEnterY], HouseInfo[i][hEnterZ]))
			{
				if(IsACop(playerid) && PlayerInfo[playerid][pAdmin] == 0)
				{
				    HouseInfo[i][hLock] = 0;
					format(strings, sizeof(strings), "%s выбил(-а) дверь дома", PlayerInfo[playerid][pName]);
					SRM(playerid, 10.0, COLOR_LPURPLE, strings);
				}
				SetPlayerPos(playerid, HouseInfo[i][hExitX], HouseInfo[i][hExitY], HouseInfo[i][hExitZ]);
				SetPlayerInterior(playerid, HouseInfo[i][hInterior]);
				SetPlayerVirtualWorld(playerid, HouseInfo[i][hWorld]);
				SetTimerEx("OnPlayerStopPickup", 3000, 0, "i", playerid);
				SetPVarInt(playerid, "PickupEntered", 1);
				total++;
				break;
			}
		}
		if(total == 0) SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с домом.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
/*CMD:break(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid) && IsACopDuty(playerid))
	{
		if((PlayerInfo[playerid][pMember] == F_LSPD || PlayerInfo[playerid][pMember] == F_SFPD || PlayerInfo[playerid][pMember] == F_LVPD) && PlayerInfo[playerid][pRank] <= 4) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
		if(PlayerInfo[playerid][pMember] == F_FBI && PlayerInfo[playerid][pRank] <= 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
		if(IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в транспортном средстве.");
		totalstring = "";
		for(new i; i < sizeof(BreakListName); i++)
		{
			format(totalstring, sizeof(totalstring), "%s{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", totalstring, i + 1, BreakListName[i]);
		}
		SPD(playerid, did_break, DSL, "{"#DC_MAIN"}Объекты", totalstring, "Далее", "Отмена");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:dbreak(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACop(playerid) && IsACopDuty(playerid))
	{
		if((PlayerInfo[playerid][pMember] == F_LSPD || PlayerInfo[playerid][pMember] == F_SFPD || PlayerInfo[playerid][pMember] == F_LVPD) && PlayerInfo[playerid][pRank] <= 4) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
		if(PlayerInfo[playerid][pMember] == F_FBI && PlayerInfo[playerid][pRank] <= 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
		if(IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в транспортном средстве.");
		if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /dbreak [id]");
		if(params[0] < 1 || params[0] > 10) return SendMes(playerid, COLOR_DARKORANGE, "ID должен быть от 1 до 10.");
		params[0]--;
		if(Break[playerid][params[0]] > 0)
		{
			if(IsValidDynamicObject(Break[playerid][params[0]])) DestroyDynamicObject(Break[playerid][params[0]]);
			Delete3DTextLabel(Break3DText[playerid][params[0]]);
			Break[playerid][params[0]] = 0;
			SendMes(playerid, COLOR_MAIN, "Вы удалили объект.");
		}
		else SendMes(playerid, COLOR_DARKORANGE, "Объект не найден.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}*/
CMD:heal(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAMedic(playerid) && IsAMedicDuty(playerid))
	{
		if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /heal [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
		if(playerid == params[0]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете лечить себя.");
		if(IsAPPos(playerid, 100.0, -2954.6960,1082.3297,1013.1392) || IsPlayerInAnyVehicle(playerid))
		{
			if(GetPlayerVehicleID(playerid)) if(VehInfo[GetPlayerVehicleID(playerid)][vStatus] != V_MEDIC) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве или в больнице.");
			new Float:health;
			GetPlayerHealth(params[0], health);
			if(health >= 100.0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок полностью здоров.");
			if(IsAMedicDuty(playerid))
			{
				SendMes(playerid, COLOR_MAIN, "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} вылечиться.", PlayerInfo[params[0]][pName]);
				totalstring = "";
				format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Желаете вылечиться за $%d?", HealCost * floatround(100.0 - health, floatround_ceil));
				SPD(params[0], did_heal, DSM, "{"#DC_MAIN"}Лечение", totalstring, "Да", "Нет");
				SetPVarInt(params[0], "PlayerHeal", playerid);
			} else SendMes(playerid, COLOR_DARKORANGE, "Вы должны выйти на дежурство.");
		} else return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве или в больнице.");
	} else return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:aninjection(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAMedic(playerid) && IsAMedicDuty(playerid) && PlayerInfo[playerid][pRank] == 7)
	{
		if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /aninjection [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
		if(playerid == params[0]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете сделать себе укол.");
		if(InjectionInfo[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не оплачивал лечение заболеваний.");
		if(IsAPPos(playerid, 100.0, -2954.6960,1082.3297,1013.1392))
		{
			if(IsAMedicDuty(playerid))
			{
			    new diseaseid = InjectionInfo[params[0]] - 1, salary = 500 * PlayerInfo[params[0]][pDisease][diseaseid];
				SendMes(playerid, COLOR_MAIN, "Вы сделали {"#DC_WHITE"}%s{"#DC_MAIN"} укол от заболевания.", PlayerInfo[params[0]][pName]);
			    PlayerInfo[playerid][pPayCheck] += salary;
                SendMes(playerid, COLOR_MAIN, "К заработной плате добавлено {"#DC_WHITE"}$%d{"#DC_MAIN"} за сделанный укол.", salary);
                CheckQuest(playerid, 34);
				CheckTask(playerid, 51);
				CheckAchievement(playerid, 31);
				PlayerInfo[playerid][pData][11]++;
			    PlayerInfo[params[0]][pDisease][diseaseid] = 0;
			    SendMes(params[0], COLOR_MAIN, "Врач-инфекционист {"#DC_WHITE"}%s{"#DC_MAIN"} сделал Вам укол.", PlayerInfo[playerid][pName]);
				SendMes(params[0], COLOR_MAIN, "Вы были вылечены от заболевания.");
				if(InjectionShow[params[0]] == true)
				{
					/*Delete3DTextLabel(InjectionText[params[0]]);*/
					InjectionInfo[params[0]] = 0;
					InjectionShow[params[0]] = false;
				}
			} else SendMes(playerid, COLOR_DARKORANGE, "Вы должны выйти на дежурство.");
		} else return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в операционной.");
	} else return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:addiction(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAMedic(playerid) && IsAMedicDuty(playerid) && PlayerInfo[playerid][pRank] == 6)
	{
		if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /addiction [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
		if(playerid == params[0]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете лечить себя.");
		if(IsAPPos(playerid, 100.0, -2954.6960,1082.3297,1013.1392) || IsPlayerInAnyVehicle(playerid))
		{
			if(GetPlayerVehicleID(playerid)) if(VehInfo[GetPlayerVehicleID(playerid)][vStatus] != V_MEDIC) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве или в больнице.");
			if(IsAMedicDuty(playerid))
			{
				if(PlayerInfo[params[0]][pAddictionInfo][0] > 5000)
				{
					if(PlayerInfo[params[0]][pAddictionLimit] >= MAX_ADDICTION_LIMIT) return SendMes(playerid, COLOR_DARKORANGE, "Игрок оплатил максимальное количество уколов от наркозависимости за сегодня.");
					SendMes(playerid, COLOR_MAIN, "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} сделать укол от наркозависимости.", PlayerInfo[params[0]][pName]);
					totalstring = "";
					format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Желаете укол от наркозависимости за {"#DC_GREEN"}$%d?", HealCost * 2);
					SPD(params[0], did_heal_drugs, DSM, "{"#DC_MAIN"}Укол от наркозависимости", totalstring, "Да", "Нет");
					SetPVarInt(params[0], "PlayerHealDrugs", playerid);
				} else SendMes(playerid, COLOR_DARKORANGE, "Игрок не нуждается в уколе.");
			} else SendMes(playerid, COLOR_DARKORANGE, "Вы должны выйти на дежурство.");
		} else return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве или в больнице.");
	} else return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:givemc(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAMedic(playerid) && IsAMedicDuty(playerid) && PlayerInfo[playerid][pRank] >= 3)
	{
		if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /givemc [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
		if(playerid == params[0]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выдать себе мед. карту.");
		if(IsAPPos(playerid, 100.0, -2954.6960,1082.3297,1013.1392))
		{
			if(PlayerInfo[params[0]][pMedicalCard]) return SendMes(playerid, COLOR_DARKORANGE, "У игрока уже есть мед. карта.");
			PlayerInfo[params[0]][pMedicalCard] = 1;
			format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} выдал(-а) Вам мед. карту.", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName]);
			SendMes(params[0], COLOR_WHITE, strings);
			SendMes(playerid, COLOR_MAIN, "Вы выдали {"#DC_WHITE"}%s{"#DC_MAIN"} мед. карту.", PlayerInfo[params[0]][pName]);
			PlayerInfo[playerid][pData][12]++;
			CheckQuest(playerid, 35);
			CheckTask(playerid, 52);
			CheckAchievement(playerid, 32);
		} else return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в больнице.");
	} else return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:sethealcost(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAMedic(playerid) && IsAMedicDuty(playerid))
	{
		if(PlayerInfo[playerid][pLeader] > 0 && PlayerInfo[playerid][pMember] > 0)
		{
			if(!MedicLimitCost) return SendMes(playerid, COLOR_DARKORANGE, "Сегодня больше нельзя изменить стоимость лечения.");
		    if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /sethealcost [стоимость]");
			if(params[0] < 1 || params[0] > 5) return SendMes(playerid, COLOR_DARKORANGE, "Введите стоимость лечения от $1 до $5.");
			HealCost = params[0];
			SendMes(playerid, COLOR_MAIN, "Вы изменили стоимость лечения. Стоимость лечения: {"#DC_WHITE"}$%d.", HealCost);
			SetOtherInt("healcost", HealCost);
			MedicLimitCost--;
			SaveMedicLimit();
			SCMTAEx(COLOR_WHITE, "------========= [ Гос. новости ] =========------", 4);
			format(strings, sizeof(strings), "[%s]: %s %s [%d] изменил стоимость лечения на $%d.", FracInfo[PlayerInfo[playerid][pMember]][fName], FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], playerid, HealCost);
			SCMTAEx(COLOR_PINK, strings, 4);
		}
		else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:sethealdrugs(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAMedic(playerid) && IsAMedicDuty(playerid))
	{
		if(PlayerInfo[playerid][pLeader] > 0 && PlayerInfo[playerid][pMember] > 0)
		{
			if(!MedicLimitCost) return SendMes(playerid, COLOR_DARKORANGE, "Сегодня больше нельзя изменить стоимость лечения.");
		    if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /sethealdrugs [стоимость]");
			if(params[0] < 2500 || params[0] > 5000) return SendMes(playerid, COLOR_DARKORANGE, "Введите стоимость лечения от $2500 до $5000.");
			HealDrugs = params[0];
			SendMes(playerid, COLOR_MAIN, "Вы изменили стоимость лечения от наркозависимости. Стоимость лечения: {"#DC_WHITE"}$%d.", HealDrugs);
			SetOtherInt("healdrugs", HealDrugs);
			MedicLimitCost--;
			SaveMedicLimit();
			SCMTAEx(COLOR_WHITE, "------========= [ Гос. новости ] =========------", 4);
			format(strings, sizeof(strings), "[%s]: %s %s [%d] изменил стоимость лечения от наркозависимости на $%d.", FracInfo[PlayerInfo[playerid][pMember]][fName], FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], playerid, HealDrugs);
			SCMTAEx(COLOR_PINK, strings, 4);
		}
		else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:sethealdisease(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAMedic(playerid) && IsAMedicDuty(playerid))
	{
		if(PlayerInfo[playerid][pLeader] > 0 && PlayerInfo[playerid][pMember] > 0)
		{
			if(!MedicLimitCost) return SendMes(playerid, COLOR_DARKORANGE, "Сегодня больше нельзя изменить стоимость лечения.");
		    if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /sethealdisease [ID болезни] [стоимость]");
			if(params[0] < 1 || params[0] > 3) return SendMes(playerid, COLOR_DARKORANGE, "Введите ID болезни от 1 до 3.");
			if(params[0] == 1 && (params[1] < 2500 || params[1] > 5000)) return SendMes(playerid, COLOR_DARKORANGE, "Введите стоимость лечения от $2500 до $5000.");
			if(params[0] == 2 && (params[1] < 5000 || params[1] > 10000)) return SendMes(playerid, COLOR_DARKORANGE, "Введите стоимость лечения от $5000 до $10000.");
			if(params[0] == 3 && (params[1] < 10000 || params[1] > 15000)) return SendMes(playerid, COLOR_DARKORANGE, "Введите стоимость лечения от $10000 до $15000.");
			Disease[params[0] - 1] = params[1];
			new diseasename[3][24] = {"ОРВИ", "Диарея", "СПИД"};
			SendMes(playerid, COLOR_MAIN, "Вы изменили стоимость лечения %s. Стоимость лечения: {"#DC_WHITE"}$%d.", diseasename[params[0] - 1], Disease[params[0] - 1]);
			if(params[0] == 1) SetOtherInt("diseaseone", Disease[0]);
			else if(params[0] == 2) SetOtherInt("diseasetwo", Disease[1]);
			else if(params[0] == 3) SetOtherInt("diseasethree", Disease[2]);
			MedicLimitCost--;
			SaveMedicLimit();
			SCMTAEx(COLOR_WHITE, "------========= [ Гос. новости ] =========------", 4);
			format(strings, sizeof(strings), "[%s]: %s %s [%d] изменил стоимость лечения от %s на $%d.", FracInfo[PlayerInfo[playerid][pMember]][fName], FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], playerid, diseasename[params[0] - 1], Disease[params[0] - 1]);
			SCMTAEx(COLOR_PINK, strings, 4);
		}
		else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:hospital(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pHospitalPlace] != 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас уже есть койка.");
	new total = 0;
	for(new i = 0; i < sizeof(HospitalPlace); i++)
	{
		if(HospitalPlace[i][hStatus] != -1) continue;
		if(IsPlayerInRangeOfPoint(playerid, 2.5, HospitalPlace[i][hPlacePos][0], HospitalPlace[i][hPlacePos][1], HospitalPlace[i][hPlacePos][2]) && GetPlayerVirtualWorld(playerid) == HospitalPlace[i][hPlaceWorld])
		{
			PlayerInfo[playerid][pHospital] = 1;
			PlayerInfo[playerid][pHospitalPlace] = i + 1;
		    HospitalPlace[i][hStatus] = playerid;
			SendMes(playerid, COLOR_MAIN, "Вы заняли койку {"#DC_WHITE"}#%d,{"#DC_MAIN"} теперь Ваше лечение будет проходить быстрее.", HospitalPlace[i][hPlaceID]);
			UpdatePlace(i);
			total++;
		    break;
		}
	}
	if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Рядом с Вами нет свободных коек.");
	return 1;
}
CMD:load(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAArmy(playerid) || IsACriminal(playerid) || IsAMedic(playerid))
	{
		if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в транспортном средстве.");
		new vehicleid = GetPlayerVehicleID(playerid);
		if(VehInfo[vehicleid][vStatus] == V_GUNCAR)
	 	{
			if(VehGunInfo[vehicleid][vGunLoading] || VehGunInfo[vehicleid][vGunUnloading]) return SendMes(playerid, COLOR_DARKORANGE, "Транспортное средство уже загружается или разгружается.");
			VehGunInfo[vehicleid][vGunVid] = vehicleid;
			VehGunInfo[vehicleid][vGunLoading] = true;
			RemoveFromVehicle(playerid);
		    new Float:x, Float:y, Float:z, Float:angle, Float:distance;
		    GetVehicleModelInfo(GetVehicleModel(vehicleid), 1, x, distance, z);
		    distance = distance/2 + 0.1;
		    GetVehiclePos(vehicleid, x, y, z);
		    GetVehicleZAngle(vehicleid, angle);
		    x += (distance * floatsin(-angle+180, degrees));
		    y += (distance * floatcos(-angle+180, degrees));
			VehGunInfo[vehicleid][vGunPickup] = CreateDynamicPickup(19134, 1, x, y, z, -1, -1, -1, 10.0);
			if(IsAArmy(playerid) || IsACriminal(playerid)) format(strings, sizeof(strings), "Багажник\n\nВ багажнике:\n{"#DC_WHITE"}%d ед. оружия.", VehGunInfo[vehicleid][vGunGun]);
			else format(strings, sizeof(strings), "Багажник\n\nВ багажнике:\n{"#DC_WHITE"}%d ед. медикаментов.", VehGunInfo[vehicleid][vGunGun]);
			VehGunInfo[vehicleid][vGunText] = Create3DTextLabel(strings, COLOR_YELLOW, x, y, z+0.5, 10.0, 0, 0);
			VehGunInfo[vehicleid][vGunArea] = CreateDynamicSphere(x, y, z, 2.5);
			SendMes(playerid, COLOR_MAIN, "Вы начали загрузку транспортного средства.");
			GetVehicleParamsEx(vehicleid, engine, lights, alarm, doors, bonnet, boot, objective);
			SetVehicleParamsEx(vehicleid, VEHICLE_PARAMS_OFF, lights, alarm, doors, bonnet, boot, objective);
			Engine[vehicleid] = false;
	  	}
	  	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете начать загрузку в этом транспортном средстве.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:unload(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAArmy(playerid) || IsACriminal(playerid) || IsAMedic(playerid))
	{
		if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в транспортном средстве.");
		new vehicleid = GetPlayerVehicleID(playerid);
		if(VehInfo[vehicleid][vStatus] == V_GUNCAR)
	 	{
			if(VehGunInfo[vehicleid][vGunLoading] || VehGunInfo[vehicleid][vGunUnloading]) return SendMes(playerid, COLOR_DARKORANGE, "Транспортное средство уже загружается или разгружается.");
			VehGunInfo[vehicleid][vGunVid] = vehicleid;
			VehGunInfo[vehicleid][vGunUnloading] = true;
			RemoveFromVehicle(playerid);
		    new Float:x, Float:y, Float:z, Float:angle, Float:distance;
		    GetVehicleModelInfo(GetVehicleModel(vehicleid), 1, x, distance, z);
		    distance = distance/2 + 0.1;
		    GetVehiclePos(vehicleid, x, y, z);
		    GetVehicleZAngle(vehicleid, angle);
		    x += (distance * floatsin(-angle+180, degrees));
		    y += (distance * floatcos(-angle+180, degrees));
			VehGunInfo[vehicleid][vGunPickup] = CreateDynamicPickup(19134, 1, x, y, z, -1, -1, -1, 10.0);
			format(strings, sizeof(strings), "Багажник\n\nВ багажнике:\n{"#DC_WHITE"}%d ед. оружия.", VehGunInfo[vehicleid][vGunGun]);
			VehGunInfo[vehicleid][vGunText] = Create3DTextLabel(strings, COLOR_YELLOW, x, y, z+0.5, 10.0, 0, 0);
			VehGunInfo[vehicleid][vGunArea] = CreateDynamicSphere(x, y, z, 2.5);
			SendMes(playerid, COLOR_MAIN, "Вы начали разгрузку транспортного средства.");
			GetVehicleParamsEx(vehicleid, engine, lights, alarm, doors, bonnet, boot, objective);
			SetVehicleParamsEx(vehicleid, VEHICLE_PARAMS_OFF, lights, alarm, doors, bonnet, boot, objective);
			Engine[vehicleid] = false;
	  	}
	  	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете начать разгрузку в этом транспортном средстве.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:news(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	new vehicleid = GetPlayerVehicleID(playerid);
	if(IsANews(playerid) && IsANewsDuty(playerid) && PlayerInfo[playerid][pRank] >= 4)
	{
		if(IsAPPos(playerid, 100.0, -2850.1343,106.0827,1011.2579)) NewsPanel(playerid);
		else if(VehInfo[vehicleid][vStatus] == V_NEWS) NewsPanel(playerid);
		else SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве или студии новостей.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:edit(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsANews(playerid) && IsANewsDuty(playerid) && PlayerInfo[playerid][pRank] >= 2) AdvertList(playerid);
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:invitebc(playerid,params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsANews(playerid) && IsANewsDuty(playerid) && PlayerInfo[playerid][pRank] >= 4)
	{
		if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /invitebc [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
		new vehicleid = GetPlayerVehicleID(playerid);
		if(!IsPlayerInRangeOfPlayer(10.0, playerid, params[0]) && !EnterBroadcast[params[0]]) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
		if(!EnterBroadcast[params[0]])
		{
			if(IsANews(playerid) || VehInfo[vehicleid][vStatus] == V_NEWS && IsPlayerInVehicle(params[0], vehicleid))
			{
				PlayerInfo[params[0]][pNews] = PlayerInfo[playerid][pMember] - 7;
				EnterBroadcast[params[0]] = PlayerInfo[playerid][pMember] - 7;
				format(strings, sizeof(strings), "[F] %s пригласил(-а) %s в эфир", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
	  			SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
				format(strings, sizeof(strings), "%s{"#DC_MAIN"} пригласил(-а) Вас в эфир.", PlayerInfo[playerid][pName]);
	  			SendMes(params[0], COLOR_WHITE, strings);
			}
		}
		else if(EnterBroadcast[params[0]] == PlayerInfo[playerid][pMember] - 7)
		{
			format(strings, sizeof(strings), "[F] %s отключил(-а) %s из эфир", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
  			SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
			EnterBroadcast[params[0]] = 0;
			format(strings, sizeof(strings), "%s{"#DC_MAIN"} отключил(-а) Вас из эфира.", PlayerInfo[playerid][pName]);
  			SendMes(params[0], COLOR_WHITE, strings);
		}
		else SendMes(playerid, COLOR_DARKORANGE, "Игрок не находится в эфире Вашей радиостанции.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:plant(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(!IsAGang(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	if(PlayerInfo[playerid][pInventoryItems][TYPE_SEED] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет семян для посадки.");
	if(TOTALPLANTS >= MAX_PLANTS-2) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент вы не можете посадить семена.");
	if(GetPlayerWeapon(playerid) == 6)
	{
	    new total;
	    for(new i = 1; i <= TOTALGZ; i++)
		{
			if(IsAZonePlayer(playerid, GZInfo[i][gPos][0], GZInfo[i][gPos][1], GZInfo[i][gPos][2], GZInfo[i][gPos][3]))
			{
			    if(GZInfo[i][gFraction] != PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться на своей территории.");
				total++;
				break;
			}
		}
		if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться на своей территории.");
		for(new d = 0; d <= TOTALPLANTS; d++)
		{
		    if(strcmp(PlayerInfo[playerid][pName], PlantInfo[d][pName], true)) continue;
		    total++;
		}
		if(total > 6) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете посадить более 5 кустов одновременно.");
		TOTALPLANTS++;
		if(PlantInfo[TOTALPLANTS][pPlanted] == 0)
		{
			new Float:plant_x, Float:plant_y, Float:plant_z;
			GetPlayerPos(playerid, plant_x, plant_y, plant_z);
			PlantInfo[TOTALPLANTS][pPosX] = plant_x;
			PlantInfo[TOTALPLANTS][pPosY] = plant_y;
			PlantInfo[TOTALPLANTS][pPosZ] = plant_z;
			PlantInfo[TOTALPLANTS][pInterior] = GetPlayerInterior(playerid);
			PlantInfo[TOTALPLANTS][pWorld] = GetPlayerVirtualWorld(playerid);
			PlantInfo[TOTALPLANTS][pPlanted] = 1;
			PlantInfo[TOTALPLANTS][pProg] = 1.0;
			PlayerInfo[playerid][pInventoryItems][TYPE_SEED]--;
			SavePlayerInventoryItems(playerid, TYPE_SEED);
			strmid(PlantInfo[TOTALPLANTS][pName], PlayerInfo[playerid][pName], 0, strlen(PlayerInfo[playerid][pName]), MAX_PLAYER_NAME);
			PlantInfo[TOTALPLANTS][pObject] = CreateDynamicObject(3409, PlantInfo[TOTALPLANTS][pPosX], PlantInfo[TOTALPLANTS][pPosY], PlantInfo[TOTALPLANTS][pPosZ]\
			-1.2, 0.0, 0.0, 0.0, PlantInfo[TOTALPLANTS][pWorld], PlantInfo[TOTALPLANTS][pInterior], -1, 120.00, 120.00);
			/*format(strings, sizeof(strings), "%0.1f%", PlantInfo[TOTALPLANTS][pProg]/5);
			PlantInfo[TOTALPLANTS][pText] = Create3DTextLabel(strings, COLOR_WHITE, PlantInfo[TOTALPLANTS][pPosX], PlantInfo[TOTALPLANTS][pPosY], PlantInfo[TOTALPLANTS][pPosZ]+0.5, 10.0, 0, 0);*/
			ApplyAnimation(playerid, "BOMBER", "BOM_Plant", 4.0, 0, 0, 0, 0, 0, 1);
			format(strings, sizeof(strings), "%s раскапывает землю и сажает семена", PlayerInfo[playerid][pName]);
			SRM(playerid, 10.0, COLOR_LPURPLE, strings);
			CheckQuest(playerid, 41);
			CheckTask(playerid, 58);
			CheckAchievement(playerid, 38);
			PlayerInfo[playerid][pData][18]++;
			mysql_format(mysql, request, sizeof(request), "INSERT INTO `"TABLE_PLANT"`(`name`, `x`, `y`, `z`, `world`, `interior`, `prog`, `planted`) VALUES ('%s', '%f', '%f', '%f', %d, %d, '%f', %d)",
			PlantInfo[TOTALPLANTS][pName], PlantInfo[TOTALPLANTS][pPosX], PlantInfo[TOTALPLANTS][pPosY], PlantInfo[TOTALPLANTS][pPosZ], \
			PlantInfo[TOTALPLANTS][pWorld], PlantInfo[TOTALPLANTS][pInterior], PlantInfo[TOTALPLANTS][pProg], PlantInfo[TOTALPLANTS][pPlanted]);
			mysql_tquery(mysql, request, "OnPlayerInsertBase", "ddd", playerid, TOTALPLANTS, 1);
			return 1;
		}
	}
	else
	{
		SendMes(playerid, COLOR_DARKORANGE, "Чтобы посадить семена, вы должны раскопать землю лопатой.");
		return 1;
	}
	return 1;
}
CMD:harvest(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(!IsAGang(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	for(new p = 1; p <= TOTALGZ; p++)
	{
		if(IsAZonePlayer(playerid, GZInfo[p][gPos][0], GZInfo[p][gPos][1], GZInfo[p][gPos][2], GZInfo[p][gPos][3]))
		{
			if(GZInfo[p][gFraction] != PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Срывать кусты можно только на своей территории.");
		}
	}
	for(new i = 1; i <= TOTALPLANTS; i++)
	{
		if(IsAPPos(playerid, 1.0, PlantInfo[i][pPosX], PlantInfo[i][pPosY], PlantInfo[i][pPosZ]))
		{
			if(PlantInfo[i][pPlanted] != 2) return SendMes(playerid, COLOR_DARKORANGE, "Этот куст еще не вырос.");
			new max_value;
			GetPlayerMaxInventoryItems(playerid, TYPE_DRUGS, max_value);
			if(PlayerInfo[playerid][pInventoryItems][TYPE_DRUGS] + 20 > max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_DRUGS][InvUnitName], Inventory[TYPE_DRUGS][InvStringName]);
			PlayerInfo[playerid][pInventoryItems][TYPE_DRUGS] += 20;
			SavePlayerInventoryItems(playerid, TYPE_DRUGS);
			PlantInfo[i][pPlanted] = 0;
			PlantInfo[i][pProg] = 0.0;
			strmid(PlantInfo[i][pName], "None", 0, strlen("None"), 32);
			if(IsValidDynamicObject(PlantInfo[i][pObject])) DestroyDynamicObject(PlantInfo[i][pObject]);
			//Delete3DTextLabel(PlantInfo[i][pText]);
			ApplyAnimation(playerid, "BOMBER", "BOM_Plant", 4.0, 0, 0, 0, 0, 0, 1);
			format(strings, sizeof(strings), "%s сорвал(-а) куст и собрал(-а) наркотики", PlayerInfo[playerid][pName]);
			SRM(playerid, 10.0, COLOR_LPURPLE, strings);
			CheckQuest(playerid, 42);
			CheckTask(playerid, 59);
			CheckAchievement(playerid, 39);
			PlayerInfo[playerid][pData][19]++;
			mysql_format(mysql, request, sizeof(request), "DELETE FROM "TABLE_PLANT" WHERE `id` = '%d'", PlantInfo[i][id]);
			mysql_query(mysql, request, false);
			return 1;
		}
	}
	SendMes(playerid, COLOR_DARKORANGE, "Рядом с Вами нет куста с наркотиками.");
	return 1;
}
CMD:usedrugs(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать наркотики в транспортном средстве.");
	if(PlayerInfo[playerid][pSatiety] < 20) return SendMes(playerid, COLOR_DARKORANGE, "Сначала нужно поесть, иначе вы отравитесь.");
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /usedrugs [грамм]");
	new maxdrugs = 5;
	if(PlayerInfo[playerid][pAddictionInfo][0] < 2500) maxdrugs = 5;
	else if(PlayerInfo[playerid][pAddictionInfo][0] < 5000) maxdrugs = 10;
	else if(PlayerInfo[playerid][pAddictionInfo][0] >= 5000) maxdrugs = 15;
	if(params[0] > maxdrugs || params[0] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Укажите количество грамм наркотиков от 1 до %d.", maxdrugs);
	new Float:health;
	GetPlayerHealth(playerid, health);
	if(params[0] > PlayerInfo[playerid][pInventoryItems][TYPE_DRUGS]) return SendMes(playerid, COLOR_DARKORANGE, "У вас нет такого количества наркотиков.");
	if(GetPVarInt(playerid, "UseDrugs") + 30 > gettime()) return SendClientMessage(playerid, COLOR_DARKORANGE, "Нельзя использовать наркотики так часто, попробуйте немного позже.");
	SetPVarInt(playerid, "UseDrugs", gettime() + 30);
 	health = health + params[0] * 10;
	if(health > 100) health = 100;
	SetHealth(playerid, health);
	SendMes(playerid, COLOR_MAIN, "Здоровье пополнено до {"#DC_WHITE"}%.0f HP.", health);
	PlayerInfo[playerid][pInventoryItems][TYPE_DRUGS] -= params[0];
	SavePlayerInventoryItems(playerid, TYPE_DRUGS);
	PlayerInfo[playerid][pAddictionInfo][0] += params[0] * 5;
	for(new i = 1; i < 3; i++) PlayerInfo[playerid][pAddictionInfo][i] = 0;
	if(PlayerInfo[playerid][pAddictionInfo][0] >= 5000)
	{
	    if(random(10) == 5 && PlayerInfo[playerid][pDisease][2] != 3 && PlayerInfo[playerid][pLevel] >= 5 && PlayerInfo[playerid][pAdmin] == 0)
		{
			PlayerInfo[playerid][pDisease][2]++;
			SendMes(playerid, COLOR_MAIN, "У Вас появилось новое заболевание - СПИД {"#DC_WHITE"}%d{"#DC_MAIN"} степени.", PlayerInfo[playerid][pDisease][2]);
		}
	}
	ApplyAnimation(playerid, "SMOKING", "M_smk_drag", 4.1, 0, 0, 0, 0, 0);
	SendMes(playerid, COLOR_MAIN, "Вы использовали {"#DC_WHITE"}%d{"#DC_MAIN"} грамм наркотиков.", params[0]);
	/*SetTimerEx("OnPlayerSetDrugsEffect", 250000, false, "i", playerid);*/
	format(strings, sizeof(strings), "%s употребил(-а) наркотик", PlayerInfo[playerid][pName]);
	SRM(playerid, 10.0, COLOR_LPURPLE, strings);
	/*SetPlayerTime(playerid, 17, 0);*/
	SetPlayerDrunkLevel(playerid, 1500);
	/*SetPlayerWeather(playerid, -68);*/
	return 1;
}
CMD:selldrugs(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAGang(playerid))
 	{
  		new total;
  		for(new i = 1; i <= TOTALGZ; i++)
		{
			if(IsAZonePlayer(playerid, GZInfo[i][gPos][0], GZInfo[i][gPos][1], GZInfo[i][gPos][2], GZInfo[i][gPos][3]))
			{
			    if(GZInfo[i][gFraction] != PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться на своей территории.");
				total++;
				break;
			}
		}
		if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться на своей территории.");
  		if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /selldrugs [кол-во грамм] [ID игрока]");
		if(!IsPlayerConnected(params[1])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[1]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(params[1] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете продать себе наркотики.");
		new max_value;
		GetPlayerMaxInventoryItems(params[1], TYPE_DRUGS, max_value);
		if(params[0] < 1 || params[0] > max_value - PlayerInfo[params[1]][pInventoryItems][TYPE_DRUGS]) return SendMes(playerid, COLOR_DARKORANGE, "Укажите количество кол-во грамм от 1 до %d.", max_value - PlayerInfo[params[1]][pInventoryItems][TYPE_DRUGS]);
		if(PlayerInfo[params[1]][pInventoryItems][TYPE_DRUGS] + params[0] > max_value) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не может переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_DRUGS][InvUnitName], Inventory[TYPE_DRUGS][InvStringName]);
		if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[1])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
		if(PlayerInfo[playerid][pInventoryItems][TYPE_DRUGS] < params[0]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько наркотиков.");
		if(CheckSentence(params[1]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
		new price = params[0] * (50 * 2);
		PlayerInfo[params[1]][pSDRUGSSeller] = playerid;
		PlayerInfo[params[1]][pSDRUGSSIDx] = PlayerInfo[playerid][pID];
		PlayerInfo[params[1]][pSDRUGSAmount] = params[0];
		PlayerInfo[params[1]][pSDRUGSPrice] = price;
		format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} купить {"#DC_WHITE"}%d{"#DC_MAIN"} грамм наркотиков за {"#DC_WHITE"}$%d.", PlayerInfo[params[1]][pName], params[0], price);
		SendMes(playerid, COLOR_MAIN, strings);
		format(strings, sizeof(strings), "%s{"#DC_MAIN"} предложил Вам купить {"#DC_WHITE"}%d{"#DC_MAIN"} грамм наркотиков за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], params[0], price);
		SendMes(params[1], COLOR_WHITE, strings);
		SendMes(params[1], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:sellgun(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAGang(playerid))
 	{
  		new total;
  		for(new i = 1; i <= TOTALGZ; i++)
		{
			if(IsAZonePlayer(playerid, GZInfo[i][gPos][0], GZInfo[i][gPos][1], GZInfo[i][gPos][2], GZInfo[i][gPos][3]))
			{
			    if(GZInfo[i][gFraction] != PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться на своей территории.");
				total++;
				break;
			}
		}
		if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться на своей территории.");
		if(sscanf(params, "dd", params[0], params[1]))
		{
			SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация", "{"#DC_WHITE"}\
			Silenced Pistol: $1250 [Патронов: 17] [Материалов: 17]\n\
			Desert Eagle: $4500 [Патронов: 21] [Материалов: 63]\n\
			Shotgun: $1500 [Патронов: 10] [Материалов: 30]\n\
			MP5: $2500 [Патронов: 30] [Материалов: 60]\n\
			M4: $3500 [Патронов: 50] [Материалов: 150]\n\
			AK-47: $3000 [Патронов: 30] [Материалов: 90]", "Отмена", "");
			/*SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация", "{"#DC_WHITE"}\
			Silenced Pistol: $1250 [Патронов: 17] [Материалов: 17]\n\
			Desert Eagle: $4500 [Патронов: 21] [Материалов: 63]\n\
			Shotgun: $1500 [Патронов: 10] [Материалов: 30]\n\
			MP5: $2500 [Патронов: 30] [Материалов: 60]\n\
			M4: $3500 [Патронов: 50] [Материалов: 150]\n\
			AK-47: $3000 [Патронов: 30] [Материалов: 90]\n\
			Rifle: $750 [Патронов: 10] [Материалов: 200]", "Отмена", "");*/
			return SendMes(playerid, COLOR_WHITE, "Введите: /sellgun [ID оружия] [ID игрока]");
		}
		if(params[0] > 6 || params[0] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Укажите количество ID оружия от 1 до 6.");
		/*if(params[0] > 7 || params[0] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Укажите количество ID оружия от 1 до 7.");*/
		if(!IsPlayerConnected(params[1])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[1]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(params[1] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете продать себе оружие.");
	    if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[1])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
		if(PlayerInfo[params[1]][pLevel] < 2) return SendMes(playerid, COLOR_DARKORANGE, "У игрока нет 2-ого уровня.");
		new weapon, ammo, amount, price, gunname[32];
		switch(params[0])
		{
			case 1: weapon = 23, ammo = 17, amount = 17, price = 1250;
			case 2: weapon = 24, ammo = 21, amount = 63, price = 4500;
			case 3: weapon = 25, ammo = 10, amount = 30, price = 1500;
			case 4: weapon = 29, ammo = 30, amount = 60, price = 2500;
			case 5: weapon = 31, ammo = 50, amount = 150, price = 3500;
			case 6: weapon = 30, ammo = 30, amount = 90, price = 3000;
			/*case 7: weapon = 33, ammo = 10, amount = 200, price = 750;*/
		}
		if(PlayerInfo[playerid][pInventoryItems][TYPE_MATERIALS] < amount) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько материалов.");
		if(CheckSentence(params[1]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
		GetWeaponName(weapon, gunname, sizeof(gunname));
		PlayerInfo[params[1]][pSGUNSeller] = playerid;
		PlayerInfo[params[1]][pSGUNSIDx] = PlayerInfo[playerid][pID];
		PlayerInfo[params[1]][pSGUNWeapon] = weapon;
		PlayerInfo[params[1]][pSGUNAmmo] = ammo;
		PlayerInfo[params[1]][pSGUNAmount] = amount;
		PlayerInfo[params[1]][pSGUNPrice] = price;
		format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} купить {"#DC_WHITE"}%s (%d пт.){"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[params[1]][pName], gunname, ammo, price);
		SendMes(playerid, COLOR_MAIN, strings);
		format(strings, sizeof(strings), "%s{"#DC_MAIN"} предложил Вам купить {"#DC_WHITE"}%s (%d пт.){"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], gunname, ammo, price);
		SendMes(params[1], COLOR_WHITE, strings);
		SendMes(params[1], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:capture(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(!IsAGang(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	if(PlayerInfo[playerid][pRank] < 7) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	/*if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /capture [ТИП: 1 - кол-во, 2 - убийства]");
	if(params[0] < 1 || params[0] > 2) return SendMes(playerid, COLOR_DARKORANGE, "Тип должен быть не менее 1 и не более 2.");*/
	new fraction = PlayerInfo[playerid][pMember];
	new newhour, newminute, newsecond;
	gettime(newhour, newminute, newsecond);
	if(CaptureStatus != 0) return SendMes(playerid, COLOR_DARKORANGE, "Одновременно может проходить только одна война за территорию.");
	if(FracInfo[fraction][fSetting][1] == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент нападения на территории запрещены администрацией.");
	if(newhour > 22 || newhour < 14) return SendMes(playerid, COLOR_DARKORANGE, "Проводить захват территории разрешено с 14:00 до 22:00.");
	if(newminute > 5 && newminute < 30 || newminute > 35) return SendMes(playerid, COLOR_DARKORANGE, "Проводить захват территории разрешено каждые пол часа до **:05 и **:35.");
	if(GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	if(IsPlayerInAnyVehicle(playerid)) return  SendMes(playerid, COLOR_DARKORANGE, "Эту команду нельзя использовать в транспортном средстве.");
	if(GangInfo[fraction][gLimitedCapture] != 0) return  SendMes(playerid, COLOR_DARKORANGE, "Провести захват территорий можно через %d час(-а/-ов).", GangInfo[fraction][gLimitedCapture]);
	for(new i = 1; i <= TOTALGZ; i++)
	{
		if(IsAZonePlayer(playerid, GZInfo[i][gPos][0], GZInfo[i][gPos][1], GZInfo[i][gPos][2], GZInfo[i][gPos][3]))
		{
		    new scdfraction = GZInfo[i][gFraction];
			if(FracInfo[scdfraction][fSetting][1] == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент нападения на территории этой банды запрещены администрацией.");
			if(GangInfo[scdfraction][gLimitedCapture] != 0) return  SendMes(playerid, COLOR_DARKORANGE, "Провести захват территорий этой банды можно через %d час(-а/-ов).", GangInfo[scdfraction][gLimitedCapture]);
			if(scdfraction == fraction) return SendMes(playerid, COLOR_DARKORANGE, "Эта территория уже принадлежит Вам.");
			if(IsAGangRespawn(i)) return SendMes(playerid, COLOR_DARKORANGE, "Эта территория является респауном банды.");
		    GangZoneFlashForAll(GZInfo[i][id], COLOR_RED);
			CaptureTime = 600;
			CaptureStatus = 1;
			CaptureZone = i;
			CaptureZoneID = GZInfo[i][id];
			CaptureType = 1;
			/*CaptureType = params[0];*/
			GZInfo[i][gWar] = fraction;
			GangInfo[fraction][gCapture] = 1;
			GangInfo[scdfraction][gCapture] = 1;
			GangInfo[fraction][gNumber] = 1;
			GangInfo[scdfraction][gNumber] = 0;
			GangInfo[fraction][gLimitedCapture] = 1;
			GangInfo[scdfraction][gLimitedCapture] = 1;
			CaptureFrac[0] = fraction;
			CaptureFrac[1] = scdfraction;
			CaptureStart();
			format(strings, sizeof(strings), "[F] %s начал захват территории %s. Тип: %s.", PlayerInfo[playerid][pName], GetGangName(scdfraction), (params[0] == 1) ? ("Кол-во игроков в квадрате") : ("Убийства"));
			SendFMes(fraction, COLOR_LRED, strings);
			format(strings, sizeof(strings), "[F] %s начал захват вашей территории. Тип: %s.", GetGangName(fraction), (params[0] == 1) ? ("Кол-во игроков в квадрате") : ("Убийства"));
			SendFMes(scdfraction, COLOR_LRED, strings);
			break;
		}
	}
	return 1;
}
CMD:makegun(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsACriminal(playerid))
	{
		if(IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в транспортном средстве.");
	    if(IsAGang(playerid))
	    {
	        new total;
		    for(new i = 1; i <= TOTALGZ; i++)
			{
				if(IsAZonePlayer(playerid, GZInfo[i][gPos][0], GZInfo[i][gPos][1], GZInfo[i][gPos][2], GZInfo[i][gPos][3]))
				{
				    if(GZInfo[i][gFraction] != PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться на своей территории.");
					total++;
					break;
				}
			}
			if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться на своей территории.");
		}
		if(IsAMafia(playerid))
		{
		    new idx = PlayerInfo[playerid][pMember];
		    if(!IsAPPos(playerid, 20.0, FracInfo[idx][fWarehousePosX], FracInfo[idx][fWarehousePosY], FracInfo[idx][fWarehousePosZ]) && GetPlayerVirtualWorld(playerid) != FracInfo[idx][fWarehouseWorld]) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в особняке рядом со складом организации.");
		}
		if(IsABiker(playerid))
		{
		    new idx = PlayerInfo[playerid][pMember];
		    if(!IsAPPos(playerid, 20.0, FracInfo[idx][fWarehousePosX], FracInfo[idx][fWarehousePosY], FracInfo[idx][fWarehousePosZ]) && GetPlayerVirtualWorld(playerid) != FracInfo[idx][fWarehouseWorld]) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в баре рядом со складом организации.");
		}
	    if(sscanf(params, "d", params[0]))
		{
			SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация", "{"#DC_WHITE"}\
			Silenced Pistol: [Патронов: 17] [Материалов: 17]\n\
			Desert Eagle: [Патронов: 21] [Материалов: 63]\n\
			Shotgun: [Патронов: 10] [Материалов: 30]\n\
			MP5: [Патронов: 30] [Материалов: 60]\n\
			M4: [Патронов: 50] [Материалов: 150]\n\
			AK-47: [Патронов: 30] [Материалов: 90]", "Отмена", "");
			/*SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация", "{"#DC_WHITE"}\
			Silenced Pistol: [Патронов: 17] [Материалов: 17]\n\
			Desert Eagle: [Патронов: 21] [Материалов: 63]\n\
			Shotgun: [Патронов: 10] [Материалов: 30]\n\
			MP5: [Патронов: 30] [Материалов: 60]\n\
			M4: [Патронов: 50] [Материалов: 150]\n\
			AK-47: [Патронов: 30] [Материалов: 90]\n\
			Rifle: [Патронов: 10] [Материалов: 200]", "Отмена", "");*/
			return SendMes(playerid, COLOR_WHITE, "Введите: /makegun [ID оружия]");
		}
		if(params[0] > 6 || params[0] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Укажите количество ID оружия от 1 до 6.");
		/*if(params[0] > 7 || params[0] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Укажите количество ID оружия от 1 до 7.");*/
		new weapon, ammo, amount, gunname[32];
		switch(params[0])
		{
			case 1: weapon = 23, ammo = 17, amount = 17;
			case 2: weapon = 24, ammo = 21, amount = 63;
			case 3: weapon = 25, ammo = 10, amount = 30;
			case 4: weapon = 29, ammo = 30, amount = 60;
			case 5: weapon = 31, ammo = 50, amount = 150;
			case 6: weapon = 30, ammo = 30, amount = 90;
			/*case 7: weapon = 33, ammo = 10, amount = 200;*/
		}
		if(PlayerInfo[playerid][pInventoryItems][TYPE_MATERIALS] < amount) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько материалов.");
		PlayerInfo[playerid][pInventoryItems][TYPE_MATERIALS] -= amount;
		SavePlayerInventoryItems(playerid, TYPE_MATERIALS);
		GiveWeapon(playerid, weapon, ammo);
		GetWeaponName(weapon, gunname, sizeof(gunname));
		format(strings, sizeof(strings), "%s собрал(-а) %s из материалов", PlayerInfo[playerid][pName], gunname);
		SRM(playerid, 10.0, COLOR_LPURPLE, strings);
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:tie(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAMafia(playerid) || IsACop(playerid) && IsACopDuty(playerid))
	{
		if(PlayerInfo[playerid][pRank] <= 3) return SendMes(playerid, COLOR_DARKORANGE, "Вам не доступна данная команда.");
		if(PlayerTied[playerid]) return SendMes(playerid, COLOR_DARKORANGE, "Вы связаны, действие невозможно.");
		if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /tie [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
		if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
		if(PlayerTied[params[0]]) return SendMes(playerid, COLOR_DARKORANGE, "Игрок уже связан.");
		SetPlayerControl(params[0], false);
		PlayerTied[params[0]] = true;
		format(strings, sizeof(strings), "~r~tieted");
		GameTextForPlayer(playerid, strings, 5000, 5);
		format(strings, sizeof(strings), "~r~tieted");
		GameTextForPlayer(params[0], strings, 5000, 5);
		format(strings, sizeof(strings), "%s связал(-а) %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, strings);
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:untie(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsAMafia(playerid) || IsACop(playerid) && IsACopDuty(playerid) || PlayerInfo[playerid][pAdmin] > 0)
	{
		if(PlayerInfo[playerid][pRank] <= 3) return SendMes(playerid, COLOR_DARKORANGE, "Вам не доступна данная команда.");
		if(PlayerTied[playerid] && PlayerInfo[playerid][pAdmin] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы связаны, действие невозможно.");
		if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /untie [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		new Float:possed[4];
		GetPlayerPos(params[0], possed[0], possed[1], possed[2]);
		if(!IsAPPos(playerid, 4.0, possed[0], possed[1], possed[2])) return SendMes(playerid, COLOR_DARKORANGE, "Вы слишком далеко от данного игрока");
		if(params[0] == playerid && PlayerInfo[playerid][pAdmin] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
		if(!PlayerTied[params[0]]) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не связан.");
		SetPlayerControl(params[0], true);
		PlayerTied[params[0]] = false;
		format(strings, sizeof(strings), "%s развязал(-а) %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, strings);
		format(strings, sizeof(strings), "~g~untied");
		GameTextForPlayer(playerid, strings, 5000, 5);
		format(strings, sizeof(strings), "~g~untied");
		GameTextForPlayer(params[0], strings, 5000, 5);
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:getmafia(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(!IsAMafia(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	if(PlayerInfo[playerid][pRank] < 5) return SendMes(playerid, COLOR_DARKORANGE, "Данная команда доступна с 5 ранга.");
	new total = 0;
	for(new i = 1; i <= TOTALBIZ; i++)
	{
		if(IsAPPos(playerid, 5.0, BizInfo[i][bEnterX], BizInfo[i][bEnterY], BizInfo[i][bEnterZ]))
		{
		    if(BizInfo[i][bMafia] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный бизнес уже находится под охраной %s.", FracInfo[BizInfo[i][bMafia]][fName]);
		    BizInfo[i][bMafia] = PlayerInfo[playerid][pMember];
		    SaveBiz(i);
		    UpdateBiz(i);
		    format(strings, sizeof(strings), "[F] %s установил(-а) контроль над %s", PlayerInfo[playerid][pName], BizInfo[i][bName]);
		    SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
			FracBiz[PlayerInfo[playerid][pMember]]++;
			UpdateWarehouse(PlayerInfo[playerid][pMember]);
			total++;
			break;
		}
	}
	if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с бизнесом.");
	return 1;
}
CMD:mafiawar(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(!IsAMafia(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	if(PlayerInfo[playerid][pRank] < 7) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	new newhour, newminute, newsecond;
	gettime(newhour, newminute, newsecond);
	new fraction = PlayerInfo[playerid][pMember];
	if(FracInfo[fraction][fSetting][1] == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент захваты бизнесов запрещены администрацией.");
	if(MafiaWarZone != 0) return SendMes(playerid, COLOR_DARKORANGE, "Война за бизнес уже началась.");
	if(newhour > 21 || newhour < 14) return SendMes(playerid, COLOR_DARKORANGE, "Проводить захват бизнесов разрешено с 14:00 до 22:00.");
	if(MafiaWarCooldown > 0) return SendMes(playerid, COLOR_DARKORANGE, "Начать захват бизнеса можно будет через %d минут(-у/-ы).", MafiaWarCooldown / 60);
	if(MafiaInfo[fraction][mStartWar] >= 3) return SendMes(playerid, COLOR_DARKORANGE, "Нападать на бизнес вражеской мафии более 3 раз в сутки запрещено.");
	for(new i = 1; i <= TOTALBIZ; i++)
	{
		if(IsAPPos(playerid, 5.0, BizInfo[i][bEnterX], BizInfo[i][bEnterY], BizInfo[i][bEnterZ]))
		{
    		if(BizInfo[i][bMafia] == PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Этот бизнес контролирует Ваша мафия.");
			if(FracInfo[BizInfo[i][bMafia]][fSetting][1] == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент захваты бизнесов этой мафии запрещены администрацией.");
			if(!BizInfo[i][bMafia]) return SendMes(playerid, COLOR_DARKORANGE, "Введите /getmafia чтобы взять бизнес под контроль Вашей мафии.");
			if(BizInfo[i][bWar]) return SendMes(playerid, COLOR_DARKORANGE, "Этот бизнес был сегодня завоёван, возвращайтесь завтра.");
			SendMes(playerid, COLOR_MAIN, "Для того чтобы начать войну за бизнес, нажмите ESC и перейдите в раздел карты.");
			SendMes(playerid, COLOR_MAIN, "Нажмите правой кнопкой мыши на любой местности для начала захвата.");
			SetPVarInt(playerid, "MafiaWarStart", true), SetPVarInt(playerid, "MafiaWarBusiness", BizInfo[i][id]);
			return 1;
		}
	}
	SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с бизнесом.");
	return 1;
}
CMD:mafialist(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(!IsAMafia(playerid)) return 1;
	if(PlayerInfo[playerid][pRank] < 3) return SendMes(playerid, COLOR_DARKORANGE, "Вам не доступна данная команда.");
	new count = 0;
	totalstring = "", bigstring = "";
	for(new idx = 1; idx <= TOTALBIZ; idx++)
	{
		if(BizInfo[idx][bMafia] != PlayerInfo[playerid][pMember]) continue;
		format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", count + 1, BizInfo[idx][bName]);
		strcat(bigstring, totalstring);
		count++;
	}
	if(!count) return SendMes(playerid, COLOR_DARKORANGE, "У вашей мафии нет бизнесов под контролем.");
	format(strings, sizeof(strings), "{"#DC_MAIN"}Бизнесы мафии [Кол-во: %d]", count);
	SPD(playerid, did_null, DSL, strings, bigstring, "Отмена", "");
	return 1;
}
CMD:getbiker(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(!IsABiker(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	if(PlayerInfo[playerid][pRank] < 5) return SendMes(playerid, COLOR_DARKORANGE, "Данная команда доступна с 5 ранга.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /getbiker [ТИП от 1 до 3 (1 - ферма, 2 - СТО, 3 - отель)]");
	if(params[0] < 1 || params[0] > 3) return SendMes(playerid, COLOR_DARKORANGE, "Введите тип от 1 до 3.");
	new total = 0;
	if(params[0] == 1)
	{
	    for(new i = 1; i <= TOTALFARM; i++)
		{
			if(IsAPPos(playerid, 5.0, FarmInfo[i][fEnterX], FarmInfo[i][fEnterY], FarmInfo[i][fEnterZ]))
			{
			    if(FarmInfo[i][fBiker] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Данная ферма уже находится под охраной %s.", FracInfo[FarmInfo[i][fBiker]][fName]);
			    FarmInfo[i][fBiker] = PlayerInfo[playerid][pMember];
		    	UpdateFarm(i);
			    SaveFarm(i);
			    format(strings, sizeof(strings), "[F] %s установил(-а) контроль над фермой номер: %d", PlayerInfo[playerid][pName], FarmInfo[i][id]);
			    SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
				FracFarm[PlayerInfo[playerid][pMember]]++;
				UpdateWarehouse(PlayerInfo[playerid][pMember]);
				total++;
				break;
			}
		}
		if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с фермой.");
	}
	else if(params[0] == 2)
	{
		for(new i = 1; i <= TOTALSERVICE; i++)
		{
			if(IsAPPos(playerid, 5.0, ServiceInfo[i][sEnterX], ServiceInfo[i][sEnterY], ServiceInfo[i][sEnterZ]))
			{
			    if(ServiceInfo[i][sBiker] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Данное СТО уже находится под охраной %s.", FracInfo[ServiceInfo[i][sBiker]][fName]);
			    ServiceInfo[i][sBiker] = PlayerInfo[playerid][pMember];
		    	UpdateService(i);
			    SaveService(i);
			    format(strings, sizeof(strings), "[F] %s установил(-а) контроль над СТО номер: %d", PlayerInfo[playerid][pName], FarmInfo[i][id]);
			    SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
				FracService[PlayerInfo[playerid][pMember]]++;
				UpdateWarehouse(PlayerInfo[playerid][pMember]);
				total++;
				break;
			}
		}
		if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с СТО.");
	}
	else if(params[0] == 3)
	{
	    for(new i = 1; i <= TOTALHOTEL; i++)
		{
			if(IsAPPos(playerid, 5.0, HotelInfo[i][hEnterX], HotelInfo[i][hEnterY], HotelInfo[i][hEnterZ]))
			{
			    if(HotelInfo[i][hBiker] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный отель уже находится под охраной %s.", FracInfo[ServiceInfo[i][sBiker]][fName]);
			    HotelInfo[i][hBiker] = PlayerInfo[playerid][pMember];
		    	UpdateHotel(i);
				SaveHotel(i);
			    format(strings, sizeof(strings), "[F] %s установил(-а) контроль над %s", PlayerInfo[playerid][pName], HotelInfo[i][hName]);
			    SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
				FracHotel[PlayerInfo[playerid][pMember]]++;
				UpdateWarehouse(PlayerInfo[playerid][pMember]);
				total++;
				break;
			}
		}
		if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с отелем.");
	}
	return 1;
}
CMD:bikerlist(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(!IsABiker(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	if(PlayerInfo[playerid][pRank] < 3) return SendMes(playerid, COLOR_DARKORANGE, "Вам не доступна данная команда.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /bikerlist [ТИП от 1 до 3 (1 - фермы, 2 - СТО, 3 - отели)]");
	if(params[0] < 1 || params[0] > 3) return SendMes(playerid, COLOR_DARKORANGE, "Введите тип от 1 до 3.");
	if(params[0] == 1)
	{
	    new count = 0;
		totalstring = "", bigstring = "";
		for(new idx = 1; idx <= TOTALFARM; idx++)
		{
			if(FarmInfo[idx][fBiker] != PlayerInfo[playerid][pMember]) continue;
			format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Ферма номер: %d\n", count + 1, FarmInfo[idx][id]);
			strcat(bigstring, totalstring);
			count++;
		}
		if(!count) return SendMes(playerid, COLOR_DARKORANGE, "У вашего байкерского клуба нет ферм под контролем.");
		format(strings, sizeof(strings), "{"#DC_MAIN"}Фермы байкеров [Кол-во: %d]", count);
		SPD(playerid, did_null, DSL, strings, bigstring, "Отмена", "");
	}
	else if(params[0] == 2)
	{
		new count = 0;
		totalstring = "", bigstring = "";
		for(new idx = 1; idx <= TOTALSERVICE; idx++)
		{
			if(ServiceInfo[idx][sBiker] != PlayerInfo[playerid][pMember]) continue;
			format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} СТО номер: %d\n", count + 1, ServiceInfo[idx][id]);
			strcat(bigstring, totalstring);
			count++;
		}
		if(!count) return SendMes(playerid, COLOR_DARKORANGE, "У вашего байкерского клуба нет СТО под контролем.");
		format(strings, sizeof(strings), "{"#DC_MAIN"}СТО байкеров [Кол-во: %d]", count);
		SPD(playerid, did_null, DSL, strings, bigstring, "Отмена", "");
	}
	else if(params[0] == 3)
	{
	    new count = 0;
		totalstring = "", bigstring = "";
		for(new idx = 1; idx <= TOTALHOTEL; idx++)
		{
			if(HotelInfo[idx][hBiker] != PlayerInfo[playerid][pMember]) continue;
			format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", count + 1, HotelInfo[idx][hName]);
			strcat(bigstring, totalstring);
			count++;
		}
		if(!count) return SendMes(playerid, COLOR_DARKORANGE, "У вашего байкерского клуба нет отелей под контролем.");
		format(strings, sizeof(strings), "{"#DC_MAIN"}Отели байкеров [Кол-во: %d]", count);
		SPD(playerid, did_null, DSL, strings, bigstring, "Отмена", "");
	}
	return 1;
}
CMD:bikerwar(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(!IsABiker(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	if(PlayerInfo[playerid][pRank] < 7) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	new newhour, newminute, newsecond;
	gettime(newhour, newminute, newsecond);
	new fraction = PlayerInfo[playerid][pMember];
	if(FracInfo[fraction][fSetting][1] == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент байкерский захват запрещен администрацией.");
	if(BikerWarZone != 0) return SendMes(playerid, COLOR_DARKORANGE, "Байкерский захват уже начался.");
	if(newhour > 21 || newhour < 14) return SendMes(playerid, COLOR_DARKORANGE, "Проводить байкерский захват разрешено с 14:00 до 22:00.");
	if(BikerWarCooldown > 0) return SendMes(playerid, COLOR_DARKORANGE, "Начать байкерский захват можно будет через %d минут(-у/-ы).", BikerWarCooldown / 60);
	if(BikerInfo[fraction][bStartWar] >= 3) return SendMes(playerid, COLOR_DARKORANGE, "Проводить байкерский захват более 3 раз в сутки запрещено.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /bikerwar [ТИП от 1 до 3 (1 - ферма, 2 - СТО, 3 - отель)]");
	if(params[0] < 1 || params[0] > 3) return SendMes(playerid, COLOR_DARKORANGE, "Введите тип от 1 до 3.");
	if(params[0] == 1)
	{
		for(new i = 1; i <= TOTALFARM; i++)
		{
			if(IsAPPos(playerid, 5.0, FarmInfo[i][fEnterX], FarmInfo[i][fEnterY], FarmInfo[i][fEnterZ]))
			{
	    		if(FarmInfo[i][fBiker] == PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Эту ферму контролирует Ваш байкерский клуб.");
				if(FracInfo[FarmInfo[i][fBiker]][fSetting][1] == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент захваты фермы этого байкерского клуба запрещены администрацией.");
				if(!FarmInfo[i][fBiker]) return SendMes(playerid, COLOR_DARKORANGE, "Введите /getbiker чтобы взять ферму под контроль Вашего байкерского клуба.");
				if(FarmInfo[i][fWar]) return SendMes(playerid, COLOR_DARKORANGE, "Эта ферма была сегодня завоёвана, возвращайтесь завтра.");
				SendMes(playerid, COLOR_MAIN, "Для того чтобы начать войну за ферму, нажмите ESC и перейдите в раздел карты.");
				SendMes(playerid, COLOR_MAIN, "Нажмите правой кнопкой мыши на любой местности для начала захвата.");
				SetPVarInt(playerid, "BikerWarStart", true), SetPVarInt(playerid, "BikerWarBiz", FarmInfo[i][id]), SetPVarInt(playerid, "BikerWarType", 1);
				return 1;
			}
		}
		SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с фермой.");
	}
	else if(params[0] == 2)
	{
		for(new i = 1; i <= TOTALSERVICE; i++)
		{
			if(IsAPPos(playerid, 5.0, ServiceInfo[i][sEnterX], ServiceInfo[i][sEnterY], ServiceInfo[i][sEnterZ]))
			{
	    		if(ServiceInfo[i][sBiker] == PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Это СТО контролирует Ваш байкерский клуб.");
				if(FracInfo[ServiceInfo[i][sBiker]][fSetting][1] == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент захваты СТО этого байкерского клуба запрещены администрацией.");
				if(!ServiceInfo[i][sBiker]) return SendMes(playerid, COLOR_DARKORANGE, "Введите /getbiker чтобы взять СТО под контроль Вашего байкерского клуба.");
				if(ServiceInfo[i][sWar]) return SendMes(playerid, COLOR_DARKORANGE, "Это СТО было сегодня завоёвано, возвращайтесь завтра.");
				SendMes(playerid, COLOR_MAIN, "Для того чтобы начать войну за СТО, нажмите ESC и перейдите в раздел карты.");
				SendMes(playerid, COLOR_MAIN, "Нажмите правой кнопкой мыши на любой местности для начала захвата.");
				SetPVarInt(playerid, "BikerWarStart", true), SetPVarInt(playerid, "BikerWarBiz", ServiceInfo[i][id]), SetPVarInt(playerid, "BikerWarType", 2);
				return 1;
			}
		}
		SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с СТО.");
	}
    else if(params[0] == 3)
	{
		for(new i = 1; i <= TOTALHOTEL; i++)
		{
			if(IsAPPos(playerid, 5.0, HotelInfo[i][hEnterX], HotelInfo[i][hEnterY], HotelInfo[i][hEnterZ]))
			{
	    		if(HotelInfo[i][hBiker] == PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Этот отель контролирует Ваш байкерский клуб.");
				if(FracInfo[HotelInfo[i][hBiker]][fSetting][1] == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент захваты отелей этого байкерского клуба запрещены администрацией.");
				if(!HotelInfo[i][hBiker]) return SendMes(playerid, COLOR_DARKORANGE, "Введите /getbiker чтобы взять отель под контроль Вашего байкерского клуба.");
				if(HotelInfo[i][hWar]) return SendMes(playerid, COLOR_DARKORANGE, "Этот отель был сегодня завоёван, возвращайтесь завтра.");
				SendMes(playerid, COLOR_MAIN, "Для того чтобы начать войну за отель, нажмите ESC и перейдите в раздел карты.");
				SendMes(playerid, COLOR_MAIN, "Нажмите правой кнопкой мыши на любой местности для начала захвата.");
				SetPVarInt(playerid, "BikerWarStart", true), SetPVarInt(playerid, "BikerWarBiz", HotelInfo[i][id]), SetPVarInt(playerid, "BikerWarType", 3);
				return 1;
			}
		}
		SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с отелем.");
	}
	return 1;
}
CMD:selllic(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsADriving(playerid) && IsADrivingDuty(playerid))
	{
		if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /selllic [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(playerid == params[0]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете продать лицензии себе.");
		if(CheckSentence(params[0]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
		if(IsPlayerInRangeOfPlayer(5.0, playerid, params[0]))
		{
			SPD(playerid, did_lic, DSL, "{"#DC_MAIN"}Лицензии", "{"#DC_MAIN"}1.{"#DC_WHITE"} Наземный транспорт\n{"#DC_MAIN"}2.{"#DC_WHITE"} Водный транспорт\n{"#DC_MAIN"}3.{"#DC_WHITE"} Воздушный транспорт\n{"#DC_MAIN"}4.{"#DC_WHITE"} Оружие", "Далее", "Отмена");
			SetPVarInt(playerid, "SELLLicID", params[0]);
		}
		else SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:family(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pFamily] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в семье.");
	new idx = PlayerInfo[playerid][pFamily];
	if(FamiliesInfo[idx][fOwnerID] == PlayerInfo[playerid][pID])
	{
	    bigstring = "";
	    format(bigstring, sizeof(bigstring), "\
		{"#DC_MAIN"}1.{"#DC_WHITE"} Информация о семье\n\
		{"#DC_MAIN"}2.{"#DC_WHITE"} Состав семьи\n\
		{"#DC_MAIN"}3.{"#DC_WHITE"} Полный состав семьи\n\
		{"#DC_MAIN"}4.{"#DC_WHITE"} Денежный счет\n\
		{"#DC_MAIN"}5.{"#DC_WHITE"} Изменить название семьи - (%s): $%d\n\
		{"#DC_MAIN"}6.{"#DC_WHITE"} Изменить названия рангов семьи - (%s, %s, %s, %s, %s): $%d\n\
		{"#DC_MAIN"}7.{"#DC_WHITE"} Изменить цвет семьи - ({%s}|||||{"#DC_WHITE"}): $%d\n\
		{"#DC_MAIN"}8.{"#DC_WHITE"} Назначить дом семьи - (%d): $%d\n\
		{"#DC_MAIN"}9.{"#DC_WHITE"} Возрождение членов семьи в доме - (%s): $%d\n\
		{"#DC_MAIN"}10.{"#DC_WHITE"} Назначить владельца семьи - (%s): $%d\n\
		{"#DC_MAIN"}11.{"#DC_WHITE"} Увеличить слоты - (%d): %d {"#DC_MAIN"}DONATE{"#DC_WHITE"} COINS\n\
		{"#DC_MAIN"}12.{"#DC_WHITE"} Расформировать семью: $%d", FamiliesInfo[idx][fName], SET_FAMILIES_NAME, FamiliesRank[idx][1], FamiliesRank[idx][2], FamiliesRank[idx][3], FamiliesRank[idx][4], FamiliesRank[idx][5],
		SET_FAMILIES_RANK, FamiliesInfo[idx][fColorDialog], SET_FAMILIES_COLOR, FamiliesInfo[idx][fHouse], SET_FAMILIES_HOUSE, (!FamiliesInfo[idx][fHouseStatus]) ? ("{"#DC_RED"}Выключено{"#DC_WHITE"}") : ("{"#DC_GREEN"}Включено{"#DC_WHITE"}"),
		SET_FAMILIES_HOUSE_STATUS, FamiliesInfo[idx][fOwner], SET_FAMILIES_OWNER, 15 + FamiliesInfo[idx][fDonateSlots], SET_FAMILIES_SLOT, SET_FAMILIES_DISBAND);
	    SPD(playerid, did_family_menu, DSL, "{"#DC_MAIN"}Семья", bigstring, "Далее", "Отмена");
	} else SPD(playerid, did_family_menu, DSL, "{"#DC_MAIN"}Семья", "{"#DC_MAIN"}1.{"#DC_WHITE"} Информация о семье\n{"#DC_MAIN"}2.{"#DC_WHITE"} Состав семьи\n{"#DC_MAIN"}3.{"#DC_WHITE"} Полный состав семьи\n{"#DC_MAIN"}4.{"#DC_WHITE"} Денежный счет\n{"#DC_MAIN"}5.{"#DC_WHITE"} Выйти из семьи", "Далее", "Отмена");
	return 1;
}
CMD:finvite(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pFamily] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в семье.");
	if(PlayerInfo[playerid][pFamilyRank] < 4) return SendMes(playerid, COLOR_DARKORANGE, "Данная команда в семье доступна с 4-ого ранга.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /finvite [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pFamily] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок находится в семье.");
	if(!IsPlayerInRangeOfPlayer(10.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
	new idx = PlayerInfo[playerid][pFamily];
	format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} вступить в семью {"#DC_WHITE"}%s.", PlayerInfo[params[0]][pName], FamiliesInfo[idx][fName]);
	SendMes(playerid, COLOR_MAIN, strings);
	SetPVarInt(params[0], "PlayerInvite", playerid);
	SetPVarInt(playerid, "InviteID", params[0]);
	totalstring = "";
	format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Создатель семьи %s предлагает вам присоединиться к семье %s.\n\nВы согласны?", PlayerInfo[playerid][pName], FamiliesInfo[idx][fName]);
	SPD(params[0], did_family_invite, DSM, "{"#DC_MAIN"}Приглашение в семью", totalstring, "Да", "Нет");
	return 1;
}
CMD:funinvite(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pFamily] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в семье.");
	if(PlayerInfo[playerid][pFamilyRank] < 3) return SendMes(playerid, COLOR_DARKORANGE, "Данная команда в семье доступна с 3-его ранга.");
	if(sscanf(params, "us[32]", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /funinvite [id игрока] [причина]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pFamily] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок не находиться в семье.");
	if(PlayerInfo[params[0]][pFamily] != PlayerInfo[playerid][pFamily]) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в другой семье.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(PlayerInfo[params[0]][pFamilyRank] >= PlayerInfo[playerid][pFamilyRank]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете уволить игрока выше Вас по рангу.");
	if(AdvertisingCheck(params[1])) return AdvertisingPunishment(playerid, params[1], 0);
	new idx = PlayerInfo[playerid][pFamily];
	format(strings, sizeof(strings), "Вы уволили {"#DC_WHITE"}%s{"#DC_MAIN"} из семьи {"#DC_WHITE"}%s.{"#DC_MAIN"} Причина: {"#DC_WHITE"}%s", PlayerInfo[params[0]][pName], FamiliesInfo[idx][fName], params[1]);
	SendMes(playerid, COLOR_MAIN, strings);
	format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} выгнал вас из семьи {"#DC_WHITE"}%s.{"#DC_MAIN"} Причина: {"#DC_WHITE"}%s", FamiliesRank[idx][PlayerInfo[playerid][pFamilyRank]], PlayerInfo[playerid][pName], FamiliesInfo[idx][fName], params[1]);
	SendMes(params[0], COLOR_WHITE, strings);
	PlayerInfo[params[0]][pFamily] = 0;
	PlayerInfo[params[0]][pFamilyRank] = 0;
	/*Delete3DTextLabel(FamiliesPlayerText[params[0]]);*/
	return 1;
}
CMD:offfuninvite(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pFamily] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	if(PlayerInfo[playerid][pFamilyRank] < 5) return SendMes(playerid, COLOR_DARKORANGE, "Данная команда в семье доступна с 5-ого ранга.");
	new scdplayerid = GetPlayerID(params[0]);
	if(scdplayerid != INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок в сети, используйте /funinvite");
	if(sscanf(params, "s[22]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /offfuninvite [ник-нейм]");
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", params[0]);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "ddds", playerid, 16, 0, params[0]);
	return 1;
}
CMD:fgiverank(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pFamily] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в семье.");
	if(PlayerInfo[playerid][pFamilyRank] < 4) return SendMes(playerid, COLOR_DARKORANGE, "Данная команда в семье доступна с 4-ого ранга.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /fgiverank [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pFamily] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок не находиться в семье.");
	if(PlayerInfo[params[0]][pFamily] != PlayerInfo[playerid][pFamily]) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в другой семье.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(PlayerInfo[params[0]][pFamilyRank] >= PlayerInfo[playerid][pFamilyRank]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете повысить/понизить игрока выше Вас по рангу.");
	new total = 0, idx = PlayerInfo[playerid][pFamily];
	totalstring = "", bigstring = "";
	for(new i = 1; i <= 6; i++)
	{
		if(i == 5) break;
		if(PlayerInfo[params[0]][pFamilyRank] == i) format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} {"#DC_GREEN"}%s{"#DC_WHITE"}\n", i, FamiliesRank[idx][i]);
		else format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", i, FamiliesRank[idx][i]);
		strcat(bigstring, totalstring);
		total++;
	}
	if(total == 0) return SendAdminMessage(COLOR_LRED, "[A] Ошибка #109! Сообщите разработчикам!", 8);
	SetPVarInt(playerid, "PlayerRank", params[0]);
	SPD(playerid, did_family_giverank, DSL, "{"#DC_MAIN"}Ранг", bigstring, "Далее", "Отмена");
	return 1;
}
CMD:fc(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pFamily])
	{
		if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
		if(sscanf(params, "s[78]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /fc [текст]");
		if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
		format(strings, sizeof(strings), "[%s] [%s] %s [%d]: {"#DC_WHITE"}%s", FamiliesInfo[PlayerInfo[playerid][pFamily]][fName], FamiliesRank[PlayerInfo[playerid][pFamily]][PlayerInfo[playerid][pFamilyRank]], PlayerInfo[playerid][pName], playerid, params[0]);
		new idx = PlayerInfo[playerid][pFamily];
		SendFamilyMessage(idx, FamiliesInfo[idx][fColor], strings);
		SPCB(playerid, "Сказал(-а) что-то в рацию", COLOR_PINK, 10.0, 1000);
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:fcb(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pFamily])
	{
		if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
		if(sscanf(params, "s[78]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /fcb [текст]");
		if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
		format(strings, sizeof(strings), "(( [%s] [%s] %s [%d]: %s ))", FamiliesInfo[PlayerInfo[playerid][pFamily]][fName], FamiliesRank[PlayerInfo[playerid][pFamily]][PlayerInfo[playerid][pFamilyRank]], PlayerInfo[playerid][pName], playerid, params[0]);
		new idx = PlayerInfo[playerid][pFamily];
		SendFamilyMessage(idx, FamiliesInfo[idx][fColor], strings);
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:fs(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(FarmDuty[playerid] > 1 || ServiceDuty[playerid] > 0)
	{
		if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
		if(sscanf(params, "s[78]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /fs [текст]");
		if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 1);
		if(FarmWorking[playerid] != -1)
		{
			format(strings, sizeof(strings), "[FARM: %d] %s [%d]: %s", FarmWorking[playerid], PlayerInfo[playerid][pName], playerid, params[0]);
			SendFarmMes(FarmWorking[playerid], COLOR_NEWLBLUE, strings);
			return 1;
		}
		if(ServiceWorking[playerid] != -1)
		{
			format(strings, sizeof(strings), "[SERVICE: %d] %s [%d]: %s", ServiceWorking[playerid], PlayerInfo[playerid][pName], playerid, params[0]);
			SendServiceMes(ServiceWorking[playerid], COLOR_NEWLBLUE, strings);
			return 1;
		}
	} else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:fsb(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(FarmDuty[playerid] > 1 || ServiceDuty[playerid] > 0)
	{
		if(FarmWorking[playerid] != -1)
		{
			format(strings, sizeof(strings), "(( [FARM: %d] %s [%d]: %s ))", FarmWorking[playerid], PlayerInfo[playerid][pName], playerid, params[0]);
			SendFarmMes(FarmWorking[playerid], COLOR_NEWLBLUE, strings);
			return 1;
		}
		if(ServiceWorking[playerid] != -1)
		{
			format(strings, sizeof(strings), "(( [SERVICE: %d] %s [%d]: %s ))", ServiceWorking[playerid], PlayerInfo[playerid][pName], playerid, params[0]);
			SendServiceMes(ServiceWorking[playerid], COLOR_NEWLBLUE, strings);
			return 1;
		}
	} else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:house(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pHouse] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет дома.");
	SPD(playerid, did_house_menu, DSL, "{"#DC_MAIN"}Дом", "{"#DC_MAIN"}1.{"#DC_WHITE"} Информация\n{"#DC_MAIN"}2.{"#DC_WHITE"} Дверь\n{"#DC_MAIN"}3.{"#DC_WHITE"} Сейф\n{"#DC_MAIN"}4.{"#DC_WHITE"} Гардероб\n{"#DC_MAIN"}5.{"#DC_WHITE"} Изменить интерьер\n{"#DC_MAIN"}6.{"#DC_WHITE"} Продать дом\n{"#DC_MAIN"}7.{"#DC_WHITE"} Найти дом на GPS навигаторе", "Далее", "Отмена");
	return 1;
}
CMD:sellmyhouse(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] > 1 && PlayerInfo[playerid][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "Вы администратор, действие невозможно.");
 	if(!PlayerInfo[playerid][pHouse]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет дома.");
	if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /sellmyhouse [id игрока] [стоимость]");
	new i = PlayerInfo[playerid][pHouse];
	if(params[1] < HouseInfo[i][hPrice] / 2 || params[1] > HouseInfo[i][hPrice] * 5)
	{
	    format(strings, sizeof(strings), "Стоимость дома должна быть от $%d до $%d.", HouseInfo[i][hPrice] / 2, HouseInfo[i][hPrice] * 5);
 		return SendMes(playerid, COLOR_WHITE, strings);
	}
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете продать себе дом.");
    if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
	if(PlayerInfo[params[0]][pHotelID] || PlayerInfo[params[0]][pHouse]) return SendMes(playerid, COLOR_DARKORANGE, "У игрока уже есть дом или номер в отеле.");
	if(!IsAPPos(playerid, 10.0, HouseInfo[i][hEnterX], HouseInfo[i][hEnterY], HouseInfo[i][hEnterZ])) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с домом.");
	if(HouseInfo[i][hBlocking] || HouseInfo[i][hTaxes]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете продать дом, он опечатан сотрудниками мэрии.");
	if(CheckSentence(params[0]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
	format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} купить дом {"#DC_WHITE"}%d{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[params[0]][pName], i, params[1]);
	SendMes(playerid, COLOR_MAIN, strings);
	format(strings, sizeof(strings), "%s{"#DC_MAIN"} предложил Вам купить его дом {"#DC_WHITE"}%d{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], i, params[1]);
	SendMes(params[0], COLOR_WHITE, strings);
	SendMes(params[0], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
	PlayerInfo[params[0]][pSHOUSESeller] = playerid;
	PlayerInfo[params[0]][pSHOUSESIDx] = PlayerInfo[playerid][pID];
	PlayerInfo[params[0]][pSHOUSEPrice] = params[1];
	PlayerInfo[params[0]][pSHOUSENumber] = i;
	return 1;
}
CMD:safe(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pHouse] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет дома.");
	new i = PlayerInfo[playerid][pHouse];
	if(PlayerIsAHome(playerid, i, 2) == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в своем доме.");
	ShowHouseSafe(playerid, i);
	return 1;
}
CMD:store(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pHouse] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет дома.");
	new i = PlayerInfo[playerid][pHouse];
	if(PlayerIsAHome(playerid, i, 2) == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в своем доме.");
	ShowHouseStore(playerid, i);
	return 1;
}
CMD:buyinterior(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pHouse] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет дома.");
	if(UseChangeInterior[playerid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Вы не выбрали интерьер.");
	new houseid = PlayerInfo[playerid][pHouse];
	totalstring = "";
	format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы желаете приобрести этот интерьер за $%d?", 100000 * HouseInfo[houseid][hDiscript]);
	SPD(playerid, did_interior_house_buy, DSM, "{"#DC_MAIN"}Интерьер", totalstring, "Да", "Нет");
	return 1;
}
CMD:biz(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pBiz] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не владеете бизнесом.");
	SPD(playerid, did_biz_menu, DSL, "{"#DC_MAIN"}Бизнес", "{"#DC_MAIN"}1.{"#DC_WHITE"} Информация\n{"#DC_MAIN"}2.{"#DC_WHITE"} Установить стоимость товара\n{"#DC_MAIN"}3.{"#DC_WHITE"} Установить стоимость входа\n{"#DC_MAIN"}4.{"#DC_WHITE"} Положить на счет бизнеса\n{"#DC_MAIN"}5.{"#DC_WHITE"} Снять со счета бизнеса\n{"#DC_MAIN"}6.{"#DC_WHITE"} Продать бизнес\n{"#DC_MAIN"}7.{"#DC_WHITE"} Найти бизнес на GPS навигаторе", "Далее", "Отмена");
	return 1;
}
CMD:buybiz(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pBiz] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже владеете бизнесом.");
	for(new idx = 1; idx <= TOTALBIZ; idx++)
	{
		if(IsAPPos(playerid, 5.0, BizInfo[idx][bEnterX], BizInfo[idx][bEnterY], BizInfo[idx][bEnterZ]) && !strcmp(BizInfo[idx][bOwner], "None", true))
		{
			if(GetMoney(playerid) < BizInfo[idx][bPrice]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			ServerMoney(playerid, "Покупка бизнеса", -BizInfo[idx][bPrice], 0);
		    BizInfo[idx][bProduct] = 0;
			BizInfo[idx][bMoney] = 0;
			BizInfo[idx][bPaymentDays] = 3;
			strmid(BizInfo[idx][bOwner], PlayerInfo[playerid][pName], 0, strlen(PlayerInfo[playerid][pName]), MAX_PLAYER_NAME);
			SaveBiz(idx);
			UpdateBiz(idx);
			PlayerInfo[playerid][pBiz] = idx;
			format(strings, sizeof(strings), "Игрок %s купил бизнес %d за %d. Наличные: %d", PlayerInfo[playerid][pName], idx, BizInfo[idx][bPrice], PlayerInfo[playerid][pCash]);
			WriteLog("logs_buybiz", strings);
			SendMes(playerid, COLOR_MAIN, "Вы приобрели бизнес за {"#DC_WHITE"}$%d.", BizInfo[idx][bPrice]);
			SendMes(playerid, COLOR_MAIN, "Ваш бизнес был оплачен на {"#DC_WHITE"}3{"#DC_MAIN"} дня, продлить аренду можно в банке.");
			return 1;
		}
	}
	SendMes(playerid, COLOR_DARKORANGE, "Вы далеко от бизнеса или он не продается.");
	return 1;
}
CMD:sellmybiz(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] > 1 && PlayerInfo[playerid][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "Вы администратор, действие невозможно.");
 	if(!PlayerInfo[playerid][pBiz]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет бизнеса.");
	if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /sellmybiz [id игрока] [стоимость]");
	if(params[1] < 100000 || params[1] > 100000000) return SendMes(playerid, COLOR_WHITE, "Стоимость бизнесса должна быть от $100000 до $100000000.");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете продать себе бизнес.");
    if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
	if(PlayerInfo[params[0]][pBiz]) return SendMes(playerid, COLOR_DARKORANGE, "У игрока уже есть бизнес.");
	new i = PlayerInfo[playerid][pBiz];
	if(!IsAPPos(playerid, 10.0, BizInfo[i][bEnterX], BizInfo[i][bEnterY], BizInfo[i][bEnterZ])) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с бизнесом.");
	if(BizInfo[i][bBlocking] || BizInfo[i][bTaxes]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете продать бизнес, он опечатан сотрудниками мэрии.");
	if(CheckSentence(params[0]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
	format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} купить бизнес {"#DC_WHITE"}%s (%d){"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[params[0]][pName], BizInfo[PlayerInfo[playerid][pBiz]][bName], i, params[1]);
	SendMes(playerid, COLOR_MAIN, strings);
	format(strings, sizeof(strings), "%s{"#DC_WHITE"} предложил Вам купить его бизнес {"#DC_WHITE"}%s (%d){"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], BizInfo[PlayerInfo[playerid][pBiz]][bName], i, params[1]);
	SendMes(params[0], COLOR_WHITE, strings);
	SendMes(params[0], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
	PlayerInfo[params[0]][pSBIZSeller] = playerid;
	PlayerInfo[playerid][pSBIZBuyer] = params[0];
	PlayerInfo[params[0]][pSBIZPrice] = params[1];
	PlayerInfo[params[0]][pSBIZNumber] = i;
	return 1;
}
CMD:bizprofit(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	new total = 0;
	for(new i = 1; i <= TOTALBIZ; i++)
	{
		if(IsAPPos(playerid, 5.0, BizInfo[i][bEnterX], BizInfo[i][bEnterY], BizInfo[i][bEnterZ]))
		{
			BizProfit(playerid, i);
			total++;
			break;
		}
	}
	if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с бизнесом.");
	return 1;
}
CMD:hotel(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pHotel] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не владеете отелем.");
	SPD(playerid, did_hotel_menu, DSL, "{"#DC_MAIN"}Отель", "{"#DC_MAIN"}1.{"#DC_WHITE"} Информация\n{"#DC_MAIN"}2.{"#DC_WHITE"} Установить стоимость входа\n{"#DC_MAIN"}3.{"#DC_WHITE"} Установить стоимость номера\n{"#DC_MAIN"}4.{"#DC_WHITE"} Положить на счет отеля\n{"#DC_MAIN"}5.{"#DC_WHITE"} Снять со счета отеля\n{"#DC_MAIN"}6.{"#DC_WHITE"} Продать отель\n{"#DC_MAIN"}7.{"#DC_WHITE"} Найти отель на GPS навигаторе", "Далее", "Отмена");
	return 1;
}
CMD:buyhotel(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pHotel] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже владеете отелем.");
	for(new idx = 1; idx <= TOTALHOTEL; idx++)
	{
		if(IsAPPos(playerid, 5.0, HotelInfo[idx][hEnterX], HotelInfo[idx][hEnterY], HotelInfo[idx][hEnterZ]) && !strcmp(HotelInfo[idx][hOwner], "None", true))
		{
			if(GetMoney(playerid) < HotelInfo[idx][hPrice]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			ServerMoney(playerid, "Покупка отеля", -HotelInfo[idx][hPrice], 0);
		    HotelInfo[idx][hMoney] = 0;
			HotelInfo[idx][hPaymentDays] = 3;
			HotelInfo[idx][hEnter] = 0;
			HotelInfo[idx][hRoom] = 500;
			strmid(HotelInfo[idx][hOwner], PlayerInfo[playerid][pName], 0, strlen(PlayerInfo[playerid][pName]), MAX_PLAYER_NAME);
			SaveHotel(idx);
			UpdateHotel(idx);
			PlayerInfo[playerid][pHotel] = idx;
			format(strings, sizeof(strings), "Игрок %s купил отель %d за %d. Наличные: %d", PlayerInfo[playerid][pName], idx, HotelInfo[idx][hPrice], PlayerInfo[playerid][pCash]);
			WriteLog("logs_buyhotel", strings);
			SendMes(playerid, COLOR_MAIN, "Вы приобрели отель за {"#DC_WHITE"}$%d.", HotelInfo[idx][hPrice]);
			SendMes(playerid, COLOR_MAIN, "Ваш отель был оплачен на {"#DC_WHITE"}3{"#DC_MAIN"} дня, продлить аренду можно в банке.");
  			return 1;
		}
	}
	SendMes(playerid, COLOR_DARKORANGE, "Вы далеко от отеля или он не продается.");
	return 1;
}
CMD:sellmyhotel(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] > 1 && PlayerInfo[playerid][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "Вы администратор, действие невозможно.");
 	if(!PlayerInfo[playerid][pHotel]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет отеля.");
	if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /sellmyhotel [id игрока] [стоимость]");
	if(params[1] < 100000 || params[1] > 100000000) return SendMes(playerid, COLOR_DARKORANGE, "Стоимость отеля должна быть от $100000 до $100000000.");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете продать себе отель.");
    if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
	if(PlayerInfo[params[0]][pHotel]) return SendMes(playerid, COLOR_DARKORANGE, "У игрока уже есть отель.");
	new i = PlayerInfo[playerid][pHotel];
	if(!IsAPPos(playerid, 10.0, HotelInfo[i][hEnterX], HotelInfo[i][hEnterY], HotelInfo[i][hEnterZ])) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с отелем.");
	if(HotelInfo[i][hBlocking] || HotelInfo[i][hTaxes]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете продать отель, он опечатан сотрудниками мэрии.");
	if(CheckSentence(params[0]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
	format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} купить отель {"#DC_WHITE"}%s (%d){"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[params[0]][pName], HotelInfo[i][hName], i, params[1]);
	SendMes(playerid, COLOR_MAIN, strings);
	format(strings, sizeof(strings), "%s{"#DC_MAIN"} предложил Вам купить его отель {"#DC_WHITE"}%s (%d){"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], HotelInfo[i][hName], i, params[1]);
	SendMes(params[0], COLOR_WHITE, strings);
	SendMes(params[0], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
	PlayerInfo[params[0]][pSHOTELSeller] = playerid;
	PlayerInfo[playerid][pSHOTELBuyer] = params[0];
	PlayerInfo[params[0]][pSHOTELPrice] = params[1];
	PlayerInfo[params[0]][pSHOTELNumber] = i;
	return 1;
}
CMD:hotelprofit(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	new total = 0;
	for(new i = 1; i <= TOTALHOTEL; i++)
	{
		if(IsAPPos(playerid, 5.0, HotelInfo[i][hEnterX], HotelInfo[i][hEnterY], HotelInfo[i][hEnterZ]))
		{
			HotelProfit(playerid, i);
			total++;
			break;
		}
	}
	if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с отелем.");
	return 1;
}
CMD:farm(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(FarmDuty[playerid] < 3) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете на ферме, либо не являетесь заместителем или владельцем.");
	if(FarmDuty[playerid] == 4 && PlayerInfo[playerid][pFarm] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы больше не владеете фермой.");
    if(FarmDuty[playerid] == 4)
	{
		bigstring = "";
		format(bigstring, sizeof(bigstring), "\
		{"#DC_MAIN"}1.{"#DC_WHITE"} Установить зарплату\n\
		{"#DC_MAIN"}2.{"#DC_WHITE"} Установить стоимость зерна\n\
		{"#DC_MAIN"}3.{"#DC_WHITE"} Установить стоимость урожая\n\
		{"#DC_MAIN"}4.{"#DC_WHITE"} Ввести денежные средства на баланс фермы\n\
		{"#DC_MAIN"}5.{"#DC_WHITE"} Вывести денежные средства с баланса фермы\n\
		{"#DC_MAIN"}6.{"#DC_WHITE"} Статистика дохода за час\n\
		{"#DC_MAIN"}7.{"#DC_WHITE"} Статистика дохода за день\n\
		{"#DC_MAIN"}8.{"#DC_WHITE"} Продать ферму\n");
		for(new i = 0; i < MAX_FARM_SUBSTITUENTS; i++) format(bigstring, sizeof(bigstring), "%s{"#DC_MAIN"}%d.{"#DC_WHITE"} Установить заместителя № %d\n", bigstring, i + 8, i + 1);
		for(new i = 0; i < MAX_FARM_WORKERS; i++) format(bigstring, sizeof(bigstring), "%s{"#DC_MAIN"}%d.{"#DC_WHITE"} Установить фермера № %d\n", bigstring, i + 11, i + 1);
		strcat(bigstring, "{"#DC_MAIN"}17.{"#DC_WHITE"} Найти ферму на GPS навигаторе");
		SPD(playerid, did_farm, DSL, "{"#DC_MAIN"}Ферма", bigstring, "Далее", "Отмена");
	}
	else SPD(playerid, did_farm, DSL, "{"#DC_MAIN"}Ферма", "{"#DC_MAIN"}1.{"#DC_WHITE"} Установить зарплату\n{"#DC_MAIN"}2.{"#DC_WHITE"} Установить стоимость зерна\n{"#DC_MAIN"}3.{"#DC_WHITE"} Установить стоимость урожая", "Далее", "Отмена");
	return 1;
}
CMD:buyfarm(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pFarm] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже владеете фермой.");
	for(new idx = 1; idx <= TOTALFARM; idx++)
	{
		if(IsAPPos(playerid, 5.0, FarmInfo[idx][fEnterX], FarmInfo[idx][fEnterY], FarmInfo[idx][fEnterZ]) && !strcmp(FarmInfo[idx][fOwner], "None", true))
		{
			if(GetMoney(playerid) < FarmInfo[idx][fPrice]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			ServerMoney(playerid, "Покупка фермы", -FarmInfo[idx][fPrice], 0);
			ClearFarm(idx);
			strmid(FarmInfo[idx][fOwner], PlayerInfo[playerid][pName], 0, strlen(PlayerInfo[playerid][pName]), MAX_PLAYER_NAME);
			SaveFarm(idx);
			UpdateFarm(idx);
			PlayerInfo[playerid][pFarm] = idx;
			format(strings, sizeof(strings), "Игрок %s купил ферму %d за %d. Наличные: %d", PlayerInfo[playerid][pName], idx, FarmInfo[idx][fPrice], PlayerInfo[playerid][pCash]);
			WriteLog("logs_buyfarm", strings);
			SendMes(playerid, COLOR_MAIN, "Вы приобрели ферму за {"#DC_WHITE"}$%d.", HotelInfo[idx][hPrice]);
			SendMes(playerid, COLOR_MAIN, "Ваша ферма была оплачена на {"#DC_WHITE"}3{"#DC_MAIN"} дня, продлить аренду можно в банке.");
  			return 1;
		}
	}
	SendMes(playerid, COLOR_DARKORANGE, "Вы далеко от фермы или она не продается.");
	return 1;
}
CMD:finfo(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	new total;
	for(new idx = 1; idx <= TOTALFARM; idx++)
	{
		if(IsAPPos(playerid, 15.0, FarmInfo[idx][fEnterX], FarmInfo[idx][fEnterY], FarmInfo[idx][fEnterZ]))
		{
			if(!strcmp(FarmInfo[idx][fOwner], "None", true)) return SendMes(playerid, COLOR_DARKORANGE, "Ферма не имеет владельца.");
			new status[32];
			if(GetPlayerID(FarmInfo[idx][fOwner]) == INVALID_PLAYER_ID) format(status, sizeof(status), "[{"#DC_LRED"}Offline{"#DC_WHITE"}]");
			else format(status, sizeof(status), "[{"#DC_GREEN"}Online{"#DC_WHITE"}]");
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
			Номер: %d\n\
			Владелец: %s %s\n\
			Кол-во оплаченных дней: %d\n\
			Касса: $%d\n\
			Зарплата: $%d\n\
			Стоимость зерна: $%d\n\
			Зерна на складе: %d из 25000\n\
			Зерна на поле: %d из 5000\n\
			Стоимость урожая: $%d\n\
			Урожая на складе: %d из 50000\n\
			Контроль: %s\n", FarmInfo[idx][id], FarmInfo[idx][fOwner], status, FarmInfo[idx][fPaymentDays], FarmInfo[idx][fMoney], FarmInfo[idx][fSalary], FarmInfo[idx][fCornCost], FarmInfo[idx][fCornCount], FarmInfo[idx][fCornOnField], FarmInfo[idx][fHarvestCost], FarmInfo[idx][fHarvest], FracInfo[FarmInfo[idx][fBiker]][fName]);
			for(new i = 0; i < MAX_FARM_SUBSTITUENTS; i++) format(totalstring, sizeof(totalstring), "%sЗаместитель [%d]: %s\n", totalstring, i + 1, SubstituentsFarm[idx][i]);
			strcat(totalstring, "\n");
   			for(new i = 0; i < MAX_FARM_WORKERS; i++) format(totalstring, sizeof(totalstring), "%sФермер [%d]: %s\n", totalstring, i + 1, WorkersFarm[idx][i]);
			SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация о ферме", totalstring, "Отмена", "");
   			total++;
			break;
		}
	}
	if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с фермой.");
	return 1;
}
CMD:ffixcar(playerid)
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(FarmDuty[playerid] < 3) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете на ферме, либо не являетесь заместителем или владельцем.");
	new fidx = FarmWorking[playerid];
	new total;
	for(new idx = 1; idx <= TOTALFARM; idx++)
	{
		if(IsAPPos(playerid, 15.0, FarmInfo[idx][fEnterX], FarmInfo[idx][fEnterY], FarmInfo[idx][fEnterZ]))
		{
	    	total++;
			if(fidx != idx) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете на этой ферме.");
			for(new vidx; vidx < 5; vidx++)
			{
			    if(IsVehicleOccupied(FarmInfo[fidx][fVehicle][vidx])) continue;
				SetVehicleToRespawn(FarmInfo[fidx][fVehicle][vidx]);
			}
			SendMes(playerid, COLOR_MAIN, "Вы отправили транспорт фермы на место парковки.");
			break;
        }
    }
	if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с фермой.");
	return 1;
}
CMD:funload(playerid)
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(FarmDuty[playerid] < 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете на ферме, либо не являетесь фермером.");
	new fidx = FarmWorking[playerid], vehicleid = GetPlayerVehicleID(playerid);
    if(GetFarmCarIndex(fidx, vehicleid) == -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве.");
    if(GetVehicleModel(vehicleid) != 478) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в специализированном транспортном средстве.");
    new total;
	for(new idx = 1; idx <= TOTALFARM; idx++)
	{
		if(IsAPPos(playerid, 15.0, FarmInfo[idx][fEnterX], FarmInfo[idx][fEnterY], FarmInfo[idx][fEnterZ]))
		{
			total++;
	        if(fidx != idx) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете на этой ферме.");
	        if(VehInfo[vehicleid][vFarmInfo][1] <= 0) return SendMes(playerid, COLOR_DARKORANGE, "В машине нет урожая.");
	        if(FarmInfo[idx][fHarvest] >= 50000) return SendMes(playerid, COLOR_DARKORANGE, "На складе фермы нет места.");
	        FarmInfo[idx][fHarvest] += VehInfo[vehicleid][vFarmInfo][1];
	        VehInfo[vehicleid][vFarmInfo][1] = 0;
	        if(FarmInfo[idx][fHarvest] > 50000) FarmInfo[idx][fHarvest] = 50000;
	        SendMes(playerid, COLOR_MAIN, "Вы разгрузили урожай.");
	        SendMes(playerid, COLOR_MAIN, "Урожая на складе: {"#DC_WHITE"}%d из 50000.", FarmInfo[idx][fHarvest]);
			SaveFarm(idx);
			break;
        }
    }
	if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с фермой.");
	return 1;
}
CMD:service(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(ServiceDuty[playerid] < 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете на СТО, либо не являетесь заместителем или владельцем.");
	if(ServiceDuty[playerid] == 3 && PlayerInfo[playerid][pService] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы больше не владеете СТО.");
    if(ServiceDuty[playerid] == 3)
	{
		bigstring = "";
		format(bigstring, sizeof(bigstring), "\
		{"#DC_MAIN"}1.{"#DC_WHITE"} Установить зарплату\n\
		{"#DC_MAIN"}2.{"#DC_WHITE"} Установить стоимость запчастей\n\
		{"#DC_MAIN"}3.{"#DC_WHITE"} Ввести денежные средства на баланс СТО\n\
		{"#DC_MAIN"}4.{"#DC_WHITE"} Вывести денежные средства с баланса СТО\n\
		{"#DC_MAIN"}5.{"#DC_WHITE"} Продать СТО\n");
		for(new i = 0; i < MAX_SERVICE_SUBSTITUENTS; i++) format(bigstring, sizeof(bigstring), "%s{"#DC_MAIN"}%d.{"#DC_WHITE"} Установить заместителя № %d\n", bigstring, i + 4, i + 1);
		for(new i = 0; i < MAX_SERVICE_WORKERS; i++) format(bigstring, sizeof(bigstring), "%s{"#DC_MAIN"}%d.{"#DC_WHITE"} Установить механика № %d\n", bigstring, i + 7, i + 1);
		strcat(bigstring, "{"#DC_MAIN"}14.{"#DC_WHITE"} Найти СТО на GPS навигаторе");
		SPD(playerid, did_service, DSL, "{"#DC_MAIN"}СТО", bigstring, "Далее", "Отмена");
	}
	else SPD(playerid, did_service, DSL, "{"#DC_MAIN"}СТО", "{"#DC_MAIN"}1.{"#DC_WHITE"} Установить зарплату\n{"#DC_MAIN"}2.{"#DC_WHITE"} Установить запчастей", "Далее", "Отмена");
	return 1;
}
CMD:buyservice(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pService] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже владеете СТО.");
	for(new idx = 1; idx <= TOTALSERVICE; idx++)
	{
		if(IsAPPos(playerid, 5.0, ServiceInfo[idx][sEnterX], ServiceInfo[idx][sEnterY], ServiceInfo[idx][sEnterZ]) && !strcmp(ServiceInfo[idx][sOwner], "None", true))
		{
			if(GetMoney(playerid) < ServiceInfo[idx][sPrice]) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			ServerMoney(playerid, "Покупка СТО", -ServiceInfo[idx][sPrice], 0);
			ClearService(idx);
			strmid(ServiceInfo[idx][sOwner], PlayerInfo[playerid][pName], 0, strlen(PlayerInfo[playerid][pName]), MAX_PLAYER_NAME);
			SaveService(idx);
			UpdateService(idx);
			PlayerInfo[playerid][pService] = idx;
			format(strings, sizeof(strings), "Игрок %s купил СТО %d за %d. Наличные: %d", PlayerInfo[playerid][pName], idx, ServiceInfo[idx][sPrice], PlayerInfo[playerid][pCash]);
			WriteLog("logs_buyservice", strings);
			SendMes(playerid, COLOR_MAIN, "Вы приобрели СТО за {"#DC_WHITE"}$%d.", ServiceInfo[idx][sPrice]);
			SendMes(playerid, COLOR_MAIN, "Ваша СТО была оплачена на {"#DC_WHITE"}3{"#DC_MAIN"} дня, продлить аренду можно в банке.");
  			return 1;
		}
	}
	SendMes(playerid, COLOR_DARKORANGE, "Вы далеко от СТО или оно не продается.");
	return 1;
}
CMD:sinfo(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	new total;
	for(new idx = 1; idx <= TOTALSERVICE; idx++)
	{
		if(IsAPPos(playerid, 15.0, ServiceInfo[idx][sEnterX], ServiceInfo[idx][sEnterY], ServiceInfo[idx][sEnterZ]))
		{
			if(!strcmp(ServiceInfo[idx][sOwner], "None", true)) return SendMes(playerid, COLOR_DARKORANGE, "СТО не имеет владельца.");
			new status[32];
			if(GetPlayerID(ServiceInfo[idx][sOwner]) == INVALID_PLAYER_ID) format(status, sizeof(status), "[{"#DC_LRED"}Offline{"#DC_WHITE"}]");
			else format(status, sizeof(status), "[{"#DC_GREEN"}Online{"#DC_WHITE"}]");
			totalstring = "";
			format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
			Номер: %d\n\
			Владелец: %s %s\n\
			Кол-во оплаченных дней: %d\n\
			Касса: $%d\n\
			Зарплата: $%d\n\
			Стоимость запчастей: $%d\n\
			Контроль:\t%s\n", ServiceInfo[idx][id], ServiceInfo[idx][sOwner], status, ServiceInfo[idx][sPaymentDays], ServiceInfo[idx][sMoney], ServiceInfo[idx][sSalary], ServiceInfo[idx][sTill], FracInfo[ServiceInfo[idx][sBiker]][fName]);
			for(new i = 0; i < MAX_SERVICE_SUBSTITUENTS; i++) format(totalstring, sizeof(totalstring), "%sЗаместитель [%d]: %s\n", totalstring, i + 1, SubstituentsService[idx][i]);
			strcat(totalstring, "\n");
   			for(new i = 0; i < MAX_SERVICE_WORKERS; i++) format(totalstring, sizeof(totalstring), "%sМеханик [%d]: %s\n", totalstring, i + 1, WorkersService[idx][i]);
			SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация о СТО", totalstring, "Отмена", "");
   			total++;
			break;
		}
	}
	if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с СТО.");
	return 1;
}
CMD:tune(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(ServiceDuty[playerid] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Вы не работаете на СТО, либо не являетесь механиком, заместителем или владельцем.");
	if(ServiceDuty[playerid] == 3 && PlayerInfo[playerid][pService] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы больше не владеете СТО.");
	new idx = ServiceWorking[playerid];
	if(IsPlayerInRangeOfPoint(playerid, 20.0, ServiceInfo[idx][sEnterX], ServiceInfo[idx][sEnterY], ServiceInfo[idx][sEnterZ]))
	{
	    if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /tune [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(!IsPlayerInRangeOfPlayer(10.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
		if(!IsPlayerInAnyVehicle(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок должен находиться в транспортном средстве.");
		new vehicleid = GetPlayerVehicleID(params[0]), modelid = GetVehicleModel(vehicleid);
		if(strcmp(PlayerInfo[params[0]][pName], VehInfo[vehicleid][vOwner], true)) return SendMes(playerid, COLOR_DARKORANGE, "Игрок должен находиться в своем личном транспортном средстве.");
		if(GetVehicleClass(modelid) == 0) return SendMes(playerid, COLOR_DARKORANGE, "На этом транспортном средстве нельзя воспользоваться услугами автомастерской.");
		if(CheckSentence(params[0]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
		if(GetPVarInt(params[0], "ServiceUse")) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок уже воспользовался услугами автомастерской.");
		SetPVarInt(params[0], "ServiceUse", idx);
		SendMes(playerid, COLOR_MAIN, "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} воспользоваться услугами автомастерской.", PlayerInfo[params[0]][pName]);
		SendMes(params[0], COLOR_WHITE, "%s{"#DC_MAIN"} предложил Вам воспользоваться услугами автомастерской.", PlayerInfo[playerid][pName]);
		SendMes(params[0], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
		SetPVarInt(params[0], "OfferTune", true);
		SetPVarInt(params[0], "OffeeTune", playerid);
	    return 1;
	}
	SendMes(playerid, COLOR_DARKORANGE, "Вы далеко от СТО.");
	return 1;
}
CMD:en(playerid, params[]) return cmd_engine(playerid, params);
CMD:engine(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	new vehicleid = GetPlayerVehicleID(playerid);
	if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return 1;
	// Проверка на аренду ТС для работ;
	if(VehInfo[vehicleid][vFraction] >= 100 && VehInfo[vehicleid][vFraction] <= 110)
	{
		if(ArendsCar[playerid] != vehicleid) return RemoveFromVehicle(playerid);
	}
	if(Bonnet[vehicleid] == true) return SendMes(playerid, COLOR_DARKORANGE, "Дождитесь, пока автомеханик отремонтирует транспорт.");
	if(Fuel[vehicleid] <= 0 && !IsABike(vehicleid) && !IsABoat(vehicleid) && !IsAPlane(vehicleid)) return SendMes(playerid, COLOR_DARKORANGE, "В транспортном средстве нет топлива, необходима заправка.");
	new Float:hp;
	GetVehicleHealth(vehicleid, hp);
	if(hp > 0 && hp < 301) return SendMes(playerid, COLOR_DARKORANGE, "Двигатель автомобиля сломан, вызовите автомеханика (( /call )).");
	if(!IsABike(vehicleid)) CheckEngine(playerid, vehicleid);
  	else return SendMes(playerid, COLOR_DARKORANGE, "На этом транспортном средстве нет двигателя.");
	return 1;
}
CMD:lig(playerid, params[]) return cmd_light(playerid, params);
CMD:light(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return SendMes(playerid, COLOR_DARKORANGE, "Вы не в транспортном средстве.");
	new vehicleid = GetPlayerVehicleID(playerid);
	if(!IsABike(vehicleid)) CheckLight(playerid, vehicleid);
	else return SendMes(playerid, COLOR_DARKORANGE, "На этом транспортном средстве нельзя включить фары.");
	return 1;
}
CMD:lim(playerid, params[]) return cmd_limit(playerid, params);
CMD:limit(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return SendMes(playerid, COLOR_DARKORANGE, "Вы не в транспортном средстве.");
	new vehicleid = GetPlayerVehicleID(playerid);
	if(!IsABike(vehicleid)) CheckLimit(playerid, vehicleid);
	else return SendMes(playerid, COLOR_DARKORANGE, "На этом транспортном средстве нельзя установить ограничитель.");
	return 1;
}
CMD:park(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pVehicle] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет транспортного средства.");
	new vehicleid = PlayerInfo[playerid][pVehicle];
	if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в вашем личном транспортном средстве.");
	if(strcmp(PlayerInfo[playerid][pName], VehInfo[vehicleid][vOwner], true)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в вашем личном транспортном средстве.");
	if((GetPlayerInterior(playerid) != 0 || GetVehicleVirtualWorld(vehicleid) != 0) && !IsPlayerInRangeOfPoint(playerid, 100.0, 1378.1090,-14.2255,1000.6348) && !IsPlayerInRangeOfPoint(playerid, 100.0, 1399.2316,-14.9511,1000.6279) && IsPlayerInRangeOfPoint(playerid, 100.0, 1368.4884,-16.7363,1000.6308)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете припарковать транспортное средство в этом месте.");
	for(new i = 0; i < MAX_GREEN_ZONE; i++) if(IsPlayerInDynamicArea(playerid, AreasInfo[arGreenZone][i])) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете припарковать транспортное средство в \"Зеленой зоне\".");
	new Float:X, Float:Y, Float:Z, Float:FA;
	GetVehiclePos(vehicleid, X, Y, Z);
	GetVehicleZAngle(vehicleid, FA);
	VehInfo[vehicleid][vX] = X;
	VehInfo[vehicleid][vY] = Y;
	VehInfo[vehicleid][vZ] = Z;
	VehInfo[vehicleid][vFA] = FA;
	VehInfo[vehicleid][vInterior] = GetPlayerInterior(playerid);
	VehInfo[vehicleid][vWorld] = GetVehicleVirtualWorld(playerid);
	mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_VEHICLE" SET `x`= '%f', `y`= '%f', `z`= '%f', `fa`= '%f', `interior`= '%d', `world`= '%d' WHERE `id` = '%d' LIMIT 1",
	VehInfo[vehicleid][vX], VehInfo[vehicleid][vY], VehInfo[vehicleid][vZ], VehInfo[vehicleid][vFA], VehInfo[vehicleid][vInterior], VehInfo[vehicleid][vWorld], VehInfo[vehicleid][id]);
	mysql_query(mysql, request, false);
	SendMes(playerid, COLOR_MAIN, "Вы припарковали транспортное средство.");
	return 1;
}
CMD:fixcar(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pVehicle] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет транспортного средства.");
	if(IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в транспортном средстве.");
	if(GetPlayerInterior(playerid) != 0 || GetPlayerVirtualWorld(playerid) != 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете эвакуировать транспортное средство в этом месте.");
	for(new i = 0; i < MAX_GREEN_ZONE; i++) if(IsPlayerInDynamicArea(playerid, AreasInfo[arGreenZone][i])) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете эвакуировать транспортное средство в \"Зеленой зоне\".");
	new vehicleid = PlayerInfo[playerid][pVehicle];
	if(IsVehicleOccupied(vehicleid)) return SendMes(playerid, COLOR_DARKORANGE, "Транспортное средство в данный момент используется.");
	new price = 1000;
	if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
	ServerMoney(playerid, "Эвакуация транспортного средства /fixcar", -price, 0);
	SendMes(playerid, COLOR_MAIN, "Вы эвакуировали транспортное средство.");
	new Float:X, Float:Y, Float:Z, Float:FA;
	GetPlayerPos(playerid, X, Y, Z);
	GetPlayerFacingAngle(playerid, FA);
	SetVehiclePos(vehicleid, X+random(3), Y+random(3), Z+0.3);
	SetVehicleZAngle(vehicleid, FA);
    LinkVehicleToInterior(vehicleid, 0);
    SetVehicleVirtualWorld(vehicleid, 0);
	return 1;
}
CMD:sellcar(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pVehicle] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет транспортного средства.");
	new vehicleid = PlayerInfo[playerid][pVehicle];
	if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в вашем личном транспортном средстве.");
	if(strcmp(PlayerInfo[playerid][pName], VehInfo[vehicleid][vOwner], true)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в вашем личном транспортном средстве.");
	totalstring = "";
	format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}Вы хотите продать свой транспорт государству за $%d?", VehInfo[vehicleid][vBuyPrice]);
	SPD(playerid, did_sellcar, DSM, "{"#DC_MAIN"}Продажа транспорта", totalstring, "Да", "Нет");
	return 1;
}
CMD:sellmycar(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] > 1 && PlayerInfo[playerid][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "Вы администратор, действие невозможно.");
 	new vehicleid = GetPlayerVehicleID(playerid);
 	if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться за рулем транспортного средства.");
	if(strcmp(PlayerInfo[playerid][pName], VehInfo[vehicleid][vOwner], true)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться за рулем своего транспорта.");
	if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /sellmycar [id игрока] [стоимость]");
	if(params[1] < VehInfo[vehicleid][vPrice] / 2 || params[1] > VehInfo[vehicleid][vPrice] * 5)
	{
	    format(strings, sizeof(strings), "Стоимость транспорта должна быть от $%d до $%d.", VehInfo[vehicleid][vPrice] / 2, VehInfo[vehicleid][vPrice] * 5);
 		return SendMes(playerid, COLOR_WHITE, strings);
	}
 	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете продать себе транспорт.");
    if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
	if(CheckSentence(params[0]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
	if(PlayerInfo[params[0]][pHotelID] || PlayerInfo[params[0]][pHouse])
	{
		format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} купить транспорт {"#DC_WHITE"}%s{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[params[0]][pName], VehicleNameS[GetVehicleModel(vehicleid)-400], params[1]);
		SendMes(playerid, COLOR_MAIN, strings);
		format(strings, sizeof(strings), "%s{"#DC_MAIN"} предложил Вам купить его транспорт {"#DC_WHITE"}%s{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], VehicleNameS[GetVehicleModel(vehicleid)-400], params[1]);
		SendMes(params[0], COLOR_WHITE, strings);
		SendMes(params[0], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
		new vehicleupgrade, Float:vehiclemaxspeed, vehiclemodel = GetVehicleModel(vehicleid);
		for(new i = 0; i < 7; i++)
		{
			if(VehInfo[vehicleid][vUpgrade][i] == 0) continue;
			vehicleupgrade++;
		}
		vehiclemaxspeed = GetVehicleMaxSpeed(vehiclemodel) * (1.0 + (vehicleupgrade * 0.1));
		if(vehiclemaxspeed == 0) vehiclemaxspeed = GetVehicleMaxSpeed(vehiclemodel);
		else if(vehiclemaxspeed > 210.0) vehiclemaxspeed = 210.0;
		totalstring = "";
		format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
		Владелец: %s\n\
		Название: %s\n\
		Пробег: %.1f KM\n\
		Номер: %s\n\
		Стартер: %.1f\n\
		Аккумулятор: %.1f\n\
		Топливная система: %.1f\n\
		Сцепление: %.1f\n\
		Двигатель: %.1f\n\
		Диаметр колес: %s\n\
		Внешний обвес: %s\n\
		Подвеска: %s\n\
		Сцепление: %s\n\
		Тормоза: %s\n\
		Трансмиссия: %s\n\
		Двигатель: %s\n\
		Макс. скорость: %d KM/H\n\
		Макс. скорость с тюнингом: %d KM/H", VehInfo[vehicleid][vOwner], VehicleNameS[vehiclemodel-400], VehInfo[vehicleid][vMileage], VehInfo[vehicleid][vNumber],
		VehInfo[vehicleid][vDetails][0], VehInfo[vehicleid][vDetails][1], VehInfo[vehicleid][vDetails][2], VehInfo[vehicleid][vDetails][3], VehInfo[vehicleid][vDetails][4],
		(!VehInfo[vehicleid][vUpgrade][0]) ? ("{"#DC_LRED"}Стандарт{"#DC_WHITE"}") : ("{"#DC_GREEN"}Обновлен{"#DC_WHITE"}"),
		(!VehInfo[vehicleid][vUpgrade][1]) ? ("{"#DC_LRED"}Стандарт{"#DC_WHITE"}") : ("{"#DC_GREEN"}Обновлен{"#DC_WHITE"}"),
		(!VehInfo[vehicleid][vUpgrade][2]) ? ("{"#DC_LRED"}Стандарт{"#DC_WHITE"}") : ("{"#DC_GREEN"}Обновлен{"#DC_WHITE"}"),
		(!VehInfo[vehicleid][vUpgrade][3]) ? ("{"#DC_LRED"}Стандарт{"#DC_WHITE"}") : ("{"#DC_GREEN"}Обновлен{"#DC_WHITE"}"),
		(!VehInfo[vehicleid][vUpgrade][4]) ? ("{"#DC_LRED"}Стандарт{"#DC_WHITE"}") : ("{"#DC_GREEN"}Обновлен{"#DC_WHITE"}"),
		(!VehInfo[vehicleid][vUpgrade][5]) ? ("{"#DC_LRED"}Стандарт{"#DC_WHITE"}") : ("{"#DC_GREEN"}Обновлен{"#DC_WHITE"}"),
		(!VehInfo[vehicleid][vUpgrade][6]) ? ("{"#DC_LRED"}Стандарт{"#DC_WHITE"}") : ("{"#DC_GREEN"}Обновлен{"#DC_WHITE"}"),
		floatround(GetVehicleMaxSpeed(vehiclemodel), floatround_ceil), floatround(vehiclemaxspeed, floatround_ceil));
		SPD(params[0], did_null, DSM, "{"#DC_MAIN"}Продажа транспорта", totalstring, "Отмена", "");
		PlayerInfo[params[0]][pSCARSeller] = playerid;
		PlayerInfo[params[0]][pSCARSIDx] = PlayerInfo[playerid][pID];
		PlayerInfo[params[0]][pSCARPrice] = params[1];
		PlayerInfo[params[0]][pSCARNumber] = vehicleid;
	} else return SendMes(playerid, COLOR_DARKORANGE, "У игрока нет дома или номера в отеле.");
	return 1;
}
CMD:carpass(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pVehicle] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет транспортного средства.");
	new vehicleid = PlayerInfo[playerid][pVehicle];
	if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в вашем личном транспортном средстве.");
	if(strcmp(PlayerInfo[playerid][pName], VehInfo[vehicleid][vOwner], true)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в вашем личном транспортном средстве.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /carpass [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(!IsPlayerInRangeOfPlayer(8.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок слишком далеко.");
	if(CheckSentence(params[0]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
	SendMes(playerid, COLOR_MAIN, "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} посмотреть паспорт транспортного средства.", PlayerInfo[params[0]][pName]);
	SendMes(params[0], COLOR_WHITE, "%s{"#DC_MAIN"} предложил Вам посмотреть паспорт транспортного средства.", PlayerInfo[playerid][pName]);
	SendMes(params[0], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
	SetPVarInt(params[0], "OfferCarpass", true);
	SetPVarInt(params[0], "OffeeCarpass", playerid);
	return 1;
}
CMD:trunk(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в транспортном средстве.");
	new Float:x, Float:y, Float:z, vehid;
	vehid = GetNearestVehicle(playerid);
	GetCoordBootVehicle(vehid, x, y, z);
	if(vehid == 0) return SendMes(playerid, COLOR_DARKORANGE, "Рядом с Вами нет вашего транспорта.");
	if(!IsPlayerInRangeOfPoint(playerid, 1.5, x, y, z)) return SendMes(playerid, COLOR_DARKORANGE, "Вы далеко от багажника.");
	if(IsAMoto(vehid) || IsABike(vehid)) return SendMes(playerid, COLOR_DARKORANGE, "Данный транспорт не имеет багажника.");
	if(IsLocked[vehid] == true) return SendMes(playerid, COLOR_DARKORANGE, "Этот транспорт закрыт.");
	ShowVehicleTrunks(playerid, vehid);
	SetPVarInt(playerid, "TrunkVehicleID", vehid);
	return 1;
}
CMD:fill(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(GetPlayerState(playerid) != 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться за рулем транспортного средства.");
	new vehicleid = GetPlayerVehicleID(playerid), model = GetVehicleModel(vehicleid);
	if(IsAPlane(vehicleid) && IsABoat(vehicleid) && IsABike(vehicleid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете заправить данное транспортное средство.");
	if(Fuel[vehicleid] >= GetVehicleMaxGasTank(model)) return SendMes(playerid, COLOR_DARKORANGE, "На заправке нельзя залить более %d литр(-а/-ов) топлива.", GetVehicleMaxGasTank(model));
	if(GetPVarInt(playerid, "Refueling") > 0) return SendMes(playerid, COLOR_DARKORANGE, "Заправка уже началась, пожалуйста подождите.");
	new total;
	for(new i = 1; i <= TOTALBIZ; i++)
	{
		if(IsAPPos(playerid, 10.0, BizInfo[i][bEnterX], BizInfo[i][bEnterY], BizInfo[i][bEnterZ]) && BizInfo[i][bType] == 2)
		{
			SPD(playerid, did_fillcar, DSI, "{"#DC_MAIN"}Топливо", "{"#DC_WHITE"}Введите кол-во литров топлива:", "Далее", "Отмена");
			total++;
			SetPVarInt(playerid, "FuelBizID", i);
			break;
		}
	}
	if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться на заправке.");
	return 1;
}
CMD:fillcar(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(GetPlayerState(playerid) != 2) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться за рулем транспортного средства.");
	new vehicleid = GetPlayerVehicleID(playerid), model = GetVehicleModel(vehicleid);
	if(IsAPlane(vehicleid) && IsABoat(vehicleid) && IsABike(vehicleid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете заправить данное транспортное средство.");
	if((Fuel[vehicleid] + 10) > GetVehicleMaxGasTank(model)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете заправить транспорт канистрой в данный момент.");
	if(GetPVarInt(playerid, "Refueling") > 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже заправляетесь.");
	if(PlayerInfo[playerid][pInventoryItems][TYPE_CANISTER] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет канистры.");
	SendMes(playerid, COLOR_MAIN, "Вы заправили свою машину на {"#DC_WHITE"}10{"#DC_MAIN"} литр(-а/-ов).");
	Fuel[vehicleid] += 10;
	VehInfo[vehicleid][vFuel] = Fuel[vehicleid];
	if(VehInfo[vehicleid][vFraction] == 0) SaveVehicle(vehicleid);
	PlayerInfo[playerid][pInventoryItems][TYPE_CANISTER]--;
	format(strings, sizeof(strings), "%s заправил(-а) транспорт", PlayerInfo[playerid][pName]);
	SRM(playerid, 10.0, COLOR_LPURPLE, strings);
	SPCB(playerid, strings, COLOR_LPURPLE, 10.0, 1000);
	return 1;
}
CMD:getfuel(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	new total, price;
	for(new i = 1; i <= TOTALBIZ; i++)
	{
		if(IsAPPos(playerid, 10.0, BizInfo[i][bEnterX], BizInfo[i][bEnterY], BizInfo[i][bEnterZ]) && BizInfo[i][bType] == 2)
		{
			new max_value;
			GetPlayerMaxInventoryItems(playerid, TYPE_CANISTER, max_value);
			if(PlayerInfo[playerid][pInventoryItems][TYPE_CANISTER] >= max_value) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете переносить в сумме более %d %s. %s.", max_value, Inventory[TYPE_CANISTER][InvUnitName], Inventory[TYPE_CANISTER][InvStringName]);
		    price = BizInfo[i][bTill] * 50 * 10;
			if(GetMoney(playerid) < price) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет столько денег. Используйте: /donate");
			ServerMoney(playerid, "Покупка канистры на АЗС", -price, 0);
			PayBizProfit(i, 20, price);
			SendMes(playerid, COLOR_MAIN, "Вы приобрели канистру. Используйте {"#DC_WHITE"}/fillcar{"#DC_MAIN"} для заправки машины.");
			PlayerInfo[playerid][pInventoryItems][TYPE_CANISTER]++;
			SavePlayerInventoryItems(playerid, TYPE_CANISTER);
			total++;
			break;
		}
	}
	if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться на заправке.");
	return 1;
}
CMD:repaircar(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы находитесь в транспортном средстве.");
	if(PlayerInfo[playerid][pInventoryItems][TYPE_REPAIR_KIT] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет рем. комплекта.");
	if(RegisterRace[playerid] == 2 || RegisterDerby[playerid] == 2 || RegisterPaintBall[playerid] == 2) return SendMes(playerid, COLOR_DARKORANGE, "При регистрации и на мероприятии нельзя ремонтировать транспортное средство.");
	new Float:x, Float:y, Float:z, vehid;
	vehid = GetNearestVehicle(playerid);
	GetCoordBonnetVehicle(vehid, x, y, z);
	if(vehid == 0) return SendMes(playerid, COLOR_DARKORANGE, "Рядом с Вами нет вашего транспорта.");
	if(!IsPlayerInRangeOfPoint(playerid, 3.0, x, y, z)) return SendMes(playerid, COLOR_DARKORANGE, "Вы далеко от капота.");
	SendMes(playerid, COLOR_MAIN, "Вы починили транспортное средство.");
	RepairVehicle(vehid);
	PlayerInfo[playerid][pInventoryItems][TYPE_REPAIR_KIT]--;
	format(strings, sizeof(strings), "%s починил(-а) транспорт", PlayerInfo[playerid][pName]);
	SRM(playerid, 10.0, COLOR_LPURPLE, strings);
	SPCB(playerid, strings, COLOR_LPURPLE, 10.0, 1000);
	return 1;
}
CMD:givecarkey(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /givecarkey [id игрока]");
	if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не в транспортном средстве.");
	new vehicleid = GetPlayerVehicleID(playerid);
	if(strcmp(PlayerInfo[playerid][pName], VehInfo[vehicleid][vOwner], true)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не основной владелец транспортного средства.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(!IsPlayerConnected(params[0])) return 1;
	if(!IsPlayerInRangeOfPlayer(5.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
	strmid(VehInfo[vehicleid][v2Owner], PlayerInfo[params[0]][pName], 0, strlen(PlayerInfo[params[0]][pName]), 32);
	SaveVehicle(vehicleid);
	format(strings, sizeof(strings), "%s передал(-а) ключи %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
	SPM(playerid, strings);
	SendMes(playerid, COLOR_MAIN, "Вы передали ключи от машины {"#DC_WHITE"}%s.", PlayerInfo[params[0]][pName]);
	SendMes(params[0], COLOR_WHITE, "%s{"#DC_MAIN"} передал(-а) Вам ключи от машины.", PlayerInfo[playerid][pName]);
	return 1;
}
CMD:getcarkey(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
	if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не в транспортном средстве.");
	new vehicleid = GetPlayerVehicleID(playerid);
	if(strcmp(PlayerInfo[playerid][pName], VehInfo[vehicleid][vOwner], true)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не основной владелец этого транспортного средства.");
	if(!strcmp("None", VehInfo[vehicleid][v2Owner], true)) return SendMes(playerid, COLOR_DARKORANGE, "Ключей от вашего ТС ни у кого нет.");
	strmid(VehInfo[vehicleid][v2Owner], "None", 0, strlen("None"), 32);
	SaveVehicle(vehicleid);
	SendMes(playerid, COLOR_MAIN, "Вы забрали ключи от своего авто.");
	return 1;
}
CMD:lock(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	for(new i = 0; i < MAX_VEHICLES; i++)
	{
		if(!IsPlayerInRangeOfVehicle(playerid, 4.0, i) || GetVehicleVirtualWorld(i) != GetPlayerVirtualWorld(playerid)) continue;
	 	if(VehInfo[i][vFraction] > 0)
		{
			if(PlayerInfo[playerid][pMember] == VehInfo[i][vFraction] || ArendsCar[playerid] == i) {SetPlayerVehicleDoors(playerid, i); return 1;}
			else if(PlayerInfo[playerid][pAdmin] && VehInfo[i][vFraction] == 500) {SetPlayerVehicleDoors(playerid, i); return 1;}
		}
		else
		{
			if(!strcmp(PlayerInfo[playerid][pName], VehInfo[i][vOwner], true) || !strcmp(PlayerInfo[playerid][pName], VehInfo[i][v2Owner], true)) {SetPlayerVehicleDoors(playerid, i); return 1;}
		}
	}
	return 1;
}
CMD:eject(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в своем транспортном средстве.");
	if(GetPlayerState(playerid) != PLAYER_STATE_DRIVER) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться за рулем транспортного средства.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /eject [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(playerid == params[0]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(!IsPlayerInVehicle(params[0], GetPlayerVehicleID(playerid))) return SendMes(playerid, COLOR_DARKORANGE, "Игрок должен находиться в вашем транспортном средстве.");
	if(PlayerTied[params[0]]) return SendMes(playerid, COLOR_DARKORANGE, "Игрок связан.");
	if(TaxiPassenger[playerid] == params[0])
	{
	    new salary = 50;
		if(TaxiTime[playerid] < gettime()) salary = 600 + random(1200);
	    else if(TaxiTime[playerid]-60 < gettime()) salary = 300 + random(600);
	    else if(TaxiTime[playerid]-90 < gettime()) salary = 150 + random(300);
	    if(TaxiTime[playerid] < gettime() || TaxiTime[playerid]-60 < gettime() || TaxiTime[playerid]-90 < gettime())
		{
			if(LastTaxiID[playerid] != params[0])
			{
				CheckQuest(playerid, 6);
				CheckTask(playerid, 27);
				CheckJobSkill(playerid, 13);
				CheckAchievement(playerid, 13);
			}
			LastTaxiID[playerid] = params[0];
		}
		new reason_money = salary + GetPlayerMoneyJobSkill(playerid, salary, 13);
		if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
		PlayerInfo[playerid][pPayCheck] += reason_money;
		PlayerInfo[playerid][pTOPSalary] += reason_money;
		SendMes(params[0], COLOR_MAIN, "Вы вышли из такси.");
		SendMes(playerid, COLOR_MAIN, "Пассажир вышел из машины.");
		TaxiDriver[params[0]] = INVALID_PLAYER_ID;
		TaxiPassenger[playerid] = INVALID_PLAYER_ID;
		SendMes(playerid, COLOR_MAIN, "Заработная плата будет начислена в конце часа.");
	}
	if(!(IsACop(playerid) || !IsAMedic(playerid)))
	{
		format(strings, sizeof(strings), "%s выкинул(-а) из транспорта %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, strings);
		RemoveFromVehicle(params[0]);
	}
	else
	{
		SetPlayerControl(params[0], true);
		format(strings, sizeof(strings), "%s вывел(-а) из транспорта %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
		SRM(playerid, 10.0, COLOR_LPURPLE, strings);
		RemoveFromVehicle(params[0]);
	}
	return 1;
}
CMD:fraction(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в организации.");
	new MaxRang = MaxFracRang(PlayerInfo[playerid][pMember]);
	if(PlayerInfo[playerid][pRank] < MaxRang-1) return SendMes(playerid, COLOR_DARKORANGE, "Данная команда доступна только для лидера и заместителя.");
 	new member = PlayerInfo[playerid][pMember];
	totalstring = "";
 	format(totalstring, sizeof(totalstring), "\
	{"#DC_MAIN"}1.{"#DC_WHITE"} Сообщение при входе\n\
	{"#DC_MAIN"}2.{"#DC_WHITE"} Чат фракции: %s\n\
	{"#DC_MAIN"}3.{"#DC_WHITE"} Склад: %s\n\
	{"#DC_MAIN"}4.{"#DC_WHITE"} Доступ к складу: С %d ранга\n\
	{"#DC_MAIN"}5.{"#DC_WHITE"} Полный состав организации\n\
	{"#DC_MAIN"}6.{"#DC_WHITE"} Обновить транспорт\n\
	{"#DC_MAIN"}7.{"#DC_WHITE"} Информация о складе: %s", (!FracInfo[member][fSetting][3])?("{"#DC_LRED"}Выключен"):("{"#DC_GREEN"}Включен"), (!FracInfo[member][fSetting][4])?("{"#DC_LRED"}Закрыт"):("{"#DC_GREEN"}Открыт"), FracInfo[member][fSetting][5], (!FracInfo[member][fSetting][6])?("{"#DC_LRED"}Выключена"):("{"#DC_GREEN"}Включена"));
	SPD(playerid, did_fpanel, DSL, "{"#DC_MAIN"}Фракционное меню", totalstring, "Далее", "Отмена");
    return 1;
}
CMD:invite(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в организации.");
	new MaxRang = MaxFracRang(PlayerInfo[playerid][pMember]);
	if(PlayerInfo[playerid][pRank] < MaxRang-1) return SendMes(playerid, COLOR_DARKORANGE, "Данная команда доступна только для лидера и заместителя.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /invite [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(PlayerInfo[params[0]][pLeader] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок лидер другой организации.");
	if(PlayerInfo[params[0]][pMember] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок находится в другой организации.");
	if(PlayerInfo[params[0]][pLevel] < 2) return SendMes(playerid, COLOR_DARKORANGE, "У игрока нет 2-ого уровня.");
	if(IsPlayerInAnyVehicle(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не должен находиться в транспортном средстве.");
	if(!IsPlayerInRangeOfPlayer(10.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
	if(PlayerInfo[params[0]][pWarn]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете пригласить игрока в организацию с предупреждением.");
	if(PlayerInfo[params[0]][pBlackFraction][PlayerInfo[playerid][pMember]]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете пригласить игрока состоящего в чёрном списке вашей организации.");

	if(FarmDuty[params[0]] != 0 || ServiceDuty[params[0]] != 0 ||
		PizzaboyStatus[params[0]] != false || PostmanStatus[params[0]] != false || FlowersboyStatus[params[0]] != false ||
		RoadmanStatus[params[0]] != false || CollectorStatus[params[0]] != false || TaxStatus[params[0]] != false ||
		FireStatus[params[0]] != false || TruckerStatus[params[0]] != false || GoldMinerStatus[params[0]] != false ||
		DrugMakerStatus[params[0]] != false || ConstructionStatus[params[0]] != false || JanitorStatus[params[0]] != false ||
		GardenerStatus[params[0]] != false || TrainmanStatus[params[0]] != false || CleanerStatus[params[0]] != false ||
		ZooWorkerStatus[params[0]] != false || VolunteerStatus[params[0]] != false || GetPVarInt(params[0], "BusJob") ||
		GetPVarInt(params[0], "TaxiJob") || GetPVarInt(params[0], "MehJob") || GetPVarInt(params[0], "RentProduct") ||
		GetPVarInt(params[0], "PilotJob") || GetPVarInt(params[0], "CasinoDuty")) return SendMes(params[0], COLOR_DARKORANGE, "Игрок не закончил рабочий день на прошлой работе.");

	format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} вступить во фракцию {"#DC_WHITE"}%s.", PlayerInfo[params[0]][pName], FracInfo[PlayerInfo[playerid][pMember]][fName]);
	SendMes(playerid, COLOR_MAIN, strings);
	totalstring = "";
	format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}%s %s предлагает вам присоединиться к %s.\n\nВы согласны?", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], FracInfo[PlayerInfo[playerid][pMember]][fName]);
	SetPVarInt(params[0], "PlayerInvite", playerid);
	SetPVarInt(playerid, "InviteID", params[0]);
	SPD(params[0], did_invite_fraction, DSM, "{"#DC_MAIN"}Приглашение во фракцию", totalstring, "Да", "Нет");
	return 1;
}
CMD:uninvite(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в организации.");
	new MaxRang = MaxFracRang(PlayerInfo[playerid][pMember]);
	if(PlayerInfo[playerid][pRank] < MaxRang-1) return SendMes(playerid, COLOR_DARKORANGE, "Данная команда доступна только для лидера и заместителя.");
	if(sscanf(params, "us[32]", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /uninvite [id игрока] [причина]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок не находиться в организации.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(PlayerInfo[params[0]][pLeader] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок лидер другой организации.");
	if(PlayerInfo[params[0]][pMember] != PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в другой организации.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(PlayerInfo[params[0]][pRank] >= PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете уволить игрока выше Вас по рангу.");
	if(AdvertisingCheck(params[1])) return AdvertisingPunishment(playerid, params[1], 0);
	if(DisguiseInfo[params[0]]) LeaveFromDisguise(params[0], 1);
	format(strings, sizeof(strings), "Вы уволили {"#DC_WHITE"}%s{"#DC_MAIN"} из организации {"#DC_WHITE"}%s.{"#DC_MAIN"} Причина: {"#DC_WHITE"}%s", PlayerInfo[params[0]][pName], FracInfo[PlayerInfo[playerid][pMember]][fName], params[1]);
	SendMes(playerid, COLOR_MAIN, strings);
	format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} уволил(-а) вас из организации {"#DC_WHITE"}%s.{"#DC_MAIN"} Причина: {"#DC_WHITE"}%s", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], FracInfo[PlayerInfo[playerid][pMember]][fName], params[1]);
	SendMes(params[0], COLOR_WHITE, strings);
	LeaveFractionPlayer(params[0], 0);
	format(strings, sizeof(strings), "[F] %s %s уволил(-а) из организации %s. Причина: %s", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName], params[1]);
	SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
	return 1;
}
CMD:offuninvite(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pLeader] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	if(sscanf(params, "s[32]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /offuninvite [ник-нейм]");
	new scdplayerid = GetPlayerID(params[0]);
	if(scdplayerid != INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок в сети, используйте /uninvite");
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", params[0]);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "ddds", playerid, 13, 0, params[0]);
	return 1;
}
CMD:giverank(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в организации.");
	new MaxRang = MaxFracRang(PlayerInfo[playerid][pMember]);
	if(PlayerInfo[playerid][pRank] < MaxRang-1) return SendMes(playerid, COLOR_DARKORANGE, "Данная команда доступна только для лидера и заместителя.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /giverank [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок не находиться в организации.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(PlayerInfo[params[0]][pMember] != PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в другой организации.");
	if(PlayerInfo[params[0]][pRank] >= PlayerInfo[playerid][pRank]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете повысить/понизить игрока выше Вас по рангу.");
	new total = 0;
	totalstring = "", bigstring = "";
	for(new i = 1; i <= MAX_RANK; i++)
	{
		if(i == MAX_RANK) break;
		if(!strcmp(FracRank[PlayerInfo[params[0]][pMember]][i+1], "None", true)) break;
		if(PlayerInfo[params[0]][pRank] == i) format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} {"#DC_GREEN"}%s{"#DC_WHITE"}\n", i, FracRank[PlayerInfo[playerid][pMember]][i]);
		else format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", i, FracRank[PlayerInfo[playerid][pMember]][i]);
		strcat(bigstring, totalstring);
		total++;
	}
	if(total == 0) return SendAdminMessage(COLOR_LRED, "[A] Ошибка #109! Сообщите разработчикам!", 8);
	SetPVarInt(playerid, "PlayerRank", params[0]);
	SPD(playerid, did_giverank, DSL, "{"#DC_MAIN"}Ранг", bigstring, "Далее", "Отмена");
	return 1;
}
CMD:giveskin(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в организации.");
	new MaxRang = MaxFracRang(PlayerInfo[playerid][pMember]);
	if(PlayerInfo[playerid][pRank] < MaxRang-1) return SendMes(playerid, COLOR_DARKORANGE, "Данная команда доступна только для лидера и заместителя.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /giveskin [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок не находиться в организации.");
	if(PlayerInfo[params[0]][pMember] != PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в другой организации.");
	if(PlayerInfo[params[0]][pRank] >= PlayerInfo[playerid][pRank] && params[0] != playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете изменить скин игрока Выше вас по рангу.");

	if(FarmDuty[params[0]] != 0 || ServiceDuty[params[0]] != 0 ||
		PizzaboyStatus[params[0]] != false || PostmanStatus[params[0]] != false || FlowersboyStatus[params[0]] != false ||
		RoadmanStatus[params[0]] != false || CollectorStatus[params[0]] != false || TaxStatus[params[0]] != false ||
		FireStatus[params[0]] != false || TruckerStatus[params[0]] != false || GoldMinerStatus[params[0]] != false ||
		DrugMakerStatus[params[0]] != false || ConstructionStatus[params[0]] != false || JanitorStatus[params[0]] != false ||
		GardenerStatus[params[0]] != false || TrainmanStatus[params[0]] != false || CleanerStatus[params[0]] != false ||
		ZooWorkerStatus[params[0]] != false || VolunteerStatus[params[0]] != false || GetPVarInt(params[0], "BusJob") ||
		GetPVarInt(params[0], "TaxiJob") || GetPVarInt(params[0], "MehJob") || GetPVarInt(params[0], "RentProduct") ||
		GetPVarInt(params[0], "PilotJob") || GetPVarInt(params[0], "CasinoDuty")) return SendMes(params[0], COLOR_DARKORANGE, "Игрок не закончил рабочий день на прошлой работе.");

	new total = 0;
	totalstring = "", bigstring = "";
	for(new i = 0; i <= MAX_SKINS; i++)
	{
		if(i == 23) break;
		if(FracInfo[PlayerInfo[playerid][pMember]][fSkin][i] == 0) break;
		format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Скин № %d\n", i + 1, FracInfo[PlayerInfo[playerid][pMember]][fSkin][i]);
		strcat(bigstring, totalstring);
		total++;
	}
	if(total == 0) return SendAdminMessage(COLOR_LRED, "[A] Ошибка #110! Сообщите разработчикам!", 8);
	SetPVarInt(playerid, "PlayerSkin", params[0]);
	SPD(playerid, did_giveskin, DSL, "{"#DC_MAIN"}Скин", bigstring, "Далее", "Отмена");
	return 1;
}
CMD:fracwarn(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в организации.");
	new MaxRang = MaxFracRang(PlayerInfo[playerid][pMember]);
	if(PlayerInfo[playerid][pRank] < MaxRang-1) return SendMes(playerid, COLOR_DARKORANGE, "Данная команда доступна только для лидера и заместителя.");
	if(sscanf(params, "us[32]", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /fracwarn [id игрока] [причина]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок не находиться в организации.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(PlayerInfo[params[0]][pLeader] > 0 && PlayerInfo[playerid][pAdmin] < 4) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок лидер другой организации.");
	if(PlayerInfo[params[0]][pMember] != PlayerInfo[playerid][pMember] && PlayerInfo[playerid][pAdmin] < 4) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в другой организации.");
	if(PlayerInfo[params[0]][pRank] >= PlayerInfo[playerid][pRank] && PlayerInfo[playerid][pAdmin] < 4) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете выдать выговор игроку выше Вас по рангу.");
	PlayerInfo[params[0]][pFracWarn]++;
    if(PlayerInfo[params[0]][pLeader] && PlayerInfo[params[0]][pFracWarn] >= 3)
	{
	    if(PlayerInfo[params[0]][pAdmin] == 0)
		{
			SetFractionStr(PlayerInfo[params[0]][pLeader], "leader", "None");
			strmid(FracInfo[PlayerInfo[params[0]][pLeader]][fLeader], "None", 0, strlen("None"), MAX_PLAYER_NAME);
		}
	}
	format(strings, sizeof(strings), "Вы выдали выговор {"#DC_WHITE"}%s.{"#DC_MAIN"} Причина: {"#DC_WHITE"}%s.{"#DC_MAIN"} Всего: {"#DC_WHITE"}%d.", PlayerInfo[params[0]][pName], params[1], PlayerInfo[params[0]][pFracWarn]);
	SendMes(playerid, COLOR_MAIN, strings);
	if(PlayerInfo[playerid][pAdmin]) format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} выдал Вам выговор. Причина: {"#DC_WHITE"}%s.{"#DC_MAIN"} Всего: {"#DC_WHITE"}%d.", PlayerInfo[playerid][pName], params[1], PlayerInfo[params[0]][pFracWarn]);
	else format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} выдал Вам выговор. Причина: {"#DC_WHITE"}%s.{"#DC_MAIN"} Всего: {"#DC_WHITE"}%d.", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], params[1], PlayerInfo[params[0]][pFracWarn]);
	SendMes(params[0], COLOR_WHITE, strings);
	if(PlayerInfo[playerid][pAdmin]) format(strings, sizeof(strings), "Администратор %s выдал выговор %s. Причина: %s. Всего: %d.", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName], params[1], PlayerInfo[params[0]][pFracWarn]);
	else format(strings, sizeof(strings), "[F] %s %s выдал выговор %s. Причина: %s. Всего: %d.", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName], params[1], PlayerInfo[params[0]][pFracWarn]);
	SendFMes(PlayerInfo[playerid][pMember], COLOR_YELLOW, strings);
    if(PlayerInfo[params[0]][pFracWarn] >= 3) LeaveFractionPlayer(params[0], 0);
	return 1;
}
CMD:fracunwarn(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в организации.");
	new MaxRang = MaxFracRang(PlayerInfo[playerid][pMember]);
	if(PlayerInfo[playerid][pRank] < MaxRang-1) return SendMes(playerid, COLOR_DARKORANGE, "Данная команда доступна только для лидера и заместителя.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /fracunwarn [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок не находиться в организации.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(PlayerInfo[params[0]][pLeader] > 0 && PlayerInfo[playerid][pAdmin] < 4) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок лидер другой организации.");
	if(PlayerInfo[params[0]][pMember] != PlayerInfo[playerid][pMember] && PlayerInfo[playerid][pAdmin] < 4) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в другой организации.");
	if(PlayerInfo[params[0]][pRank] >= PlayerInfo[playerid][pRank] && PlayerInfo[playerid][pAdmin] < 4) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете снять выговор игроку выше Вас по рангу.");
	if(PlayerInfo[params[0]][pFracWarn] <= 0) return SendMes(playerid, COLOR_DARKORANGE, "У данного игрока нет выговоров.");
    PlayerInfo[params[0]][pFracWarn]--;
	format(strings, sizeof(strings), "Вы сняли выговор {"#DC_WHITE"}%s.{"#DC_MAIN"} Всего: {"#DC_WHITE"}%d.", PlayerInfo[params[0]][pName], PlayerInfo[params[0]][pFracWarn]);
	SendMes(playerid, COLOR_MAIN, strings);
	if(PlayerInfo[playerid][pAdmin]) format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} снял Вам выговор. Всего: {"#DC_WHITE"}%d.", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pFracWarn]);
	format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} снял Вам выговор. Всего: {"#DC_WHITE"}%d.", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], PlayerInfo[params[0]][pFracWarn]);
	SendMes(params[0], COLOR_WHITE, strings);
	return 1;
}
CMD:offfracwarn(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pLeader] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	if(sscanf(params, "s[32]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /offfracwarn [ник-нейм]");
	new scdplayerid = GetPlayerID(params[0]);
	if(scdplayerid != INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок в сети, используйте /fracwarn");
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", params[0]);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "ddds", playerid, 28, 0, params[0]);
	return 1;
}
CMD:offfracunwarn(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pLeader] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	if(sscanf(params, "s[32]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /offfracunwarn [ник-нейм]");
	new scdplayerid = GetPlayerID(params[0]);
	if(scdplayerid != INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок в сети, используйте /fracunwarn");
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", params[0]);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "ddds", playerid, 29, 0, params[0]);
	return 1;
}
CMD:black(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pLeader])
	{
		if(sscanf(params, "us[32]", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /black [id игрока] [причина]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(PlayerInfo[params[0]][pMember] == PlayerInfo[playerid][pMember]) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок находиться в вашей организации.");
		if(PlayerInfo[params[0]][pBlackFraction][PlayerInfo[playerid][pMember]]) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок находиться в чёрном списке вашей организации.");
		if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
		if(AdvertisingCheck(params[1])) return AdvertisingPunishment(playerid, params[1], 0);
		PlayerInfo[params[0]][pBlackFraction][PlayerInfo[playerid][pMember]] = 1;
		format(strings, sizeof(strings), "Вы занесли {"#DC_WHITE"}%s{"#DC_MAIN"} в чёрный список {"#DC_WHITE"}%s.{"#DC_MAIN"} Причина: {"#DC_WHITE"}%s", PlayerInfo[params[0]][pName], FracInfo[PlayerInfo[playerid][pMember]][fName], params[1]);
		SendMes(playerid, COLOR_MAIN, strings);
		format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} занес(-ла) вас в чёрный список {"#DC_WHITE"}%s.{"#DC_MAIN"} Причина: {"#DC_WHITE"}%s", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], FracInfo[PlayerInfo[playerid][pMember]][fName], params[1]);
		SendMes(params[0], COLOR_WHITE, strings);
		format(strings, sizeof(strings), "[F] %s %s занес(-ла) в черный список %s. Причина: %s", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName], params[1]);
		SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
		format(strings, sizeof(strings), "[A] (%s) %s [%d] занес(-ла) в черный список %s. Причина: %s", FracInfo[PlayerInfo[playerid][pMember]][fName], PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[1]);
		SendAdminMessage(COLOR_GREY, strings, 8);
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:unblack(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pLeader])
	{
		if(sscanf(params, "u", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /unblack [id игрока]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(PlayerInfo[params[0]][pBlackFraction][PlayerInfo[playerid][pMember]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок не находиться в чёрном списке вашей организации.");
		if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
		PlayerInfo[params[0]][pBlackFraction][PlayerInfo[playerid][pMember]] = 0;
		format(strings, sizeof(strings), "Вы вынесли {"#DC_WHITE"}%s{"#DC_MAIN"} из чёрного списка {"#DC_WHITE"}%s.", PlayerInfo[params[0]][pName], FracInfo[PlayerInfo[playerid][pMember]][fName]);
		SendMes(playerid, COLOR_MAIN, strings);
		format(strings, sizeof(strings), "%s %s{"#DC_MAIN"} вынес(-ла) вас из чёрного списка {"#DC_WHITE"}%s.", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], FracInfo[PlayerInfo[playerid][pMember]][fName]);
		SendMes(params[0], COLOR_WHITE, strings);
		format(strings, sizeof(strings), "[F] %s %s вынес(-ла) из чёрного списка %s.", FracRank[PlayerInfo[playerid][pMember]][PlayerInfo[playerid][pRank]], PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
		SendFMes(PlayerInfo[playerid][pMember], COLOR_NEWLBLUE, strings);
		format(strings, sizeof(strings), "[A] (%s) %s [%d] вынес(-ла) из чёрного списка %s.", FracInfo[PlayerInfo[playerid][pMember]][fName], PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName]);
		SendAdminMessage(COLOR_GREY, strings, 8);
	}
	else SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	return 1;
}
CMD:skip(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не состоите в организации.");
	new MaxRang = MaxFracRang(PlayerInfo[playerid][pMember]);
	if(PlayerInfo[playerid][pRank] < MaxRang-1) return SendMes(playerid, COLOR_DARKORANGE, "Данная команда доступна только для лидера и заместителя.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /skip [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(IsPlayerInAnyVehicle(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не должен находиться в транспортном средстве.");
	if(!IsPlayerInRangeOfPlayer(10.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок слишком далеко от Вас.");
	new idx = PlayerInfo[playerid][pMember];
	if(PlayerInfo[params[0]][pSkip] == idx)
	{
	    PlayerInfo[params[0]][pSkip] = 0;
	    SendMes(playerid, COLOR_MAIN, "Вы забрали ключи от входа у {"#DC_WHITE"}%s.", PlayerInfo[params[0]][pName]);
	    SendMes(params[0], COLOR_WHITE, "%s{"#DC_MAIN"} забрал(-а) у Вас ключи от входа.", PlayerInfo[playerid][pName]);
		format(strings, sizeof(strings), "%s забрал(-а) ключи от входа у %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
		SRM(playerid, 5.0, COLOR_LPURPLE, strings);
	}
	else
	{
	    PlayerInfo[params[0]][pSkip] = idx;
	    SendMes(playerid, COLOR_MAIN, "Вы выдали {"#DC_WHITE"}%s{"#DC_MAIN"} ключи от входа.", PlayerInfo[params[0]][pName]);
	    SendMes(params[0], COLOR_WHITE, "%s{"#DC_MAIN"} выдал(-а) Вам ключи от входа.", PlayerInfo[playerid][pName]);
		format(strings, sizeof(strings), "%s выдал(-а) ключи от входа %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
		SRM(playerid, 5.0, COLOR_LPURPLE, strings);
	}
	return 1;
}
//==============================================================================
CMD:dice(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] > 1 && PlayerInfo[playerid][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "Вы администратор, действие невозможно.");
 	if(IsPlayerInRangeOfPoint(playerid, 50.0, 1168.9948,2245.8018,996.1786))
 	{
 	    if(sscanf(params, "ud", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /dice [id игрока] [ставка]");
		if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
		if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
		if(GetPVarInt(playerid, "CasinoOffered") != -1) return SendMes(playerid, COLOR_DARKORANGE, "У Вас есть предложение игры в казино, используйте /cancel для отмены.");
		if(GetPVarInt(playerid, "CasinoOffer") != -1) return SendMes(playerid, COLOR_DARKORANGE, "Вы уже отправили предложение игры в казино, используйте /cancel для отмены.");
		if(!IsPlayerInRangeOfPlayer(3.0, playerid, params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок должен находиться рядом с Вами.");
		if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
		if(params[1] < 500 || params[1] > 250000) return SendMes(playerid, COLOR_DARKORANGE, "Укажите сумму ставки от $500 до $250000.");
		/*if(GetPVarInt(params[0], "CasinoOffered") != -1 || GetPVarInt(params[0], "CasinoOffer") != -1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока уже есть предложение игры в казино.");*/
		if(CheckSentence(params[0]) == 1) return SendMes(playerid, COLOR_DARKORANGE, "У игрока есть активное предложение.");
		if(PlayerInfo[params[0]][pAdmin] > 1 && PlayerInfo[params[0]][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "Игрок администратор, действие невозможно.");
		SetPVarInt(playerid, "CasinoOffer", params[0]), SetPVarInt(params[0], "CasinoOffered", playerid);
		SetPVarInt(playerid, "CasinoRate", params[1]), SetPVarInt(params[0], "CasinoRate", params[1]);
		format(strings, sizeof(strings), "Вы предложили {"#DC_WHITE"}%s{"#DC_MAIN"} сыграть в кости. Ставка: {"#DC_WHITE"}$%d.", PlayerInfo[params[0]][pName], params[1]);
		SendMes(playerid, COLOR_MAIN, strings);
		SendMes(playerid, COLOR_MAIN, "Используйте {"#DC_WHITE"}/cancel{"#DC_MAIN"} для отмены предложения.");
		format(strings, sizeof(strings), "%s{"#DC_MAIN"} предложил Вам сыграть в кости. Ставка: {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], params[1]);
		SendMes(params[0], COLOR_WHITE, strings);
		SendMes(params[0], COLOR_MAIN, "Чтобы согласиться введите {"#DC_WHITE"}\"/yes\",{"#DC_MAIN"} если Вы хотите отказаться введите {"#DC_WHITE"}\"/no\".");
	} else return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в казино или у игрового стола.");
	return 1;
}
CMD:cancel(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(GetPVarInt(playerid, "CasinoOffered") != -1)
	{
	    new scdplayerid = GetPVarInt(playerid, "CasinoOffered");
	    if(GetPVarInt(scdplayerid, "CasinoOffer") != playerid) return 1;
	    if(GetPVarInt(playerid, "CasinoOffered") != scdplayerid) return 1;
	    SendMes(playerid, COLOR_MAIN, "Вы отменили предложение сыграть в кости.");
	    SendMes(scdplayerid, COLOR_MAIN, "Игрок которому Вы предложили сыграть в кости отказался от игры.");
		SetPVarInt(playerid, "CasinoOffered", -1), DeletePVar(playerid, "CasinoRate");
		SetPVarInt(scdplayerid, "CasinoOffer", -1), DeletePVar(scdplayerid, "CasinoRate");
	}
	else if(GetPVarInt(playerid, "CasinoOffer") != -1)
	{
	    new scdplayerid = GetPVarInt(playerid, "CasinoOffer");
	    if(GetPVarInt(scdplayerid, "CasinoOffered") != playerid) return 1;
	    if(GetPVarInt(playerid, "CasinoOffer") != scdplayerid) return 1;
	    SendMes(playerid, COLOR_MAIN, "Вы отменили предложение сыграть в кости.");
	    SendMes(scdplayerid, COLOR_MAIN, "Игрок который Вам предложил сыграть в кости отказался от игры.");
		SetPVarInt(playerid, "CasinoOffer", -1), DeletePVar(playerid, "CasinoRate");
		SetPVarInt(scdplayerid, "CasinoOffered", -1), DeletePVar(scdplayerid, "CasinoRate");
	}
	else return SendMes(playerid, COLOR_DARKORANGE, "У Вас нет активных предложений.");
	return 1;
}
//==============================================================================
// Помощники;
/*CMD:slogin(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pSupport] < 1) return 1;
	if(SupportLogged[playerid] == true)
	{
		format(strings, sizeof(strings), "[S] Помощник {"#DC_WHITE"}%s [%d]{"#DC_MAIN"} вышел с дежурства.", PlayerInfo[playerid][pName], playerid);
		SendSupportMessage(COLOR_MAIN, strings);
		SupportLogged[playerid] = false;
		return 1;
	}
	else
	{
		SupportLogged[playerid] = true;
		format(strings, sizeof(strings), "[S] Помощник {"#DC_WHITE"}%s [%d]{"#DC_MAIN"} вошел на дежурство.", PlayerInfo[playerid][pName], playerid);
		SendSupportMessage(COLOR_MAIN, strings);
		SCM(playerid, COLOR_MAIN, "Для ответа на вопросы введите {"#DC_WHITE"}/sr,{"#DC_MAIN"} для общения с помощниками введите {"#DC_WHITE"}/sc");
		SCM(playerid, COLOR_MAIN, "Статистика {"#DC_WHITE"}/scheck");
		return 1;
	}
}
CMD:sr(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pSupport] < 1 || SupportLogged[playerid] == false) return 1;
	if(sscanf(params, "us[198]", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /sr [id игрока] [текст]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(AdvertisingCheck(params[1])) return AdvertisingPunishment(playerid, params[1], 0);
	format(strings, sizeof(strings), "Ответ от помощника %s [%d]: {"#DC_WHITE"}%s", PlayerInfo[playerid][pName], playerid, params[1]);
	SendMes(params[0], COLOR_MAIN, strings);
	format(strings, sizeof(strings), "[S] %s [%d] ответил %s [%d]: %s", PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0], params[1]);
	SendSupportMessage(COLOR_ADMIN_ONE, strings), SendAdminMessage(COLOR_ADMIN_ONE, strings, 10);
	WriteLog("logs_supportanswer", strings);
	PlayerInfo[playerid][pAdminData][1]++;
	PlayerInfo[playerid][pAdminAnswer]++;
	return 1;
}
CMD:sc(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pSupport] < 1 || SupportLogged[playerid] == false) return 1;
	if(sscanf(params, "s[256]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /sc [текст]");
	format(strings, sizeof(strings), "[S] %s [%d]: %s", PlayerInfo[playerid][pName], playerid, params[0]);
	SendSupportMessage(COLOR_LGREENA, strings), SendAdminMessage(COLOR_LGREENA, strings, 11);
	return 1;
}
CMD:scheck(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pSupport] < 1 || SupportLogged[playerid] == false) return 1;
	totalstring = "";
	format(totalstring, sizeof(totalstring), "{"#DC_WHTE"}\
	Часов: %d\n\
	Ответов: %d", PlayerInfo[playerid][pAdminData][0] / 3600, PlayerInfo[playerid][pAdminData][1]);
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Статистика", totalstring, "Далее", "Отмена");
	return 1;
}*/
//==============================================================================
// 1-ый уровень администратора;
CMD:job(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;

	if(FarmDuty[playerid] != 0 || ServiceDuty[playerid] != 0 ||
		PizzaboyStatus[playerid] != false || PostmanStatus[playerid] != false || FlowersboyStatus[playerid] != false ||
		RoadmanStatus[playerid] != false || CollectorStatus[playerid] != false || TaxStatus[playerid] != false ||
		FireStatus[playerid] != false || TruckerStatus[playerid] != false || GoldMinerStatus[playerid] != false ||
		DrugMakerStatus[playerid] != false || ConstructionStatus[playerid] != false || JanitorStatus[playerid] != false ||
		GardenerStatus[playerid] != false || TrainmanStatus[playerid] != false || CleanerStatus[playerid] != false ||
		ZooWorkerStatus[playerid] != false || VolunteerStatus[playerid] != false || GetPVarInt(playerid, "BusJob") ||
		GetPVarInt(playerid, "TaxiJob") || GetPVarInt(playerid, "MehJob") || GetPVarInt(playerid, "RentProduct") ||
		GetPVarInt(playerid, "PilotJob") || GetPVarInt(playerid, "CasinoDuty")) return SendMes(playerid, COLOR_DARKORANGE, "Вы не закончили рабочий день на прошлой работе.");

	bigstring = "";
	format(bigstring, sizeof(bigstring), "\
	{"#DC_MAIN"}1.{"#DC_WHITE"} Развозчик пиццы (%d уровень)\n\
	{"#DC_MAIN"}2.{"#DC_WHITE"} Почтальон (%d уровень)\n\
	{"#DC_MAIN"}3.{"#DC_WHITE"} Развозчик цветов (%d уровень)\n\
	{"#DC_MAIN"}4.{"#DC_WHITE"} Водитель такси (%d уровень)\n\
	{"#DC_MAIN"}5.{"#DC_WHITE"} Водитель автобуса (%d уровень)\n\
	{"#DC_MAIN"}6.{"#DC_WHITE"} Автомеханик (%d уровень)\n\
	{"#DC_MAIN"}7.{"#DC_WHITE"} Развозчик продуктов (%d уровень)\n\
	{"#DC_MAIN"}8.{"#DC_WHITE"} Ремонтник дорог (%d уровеь)\n\
	{"#DC_MAIN"}9.{"#DC_WHITE"} Инкассатор (%d уровень)\n\
	{"#DC_MAIN"}10.{"#DC_WHITE"} Пилот (%d уровень)\n\
	{"#DC_MAIN"}11.{"#DC_WHITE"} Работник налоговой (%d уровень)\n\
	{"#DC_MAIN"}12.{"#DC_WHITE"} Пожарный (%d уровень)\n\
	{"#DC_MAIN"}13.{"#DC_WHITE"} Дальнобойщик (%d уровень)",
	J_PIZZABOY_LEVEL, J_POSTMAN_LEVEL, J_FLOWERSBOY_LEVEL, J_TAXI_LEVEL, J_BUS_LEVEL, J_MECHANIC_LEVEL, J_PRODUCT_LEVEL,
	J_ROADMAN_LEVEL, J_COLLECTOR_LEVEL, J_PILOT_LEVEL, J_TAX_LEVEL, J_FIREMAN_LEVEL, J_TRUCK_LEVEL);
	SPD(playerid, did_mayor_job, DSL, "{"#DC_MAIN"}Устройство на работу", bigstring, "Далее", "Отмена");
	return 1;
}
CMD:ahelp(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 || AdminLogged[playerid] == false) return 1;
	SPD(playerid, did_admin_centre, DSL, "{"#DC_MAIN"}Центр администратора", "{"#DC_MAIN"}1.{"#DC_WHITE"} Команды\n{"#DC_MAIN"}2.{"#DC_WHITE"} Настройки", "Далее", "Отмена");
	return 1;
}
CMD:alogin(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(AdminLogged[playerid] == true)
	{
		if(PlayerInfo[playerid][pAdmin] < 9)
		{
			format(strings, sizeof(strings), "[A] Администратор {"#DC_WHITE"}%s [%d]{"#DC_MAIN"} вышел.", PlayerInfo[playerid][pName], playerid);
			SendAdminMessage(COLOR_MAIN, strings, 8);
		}
		AdminLogged[playerid] = false;
		SetPlayerTeamColor(playerid);
		return 1;
	}
	if(PlayerInfo[playerid][pAdmin] > 0)
	{
		if(!strcmp(PlayerInfo[playerid][pAdminPassword], "qwerty", true))
		{
			SetPVarInt(playerid, "Alogin", 1);
			SPD(playerid, did_alogin, DSI, "{"#DC_MAIN"}Регистрация администратора", "{"#DC_WHITE"}Зарегистрируйте ваш пароль для доступа к правам администратора:", "Далее", "Отмена");
		}
		else
		{
			SetPVarInt(playerid, "Alogin", 2);
			SPD(playerid, did_alogin, DSI, "{"#DC_MAIN"}Авторизация", "{"#DC_WHITE"}Введите пароль администратора:", "Далее", "Отмена");
		}
	}
	return 1;
}
CMD:arep(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 || AdminLogged[playerid] == false) return 1;
    ShowPlayerAdminReportList(playerid);
    return 1;
}
CMD:pm(playerid, params[]) return cmd_rr(playerid, params);
CMD:ans(playerid, params[]) return cmd_rr(playerid, params);
CMD:rr(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "us[198]", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /rr [id игрока] [текст]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(AdvertisingCheck(params[1])) return AdvertisingPunishment(playerid, params[1], 0);
    format(strings, sizeof(strings), "Ответ от администратора %s [%d]: {"#DC_WHITE"}%s", PlayerInfo[playerid][pName], playerid, params[1]);
	SendMes(params[0], COLOR_MAIN, strings);
	format(strings, sizeof(strings), "[A] %s [%d] ответил %s [%d]: %s", PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0], params[1]);
	SendAdminMessage(COLOR_ADMIN_ONE, strings, 6);
	if(GetPVarInt(params[0], "report_id"))
	{
		new report_id = GetPVarInt(params[0], "report_id");

		aReportInfo[report_id][rIsTooked] = false;
		aReportInfo[report_id][rID] = report_id;
		aReportInfo[report_id][rPlayerID] = -1;
		aReportInfo[report_id][rText][0] = EOS;
		aReportInfo[report_id][rWhenWroted_Time] = -1;
		aReportInfo[report_id][rWhenWroted_Text][0] = EOS;

		DeletePVar(params[0], "report_id");

		totaladminreports--;

		WriteLog("logs_adminanswer", strings);
		PlayerInfo[playerid][pAdminData][1]++;
		PlayerInfo[playerid][pAdminAnswer]++;
	}
	return 1;
}
CMD:gg(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "u", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /gg [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	format(strings, sizeof(strings), "Администратор %s [%d] пожелал Вам приятной игры на Luxury RolePlay.", PlayerInfo[playerid][pName], playerid);
	SendMes(params[0], COLOR_MAIN, strings);
	format(strings, sizeof(strings), "[A] %s [%d] пожелал приятной игры %s [%d].", PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0]);
	SendAdminMessage(COLOR_ADMIN_ONE, strings, 6);
	return 1;
}
CMD:sp(playerid, params[]) return cmd_recon(playerid, params);
CMD:re(playerid, params[]) return cmd_recon(playerid, params);
CMD:recon(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 || AdminLogged[playerid] == false) return 1;
	if(IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Для начала слежки выйдите из ТС.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /re [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(params[0] == playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить это действие к себе.");
	if(GetPlayerState(params[0]) == PLAYER_STATE_SPECTATING) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок в режиме наблюдения.");
	if(GetPlayerState(params[0]) != 1 && GetPlayerState(params[0]) != 2 && GetPlayerState(params[0]) != 3) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не вступил в игру.");
	if(RegisterRace[playerid] == 2 || RegisterDerby[playerid] == 2 || RegisterPaintBall[playerid] == 2) return SendMes(playerid, COLOR_DARKORANGE, "При регистрации и на мероприятии нельзя выходить в режим наблюдения.");
	if(GetPVarInt(playerid, "FlyMode") == 1) return SendMes(playerid, COLOR_DARKORANGE, "Выйдите из флай режима.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	SendMes(playerid, COLOR_MAIN, "Вы вошли в режим наблюдения. Для выхода из режима введите {"#DC_WHITE"}/reoff{"#DC_MAIN"} или нажмите S{"#DC_WHITE"}PACE.");
	SendMes(playerid, COLOR_MAIN, "Для переключения игроков нажмите {"#DC_WHITE"}NUM 4{"#DC_MAIN"} или {"#DC_WHITE"}NUM 6.");
	if(PlayerInfo[playerid][pAdmin] < 7)
	{
		format(strings, sizeof(strings),"[A] %s [%d] начал следить за %s [%d].", PlayerInfo[playerid][pName],playerid, PlayerInfo[params[0]][pName],params[0]);
		SendAdminMessage(COLOR_GREY, strings, 8);
	}
	StartPlayerSpectate(playerid, params[0]);
	return 1;
}
CMD:spoff(playerid, params[]) return cmd_reconoff(playerid, params);
CMD:reoff(playerid, params[]) return cmd_reconoff(playerid, params);
CMD:reconoff(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 || AdminLogged[playerid] == false) return 1;
	StopPlayerSpectate(playerid);
	return 1;
}
CMD:a(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "s[256]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /a [текст]");
	format(strings, sizeof(strings), "[A] %s [%d]: %s", PlayerInfo[playerid][pName], playerid, params[0]);
	SendAdminMessage(COLOR_LGREENA, strings, 7);
	return 1;
}
CMD:asc(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "s[256]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /asc [текст]");
	format(strings, sizeof(strings), "[S] [A] %s [%d]: %s", PlayerInfo[playerid][pName], playerid, params[0]);
	SendSupportMessage(COLOR_LGREENA, strings), SendAdminMessage(COLOR_LGREENA, strings, 11);
	return 1;
}
CMD:ghide(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 || AdminLogged[playerid] == false) return 1;
	for(new idx = 0; idx < 11; idx++) TextDrawHideForPlayer(playerid, GangWarMain[idx]);
	return 1;
}
CMD:mhide(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 || AdminLogged[playerid] == false) return 1;
	for(new idx = 0; idx < 11; idx++) TextDrawHideForPlayer(playerid, MafiaWarMain[idx]);
	return 1;
}
CMD:bhide(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 || AdminLogged[playerid] == false) return 1;
	for(new idx = 0; idx < 11; idx++) TextDrawHideForPlayer(playerid, BikerWarMain[idx]);
	return 1;
}
CMD:getstats(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /getstats [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	OnPlayerShowStats(playerid, params[0]);
	SendMes(playerid, COLOR_MAIN, "Статистика {"#DC_WHITE"}%s.", PlayerInfo[params[0]][pName]);
	return 1;
}
/*CMD:acheck(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 || AdminLogged[playerid] == false) return 1;
	totalstring = "";
	format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
	Часов: %d\n\
	Ответов: %d", PlayerInfo[playerid][pAdminData][0] / 3600, PlayerInfo[playerid][pAdminData][1]);
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Статистика", totalstring, "Далее", "Отмена");
	return 1;
}*/
CMD:gethp(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /gethp [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	new Float:health;
	GetPlayerHealth(params[0], health);
	format(strings, sizeof(strings), "%s [%d] | pHealth: %0.2f | Health: %0.2f", PlayerInfo[params[0]][pName], params[0], PlayerInfo[params[0]][pHealth], health);
	SendMes(playerid, COLOR_MAIN, strings);
	return 1;
}
CMD:offleaders(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 1 || AdminLogged[playerid] == false) return 1;
	{
	    mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `leader` > '0' AND `admin` = '0' ORDER BY `leader` ASC");
		new Cache:result = mysql_query(mysql, request);
		if(cache_num_rows())
		{
			new name[32], leader, timetoday, timeyesterday, afktoday, afkyesterday;
			totalstring = "", bigstring = "{"#DC_WHITE"}";
			for(new i = 0; i < 50; i++)
			{
				if(i >= cache_num_rows()) break;
				cache_get_value_name(i, "name", name, MAX_PLAYER_NAME);
				cache_get_value_name_int(i, "leader", leader);
				cache_get_value_name_int(i, "timetoday", timetoday);
				cache_get_value_name_int(i, "timeyesterday", timeyesterday);
				cache_get_value_name_int(i, "afktoday", afktoday);
				cache_get_value_name_int(i, "afkyesterday", afkyesterday);
				format(totalstring, sizeof(totalstring), "[%s (%s) ] [TIME: %s | %s] [AFK: %s | %s]\n", name, FracInfo[leader][fName], ConvertSeconds(timetoday), ConvertSeconds(timeyesterday), ConvertSeconds(afktoday), ConvertSeconds(afkyesterday));
				strcat(bigstring, totalstring);
			}
			SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Список лидеров", bigstring, "Отмена", "");
		} else SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
		return cache_delete(result);
	}
}
// 2-ой уровень администратора;
CMD:mute(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "uds[32]", params[0], params[1], params[2])) return SendMes(playerid, COLOR_WHITE, "Введите: /mute [id игрока] [время] [причина]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	if(PlayerInfo[params[0]][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок уже имеет бан чата.");
	if(params[1] > 180 || params[1] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Время бан чата от 1 до 180 минут.");
	if(AdvertisingCheck(params[2])) return AdvertisingPunishment(playerid, params[2], 0);
	PlayerInfo[params[0]][pMute] = params[1]*60;
	format(strings, sizeof(strings), "Администратор %s выдал бан чата %s на %d мин. Причина: %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName], params[1], params[2]);
	SCMTAEx(COLOR_LRED, strings, 3), WriteLog("logs_mute", strings);
	return 1;
}
CMD:unmute(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /unmute [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pMute] == 0) return SendMes(playerid, COLOR_DARKORANGE, "У игрока нет бан чата.");
	PlayerInfo[params[0]][pMute] = 0;
	format(strings, sizeof(strings), "Администратор %s снял бан чата у %s.", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName]);
	SCMTAEx(COLOR_LRED, strings, 3), WriteLog("logs_unmute", strings);
	return 1;
}
CMD:tp(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2 || AdminLogged[playerid] == false) return 1;
	SPD(playerid, did_teleport, DSL, "{"#DC_MAIN"}Телепорт", "{"#DC_MAIN"}1.{"#DC_WHITE"} Важные места\n{"#DC_MAIN"}2.{"#DC_WHITE"} По работе\n{"#DC_MAIN"}3.{"#DC_WHITE"} Автосалоны\n{"#DC_MAIN"}4.{"#DC_WHITE"} Базы организаций\n{"#DC_MAIN"}5.{"#DC_WHITE"} Рыбалка\n{"#DC_MAIN"}6.{"#DC_WHITE"} Охота\n{"#DC_MAIN"}7.{"#DC_WHITE"} Развлечения\n{"#DC_MAIN"}8.{"#DC_WHITE"} Для мафий и банд", "Далее", "Отмена");
	return 1;
}
CMD:tpcoord(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2 || AdminLogged[playerid] == false) return 1;
	new Float:x, Float:y, Float:z, interior, virtualworld;
	if(sscanf(params, "fffdd", x, y, z, interior, virtualworld)) return SendMes(playerid, COLOR_WHITE, "Введите: /tpcoord [x] [y] [z] [int] [world]");
	SetPlayerPos(playerid, x, y, z);
	SetPlayerInterior(playerid, interior);
	SetPlayerVirtualWorld(playerid, virtualworld);
	return 1;
}
CMD:sl(playerid, params[]) return cmd_slap(playerid, params);
CMD:slap(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /slap [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	format(strings, sizeof(strings),"[A] %s [%d] шлепнул игрока %s [%d].", PlayerInfo[playerid][pName],playerid, PlayerInfo[params[0]][pName],params[0], params[1]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	SlapPlayer(playerid, params[0]);
	return 1;
}
/*CMD:gm(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2 || AdminLogged[playerid] == false) return 1;
	gAGM[playerid] ^= 1;
	SendMes(playerid, COLOR_MAIN, gAGM[playerid] ? ("GM Включен"):("GM Отключен"));
 	return 1;
}*/
CMD:fly(playerid,params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2 || AdminLogged[playerid] == false) return 1;
	if(GetPVarInt(playerid, "FlyMode")) CancelFlyMode(playerid);
	else FlyMode(playerid);
	return 1;
}
CMD:onlinestats(playerid,params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2 || AdminLogged[playerid] == false) return 1;
	new fraction[MAX_FRACTION], job[MAX_JOB_SKILL], unemployed;
	foreach(new i:Player)
	{
 		fraction[PlayerInfo[i][pMember]]++;
 		if(TrainmanStatus[i] == true) job[0]++;
 		else if(JanitorStatus[i] == true) job[1]++;
 		else if(GardenerStatus[i] == true) job[2]++;
 		else if(CleanerStatus[i] == true) job[3]++;
 		else if(ZooWorkerStatus[i] == true) job[4]++;
 		else if(VolunteerStatus[i] == true) job[5]++;
 		else if(DrugMakerStatus[i] == true) job[6]++;
 		else if(TrainmanStatus[i] == true) job[7]++; // farm
 		else if(GoldMinerStatus[i] == true) job[8]++;
 		else if(ConstructionStatus[i] == true) job[9]++;
 		else if(PizzaboyStatus[i] == true) job[10]++;
 		else if(PostmanStatus[i] == true) job[11]++;
 		else if(FlowersboyStatus[i] == true) job[12]++;
 		else if(GetPVarInt(i, "TaxiJob") > 0) job[13]++;
 		else if(GetPVarInt(i, "BusJob") > 0) job[14]++;
 		else if(GetPVarInt(i, "MehJob") > 0) job[15]++;
 		else if(GetPVarInt(i, "ProductJob") > 0) job[16]++;
 		else if(RoadmanStatus[i] == true) job[17]++;
 		else if(CollectorStatus[i] == true) job[18]++;
 		else if(GetPVarInt(i, "PilotJob") > 0) job[19]++;
 		else if(TaxStatus[i] == true) job[20]++;
 		else if(FireStatus[i] == true) job[21]++;
 		else if(TruckerStatus[i] == true) job[22]++;
 		else unemployed++;
	}
	totalstring = "", bigstring = "{"#DC_WHITE"}";
    for(new i = 1; i < MAX_JOB_SKILL; i++)
	{
	    format(totalstring, sizeof(totalstring), "%s: %d\n", JobSkillInfo[i][jsName], job[i]);
		strcat(bigstring, totalstring);
	}
    format(totalstring, sizeof(totalstring), "Безработный: %d\n\n", unemployed);
	strcat(bigstring, totalstring);
    for(new i = 0; i < TOTALFRAC+1; i++)
	{
	    format(totalstring, sizeof(totalstring), "%d. %s: %d\n", i + 1, FracInfo[i][fName], fraction[i]);
		strcat(bigstring, totalstring);
	}
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Онлайн", bigstring, "Отмена", "");
	return 1;
}
CMD:awarninfo(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /awarninfo [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(!PlayerInfo[params[0]][pWarn]) return SendMes(playerid, COLOR_DARKORANGE, "У игрока нет активных предупреждений.");
	totalstring = "";
	format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
	Кол-во предупреждений: %d\n\
	Причина послед. предупреждения: %s\n\
	Снятие одного предупреждения: %s", PlayerInfo[params[0]][pWarn], PlayerInfo[params[0]][pWarnReason], date("%dd.%mm.%yyyy в %hh:%di:%ss", PlayerInfo[params[0]][pWarnTime]));
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация о предупреждениях", totalstring, "Отмена", "");
	return 1;
}
CMD:guninfo(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /guninfo [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	InfoPlayerWeapon(playerid, params[0]);
	return 1;
}
CMD:flip(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2 || AdminLogged[playerid] == false) return 1;
	if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы не в транспортном средстве.");
	new vehicleid = GetPlayerVehicleID(playerid);
	new Float:fa, Float:x, Float:y, Float:z;
	GetVehicleRotationQuat(vehicleid, fa, x, y, z);
	GetVehicleZAngle(vehicleid, fa);
	SetVehicleZAngle(vehicleid, fa);
	return 1;
}
CMD:hp(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2 || AdminLogged[playerid] == false) return 1;
	PlayerInfo[playerid][pHealth] = 100.0;
	SetHealth(playerid, 100);
	SetSatiety(playerid, 100);
	if(IsPlayerInAnyVehicle(playerid)) RepairVehicle(GetPlayerVehicleID(playerid));
	SendMes(playerid, COLOR_MAIN, "Здоровье и сытость восстановлены.");
	return 1;
}
CMD:fraclist(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 2 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /fraclist [id фракции]");
	new total = 0, number = 0;
	totalstring = "", bigstring = "";
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0 || PlayerInfo[i][pMember] != params[0] || PlayerInfo[i][pAdmin] > 0) continue;
		{
		    if(number == 0)
			{
				if(GetPVarInt(i, "AFK_Time") > 3) format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}[AFK] {"#DC_YELLOW"}%s [%d] - {"#DC_WHITE"}%s\t\t", PlayerInfo[i][pName], i, FracRank[PlayerInfo[i][pMember]][PlayerInfo[i][pRank]]);
				else if(GetPVarInt(i, "AFK_Time") <= 3) format(totalstring, sizeof(totalstring), "{"#DC_YELLOW"}%s [%d] - {"#DC_WHITE"}%s\t\t", PlayerInfo[i][pName], i, FracRank[PlayerInfo[i][pMember]][PlayerInfo[i][pRank]]);
                number = 1;
			}
			else if(number == 1)
			{
				if(GetPVarInt(i, "AFK_Time") > 3) format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}[AFK] {"#DC_YELLOW"}%s [%d] - {"#DC_WHITE"}%s\n", PlayerInfo[i][pName], i, FracRank[PlayerInfo[i][pMember]][PlayerInfo[i][pRank]]);
				else if(GetPVarInt(i, "AFK_Time") <= 3) format(totalstring, sizeof(totalstring), "{"#DC_YELLOW"}%s [%d] - {"#DC_WHITE"}%s\n", PlayerInfo[i][pName], i, FracRank[PlayerInfo[i][pMember]][PlayerInfo[i][pRank]]);
                number = 0;
			}
			strcat(bigstring, totalstring);
			total++;
		}
	}
	if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент членов фракции нет в сети.");
	if(total > 0)
	{
		format(totalstring, sizeof(totalstring), "\n{"#DC_WHITE"}Всего членов фракции онлайн - %d игрок(ов).", total);
		strcat(bigstring, totalstring);
	}
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Члены организации в сети", bigstring, "Отмена", "");
	return 1;
}
// 3-ий уровень администратора;
CMD:kick(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "us[32]", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /kick [id игрока] [причина]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	if(AdvertisingCheck(params[1])) return AdvertisingPunishment(playerid, params[1], 0);
	// Проверка на атаку от администратора
	if(IsAAdminAttack(playerid, 3)) return 1;
	// Если атаки нет, выполняем команду
	format(strings, sizeof(strings), "Администратор %s кикнул %s. Причина: %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName], params[1]);
	SCMTAEx(COLOR_LRED, strings, 3), WriteLog("logs_kick", strings);
	KickWithMessage(params[0], COLOR_LRED, "Для выхода из игры введите (/q)");
	return 1;
}
CMD:skick(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ds[32]", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /skick [id игрока] [причина]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	if(AdvertisingCheck(params[1])) return AdvertisingPunishment(playerid, params[1], 0);
	// Проверка на атаку от администратора
	if(IsAAdminAttack(playerid, 5)) return 1;
	// Если атаки нет, выполняем команду
	format(strings, sizeof(strings), "[А] Администратор %s скрытно кикнул %s. Причина: %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName], params[1]);
	SendAdminMessage(COLOR_LRED, strings, 8), WriteLog("logs_skick", strings);
	if(PlayerInfo[params[0]][pAdmin] > 0) format(strings, sizeof(strings), "Вас скрытно кикнул Администратор %s.", PlayerInfo[playerid][pName]);
	else format(strings, sizeof(strings), "Для выхода из игры введите (/q)");
	KickWithMessage(params[0], COLOR_LRED, strings);
	return 1;
}
CMD:jail(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "iis[32]", params[0], params[1], params[2])) return SendMes(playerid, COLOR_WHITE, "Введите: /jail [id игрока] [минуты] [причина]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
    if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
    if(PlayerInfo[params[0]][pJail] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок уже находиться в тюрьме.");
    if(params[1] < 1 || params[1] > 180) return SendMes(playerid, COLOR_DARKORANGE, "Кол-во минут от 1 до 180.");
	if(AdvertisingCheck(params[2])) return AdvertisingPunishment(playerid, params[2], 0);
    ResetPlayerWeapon(params[0]);
	ResetPlayerWeaponBase(params[0]);
	PlayerInfo[params[0]][pJailTime] = 60 * params[1];
	PlayerInfo[params[0]][pWanted] = 0;
	SetPlayerVirtualWorld(params[0], 0);
	SetPVarInt(params[0], "CUFFED", 0);
	SetPlayerSpecialAction(params[0], SPECIAL_ACTION_NONE);
	if(IsPlayerAttachedObjectSlotUsed(params[0], 3)) RemovePlayerAttachedObject(params[0], 3);
	DeletePVar(params[0], "PlayerCuffed");
	format(strings, sizeof(strings), "Администратор %s посадил в деморган %s на %d мин. Причина: %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName], params[1], params[2]);
	SCMTAEx(COLOR_LRED, strings, 3), WriteLog("logs_jail", strings);
	SetTimerEx("OnPlayerToggle", 10000, false, "d", params[0]);
	SetPlayerControl(params[0], false);
	SetPlayerWantedLevel(params[0], 0);
	PlayerInfo[params[0]][pJail] = 4;
	switch(random(3))
	{
	    case 0: SetPlayerPos(params[0], 134.9968,-1973.3369,3051.3154), SetPlayerFacingAngle(params[0], 357.5211);
		case 1: SetPlayerPos(params[0], 134.9585,-1929.6625,3051.3154), SetPlayerFacingAngle(params[0], 177.0394);
		case 2: SetPlayerPos(params[0], 172.9875,-1929.7125,3051.3154), SetPlayerFacingAngle(params[0], 177.9793);
		case 3: SetPlayerPos(params[0], 173.0511,-1973.2356,3051.3154), SetPlayerFacingAngle(params[0], 0.3176);
	}
	SetPlayerInterior(params[0], 1);
	SetPlayerVirtualWorld(params[0], PlayerInfo[params[0]][pJail]);
	FreezePlayer(params[0], 2000);
	return 1;
}
CMD:unjail(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /unjail [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pJail] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не находиться в тюрьме.");
	PlayerInfo[params[0]][pJailTime] = 1;
	format(strings, sizeof(strings), "Администратор %s выпустил Вас из тюрьмы.", PlayerInfo[playerid][pName]);
	SendMes(params[0], COLOR_MAIN, strings);
	format(strings, sizeof(strings), "[A] %s [%d] выпустил %s [%d] из тюрьмы.", PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8), WriteLog("logs_unjail", strings);
	return 1;
}
CMD:sethp(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ud", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /sethp [id игрока] [кол-во HP]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	if(params[1] > 1000 || params[1] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите количество HP от 1 до 1000.");
	SetHealth(params[0], params[1]);
	SendMes(params[0], COLOR_MAIN, "Вам установили HP на {"#DC_WHITE"}%d{"#DC_MAIN"} процентов.", params[1]);
	SendMes(playerid, COLOR_MAIN, "Вы установили HP игроку {"#DC_WHITE"}%s.", PlayerInfo[params[0]][pName]);
	format(strings, sizeof(strings), "[A] %s [%d] установил HP %s [%d] на %d.", PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0], params[1]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	return 1;
}
CMD:setam(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ud", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /setam [id игрока] [кол-во брони]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	if(params[1] > 100 || params[1] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите количество брони от 0 до 100.");
	SetArmour(params[0], params[1]);
	SendMes(params[0], COLOR_MAIN, "Вам установили броню на {"#DC_WHITE"}%d{"#DC_MAIN"} процентов.", params[1]);
	SendMes(playerid, COLOR_MAIN, "Вы установили броню игроку {"#DC_WHITE"}%s.", PlayerInfo[params[0]][pName]);
	format(strings, sizeof(strings),"[A] %s [%d] установил броню %s [%d] на %d.", PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0], params[1]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	return 1;
}
CMD:spawn(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /spawn [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	SpawnPlayer(params[0]);
	format(strings, sizeof(strings), "[А] %s [%d] отправил на спавн игрока %s [%d].", PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	SendMes(params[0], COLOR_MAIN, "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} отправил вас на респавн.", PlayerInfo[playerid][pName]);
	format(strings, sizeof(strings), "Вы отправили {"#DC_WHITE"}%s [%d]{"#DC_MAIN"} на респавн.", PlayerInfo[params[0]][pName], params[0]);
	SendMes(playerid, COLOR_MAIN, strings);
	return 1;
}
CMD:agetip(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "s[22]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /agetip [ник-нейм]");
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", params[0]);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "ddds", playerid, 18, 0, params[0]);
	return 1;
}
CMD:getip(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /getip [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	format(strings, sizeof(strings), "Nik [%s]   R-IP [%s]   L-IP [%s]   IP [%s]", PlayerInfo[params[0]][pName], PlayerInfo[params[0]][pRegIP], PlayerInfo[params[0]][pLastIP], PlayerInfo[params[0]][pIP]);
	SendMes(playerid, COLOR_MAIN, strings);
	return 1;
}
CMD:tpcapture(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(CaptureZone == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент банды не проводят войну за территорию.");
	new idx = CaptureZone;
	SetPlayerPos(playerid, GZInfo[idx][gPos][0], GZInfo[idx][gPos][1], 35);
	SetPlayerInterior(playerid, 0);
	SetPlayerVirtualWorld(playerid, 0);
	return 1;
}
CMD:tpmafiawar(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(MafiaWarZone == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент мафии не проводят войну за бизнес.");
	SetPlayerPos(playerid, MafiaWarPos[0], MafiaWarPos[1], MafiaWarPos[2]);
	SetPlayerInterior(playerid, 0);
	SetPlayerVirtualWorld(playerid, 0);
	return 1;
}
CMD:tpbikerwar(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(BikerWarZone == 0) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент байкерские клубы не проводят войну за отель.");
	SetPlayerPos(playerid, BikerWarPos[0], BikerWarPos[1], BikerWarPos[2]);
	SetPlayerInterior(playerid, 0);
	SetPlayerVirtualWorld(playerid, 0);
	return 1;
}
CMD:goto(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /goto [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
 	if(GetPlayerState(params[0]) == PLAYER_STATE_SPECTATING) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок в режиме наблюдения.");
    format(strings, sizeof(strings),"[A] %s [%d] сделал тп к игроку %s [%d].", PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	GoPlayerToPlayer(playerid, params[0]);
	return 1;
}
CMD:gotocar(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /gotocar [id транспорта]");
	if(!IsValidVehicle(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данная машина не найдена.");
	new Float:x, Float:y, Float:z;
	GetVehiclePos(params[0], x, y, z);
	SetPlayerPos(playerid, x+2, y+2, z);
	SetPlayerInterior(playerid, 0);
	SetPlayerVirtualWorld(playerid, GetVehicleVirtualWorld(params[0]));
	SendMes(playerid, COLOR_MAIN, "Вы были телепортированы к автомобилю {"#DC_WHITE"}%d.", params[0]);
	return 1;
}
CMD:setinterior(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ii", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /setinterior [id игрока] [id интерьера]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	SetPlayerInterior(params[0], params[1]);
	SendMes(playerid, COLOR_MAIN, "Вы изменили интерьер игрока {"#DC_WHITE"}%s.", PlayerInfo[params[0]][pName]);
	SendMes(params[0], COLOR_MAIN, "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} изменил Вам интерьер.", PlayerInfo[playerid][pName]);
	return 1;
}
CMD:setvirtworld(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ii", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /setvirtworld [id игрока] [id вирт. мира]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	SetPlayerVirtualWorld(params[0], params[1]);
	SendMes(playerid, COLOR_MAIN, "Вы изменили вирт. мир игрока {"#DC_WHITE"}%s.", PlayerInfo[params[0]][pName]);
	SendMes(params[0], COLOR_MAIN, "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} изменил Вам вирт. мир.", PlayerInfo[playerid][pName]);
	return 1;
}
CMD:templeader(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 3 || AdminLogged[playerid] == false) return 1;
	if(PlayerInfo[playerid][pLeader] > 0)
	{
     	if(PlayerInfo[playerid][pAdmin] == 0)
		{
			SetFractionStr(PlayerInfo[playerid][pLeader], "leader", "None");
			strmid(FracInfo[PlayerInfo[playerid][pLeader]][fLeader], "None", 0, strlen("None"), MAX_PLAYER_NAME);
		}
		LeaveFractionPlayer(playerid, 0);
		SendMes(playerid, COLOR_MAIN, "Вы сняли себя с должности лидера организации.");
		ResetPlayerWeapon(playerid);
		ResetPlayerWeaponBase(playerid);
	}
	else
	{
		/*if((PlayerInfo[playerid][pGoogleStatus] == 0 || PlayerInfo[playerid][pGoogleType] == 0) && serverid != 0) return SendMes(playerid, COLOR_DARKORANGE, "Для назначения на пост лидера необходимо настроить Google Authenticator.");*/
		totalstring = "", bigstring = "";
		for(new i = 1; i <= TOTALFRAC; i++)
		{
			format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", i, FracInfo[i][fName]);
			strcat(bigstring, totalstring);
		}
		SPD(playerid, did_templeader, DSL, "{"#DC_MAIN"}Организации", bigstring, "Далее", "Отмена");
	}
	return 1;
}
// 4-ый уровень администратора;
CMD:o(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pMute] > 0) return SendMes(playerid, COLOR_DARKORANGE, "У Вас бан чата! Подождите еще %d минут(-у/-ы).", PlayerInfo[playerid][pMute] / 60);
	if(OOC == true && PlayerInfo[playerid][pAdmin] < 4) return SendMes(playerid, COLOR_DARKORANGE, "Общий чат отключен.");
	if(OOCFlood > gettime() && (PlayerInfo[playerid][pAdmin] == 0 && AdminLogged[playerid] == false)) return SendMes(playerid, COLOR_DARKORANGE, "Отправить сообщение в общий чат можно будет через %d сек.", OOCFlood - gettime());
	if(sscanf(params, "s[256]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /o [текст]");
	if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 0);
	format(strings, sizeof(strings), "« %s [%d]: %s »", PlayerInfo[playerid][pName], playerid, params[0]);
	SCMTAEx(COLOR_WHITE, strings, 1);
	OOCFlood = gettime() + 15;
	return 1;
}
CMD:warn(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4 || AdminLogged[playerid] == false) return 1;
	new data[32], unbandate;
	if(sscanf(params, "us[32]", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /warn [id игрока] [причина]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	if(AdvertisingCheck(params[1])) return AdvertisingPunishment(playerid, params[1], 0);
	// Проверка на атаку от администратора
	if(IsAAdminAttack(playerid, 3)) return 1;
	// Если атаки нет, выполняем команду
	PlayerInfo[params[0]][pWarn]++;
	PlayerInfo[params[0]][pWarns]++;
	format(PlayerInfo[params[0]][pWarnReason], 64, params[1]);
	PlayerInfo[params[0]][pWarnTime] = gettime() + 7*86400;
	SetPlayerInt(PlayerInfo[params[0]][pID], "warn", PlayerInfo[params[0]][pWarn]);
	SetPlayerInt(PlayerInfo[params[0]][pID], "warns", PlayerInfo[params[0]][pWarns]);
	SetPlayerStr(PlayerInfo[params[0]][pID], "warnreason", PlayerInfo[params[0]][pWarnReason]);
	SetPlayerInt(PlayerInfo[params[0]][pID], "warntime", PlayerInfo[params[0]][pWarnTime]);
	if(PlayerInfo[params[0]][pLeader])
	{
	    if(PlayerInfo[params[0]][pAdmin] == 0)
		{
			SetFractionStr(PlayerInfo[params[0]][pLeader], "leader", "None");
			strmid(FracInfo[PlayerInfo[params[0]][pLeader]][fLeader], "None", 0, strlen("None"), MAX_PLAYER_NAME);
		}
	}
	if(PlayerInfo[params[0]][pMember]) LeaveFractionPlayer(params[0], 0);
	if(PlayerInfo[params[0]][pWarn] < 3) format(strings, sizeof(strings), "Администратор %s выдал предупреждение %s. Причина: %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName], params[1]);
	else
	{
	    PlayerInfo[params[0]][pWarn] = 0;
		format(strings, sizeof(strings), "Администратор %s заблокировал [3 пред.] %s. Причина: %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName], params[1]);
		getdate(years, months, days);
		unbandate = gettime() + 7*86400;
		format(data, 32, "%02d.%02d.%04d", days, months, years);
		mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_BANS" (name, whobanned, ip, bandate, time, unbandate, reason) VALUES ('%e', '%e', '%e', '%e', 7, %d, '%e')", PlayerInfo[params[0]][pName], PlayerInfo[playerid][pName], PlayerInfo[params[0]][pIP], data, unbandate, params[1]);
		mysql_query(mysql, request, false);
	}
	SCMTAEx(COLOR_LRED, strings, 3), WriteLog("logs_warn", strings);
	KickWithMessage(params[0], COLOR_LRED, "Для выхода из игры введите (/q)");
	return 1;
}
CMD:agetstats(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "s[22]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /agetstats [ник-нейм]");
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", params[0]);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "ddds", playerid, 3, 0, params[0]);
	return 1;
}
CMD:pgetip(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "s[30]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /pgetip [IP]");
	SendMes(playerid, COLOR_MAIN, "Игроки с данного IP адреса:");
	foreach(new i : Player)
	{
		if(!strcmp(PlayerInfo[i][pIP], params[0]))
		{
			format(strings, sizeof(strings), "%s [%d] - %s", PlayerInfo[i][pName], i, PlayerInfo[i][pIP]);
			SendMes(playerid, COLOR_WHITE, strings);
		}
	}
	return 1;
}
CMD:offmute(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4 || AdminLogged[playerid] == false) return 1;
	new name[20], time, reason[16];
	if(sscanf(params, "s[22]ds[16]", name, time, reason)) return SendMes(playerid, COLOR_WHITE, "Введите: /offmute [ник-нейм] [кол-во времени] [причина]");
	if(time > 180 || time < 1) return SendMes(playerid, COLOR_DARKORANGE, "Кол-во времени от 1 до 180.");
	// Проверка на нахождение в игре;
	new scdplayerid = GetPlayerID(name);
	if(scdplayerid != INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок в сети, используйте /mute");
	if(AdvertisingCheck(reason)) return AdvertisingPunishment(playerid, reason, 0);
	// Проверка на атаку от администратора;
	if(IsAAdminAttack(playerid, 7)) return 1;
	// Если атаки нет, выполняем команду;
    mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", name);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "dddsds", playerid, 19, time, name, 0, reason);
	return 1;
}
CMD:offjail(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4 || AdminLogged[playerid] == false) return 1;
	new name[20], time, reason[16];
	if(sscanf(params, "s[22]ds[16]", name, time, reason)) return SendMes(playerid, COLOR_WHITE, "Введите: /offjail [ник-нейм] [кол-во времени] [причина]");
	if(time > 180 || time < 1) return SendMes(playerid, COLOR_DARKORANGE, "Кол-во времени от 1 до 180.");
	// Проверка на нахождение в игре;
	new scdplayerid = GetPlayerID(name);
	if(scdplayerid != INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок в сети, используйте /jail");
	if(AdvertisingCheck(reason)) return AdvertisingPunishment(playerid, reason, 0);
	// Проверка на атаку от администратора;
	if(IsAAdminAttack(playerid, 7)) return 1;
	// Если атаки нет, выполняем команду;
    mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", name);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "dddsds", playerid, 20, time, name, 0, reason);
	return 1;
}
CMD:gethere(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /gethere [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	new Float:plocx, Float:plocy, Float:plocz, interior, world;
	GetPlayerPos(playerid, plocx, plocy, plocz);
	interior = GetPlayerInterior(playerid);
	world = GetPlayerVirtualWorld(playerid);
	if(GetPlayerState(params[0]) == 2)
	{
		new tmpcar = GetPlayerVehicleID(params[0]);
		SetVehiclePos(tmpcar, plocx, plocy+4, plocz);
		PlayerInfo[params[0]][pPosX] = plocx;
		PlayerInfo[params[0]][pPosY] = plocy;
		PlayerInfo[params[0]][pPosZ] = plocz;
		PlayerInfo[params[0]][pInterior] = interior;
		PlayerInfo[params[0]][pWorld] = world;
		foreach(new p:Player)
		{
			if(GetPlayerVehicleID(p) != GetPlayerVehicleID(params[0])) continue;
			PlayerInfo[p][pPosX] = plocx;
			PlayerInfo[p][pPosY] = plocy;
			PlayerInfo[p][pPosZ] = plocz;
			PlayerInfo[p][pInterior] = interior;
			PlayerInfo[p][pWorld] = world;
		}
	}
	else
	{
		SetPlayerPos(params[0], plocx, plocy+2, plocz);
		SetPlayerVirtualWorld(params[0], GetPlayerVirtualWorld(playerid));
		SetPlayerInterior(params[0], GetPlayerInterior(playerid));
	}
	if(PlayerInfo[params[0]][pRespawnTime] != 100 || PlayerInfo[params[0]][pRespawnWeather] != 100)
	{
	    SetPlayerTime(params[0], DefaultTime, 0);
	    SetPlayerWeather(params[0], DefaultWeather);
	 	PlayerInfo[params[0]][pRespawnTime] = 100;
		PlayerInfo[params[0]][pRespawnWeather] = 100;
	}
	if(PlayerInfo[playerid][pRespawnTime] != 100 || PlayerInfo[playerid][pRespawnWeather] != 100)
	{
	    SetPlayerTime(params[0], PlayerInfo[playerid][pRespawnTime], 0);
	    SetPlayerWeather(params[0], PlayerInfo[playerid][pRespawnWeather]);
	 	PlayerInfo[params[0]][pRespawnTime] = PlayerInfo[playerid][pRespawnTime];
		PlayerInfo[params[0]][pRespawnWeather] = PlayerInfo[playerid][pRespawnWeather];
	}
	SendMes(params[0], COLOR_MAIN, "Вы были телепортированы администратором {"#DC_WHITE"}%s.", PlayerInfo[playerid][pName]);
	SendMes(playerid, COLOR_MAIN, "Вы телепортировали игрока {"#DC_WHITE"}%s.", PlayerInfo[params[0]][pName]);
	format(strings, sizeof(strings), "[A] %s [%d] тп к себе игрока %s [%d].", PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	return 1;
}
CMD:gcar(playerid, params[]) return cmd_getcar(playerid, params);
CMD:getcar(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /getcar [id транспорта]");
	if(!IsValidVehicle(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данная машина не найдена.");
	new world, Float:plocx, Float:plocy, Float:plocz;
	GetPlayerPos(playerid, plocx, plocy, plocz);
	world = GetPlayerVirtualWorld(playerid);
	SetVehiclePos(params[0], plocx, plocy+4, plocz);
	SetVehicleVirtualWorld(params[0], world);
	foreach(new p:Player)
	{
		if(GetPlayerVehicleID(p) != params[0]) continue;
		PlayerInfo[p][pPosX] = plocx;
		PlayerInfo[p][pPosY] = plocy;
		PlayerInfo[p][pPosZ] = plocz;
		PlayerInfo[p][pWorld] = world;
	}
	SendMes(playerid, COLOR_MAIN, "Автомобиль {"#DC_WHITE"}%d{"#DC_MAIN"} был телепортирован к Вам.", params[0]);
	return 1;
}
CMD:freeze(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /freeze [id игрока]");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	SetPlayerFreeze(playerid, params[0], GetPVarInt(params[0], "FreezeType"));
	return 1;
}
CMD:alock(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4 || AdminLogged[playerid] == false) return 1;
	for(new i = 0; i <= MAX_VEHICLES; i++)
	{
		if(!IsPlayerInRangeOfVehicle(playerid, 4.0, i) || GetVehicleVirtualWorld(i) != GetPlayerVirtualWorld(playerid)) continue;
		SetPlayerVehicleDoors(playerid, i);
		return 1;
	}
	return 1;
}
CMD:setfuel(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 4 || AdminLogged[playerid] == false) return 1;
	if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в своем транспортном средстве.");
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /setfuel [кол-во бензина]");
	new vehicleid = GetPlayerVehicleID(playerid), model = GetVehicleModel(vehicleid);
	if(params[0] > GetVehicleMaxGasTank(model) || params[0] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Введите количество бензина от 1 до %d.", GetVehicleMaxGasTank(model));
	Fuel[vehicleid] = params[0];
	VehInfo[vehicleid][vFuel] = params[0];
	if(VehInfo[vehicleid][vFraction] == 0) SaveVehicle(vehicleid);
	format(strings, sizeof(strings), "Вы установили {"#DC_WHITE"}%d{"#DC_MAIN"} литр(-а/-ов) бензина в машине {"#DC_WHITE"}%d.", params[0], vehicleid);
	SendMes(playerid, COLOR_MAIN, strings);
	return 1;
}
// 5-ый уровень администратора;
CMD:togooc(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(OOC == true)
	{
	    OOC = false;
		format(strings, sizeof(strings), "« %s [%d] включил общий чат. »", PlayerInfo[playerid][pName], playerid);
	}
	else
	{
	    OOC = true;
		format(strings, sizeof(strings), "« %s [%d] выключил общий чат. »", PlayerInfo[playerid][pName], playerid);
	}
 	SCMTAEx(COLOR_WHITE, strings, 1);
	return 1;
}
CMD:ban(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	new data[32], unbandate;
	if(sscanf(params, "uds[32]", params[0], params[1], params[2])) return SendMes(playerid, COLOR_WHITE, "Введите: /ban [id игрока] [кол-во дней] [причина]");
	if(!IsPlayerConnected(params[0]) || params[0] == INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	if(params[1] > 31 || params[1] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Кол-во дней от 1 до 31.");
	if(AdvertisingCheck(params[2])) return AdvertisingPunishment(playerid, params[2], 0);
	// Проверка на атаку от администратора
	if(IsAAdminAttack(playerid, 5)) return 1;
	// Если атаки нет, выполняем команду
	format(strings, sizeof(strings), "Администратор %s заблокировал %s на %d дней. Причина: %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName], params[1], params[2]);
	SCMTAEx(COLOR_LRED, strings, 3);
	format(strings, sizeof(strings), "[A] IP: %s. Reg IP: %s. Last IP: %s.", PlayerInfo[params[0]][pIP], PlayerInfo[params[0]][pRegIP], PlayerInfo[params[0]][pLastIP]);
	SendAdminMessage(COLOR_LRED, strings, 8);
	getdate(years, months, days);
	unbandate = gettime() + params[1]*86400;
	format(data, 32, "%02d.%02d.%04d", days, months, years);
	mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_BANS" (name, whobanned, ip, bandate, time, unbandate, reason) VALUES ('%e', '%e', '%e', '%e', %d, %d, '%e')", PlayerInfo[params[0]][pName], PlayerInfo[playerid][pName], PlayerInfo[params[0]][pIP], data, params[1], unbandate, params[2]);
	mysql_query(mysql, request, false);
	PlayerInfo[params[0]][pBans]++;
	SetPlayerInt(PlayerInfo[params[0]][pID], "bans", PlayerInfo[params[0]][pBans]);
	format(strings, sizeof(strings), "Администратор %s заблокировал %s на %d дней. Причина: %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName], params[1], params[2]);
	WriteLog("logs_ban", strings);
	KickWithMessage(params[0], COLOR_LRED, "Для выхода из игры введите (/q)");
	return 1;
}
CMD:offwarn(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	new name[20], reason[16];
	if(sscanf(params, "s[22]s[16]", name, reason)) return SendMes(playerid, COLOR_WHITE, "Введите: /offwarn [ник-нейм] [причина]");
	// Проверка на нахождение в игре;
	new scdplayerid = GetPlayerID(name);
	if(scdplayerid != INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок в сети, используйте /warn");
	// Проверка на атаку от администратора;
	if(IsAAdminAttack(playerid, 3)) return 1;
	// Если атаки нет, выполняем команду
    mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", name);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "dddsds", playerid, 2, 0, name, 0, reason);
	return 1;
}
CMD:startmp(playerid,params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(MP_State) return MP_State = 0, SendMes(playerid, COLOR_MAIN, "Вы закончили ТП на МП.");
	if(sscanf(params, "ds[128]", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /startmp [кол-во участников] [название МП]");
	if(params[0] < 0 || params[0] > 250) return SendMes(playerid, COLOR_DARKORANGE, "Введите кол-во участников от 0 до 250.");
	GetPlayerPos(playerid, MP_Pos[0], MP_Pos[1], MP_Pos[2]);
	MP_VirtualWorld = GetPlayerVirtualWorld(playerid);
	MP_Interior = GetPlayerInterior(playerid);
	MP_State = 1;
	MP_Players = params[0];
	MP_Current = 0;
	if(MP_Players == 0) format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} создал мероприятие {"#DC_WHITE"}\"%s\".", PlayerInfo[playerid][pName], params[1]);
	else format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} создал мероприятие {"#DC_WHITE"}\"%s\".{"#DC_MAIN"} Количество мест: {"#DC_WHITE"}%d.", PlayerInfo[playerid][pName], params[1], params[0]);
	SCMTA(COLOR_MAIN, strings);
	SCMTA(COLOR_MAIN, "Чтобы принять участие в мероприятии, введите {"#DC_WHITE"}/gotomp{"#DC_MAIN"} - телепорт.");
	return 1;
}
CMD:msg(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "s[256]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /msg [текст]");
	if(AdvertisingCheck(params[0])) return AdvertisingPunishment(playerid, params[0], 0);
	format(strings, sizeof(strings), "Администратор %s [%d]: %s", PlayerInfo[playerid][pName], playerid, params[0]);
	SCMTAEx(COLOR_MAIN, strings, 2), WriteLog("logs_adminmsg", strings);
	return 1;
}
CMD:setskin(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ud", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /setskin [id игрока] [id скина]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(params[1] > 311 || params[1] < 1) return SendMes(playerid, COLOR_DARKORANGE, "ID скина от 1 до 311.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	SetPlayerSkin(params[0], params[1]);
	format(strings, sizeof(strings), "[А] %s [%d] поставил динамический скин %d игроку %s [%d].", PlayerInfo[playerid][pName], playerid, params[1], PlayerInfo[params[0]][pName], params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} поставил вам динамический скин.", PlayerInfo[playerid][pName]);
	SendMes(params[0], COLOR_MAIN, strings);
	return 1;
}
CMD:setskinr(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ii", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /setskinr [радиус] [id скина]");
	if(params[0] > 2000 || params[0] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите радиус 1 до 2000.");
	if(params[1] > 311 || params[1] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Введите количество ID скина от 1 до 311.");
	format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} поставил вам динамический скин.", PlayerInfo[playerid][pName]);
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0 || !IsPlayerInRangeOfPlayer(params[0], playerid, i) || PlayerInfo[playerid][pAdmin] < PlayerInfo[i][pAdmin]) continue;
		{
			SetPlayerSkin(i, params[1]);
			SendMes(i, COLOR_MAIN, strings);
		}
	}
	format(strings, sizeof(strings), "[A] %s [%d] установил динамчиеский скин %d в радиусе %d.", PlayerInfo[playerid][pName], playerid, params[1], params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	return 1;
}
CMD:veh(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ddd", params[0], params[1], params[2])) return SendMes(playerid, COLOR_WHITE, "Введите: /veh [id машины] [цвет 1] [цвет 2]");
	if(params[0] > 611 || params[0] < 400) return SendMes(playerid, COLOR_DARKORANGE, "ID транспорта должен быть от 400 до 611.");
	if(params[1] > 255 || params[1] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите id цвета от 0 до 255.");
	if(params[2] > 255 || params[2] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите id цвета от 0 до 255.");
	new Float:X, Float:Y, Float:Z;
	GetPlayerPos(playerid, X, Y, Z);
	new vehicleid = CreateVehicle(params[0], X, Y, Z, 0.0, params[1], params[2], 9999*9999);
	LinkVehicleToInterior(vehicleid, GetPlayerInterior(playerid));
	SetVehicleVirtualWorld(vehicleid, GetPlayerVirtualWorld(playerid));
    SetVehicleParamsEx(vehicleid, false, false, false, false, false, false, false);
	ResetVehicleData(vehicleid);
	TOTALVEH++;
	PutPlayerInVeh(playerid, vehicleid, 0);
	SetVehicleParamsEx(vehicleid, false, false, false, false, false, false, false);
	ResetVehicleData(vehicleid);
	Fuel[vehicleid] = GetVehicleMaxGasTank(params[0]);
	Engine[vehicleid] = false;
	Lights[vehicleid] = false;
	Limit[vehicleid] = false;
	CreateCar[vehicleid] = true;
	strmid(VehInfo[vehicleid][vOwner], "None", 0, strlen("None"), 10);
	strmid(VehInfo[vehicleid][v2Owner], "None", 0, strlen("None"), 10);
	VehInfo[vehicleid][vFraction] = 500;
	format(strings, sizeof(strings), "[А] %s [%d] создал транспорт id %d. Модель %s (%d).", PlayerInfo[playerid][pName], playerid, vehicleid, VehicleNameS[GetVehicleModel(vehicleid)-400], params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8), WriteLog("logs_createveh", strings);
	return 1;
}
CMD:dveh(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в транспортном средстве.");
	new vehicleid = GetPlayerVehicleID(playerid);
	if(CreateCar[vehicleid] == false) return SendMes(playerid, COLOR_DARKORANGE, "Этот транспорт нельзя удалить.");
	if(VehInfo[vehicleid][vFraction] == V_RENT_VEHICLE && VehInfo[vehicleid][vStatus] == V_RENT_VEHICLE + 150)  return SendMes(playerid, COLOR_DARKORANGE, "Этот транспорт нельзя удалить.");
	if((VehInfo[vehicleid][vFraction] == V_J_TAXI || VehInfo[vehicleid][vFraction] == V_J_BUS || VehInfo[vehicleid][vFraction] == V_J_MECHANIC || VehInfo[vehicleid][vFraction] == V_J_PRODUCT ||
 	VehInfo[vehicleid][vFraction] == V_J_FIREMAN || VehInfo[vehicleid][vFraction] == V_J_ROADMAN || VehInfo[vehicleid][vFraction] == V_J_PILOT || VehInfo[vehicleid][vFraction] == V_J_PIZZABOY ||
	VehInfo[vehicleid][vFraction] == V_J_POSTMAN || VehInfo[vehicleid][vFraction] == V_J_TAX || VehInfo[vehicleid][vFraction] == V_J_COLLECTOR || VehInfo[vehicleid][vFraction] == V_J_FLOWERSBOY ||
 	VehInfo[vehicleid][vFraction] == V_J_TRUCK || VehInfo[vehicleid][vFraction] == V_RENT_VEHICLE) && VehInfo[vehicleid][vStatus] == V_RENT_VEHICLE + 150)  return SendMes(playerid, COLOR_DARKORANGE, "Этот транспорт нельзя удалить.");
	CreateCar[vehicleid] = false;
	DestroyVehicleEx(vehicleid);
	SendMes(playerid, COLOR_MAIN, "Вы удалили админ-транспорт {"#DC_WHITE"}%d.", vehicleid);
	TOTALVEH--;
	return 1;
}
CMD:scar(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	new vehicleid = GetPlayerVehicleID(playerid);
	if((VehInfo[vehicleid][vFraction] == V_RENT_VEHICLE || VehInfo[vehicleid][vStatus] == V_RENT_VEHICLE + 150) && PlayerInfo[playerid][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "Этот транспорт нельзя отправить на место парковки.");
	SetVehicleToRespawn(vehicleid);
	return 1;
}
CMD:scarr(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /scarr [радиус]");
	if(params[0] > 2000 || params[0] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите радиус 1 до 2000.");
	for(new i = 0; i < MAX_VEHICLES-1; i++)
	{
		if(!IsValidVehicle(i) || IsATrailer(i) || !IsPlayerInRangeOfVehicle(playerid, params[0], i) || VehInfo[i][vFraction] == V_RENT_VEHICLE || VehInfo[i][vStatus] == V_RENT_VEHICLE + 150) continue;
		SetVehicleToRespawn(i);
	}
	format(strings, sizeof(strings), "Администратор %s отправил транспорт на респавн.", PlayerInfo[playerid][pName]);
	SRM(playerid, params[0], COLOR_LRED, strings);
	return 1;
}
CMD:givegun(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "udd", params[0], params[1], params[2])) return SendMes(playerid, COLOR_WHITE, "Введите: /givegun [id игрока] [id оружия] [кол-во патронов]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pLevel] < 2) return SendMes(playerid, COLOR_DARKORANGE, "У игрока нет 2-ого уровня.");
	if(params[1] < 1 || params[1] > 46) return SendMes(playerid, COLOR_DARKORANGE, "Неверный id оружия, введите id от 1 до 46.");
	if(IsCheatGun(params[1])) return SendMes(playerid, COLOR_DARKORANGE, "Вы ввели запрещенный ID оружия.");
	if(params[2] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Укажите количество патронов.");
	GiveWeapon(params[0], params[1], params[2]);
	new gunname[32];
	GetWeaponName(params[1], gunname, 32);
	if(params[1] == 18) strmid(gunname, "Molotov Cocktail", 0, strlen("Molotov Cocktail"));
	else if(params[1] == 44) strmid(gunname, "Night Vis Goggles", 0, strlen("Night Vis Goggles"));
	else if(params[1] == 45) strmid(gunname, "Thermal Goggles", 0, strlen("Thermal Goggles"));
	format(strings, sizeof(strings), "[А] %s [%d] выдал %s (%d) игроку %s [%d].", PlayerInfo[playerid][pName], playerid, gunname, params[2], PlayerInfo[params[0]][pName], params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	return 1;
}
CMD:givegunr(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "iii", params[0], params[1], params[2])) return SendMes(playerid, COLOR_WHITE, "Введите: /givegunr [радиус] [id оружия] [кол-во патронов]");
    if(params[0] > 2000 || params[0] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите радиус 1 до 2000.");
	if(params[1] < 1 || params[1] > 46) return SendMes(playerid, COLOR_DARKORANGE, "Неверный id оружия, введите id от 1 до 46.");
	if(IsCheatGun(params[1])) return SendMes(playerid, COLOR_DARKORANGE, "Вы ввели запрещенный ID оружия.");
	if(params[2] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Укажите количество патронов.");
	new gunname[32];
	GetWeaponName(params[1], gunname, 32);
	if(params[1] == 18) strmid(gunname, "Molotov Cocktail", 0, strlen("Molotov Cocktail"));
	else if(params[1] == 44) strmid(gunname, "Night Vis Goggles", 0, strlen("Night Vis Goggles"));
	else if(params[1] == 45) strmid(gunname, "Thermal Goggles", 0, strlen("Thermal Goggles"));
	format(strings, sizeof(strings), "[А] %s [%d] выдал %s (%d) в радиусе %d.", PlayerInfo[playerid][pName], playerid, gunname, params[2], params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0 || !IsPlayerInRangeOfPlayer(params[0], playerid, i) || PlayerInfo[i][pLevel] < 2) continue;
		{
		    GiveWeapon(i, params[1], params[2]);
		}
	}
	return 1;
}
CMD:resetgun(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /resetgun [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	ResetPlayerWeapon(params[0]);
	ResetPlayerWeaponBase(params[0]);
	SendMes(playerid, COLOR_MAIN, "Вы забрали оружие у игрока {"#DC_WHITE"}%s.", PlayerInfo[params[0]][pName]);
	SendMes(params[0], COLOR_MAIN, "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} забрал у Вас оружие.", PlayerInfo[playerid][pName]);
	return 1;
}
CMD:resetgunr(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /resetgunr [радиус]");
	if(params[0] > 2000 || params[0] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите радиус 1 до 2000.");
	SendMes(playerid, COLOR_MAIN, "Вы забрали оружие у игроков в радиусе {"#DC_WHITE"}%d.", params[0]);
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0 || !IsPlayerInRangeOfPlayer(params[0], playerid, i) || PlayerInfo[playerid][pAdmin] < PlayerInfo[i][pAdmin]) continue;
		{
		    ResetPlayerWeapon(i);
			ResetPlayerWeaponBase(i);
   			SendMes(i, COLOR_MAIN, "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} забрал у Вас оружие.", PlayerInfo[playerid][pName]);
		}
	}
	return 1;
}
CMD:sethpr(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ii", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /sethp [радиус] [кол-во HP]");
	if(params[0] > 2000 || params[0] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите радиус 1 до 2000.");
	if(params[1] > 1000 || params[1] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите количество HP от 1 до 1000.");
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0 || !IsPlayerInRangeOfPlayer(params[0], playerid, i) || PlayerInfo[playerid][pAdmin] < PlayerInfo[i][pAdmin]) continue;
		{
			SetHealth(i, params[1]);
			SendMes(i, COLOR_MAIN, "Вам установили HP на {"#DC_WHITE"}%d{"#DC_MAIN"} процентов.", params[1]);
		}
	}
	format(strings, sizeof(strings), "[A] %s [%d] установил HP %d в радиусе %d.", PlayerInfo[playerid][pName], playerid, params[1], params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	return 1;
}
CMD:setamr(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ii", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /setam [радиус] [кол-во AM]");
	if(params[0] > 2000 || params[0] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите радиус 1 до 2000.");
	if(params[1] > 1000 || params[1] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите количество AM от 1 до 1000.");
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0 || !IsPlayerInRangeOfPlayer(params[0], playerid, i) || PlayerInfo[playerid][pAdmin] < PlayerInfo[i][pAdmin]) continue;
		{
			SetArmour(i, params[1]);
			SendMes(i, COLOR_MAIN, "Вам установили броню на {"#DC_WHITE"}%d{"#DC_MAIN"} процентов.", params[1]);
		}
	}
	format(strings, sizeof(strings), "[A] %s [%d] установил броню %d в радиусе %d.", PlayerInfo[playerid][pName], playerid, params[1], params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	return 1;
}
CMD:intt(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /intt [id локации]");
	if(params[0] < 1 || params[0] > 140) return SendMes(playerid, COLOR_DARKORANGE, "ID локации от 1 до 140.");
	switch(params[0]) {
	case 1: { SetPlayerPos(playerid, -25.884499, -185.868988, 1003.549988); SetPlayerInterior(playerid, 17); }
	case 2: { SetPlayerPos(playerid, 6.091180, -29.271898, 1003.549988); SetPlayerInterior(playerid, 10); }
	case 3: { SetPlayerPos(playerid, -30.946699, -89.609596, 1003.549988); SetPlayerInterior(playerid, 18); }
	case 4: { SetPlayerPos(playerid, -25.132599, -139.066986, 1003.549988); SetPlayerInterior(playerid, 16); }
	case 5: { SetPlayerPos(playerid, -27.312300, -29.277599, 1003.549988); SetPlayerInterior(playerid, 4); }
	case 6: { SetPlayerPos(playerid, -26.691599, -55.714897, 1003.549988); SetPlayerInterior(playerid, 6); }
	case 7: { SetPlayerPos(playerid, -1827.147338, 7.207418, 1061.143554); SetPlayerInterior(playerid, 14); }
	case 8: { SetPlayerPos(playerid, 2.384830, 33.103397, 1199.849976); SetPlayerInterior(playerid, 1); }
	case 9: { SetPlayerPos(playerid, 315.856170, 1024.496459, 1949.797363); SetPlayerInterior(playerid, 9); }
	case 10: { SetPlayerPos(playerid, 286.148987, -40.644398, 1001.569946); SetPlayerInterior(playerid, 1); }
	case 11: { SetPlayerPos(playerid, 286.800995, -82.547600, 1001.539978); SetPlayerInterior(playerid, 4); }
	case 12: { SetPlayerPos(playerid, 296.919983, -108.071999, 1001.569946); SetPlayerInterior(playerid, 6); }
	case 13: { SetPlayerPos(playerid, 314.820984, -141.431992, 999.661987); SetPlayerInterior(playerid, 7); }
	case 14: { SetPlayerPos(playerid, 316.524994, -167.706985, 999.661987); SetPlayerInterior(playerid, 6); }
	case 15: { SetPlayerPos(playerid, 302.292877, -143.139099, 1004.062500); SetPlayerInterior(playerid, 7); }
	case 16: { SetPlayerPos(playerid, 235.508994, 1189.169897, 1080.339966); SetPlayerInterior(playerid, 3); }
	case 17: { SetPlayerPos(playerid, 225.756989, 1240.000000, 1082.149902); SetPlayerInterior(playerid, 2); }
	case 18: { SetPlayerPos(playerid, 223.043991, 1289.259888, 1082.199951); SetPlayerInterior(playerid, 1); }
	case 19: { SetPlayerPos(playerid, 225.630997, 1022.479980, 1084.069946); SetPlayerInterior(playerid, 7); }
	case 20: { SetPlayerPos(playerid, 295.138977, 1474.469971, 1080.519897); SetPlayerInterior(playerid, 15); }
	case 21: { SetPlayerPos(playerid, 328.493988, 1480.589966, 1084.449951); SetPlayerInterior(playerid, 15); }
	case 22: { SetPlayerPos(playerid, 385.803986, 1471.769897, 1080.209961); SetPlayerInterior(playerid, 15); }
	case 23: { SetPlayerPos(playerid, 375.971985, 1417.269897, 1081.409912); SetPlayerInterior(playerid, 15); }
	case 24: { SetPlayerPos(playerid, 490.810974, 1401.489990, 1080.339966); SetPlayerInterior(playerid, 2); }
	case 25: { SetPlayerPos(playerid, 447.734985, 1400.439941, 1084.339966); SetPlayerInterior(playerid, 2); }
	case 26: { SetPlayerPos(playerid, 227.722992, 1114.389893, 1081.189941); SetPlayerInterior(playerid, 5); }
	case 27: { SetPlayerPos(playerid, 260.983978, 1286.549927, 1080.299927); SetPlayerInterior(playerid, 4); }
	case 28: { SetPlayerPos(playerid, 221.666992, 1143.389893, 1082.679932); SetPlayerInterior(playerid, 4); }
	case 29: { SetPlayerPos(playerid, 27.132700, 1341.149902, 1084.449951); SetPlayerInterior(playerid, 10); }
	case 30: { SetPlayerPos(playerid, -262.601990, 1456.619995, 1084.449951); SetPlayerInterior(playerid, 4); }
	case 31: { SetPlayerPos(playerid, 22.778299, 1404.959961, 1084.449951); SetPlayerInterior(playerid, 5); }
	case 32: { SetPlayerPos(playerid, 140.278000, 1368.979980, 1083.969971); SetPlayerInterior(playerid, 5); }
	case 33: { SetPlayerPos(playerid, 234.045990, 1064.879883, 1084.309937); SetPlayerInterior(playerid, 6); }
	case 34: { SetPlayerPos(playerid, -68.294098, 1353.469971, 1080.279907); SetPlayerInterior(playerid, 6); }
	case 35: { SetPlayerPos(playerid, -285.548981, 1470.979980, 1084.449951); SetPlayerInterior(playerid, 15); }
	case 36: { SetPlayerPos(playerid, -42.581997, 1408.109985, 1084.449951); SetPlayerInterior(playerid, 8); }
	case 37: { SetPlayerPos(playerid, 83.345093, 1324.439941, 1083.889893); SetPlayerInterior(playerid, 9); }
	case 38: { SetPlayerPos(playerid, 260.941986, 1238.509888, 1084.259888); SetPlayerInterior(playerid, 9); }
	case 39: { SetPlayerPos(playerid, 1038.509888, -0.663752, 1001.089966); SetPlayerInterior(playerid, 3); }
	case 40: { SetPlayerPos(playerid, 446.622986, 509.318970, 1001.419983); SetPlayerInterior(playerid, 12); }
	case 41: { SetPlayerPos(playerid, 2216.339844, -1150.509888, 1025.799927); SetPlayerInterior(playerid, 15); }
	case 42: { SetPlayerPos(playerid, 833.818970, 7.418000, 1004.179993); SetPlayerInterior(playerid, 3); }
	case 43: { SetPlayerPos(playerid, -100.325996, -22.816500, 1000.741943); SetPlayerInterior(playerid, 3); }
	case 44: { SetPlayerPos(playerid, 964.376953, 2157.329834, 1011.019958); SetPlayerInterior(playerid, 1); }
	case 45: { SetPlayerPos(playerid, -2239.569824, 130.020996, 1035.419922); SetPlayerInterior(playerid, 6); }
	case 46: { SetPlayerPos(playerid, 662.641601, -571.398803, 16.343263); SetPlayerInterior(playerid, 0); }
	case 47: { SetPlayerPos(playerid, 614.581420, -23.066856, 1004.781250); SetPlayerInterior(playerid, 1); }
	case 48: { SetPlayerPos(playerid, 612.508605, -129.236114, 1001.992187); SetPlayerInterior(playerid, 3); }
	case 49: { SetPlayerPos(playerid, -1786.603759, 1215.553466, 28.531250); SetPlayerInterior(playerid, 0); }
	case 50: { SetPlayerPos(playerid, -2048.605957, 162.093444, 28.835937); SetPlayerInterior(playerid, 1); }
	case 51: { SetPlayerPos(playerid, 2170.284, 1618.629, 999.9766); SetPlayerInterior(playerid, 1); }
	case 52: { SetPlayerPos(playerid, 1889.975, 1018.055, 31.88281); SetPlayerInterior(playerid, 10); }
	case 53: { SetPlayerPos(playerid, -2158.719971, 641.287964, 1052.369995); SetPlayerInterior(playerid, 1); }
	case 54: { SetPlayerPos(playerid, 1133.069946, -9.573059, 1000.750000); SetPlayerInterior(playerid, 12); }
	case 55: { SetPlayerPos(playerid, 207.737991, -109.019997, 1005.269958); SetPlayerInterior(playerid, 15); }
	case 56: { SetPlayerPos(playerid, 204.332993, -166.694992, 1000.578979); SetPlayerInterior(playerid, 14); }
	case 57: { SetPlayerPos(playerid, 207.054993, -138.804993, 1003.519958); SetPlayerInterior(playerid, 3); }
	case 58: { SetPlayerPos(playerid, 203.778000, -48.492397, 1001.799988); SetPlayerInterior(playerid, 1); }
	case 59: { SetPlayerPos(playerid, 226.293991, -7.431530, 1002.259949); SetPlayerInterior(playerid, 5); }
	case 60: { SetPlayerPos(playerid, 161.391006, -93.159156, 1001.804687); SetPlayerInterior(playerid, 18); }
	case 61: { SetPlayerPos(playerid, 493.390991, -22.722799, 1000.686951); SetPlayerInterior(playerid, 17); }
	case 62: { SetPlayerPos(playerid, 501.980988, -69.150200, 998.834961); SetPlayerInterior(playerid, 11); }
	case 63: { SetPlayerPos(playerid, -227.028000, 1401.229980, 27.769798); SetPlayerInterior(playerid, 18); }
	case 64: { SetPlayerPos(playerid, 460.099976, -88.428497, 999.621948); SetPlayerInterior(playerid, 4); }
	case 65: { SetPlayerPos(playerid, 454.973950, -110.104996, 999.717957); SetPlayerInterior(playerid, 5); }
	case 66: { SetPlayerPos(playerid, 452.489990, -18.179699, 1001.179993); SetPlayerInterior(playerid, 1); }
	case 67: { SetPlayerPos(playerid, 681.474976, -451.150970, -25.616798); SetPlayerInterior(playerid, 1); }
	case 68: { SetPlayerPos(playerid, 366.923980, -72.929359, 1001.507812); SetPlayerInterior(playerid, 10); }
	case 69: { SetPlayerPos(playerid, 365.672974, -10.713200, 1001.869995); SetPlayerInterior(playerid, 9); }
	case 70: { SetPlayerPos(playerid, 372.351990, -131.650986, 1001.449951); SetPlayerInterior(playerid, 5); }
	case 71: { SetPlayerPos(playerid, 377.098999, -192.439987, 1000.643982); SetPlayerInterior(playerid, 17); }
	case 72: { SetPlayerPos(playerid, 244.411987, 305.032990, 999.231995); SetPlayerInterior(playerid, 1); }
	case 73: { SetPlayerPos(playerid, 271.884979, 306.631989, 999.325989); SetPlayerInterior(playerid, 2); }
	case 74: { SetPlayerPos(playerid, 291.282990, 310.031982, 999.154968); SetPlayerInterior(playerid, 3); }
	case 75: { SetPlayerPos(playerid, 302.181000, 300.722992, 999.231995); SetPlayerInterior(playerid, 4); }
	case 76: { SetPlayerPos(playerid, 322.197998, 302.497986, 999.231995); SetPlayerInterior(playerid, 5); }
	case 77: { SetPlayerPos(playerid, 346.870025, 309.259033, 999.155700); SetPlayerInterior(playerid, 6); }
	case 78: { SetPlayerPos(playerid, -959.873962, 1952.000000, 9.044310); SetPlayerInterior(playerid, 17); }
	case 79: { SetPlayerPos(playerid, 388.871979, 173.804993, 1008.389954); SetPlayerInterior(playerid, 3); }
	case 80: { SetPlayerPos(playerid, 220.4109, 1862.277, 13.147); SetPlayerInterior(playerid, 0); }
	case 81: { SetPlayerPos(playerid, 772.112000, -3.898650, 1000.687988); SetPlayerInterior(playerid, 5); }
	case 82: { SetPlayerPos(playerid, 774.213989, -48.924297, 1000.687988); SetPlayerInterior(playerid, 6); }
	case 83: { SetPlayerPos(playerid, 773.579956, -77.096695, 1000.687988); SetPlayerInterior(playerid, 7); }
	case 84: { SetPlayerPos(playerid, 1527.229980, -11.574499, 1002.269958); SetPlayerInterior(playerid, 3); }
	case 85: { SetPlayerPos(playerid, 1523.509888, -47.821198, 1002.269958); SetPlayerInterior(playerid, 2); }
	case 86: { SetPlayerPos(playerid, 2496.049805, -1693.929932, 1014.750000); SetPlayerInterior(playerid, 3); }
	case 87: { SetPlayerPos(playerid, 1263.079956, -785.308960, 1091.959961); SetPlayerInterior(playerid, 5); }
	case 88: { SetPlayerPos(playerid, 1291.725341, -788.319885, 96.460937); SetPlayerInterior(playerid, 0); }
	case 89: { SetPlayerPos(playerid, 516.650, -18.611898, 1001.459961); SetPlayerInterior(playerid, 3); }
	case 90: { SetPlayerPos(playerid, 2464.109863, -1698.659912, 1013.509949); SetPlayerInterior(playerid, 2); }
	case 91: { SetPlayerPos(playerid, 2526.459961, -1679.089966, 1015.500000); SetPlayerInterior(playerid, 1); }
	case 92: { SetPlayerPos(playerid, 2543.659912, -1303.629883, 1025.069946); SetPlayerInterior(playerid, 2); }
	case 93: { SetPlayerPos(playerid, 1212.019897, -28.663099, 1001.089966); SetPlayerInterior(playerid, 3); }
	case 94: { SetPlayerPos(playerid, 744.542969, 1437.669922, 1102.739990); SetPlayerInterior(playerid, 6); }
	case 95: { SetPlayerPos(playerid, 1204.809937, -11.586800, 1001.089966); SetPlayerInterior(playerid, 2); }
	case 96: { SetPlayerPos(playerid, 1204.809937, 13.586800, 1001.089966); SetPlayerInterior(playerid, 2); }
	case 97: { SetPlayerPos(playerid, 940.921997, -17.007000, 1001.179993); SetPlayerInterior(playerid, 3); }
	case 98: { SetPlayerPos(playerid, 964.106995, -53.205498, 1001.179993); SetPlayerInterior(playerid, 3); }
	case 99: { SetPlayerPos(playerid, -2661.009766, 1415.739990, 923.305969); SetPlayerInterior(playerid, 3); }
	case 100: { SetPlayerPos(playerid, -2637.449951, 1404.629883, 906.457947); SetPlayerInterior(playerid, 3); }
	case 101: { SetPlayerPos(playerid, -735.5619504, 484.351318, 1371.952270); SetPlayerInterior(playerid, 1); }
	case 102: { SetPlayerPos(playerid, -794.8064, 491.6866, 1376.195); SetPlayerInterior(playerid, 1); }
	case 103: { SetPlayerPos(playerid, -835.2504, 500.9161, 1358.305); SetPlayerInterior(playerid, 1); }
	case 104: { SetPlayerPos(playerid, -813.431518, 533.231079, 1390.782958); SetPlayerInterior(playerid, 1); }
	case 105: { SetPlayerPos(playerid, 2350.339844, -1181.649902, 1028.000000); SetPlayerInterior(playerid, 5); }
	case 106: { SetPlayerPos(playerid, 2807.619873, -1171.899902, 1025.579956); SetPlayerInterior(playerid, 8); }
	case 107: { SetPlayerPos(playerid, 318.564972, 1118.209961, 1083.979980); SetPlayerInterior(playerid, 5); }
	case 108: { SetPlayerPos(playerid, 1412.639893, -1.787510, 1000.931946); SetPlayerInterior(playerid, 1); }
	case 109: { SetPlayerPos(playerid, 1302.519897, -1.787510, 1000.931946); SetPlayerInterior(playerid, 18); }
	case 110: { SetPlayerPos(playerid, 2522.0, -1673.383911, 14.8); SetPlayerInterior(playerid, 0); }
	case 111: { SetPlayerPos(playerid, -219.322601, 1410.444824, 27.773437); SetPlayerInterior(playerid, 18); }
	case 112: { SetPlayerPos(playerid, 2324.419922, -1147.539917, 1050.719971); SetPlayerInterior(playerid, 12); }
	case 113: { SetPlayerPos(playerid, -972.4957, 1060.983, 1358.914); SetPlayerInterior(playerid, 10); }
	case 114: { SetPlayerPos(playerid, 411.625977, -21.433298, 1001.799988); SetPlayerInterior(playerid, 2); }
	case 115: { SetPlayerPos(playerid, 418.652985, -82.639793, 1001.959961); SetPlayerInterior(playerid, 3); }
	case 116: { SetPlayerPos(playerid, 412.021973, -52.649899, 1001.959961); SetPlayerInterior(playerid, 12); }
	case 117: { SetPlayerPos(playerid, -204.439987, -26.453999, 1002.299988); SetPlayerInterior(playerid, 16); }
	case 118: { SetPlayerPos(playerid, -204.439987, -8.469600, 1002.299988); SetPlayerInterior(playerid, 17); }
	case 119: { SetPlayerPos(playerid, -204.439987, -43.652496, 1002.299988); SetPlayerInterior(playerid, 3); }
	case 120: { SetPlayerPos(playerid, 246.783997, 63.900200, 1003.639954); SetPlayerInterior(playerid, 6); }
	case 121: { SetPlayerPos(playerid, 246.375992, 109.245995, 1003.279968); SetPlayerInterior(playerid, 10); }
	case 122: { SetPlayerPos(playerid, 288.745972, 169.350998, 1007.179993); SetPlayerInterior(playerid, 3); }
	case 123: { SetPlayerPos(playerid, 1494.429932, 1305.629883, 1093.289917); SetPlayerInterior(playerid, 3); }
	case 124: { SetPlayerPos(playerid, -2029.719971, -115.067993, 1035.169922); SetPlayerInterior(playerid, 3); }
	case 125: { SetPlayerPos(playerid, 420.484985, 2535.589844, 10.020289); SetPlayerInterior(playerid, 10); }
	case 126: { SetPlayerPos(playerid, -2184.751464, 2413.111816, 5.156250); SetPlayerInterior(playerid, 0); }
	case 127: { SetPlayerPos(playerid, -1397.782470, -203.723114, 1051.346801); SetPlayerInterior(playerid, 7); }
	case 128: { SetPlayerPos(playerid, -1398.103515, 933.445434, 1041.531250); SetPlayerInterior(playerid, 15); }
	case 129: { SetPlayerPos(playerid, -1428.809448, -663.595886, 1060.219848); SetPlayerInterior(playerid, 4); }
	case 130: { SetPlayerPos(playerid, -1486.861816, 1642.145996, 1060.671875); SetPlayerInterior(playerid, 14); }
	case 131: { SetPlayerPos(playerid, -1401.830000, 107.051300, 1032.273000); SetPlayerInterior(playerid, 1); }
	case 132: { SetPlayerPos(playerid, 1382.615600, 2184.345703, 11.023437); SetPlayerInterior(playerid, 0); }
	case 133: { SetPlayerPos(playerid, 297.9414, -64.3876, 1001.5156); SetPlayerInterior(playerid, 4); }
	case 134: { SetPlayerPos(playerid, 302.1602, -164.7588, 999.6105); SetPlayerInterior(playerid, 6); }
	case 135: { SetPlayerPos(playerid, 2315.9528, -1.6181, 26.7421); SetPlayerInterior(playerid, 0); }
	case 136: { SetPlayerPos(playerid, 226.7411, 1239.9404, 1082.1406); SetPlayerInterior(playerid, 2); }
	case 137: { SetPlayerPos(playerid, 327.9601, 1477.7742, 1084.4375); SetPlayerInterior(playerid, 15); }
	case 138: { SetPlayerPos(playerid, 2259.4495, -1135.7909, 1050.6403); SetPlayerInterior(playerid, 10); }
	case 139: { SetPlayerPos(playerid, 2365.2036, -1135.5326, 1050.8826); SetPlayerInterior(playerid, 8); }
	case 140: { SetPlayerPos(playerid, 2495.9751, -1692.1501, 1014.7422); SetPlayerInterior(playerid, 3); } }
	SendMes(playerid, COLOR_MAIN, "Вы были телепортированы в локацию {"#DC_WHITE"}%d.", params[0]);
	return 1;
}
CMD:res(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	totalstring = "", bigstring = "";
	for(new i = 1; i <= TOTALFRAC; i++)
	{
	    format(totalstring, sizeof(totalstring), "%s\n", FracInfo[i][fName]);
		strcat(bigstring, totalstring);
	}
	strcat(bigstring, "Весь транспорт\n");
	strcat(bigstring, "Водитель такси\n");
	strcat(bigstring, "Водитель автобуса\n");
	strcat(bigstring, "Автомеханик\n");
	strcat(bigstring, "Развозчик продуктов\n");
	strcat(bigstring, "Пожарный\n");
	strcat(bigstring, "Ремонтник дорог\n");
	strcat(bigstring, "Пилот\n");
	strcat(bigstring, "Развозчик пиццы\n");
	strcat(bigstring, "Почтальон\n");
	strcat(bigstring, "Работник налоговой\n");
	strcat(bigstring, "Инкассатор\n");
	strcat(bigstring, "Развозчик цветов\n");
	strcat(bigstring, "Дальнобойщик\n");
	SPD(playerid, did_spawncar, DSL, "{"#DC_MAIN"}Респавн транспорта", bigstring, "Далее", "Отмена");
	return 1;
}
CMD:freezer(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /freezer [радиус]");
    if(params[0] > 2000 || params[0] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите радиус 1 до 2000.");
	format(strings, sizeof(strings), "[А] %s [%d] заморозил игроков в радиусе %d.", PlayerInfo[playerid][pName], playerid, params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0 || !IsPlayerInRangeOfPlayer(params[0], playerid, i) || PlayerInfo[playerid][pAdmin] < PlayerInfo[i][pAdmin]) continue;
		{
		    SetPlayerFreeze(playerid, i, 0);
		}
	}
	return 1;
}
CMD:unfreezer(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /unfreezer [радиус]");
    if(params[0] > 2000 || params[0] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите радиус 1 до 2000.");
	format(strings, sizeof(strings), "[А] %s [%d] разморозил игроков в радиусе %d.", PlayerInfo[playerid][pName], playerid, params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0 || !IsPlayerInRangeOfPlayer(params[0], playerid, i) || PlayerInfo[playerid][pAdmin] < PlayerInfo[i][pAdmin]) continue;
		{
		    SetPlayerFreeze(playerid, i, 1);
		}
	}
	return 1;
}
CMD:dvehr(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /dvehr [радиус]");
	if(params[0] > 2000 || params[0] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите радиус 1 до 2000.");
	new total = 0;
	for(new i = 0; i < MAX_VEHICLES-1; i++)
	{
		if(!IsValidVehicle(i) || !IsPlayerInRangeOfVehicle(playerid, params[0], i) || CreateCar[i] == false) continue;
		if(VehInfo[i][vFraction] == V_RENT_VEHICLE && VehInfo[i][vStatus] == V_RENT_VEHICLE + 150) continue;
		if((VehInfo[i][vFraction] == V_J_TAXI || VehInfo[i][vFraction] == V_J_BUS || VehInfo[i][vFraction] == V_J_MECHANIC || VehInfo[i][vFraction] == V_J_PRODUCT ||
	 	VehInfo[i][vFraction] == V_J_FIREMAN || VehInfo[i][vFraction] == V_J_ROADMAN || VehInfo[i][vFraction] == V_J_PILOT || VehInfo[i][vFraction] == V_J_PIZZABOY ||
		VehInfo[i][vFraction] == V_J_POSTMAN || VehInfo[i][vFraction] == V_J_TAX || VehInfo[i][vFraction] == V_J_COLLECTOR || VehInfo[i][vFraction] == V_J_FLOWERSBOY ||
	 	VehInfo[i][vFraction] == V_J_TRUCK || VehInfo[i][vFraction] == V_RENT_VEHICLE) && VehInfo[i][vStatus] == V_RENT_VEHICLE + 150) continue;
		DestroyVehicleEx(i);
		CreateCar[i] = false;
		total++;
		TOTALVEH--;
	}
	format(strings, sizeof(strings), "Вы удалили {"#DC_WHITE"}%d{"#DC_MAIN"} админ ТС в радиусе {"#DC_WHITE"}%d.", total, params[0]);
	SendMes(playerid, COLOR_MAIN, strings);
	return 1;
}
CMD:aclear(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /aclear [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	PlayerInfo[params[0]][pWanted] = 0;
	SetPlayerWantedLevel(params[0], 0);
	format(strings, sizeof(strings), "[A] Администратор %s [%d] снял уровень розыска с %s [%d].", PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	return 1;
}
CMD:createobject(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /createobject [слот] [id объекта]");
	if(params[0] > (MAX_ADMIN_OBJECT-1) || params[0] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Укажите слот от 1 до 50.");
	if(AdminObject[params[0]] != 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный слот уже занят.");
	new Float:x1, Float:y1, Float:z1;
	GetPlayerPos(playerid, x1, y1, z1);
	AdminObject[params[0]] = CreateDynamicObject(params[1], x1, y1, z1, 0.0, 0.0, 0.0, -1, -1, -1, 120.00, 120.00);
	format(strings, sizeof(strings), "Вы создали объект {"#DC_WHITE"}%d (Слот %d. Модель %d).", AdminObject[params[0]], params[0], params[1]);
	SendMes(playerid, COLOR_MAIN, strings);
	return 1;
}
CMD:editobject(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /editobject [слот]");
	if(params[0] > (MAX_ADMIN_OBJECT-1) || params[0] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Укажите слот от 1 до 50.");
	if(AdminObject[params[0]] != 0)
	{
		format(strings, sizeof(strings), "Вы редактируете объект {"#DC_WHITE"}%d. (Слот %d).", AdminObject[params[0]], params[0]);
		SendMes(playerid, COLOR_MAIN, strings);
		SetPVarInt(playerid, "EditObject", params[0]);
		SetPVarInt(playerid, "EditObjectModel", GetDynamicObjectModelID(AdminObject[params[0]]));
		EditDynamicObject(playerid, AdminObject[params[0]]);
	}
	return 1;
}
CMD:deleteobject(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /deleteobject [слот]");
	if(params[0] > (MAX_ADMIN_OBJECT-1) || params[0] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Укажите слот от 1 до 50.");
	if(AdminObject[params[0]] != 0)
	{
		format(strings, sizeof(strings), "Вы удалили объект {"#DC_WHITE"}%d. (Слот %d).", AdminObject[params[0]], params[0]);
		SendMes(playerid, COLOR_MAIN, strings);
		if(IsValidDynamicObject(AdminObject[params[0]])) DestroyDynamicObject(AdminObject[params[0]]);
		AdminObject[params[0]] = 0;
	}
	else return SendMes(playerid, COLOR_DARKORANGE, "В данном слоте нет объекта.");
	return 1;
}
/*CMD:aobject(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "dddd", params[0], params[1], params[2], params[3])) return SendMes(playerid, COLOR_WHITE, "Введите: /aobject [скин 0 - 311] [слот 0 - 9] [id объекта] [1 - 18]");
	if(params[0] < 0 || params[0] > 311) return SendMes(playerid, COLOR_WHITE, "Скин от 0 до 311.");
	if(params[1] < 0 || params[1] > 9) return SendMes(playerid, COLOR_WHITE, "Слот от 0 до 9.");
	if(params[3] < 1 || params[3] > 18) return SendMes(playerid, COLOR_WHITE, "Часть тела от 1 до 18.");
	if(IsPlayerAttachedObjectSlotUsed(playerid, params[1])) return RemovePlayerAttachedObject(playerid, params[1]);
	SetPlayerSkin(playerid, params[0]);
	SetPlayerAttachedObject(playerid, params[1], params[2], params[3], 0.344000, -0.095000, 0.164999, -3.399999, -5.599998, -0.700000, 1.000000, 1.000000, 1.000000);
	return 1;
}
CMD:aeobject(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /aeobject [слот 0 - 9]");
	if(params[0] < 0 || params[0] > 9) return SendMes(playerid, COLOR_WHITE, "Слот от 0 до 9.");
	EditAttachedObject(playerid, params[0]);
	return 1;
}
CMD:aremove(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /aremove [слот 0 - 9]");
	if(params[0] < 0 || params[0] > 9) return SendMes(playerid, COLOR_WHITE, "Слот от 0 до 9.");
	RemovePlayerAttachedObject(playerid, params[0]);
	return 1;
}*/
CMD:dvehid(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /dvehid [id]");
	if(params[0] > 2500 || params[0] < 1) return SendMes(playerid, COLOR_DARKORANGE, "ID транспорта должен быть от 1 до 2500.");
	if(CreateCar[params[0]] == false) return SendMes(playerid, COLOR_DARKORANGE, "Этот транспорт нельзя удалить.");
	CreateCar[params[0]] = false;
	DestroyVehicleEx(params[0]);
	SendMes(playerid, COLOR_MAIN, "Вы удалили админ ТС {"#DC_WHITE"}%d.", params[0]);
	TOTALVEH--;
	return 1;
}
CMD:stopcapture(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(CaptureTime == 0) return SendMes(playerid, COLOR_DARKORANGE, "На данный момент нет захвата территорий.");
	new gangid, scdgangid;
	new idx = CaptureZone;
	CaptureStatus = 0;
	CaptureZone = 0;
	CaptureZoneID = 0;
	CaptureType = 0;
	CaptureEnd();
	GangInfo[gangid][gCapture] = 0;
	GangInfo[gangid][gScore] = 0;
	GangInfo[gangid][gNumber] = 0;
	GangInfo[scdgangid][gCapture] = 0;
	GangInfo[scdgangid][gScore] = 0;
	GangInfo[scdgangid][gNumber] = 0;
	GZInfo[idx][gFraction] = gangid;
	GZInfo[idx][gWar] = 0;
	GangZoneStopFlashForAll(GZInfo[idx][id]);
	GangZoneHideForAll(GZInfo[idx][id]);
	GangZoneShowForAll(GZInfo[idx][id], GetGangZoneColor(idx));
	SaveGangZone(idx);
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0 || (PlayerInfo[i][pMember] != gangid && PlayerInfo[i][pMember] != scdgangid)) continue;
		/*ClearDeathMessage(i);*/
	}
	format(strings, sizeof(strings), "[A] %s [%d] остановил(-а) войну банд за территорию!", PlayerInfo[playerid][pName], playerid);
	SendAdminMessage(COLOR_GREY, strings, 6);
	return 1;
}
CMD:stopmafiawar(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(MafiaWarTime == 0) return SendMes(playerid, COLOR_DARKORANGE, "На данный момент нет войны за бизнес.");
	MafiaWarEnd();
	MafiaWarScore[MafiaWarFrac[0]] = 0;
	MafiaWarScore[MafiaWarFrac[1]] = 0;
	MafiaWarFrac[0] = 0;
	MafiaWarFrac[1] = 0;
	MafiaWarBiz = 0;
	GangZoneStopFlashForAll(MafiaWarZone);
	GangZoneHideForAll(MafiaWarZone);
	GangZoneDestroy(MafiaWarZone);
	MafiaWarZone = 0;
	for(new f = 0; f < MAX_FRACTION; f++)
	{
		MafiaWarMafia[f] = 0;
		MafiaWarScore[f] = 0;
	}
	MafiaWarTime = 0;
	format(strings, sizeof(strings), "[A] %s [%d] остановил(-а) войну мафий за бизнес!", PlayerInfo[playerid][pName], playerid);
	SendAdminMessage(COLOR_GREY, strings, 6);
	return 1;
}
CMD:stopbikerwar(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 5 || AdminLogged[playerid] == false) return 1;
	if(BikerWarTime == 0) return SendMes(playerid, COLOR_DARKORANGE, "На данный момент нет байкерского захвата.");
	BikerWarEnd();
	BikerWarScore[BikerWarFrac[0]] = 0;
	BikerWarScore[BikerWarFrac[1]] = 0;
	BikerWarFrac[0] = 0;
	BikerWarFrac[1] = 0;
	BikerWarBiz = 0;
	BikerWarType = 0;
	GangZoneStopFlashForAll(BikerWarZone);
	GangZoneHideForAll(BikerWarZone);
	GangZoneDestroy(BikerWarZone);
	BikerWarZone = 0;
	for(new f = 0; f < MAX_FRACTION; f++)
	{
		BikerWarBiker[f] = 0;
		BikerWarScore[f] = 0;
	}
	BikerWarTime = 0;
	format(strings, sizeof(strings), "[A] %s [%d] остановил(-а) байкерский захват!", PlayerInfo[playerid][pName], playerid);
	SendAdminMessage(COLOR_GREY, strings, 6);
	return 1;
}
// 6-ой уровень администратора;
CMD:offban(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	new name[20], time, reason[16];
	if(sscanf(params, "s[22]ds[16]", name, time, reason)) return SendMes(playerid, COLOR_WHITE, "Введите: /offban [ник-нейм] [кол-во дней] [причина]");
	if(time > 31 || time < 1) return SendMes(playerid, COLOR_DARKORANGE, "Кол-во дней от 1 до 31.");
	// Проверка на нахождение в игре;
	new scdplayerid = GetPlayerID(name);
	if(scdplayerid != INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок в сети, используйте /ban");
	if(AdvertisingCheck(reason)) return AdvertisingPunishment(playerid, reason, 0);
	// Проверка на атаку от администратора;
	if(IsAAdminAttack(playerid, 7)) return 1;
	// Если атаки нет, выполняем команду;
    mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", name);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "dddsds", playerid, 11, time, name, 0, reason);
	return 1;
}
CMD:unwarn(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /unwarn [id игрока]");
	if(!IsPlayerConnected(params[0]) || params[0] == INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(!PlayerInfo[params[0]][pWarn]) return SendMes(playerid, COLOR_DARKORANGE, "У этого игрока нет предупреждений.");
	if(PlayerInfo[params[0]][pWarn] > 1)
	{
	    PlayerInfo[params[0]][pWarn]--;
		format(PlayerInfo[params[0]][pWarnReason], 64, "None");
		PlayerInfo[params[0]][pWarnTime] = gettime() + 7*86400;
		SetPlayerInt(PlayerInfo[params[0]][pID], "warn", PlayerInfo[params[0]][pWarn]);
		SetPlayerStr(PlayerInfo[params[0]][pID], "warnreason", PlayerInfo[params[0]][pWarnReason]);
		SetPlayerInt(PlayerInfo[params[0]][pID], "warntime", PlayerInfo[params[0]][pWarnTime]);
	} else {
	    PlayerInfo[params[0]][pWarn] = 0;
		format(PlayerInfo[params[0]][pWarnReason], 64, "None");
		PlayerInfo[params[0]][pWarnTime] = 0;
		SetPlayerInt(PlayerInfo[params[0]][pID], "warn", PlayerInfo[params[0]][pWarn]);
		SetPlayerStr(PlayerInfo[params[0]][pID], "warnreason", PlayerInfo[params[0]][pWarnReason]);
		SetPlayerInt(PlayerInfo[params[0]][pID], "warntime", PlayerInfo[params[0]][pWarnTime]);
	}
	format(strings, sizeof(strings), "С аккаунта {"#DC_WHITE"}%s{"#DC_MAIN"} снято 1 предупреждение! Предупреждений: {"#DC_WHITE"}%d.", PlayerInfo[params[0]][pName], PlayerInfo[params[0]][pWarn]);
	SendMes(playerid, COLOR_MAIN, strings);
	format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} снял 1 предупреждение с Вашего аккаунта. Предупреждений: {"#DC_WHITE"}%d.", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pWarn]);
	SendMes(params[0], COLOR_MAIN, strings);
	format(strings, sizeof(strings),"[A] %s [%d] снял варн с %s [%d].", PlayerInfo[playerid][pName],playerid, PlayerInfo[params[0]][pName],params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8), WriteLog("logs_unwarn", strings);
	return 1;
}
CMD:agivelic(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /agivelic [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	SPD(playerid, did_lic_agive, DSL, "{"#DC_MAIN"}Выдать лицензии", "{"#DC_MAIN"}1.{"#DC_WHITE"} Наземный транспорт\n{"#DC_MAIN"}2.{"#DC_WHITE"} Водный транспорт\n{"#DC_MAIN"}3.{"#DC_WHITE"} Воздушный транспорт\n{"#DC_MAIN"}4.{"#DC_WHITE"} Оружие", "Далее", "Отмена");
	SetPVarInt(playerid, "LicName", params[0]);
	return 1;
}
CMD:atake(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /atake [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	SPD(playerid, did_lic_atake, DSL, "{"#DC_MAIN"}Изъять", "{"#DC_MAIN"}1.{"#DC_WHITE"} Наземный транспорт\n{"#DC_MAIN"}2.{"#DC_WHITE"} Водный транспорт\n{"#DC_MAIN"}3.{"#DC_WHITE"} Воздушный транспорт\n{"#DC_MAIN"}4.{"#DC_WHITE"} Оружие\n{"#DC_MAIN"}5.{"#DC_WHITE"} Наркотики\n{"#DC_MAIN"}6.{"#DC_WHITE"} Оружие", "Далее", "Отмена");
	SetPVarInt(playerid, "LicName", params[0]);
	return 1;
}
CMD:auninvite(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /auninvite [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок не находиться в организации.");
	if(PlayerInfo[params[0]][pLeader] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок лидер другой организации.");
	new member = PlayerInfo[params[0]][pMember];
	format(strings, sizeof(strings), "Вы уволили {"#DC_WHITE"}%s{"#DC_MAIN"} из организации {"#DC_WHITE"}%s.", PlayerInfo[params[0]][pName], FracInfo[member][fName]);
	SendMes(playerid, COLOR_MAIN, strings);
	format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} уволил Вас из организации {"#DC_WHITE"}%s.", PlayerInfo[playerid][pName], FracInfo[member][fName]);
	SendMes(params[0], COLOR_MAIN, strings);
	LeaveFractionPlayer(params[0], 0);
	return 1;
}
CMD:aoffuninvite(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "s[32]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /aoffuninvite [ник-нейм]");
	new scdplayerid = GetPlayerID(params[0]);
	if(scdplayerid != INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок в сети, используйте /auninvite");
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", params[0]);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "ddds", playerid, 12, 0, params[0]);
	return 1;
}
CMD:htp(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /htp [номер]");
	if(params[0] < 1 || params[0] > TOTALHOUSE) return SendMes(playerid, COLOR_DARKORANGE, "Вы ввели неверный ID.");
	SetPlayerPos(playerid, HouseInfo[params[0]][hEnterX], HouseInfo[params[0]][hEnterY], HouseInfo[params[0]][hEnterZ]);
	SetPlayerInterior(playerid, 0);
	SetPlayerVirtualWorld(playerid, 0);
	return 1;
}
CMD:btp(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /btp [номер]");
	if(params[0] < 1 || params[0] > TOTALBIZ) return SendMes(playerid, COLOR_DARKORANGE, "Вы ввели неверный ID.");
	SetPlayerPos(playerid, BizInfo[params[0]][bEnterX], BizInfo[params[0]][bEnterY], BizInfo[params[0]][bEnterZ]);
	SetPlayerVirtualWorld(playerid, 0);
	SetPlayerInterior(playerid, 0);
	return 1;
}
CMD:hltp(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /hltp [номер]");
	if(params[0] < 1 || params[0] > TOTALHOTEL) return SendMes(playerid, COLOR_DARKORANGE, "Вы ввели неверный ID.");
	SetPlayerPos(playerid, HotelInfo[params[0]][hEnterX], HotelInfo[params[0]][hEnterY], HotelInfo[params[0]][hEnterZ]);
	SetPlayerVirtualWorld(playerid, 0);
	SetPlayerInterior(playerid, 0);
	return 1;
}
CMD:ftp(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /ftp [номер]");
	if(params[0] < 1 || params[0] > TOTALFARM) return SendMes(playerid, COLOR_DARKORANGE, "Вы ввели неверный ID.");
	SetPlayerPos(playerid, FarmInfo[params[0]][fEnterX], FarmInfo[params[0]][fEnterY], FarmInfo[params[0]][fEnterZ]);
	SetPlayerVirtualWorld(playerid, 0);
	SetPlayerInterior(playerid, 0);
	return 1;
}
CMD:stp(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /stp [номер]");
	if(params[0] < 1 || params[0] > TOTALFARM) return SendMes(playerid, COLOR_DARKORANGE, "Вы ввели неверный ID.");
	SetPlayerPos(playerid, ServiceInfo[params[0]][sEnterX], ServiceInfo[params[0]][sEnterY], ServiceInfo[params[0]][sEnterZ]);
	SetPlayerVirtualWorld(playerid, 0);
	SetPlayerInterior(playerid, 0);
	return 1;
}
CMD:setname(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "u", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /setname [id]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(SetName[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок не предлагал сменить ник.");
	new oldname[32];
	format(oldname, sizeof(oldname), PlayerInfo[params[0]][pName]);
	if(!strcmp(PlayerName[params[0]], "None", true)) return SendMes(playerid, COLOR_DARKORANGE, "Игрок %s не предлагал сменить ник!", PlayerInfo[params[0]][pName]);
	if(!SetPlayerName(params[0], PlayerName[params[0]])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок с таким ник-неймом уже зарегистрирован!");
	if(PlayerInfo[params[0]][pVehicle] != 0)
    {
        new vehicleid = PlayerInfo[params[0]][pVehicle];
		format(VehInfo[vehicleid][vOwner], 32, PlayerName[params[0]]);
		SaveVehicle(vehicleid);
    }
	SetPVarString(playerid, "NewNickname", PlayerName[params[0]]), SetPVarString(playerid, "OldNickname", oldname);
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM `"TABLE_VEHICLE"` WHERE `owner` = '%e' and `fraction` = 0 LIMIT 1", oldname);
	mysql_tquery(mysql, request, "OnPlayerVehicleCheck", "d", playerid);
	if(PlayerInfo[params[0]][pHouse] != 0)
	{
		new i = PlayerInfo[params[0]][pHouse];
		if(!strcmp(HouseInfo[i][hOwner], oldname, true))
		{
			format(HouseInfo[i][hOwner], 32, PlayerName[params[0]]);
			SaveHouse(i);
		}
	}
	if(PlayerInfo[params[0]][pBiz] != 0)
	{
		new i = PlayerInfo[params[0]][pBiz];
		if(!strcmp(BizInfo[i][bOwner], oldname, true))
		{
			format(BizInfo[i][bOwner], 32, PlayerName[params[0]]);
		    SaveBiz(i);
			UpdateBiz(i);
		}
	}
	if(PlayerInfo[params[0]][pHotel] != 0)
	{
		new i = PlayerInfo[params[0]][pHotel];
		if(!strcmp(HotelInfo[i][hOwner], oldname, true))
		{
			format(HotelInfo[i][hOwner], 32, PlayerName[params[0]]);
			SaveHotel(i);
			UpdateHotel(i);
		}
	}
	if(PlayerInfo[params[0]][pHotelID] != 0)
	{
		new hotelid = PlayerInfo[params[0]][pHotelID], roomid = PlayerInfo[params[0]][pHotelRooms];
		if(!strcmp(HotelRoomsInfo[hotelid][roomid][hrOwner], oldname, true))
		{
			format(HotelRoomsInfo[hotelid][roomid][hrOwner], 32, PlayerName[params[0]]);
			SaveHotelRooms(hotelid, roomid);
		}
	}
	if(PlayerInfo[params[0]][pLeader] != 0)
	{
		strmid(FracInfo[PlayerInfo[params[0]][pLeader]][fLeader], PlayerName[params[0]], 0, strlen(PlayerName[params[0]]), MAX_PLAYER_NAME);
		SetFractionStr(PlayerInfo[params[0]][pLeader], "leader", PlayerName[params[0]]);
	}
	if(PlayerInfo[params[0]][pFarm] != 0)
	{
		new i = PlayerInfo[params[0]][pFarm];
		if(!strcmp(FarmInfo[i][fOwner], oldname, true))
		{
			format(FarmInfo[i][fOwner], 32, PlayerName[params[0]]);
			SaveFarm(i);
			UpdateFarm(i);
		}
	}
	if(PlayerInfo[params[0]][pFarmIDx])
	{
	    new fidx = PlayerInfo[params[0]][pFarmIDx], sidx = PlayerInfo[params[0]][pFarmSlot];
		if(PlayerInfo[params[0]][pFarmRank] == 1) format(WorkersFarm[fidx][sidx], MAX_PLAYER_NAME, PlayerName[params[0]]);
		if(PlayerInfo[params[0]][pFarmRank] == 2) format(SubstituentsFarm[fidx][sidx], MAX_PLAYER_NAME, PlayerName[params[0]]);
		SaveFarm(fidx);
	}
	if(PlayerInfo[params[0]][pService] != 0)
	{
		new i = PlayerInfo[params[0]][pService];
		if(!strcmp(ServiceInfo[i][sOwner], oldname, true))
		{
			format(ServiceInfo[i][sOwner], 32, PlayerName[params[0]]);
			SaveService(i);
			UpdateService(i);
		}
	}
	if(PlayerInfo[params[0]][pServiceIDx])
	{
	    new sidx = PlayerInfo[params[0]][pServiceIDx], ssidx = PlayerInfo[params[0]][pServiceSlot];
		if(PlayerInfo[params[0]][pServiceRank] == 1) format(WorkersService[sidx][ssidx], MAX_PLAYER_NAME, PlayerName[params[0]]);
		if(PlayerInfo[params[0]][pServiceRank] == 2) format(SubstituentsService[sidx][ssidx], MAX_PLAYER_NAME, PlayerName[params[0]]);
		SaveService(sidx);
	}
	mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_ACCOUNT" SET `name` = '%e' WHERE `id` = '%d' LIMIT 1", PlayerName[params[0]], PlayerInfo[params[0]][pID]);
	mysql_query(mysql, request, false);
	format(strings, sizeof(strings), "» %s изменил ник-нейм на %s.", oldname, PlayerName[params[0]]);
	SCMTAEx(COLOR_LPURPLE, strings, 6);
	format(strings, sizeof(strings), "[A] %s [%d] изменил ник %s [%d].", PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_NAMESTORE" (user_id, old_name, new_name) VALUES ('%d', '%s', '%s')", PlayerInfo[params[0]][pID], oldname, PlayerName[params[0]]);
	mysql_query(mysql, request, false);
	format(strings, sizeof(strings), "Администратор %s изменил ник-нейм игроку %s на %s бесплатно.", PlayerInfo[playerid][pName], oldname, PlayerName[params[0]]);
	WriteLog("logs_namechange", strings);
	SetPlayerName(params[0], PlayerName[params[0]]);
	format(strings, sizeof(strings), "Ваш новый ник: {"#DC_WHITE"}%s.", PlayerName[params[0]]);
	SendMes(params[0], COLOR_MAIN, strings);
	strmid(PlayerInfo[params[0]][pName], PlayerName[params[0]], 0, strlen(PlayerName[params[0]]), MAX_PLAYER_NAME);
	SendMes(params[0], COLOR_MAIN, "Рекомендуется сделать скриншот. Клавиша: F8.");
	KickWithMessage(params[0], COLOR_MAIN, "Пропишите свой новый ник в окне SA:MP.");
	strmid(PlayerName[params[0]], "None", 0, strlen("None"), MAX_PLAYER_NAME);
	SetName[params[0]] = 0;
	return 1;
}
CMD:setfuelr(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /setfuel [радиус] [кол-во бензина]");
    if(params[0] > 2000 || params[0] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите радиус 1 до 2000.");
	if(params[1] > 20 || params[1] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Введите количество бензина от 1 до 20.");
	new total = 0;
	for(new i = 0; i < MAX_VEHICLES-1; i++)
	{
		if(!IsValidVehicle(i) || !IsPlayerInRangeOfVehicle(playerid, params[0], i)) continue;
		Fuel[i] = params[1];
		VehInfo[i][vFuel] = params[1];
		total++;
	}
	format(strings, sizeof(strings), "Вы установили {"#DC_WHITE"}%d{"#DC_MAIN"} литр(-а/-ов) бензина {"#DC_WHITE"}%d{"#DC_MAIN"} ТС в радиусе {"#DC_WHITE"}%d.", params[1], total, params[0]);
	SendMes(playerid, COLOR_MAIN, strings);
	return 1;
}
CMD:lip(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	new name[64], type[32], count;
	if(sscanf(params, "s[64]s[32]d", name, type, count)) return SendMes(playerid, COLOR_WHITE, "Введите: /lip [IP] [IP, LAST, REG] [размер 1-30]");
	if(count < 1 && count > 30) return SendMes(playerid, COLOR_DARKORANGE, "Введите размер от 1 до 30.");
    if(!strcmp(type, "IP"))
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `ip` = '%e' LIMIT 0 , %d", name, count);
	else if(!strcmp(type, "LAST"))
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `lastip` = '%e' LIMIT 0 , %d", name, count);
	else if(!strcmp(type, "REG"))
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `regip` = '%e' LIMIT 0 , %d", name, count);
	else return SendMes(playerid, COLOR_DARKORANGE, "Вы ввели неверный тип.");
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "ddds", playerid, 22, 0, name);
	return 1;
}
CMD:gzcolor(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /gzcolor [id банды]");
	new total = 0;
	for(new i = 1; i <= TOTALGZ; i++)
	{
		if(IsAZonePlayer(playerid, GZInfo[i][gPos][0], GZInfo[i][gPos][1], GZInfo[i][gPos][2], GZInfo[i][gPos][3]))
		{
		    //if(IsAGangRespawn(i)) return SendMes(playerid, COLOR_DARKORANGE, "Эта территория является респауном банды.");
			FracZone[GZInfo[i][gFraction]]--;
			UpdateWarehouse(GZInfo[i][gFraction]);
			GZInfo[i][gFraction] = params[0];
			FracZone[GZInfo[i][gFraction]]++;
			UpdateWarehouse(GZInfo[i][gFraction]);
			GangZoneStopFlashForAll(GZInfo[i][id]);
			GangZoneHideForAll(GZInfo[i][id]);
			GangZoneShowForAll(GZInfo[i][id], GetGangZoneColor(i));
			SaveGangZone(i);
			total++;
			format(strings, sizeof(strings), "Вы изменили владельца территории {"#DC_WHITE"}%d{"#DC_MAIN"} на банду {"#DC_WHITE"}%d.", i, params[0]);
			SendMes(playerid, COLOR_MAIN, strings);
			break;
		}
	}
	if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться на территории, которую хотите изменить.");
	return 1;
}
CMD:gmafia(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /gmafia [id мафии]");
	if(params[0] < 16 || params[0] > 18) return SendMes(playerid, COLOR_DARKORANGE, "Введите ID мафии от 16 до 18.");
	new total = 0;
	for(new i = 1; i <= TOTALBIZ; i++)
	{
		if(IsAPPos(playerid, 5.0, BizInfo[i][bEnterX], BizInfo[i][bEnterY], BizInfo[i][bEnterZ]))
		{
		    if(BizInfo[i][bMafia] != 0)
			{
				FracBiz[BizInfo[i][bMafia]]--;
				UpdateWarehouse(BizInfo[i][bMafia]);
			}
		    BizInfo[i][bMafia] = params[0];
		    SaveBiz(i);
		    UpdateBiz(i);
			FracBiz[params[0]]++;
			UpdateWarehouse(params[0]);
			format(strings, sizeof(strings), "Вы изменили контроль бизнеса {"#DC_WHITE"}%s{"#DC_MAIN"} на мафию {"#DC_WHITE"}%d.", BizInfo[i][bName], params[0]);
			SendMes(playerid, COLOR_MAIN, strings);
			total++;
			break;
		}
	}
	if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с бизнесом.");
	return 1;
}
CMD:gbiker(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /gbiker [ТИП от 1 до 3 (1 - ферма, 2 - СТО, 3 - отель)] [id байкеров]");
	if(params[0] < 1 || params[0] > 3) return SendMes(playerid, COLOR_DARKORANGE, "Введите тип от 1 до 3.");
	if(params[1] < 19 || params[1] > 21) return SendMes(playerid, COLOR_DARKORANGE, "Введите ID мафии от 19 до 21.");
	new total = 0;
	if(params[0] == 1)
	{
	    for(new i = 1; i <= TOTALFARM; i++)
		{
			if(IsAPPos(playerid, 5.0, FarmInfo[i][fEnterX], FarmInfo[i][fEnterY], FarmInfo[i][fEnterZ]))
			{
			    FarmInfo[i][fBiker] = params[1];
		    	UpdateFarm(i);
			    SaveFarm(i);
				FracFarm[params[1]]++;
				UpdateWarehouse(params[1]);
				format(strings, sizeof(strings), "Вы изменили контроль фермы {"#DC_WHITE"}%d{"#DC_MAIN"} на байкеров {"#DC_WHITE"}%d.", FarmInfo[i][id], params[1]);
				SendMes(playerid, COLOR_MAIN, strings);
				total++;
				break;
			}
		}
		if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с фермой.");
	}
	else if(params[0] == 2)
	{
		for(new i = 1; i <= TOTALSERVICE; i++)
		{
			if(IsAPPos(playerid, 5.0, ServiceInfo[i][sEnterX], ServiceInfo[i][sEnterY], ServiceInfo[i][sEnterZ]))
			{
			    ServiceInfo[i][sBiker] = params[1];
		    	UpdateService(i);
			    SaveService(i);
				FracService[params[1]]++;
				UpdateWarehouse(params[1]);
				format(strings, sizeof(strings), "Вы изменили контроль СТО {"#DC_WHITE"}%d{"#DC_MAIN"} на байкеров {"#DC_WHITE"}%d.", ServiceInfo[i][id], params[1]);
				SendMes(playerid, COLOR_MAIN, strings);
				total++;
				break;
			}
		}
		if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с СТО.");
	}
	else if(params[0] == 3)
	{
	    for(new i = 1; i <= TOTALHOTEL; i++)
		{
			if(IsAPPos(playerid, 5.0, HotelInfo[i][hEnterX], HotelInfo[i][hEnterY], HotelInfo[i][hEnterZ]))
			{
			    HotelInfo[i][hBiker] = params[1];
		    	UpdateHotel(i);
				SaveHotel(i);
			    FracHotel[params[1]]++;
				UpdateWarehouse(params[1]);
				format(strings, sizeof(strings), "Вы изменили контроль отеля {"#DC_WHITE"}%s{"#DC_MAIN"} на байкеров {"#DC_WHITE"}%d.", HotelInfo[i][hName], params[1]);
				SendMes(playerid, COLOR_MAIN, strings);
				total++;
				break;
			}
		}
		if(total == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться рядом с отелем.");
	}
	return 1;
}
CMD:guse(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /guse [id фракции]");
	if(!IsAGangF(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот ID фракции не является бандой.");
	if(FracInfo[params[0]][fSetting][1])
	{
		FracInfo[params[0]][fSetting][1] = 0;
		SendMes(playerid, COLOR_WHITE, "%s{"#DC_MAIN"} теперь запрещено захватывать территории.", FracInfo[params[0]][fName]);
	}
	else
	{
		FracInfo[params[0]][fSetting][1] = 1;
		SendMes(playerid, COLOR_WHITE, "%s{"#DC_MAIN"} теперь разрешено захватывать территории.", FracInfo[params[0]][fName]);
	}
	format(FracInfo[params[0]][fSettings], 64, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d", FracInfo[params[0]][fSetting][0], FracInfo[params[0]][fSetting][1], FracInfo[params[0]][fSetting][2],
	FracInfo[params[0]][fSetting][3], FracInfo[params[0]][fSetting][4], FracInfo[params[0]][fSetting][5], FracInfo[params[0]][fSetting][6], FracInfo[params[0]][fSetting][7], FracInfo[params[0]][fSetting][8],
	FracInfo[params[0]][fSetting][9], FracInfo[params[0]][fSetting][10], FracInfo[params[0]][fSetting][11], FracInfo[params[0]][fSetting][12], FracInfo[params[0]][fSetting][13], FracInfo[params[0]][fSetting][14],
	FracInfo[params[0]][fSetting][15]);
	SetFractionStr(params[0], "settings", FracInfo[params[0]][fSettings]);
	return 1;
}
CMD:muse(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /muse [id фракции]");
	if(!IsAMafiaF(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот ID фракции не является мафией.");
	if(FracInfo[params[0]][fSetting][1])
	{
		FracInfo[params[0]][fSetting][1] = 0;
		SendMes(playerid, COLOR_WHITE, "%s{"#DC_MAIN"} теперь запрещено захватывать бизнесы.", FracInfo[params[0]][fName]);
	}
	else
	{
		FracInfo[params[0]][fSetting][1] = 1;
		SendMes(playerid, COLOR_WHITE, "%s{"#DC_MAIN"} теперь разрешено захватывать бизнесы.", FracInfo[params[0]][fName]);
	}
	format(FracInfo[params[0]][fSettings], 64, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d", FracInfo[params[0]][fSetting][0], FracInfo[params[0]][fSetting][1], FracInfo[params[0]][fSetting][2],
	FracInfo[params[0]][fSetting][3], FracInfo[params[0]][fSetting][4], FracInfo[params[0]][fSetting][5], FracInfo[params[0]][fSetting][6], FracInfo[params[0]][fSetting][7], FracInfo[params[0]][fSetting][8],
	FracInfo[params[0]][fSetting][9], FracInfo[params[0]][fSetting][10], FracInfo[params[0]][fSetting][11], FracInfo[params[0]][fSetting][12], FracInfo[params[0]][fSetting][13], FracInfo[params[0]][fSetting][14],
	FracInfo[params[0]][fSetting][15]);
	SetFractionStr(params[0], "settings", FracInfo[params[0]][fSettings]);
	return 1;
}
CMD:buse(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 6 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /buse [id фракции]");
	if(!IsABikerF(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Этот ID фракции не является байкерским клубом.");
	if(FracInfo[params[0]][fSetting][1])
	{
		FracInfo[params[0]][fSetting][1] = 0;
		SendMes(playerid, COLOR_WHITE, "%s{"#DC_MAIN"} теперь запрещено захватывать отели.", FracInfo[params[0]][fName]);
	}
	else
	{
		FracInfo[params[0]][fSetting][1] = 1;
		SendMes(playerid, COLOR_WHITE, "%s{"#DC_MAIN"} теперь разрешено захватывать отели.", FracInfo[params[0]][fName]);
	}
	format(FracInfo[params[0]][fSettings], 64, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d", FracInfo[params[0]][fSetting][0], FracInfo[params[0]][fSetting][1], FracInfo[params[0]][fSetting][2],
	FracInfo[params[0]][fSetting][3], FracInfo[params[0]][fSetting][4], FracInfo[params[0]][fSetting][5], FracInfo[params[0]][fSetting][6], FracInfo[params[0]][fSetting][7], FracInfo[params[0]][fSetting][8],
	FracInfo[params[0]][fSetting][9], FracInfo[params[0]][fSetting][10], FracInfo[params[0]][fSetting][11], FracInfo[params[0]][fSetting][12], FracInfo[params[0]][fSetting][13], FracInfo[params[0]][fSetting][14],
	FracInfo[params[0]][fSetting][15]);
	SetFractionStr(params[0], "settings", FracInfo[params[0]][fSettings]);
	return 1;
}
// 7-ой уровень администратора;
/*CMD:astats(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 7 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "u", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /astats [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pAdmin] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Этот игрок не администратор.");
	totalstring = "";
	format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
	Часов: %d\n\
	Ответов: %d", PlayerInfo[params[0]][pAdminData][0]/3600, PlayerInfo[params[0]][pAdminData][1]);
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Статистика", totalstring, "Далее", "Отмена");
	return 1;
}*/
/*CMD:offastats(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 7 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "s[32]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /offastats [ник-нейм]");
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", params[0]);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "ddds", playerid, 30, 0, params[0]);
	return 1;
}*/
CMD:makeleader(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 7 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /makeleader [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < 4 && params[0] != playerid) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	if(PlayerInfo[params[0]][pLevel] < 3) return SendMes(playerid, COLOR_DARKORANGE, "У игрока нет 3 уровня.");
	if(PlayerInfo[params[0]][pLeader] > 0)
	{
     	if(PlayerInfo[params[0]][pAdmin] == 0)
		{
			SetFractionStr(PlayerInfo[params[0]][pLeader], "leader", "None");
			strmid(FracInfo[PlayerInfo[params[0]][pLeader]][fLeader], "None", 0, strlen("None"), MAX_PLAYER_NAME);
		}
		LeaveFractionPlayer(params[0], 0);
		SendMes(playerid, COLOR_MAIN, "Вы сняли {"#DC_WHITE"}%s{"#DC_MAIN"} с должности лидера организации.", PlayerInfo[params[0]][pName]);
		SendMes(params[0], COLOR_MAIN, "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} снял Вас с должности лидера организации.", PlayerInfo[playerid][pName]);
		ResetPlayerWeapon(params[0]);
		ResetPlayerWeaponBase(params[0]);
	}
	else
	{
		if(PlayerInfo[params[0]][pLeader] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок лидер другой организации.");
		if(PlayerInfo[params[0]][pMember] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в другой организации.");
		if(PlayerInfo[params[0]][pWarn]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете пригласить игрока в организацию с предупреждением.");
		/*if((PlayerInfo[params[0]][pGoogleStatus] == 0 || PlayerInfo[params[0]][pGoogleType] == 0) && serverid != 0) return SendMes(playerid, COLOR_DARKORANGE, "Для назначения на пост лидера необходимо настроить Google Authenticator.");*/
		totalstring = "", bigstring = "";
		for(new i = 1; i <= TOTALFRAC; i++)
		{
			format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", i, FracInfo[i][fName]);
			strcat(bigstring, totalstring);
		}
		SPD(playerid, did_makeleader, DSL, "{"#DC_MAIN"}Организации", bigstring, "Далее", "Отмена");
		SetPVarInt(playerid, "MakeleaderID", params[0]);
	}
	SetPVarInt(playerid, "PlayerLeaderPlayer", params[0]);
	return 1;
}
CMD:spawnr(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 7 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /spawnr [радиус]");
	if(params[0] > 2000 || params[0] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Введите радиус 1 до 2000.");
	new total = 0;
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0 || !IsPlayerInRangeOfPlayer(params[0], playerid, i) || PlayerInfo[playerid][pAdmin] < PlayerInfo[i][pAdmin]) continue;
		{
			SpawnPlayer(i);
			SendMes(i, COLOR_MAIN, "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} отправил Вас на респавн.", PlayerInfo[playerid][pName]);
			total++;
		}
	}
	format(strings, sizeof(strings), "Вы отправили {"#DC_WHITE"}%d{"#DC_MAIN"} игрок(-а/-ов) в радиусе {"#DC_WHITE"}%d{"#DC_MAIN"} на респавн.", total, params[0]);
	SendMes(playerid, COLOR_MAIN, strings);
	return 1;
}
CMD:ainvite(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 7 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /ainvite [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pLeader] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок лидер другой организации.");
	if(PlayerInfo[params[0]][pMember] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок находится в другой организации.");
	if(IsPlayerInAnyVehicle(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не должен находиться в транспортном средстве.");

	if(FarmDuty[params[0]] != 0 || ServiceDuty[params[0]] != 0 ||
		PizzaboyStatus[params[0]] != false || PostmanStatus[params[0]] != false || FlowersboyStatus[params[0]] != false ||
		RoadmanStatus[params[0]] != false || CollectorStatus[params[0]] != false || TaxStatus[params[0]] != false ||
		FireStatus[params[0]] != false || TruckerStatus[params[0]] != false || GoldMinerStatus[params[0]] != false ||
		DrugMakerStatus[params[0]] != false || ConstructionStatus[params[0]] != false || JanitorStatus[params[0]] != false ||
		GardenerStatus[params[0]] != false || TrainmanStatus[params[0]] != false || CleanerStatus[params[0]] != false ||
		ZooWorkerStatus[params[0]] != false || VolunteerStatus[params[0]] != false || GetPVarInt(params[0], "BusJob") ||
		GetPVarInt(params[0], "TaxiJob") || GetPVarInt(params[0], "MehJob") || GetPVarInt(params[0], "RentProduct") ||
		GetPVarInt(params[0], "PilotJob") || GetPVarInt(params[0], "CasinoDuty")) return SendMes(params[0], COLOR_DARKORANGE, "Игрок не закончил рабочий день на прошлой работе.");

	totalstring = "", bigstring = "";
	for(new i = 1; i <= TOTALFRAC; i++)
	{
		format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", i, FracInfo[i][fName]);
		strcat(bigstring, totalstring);
	}
	SetPVarInt(playerid, "PlayerLeader", params[0]);
	SPD(playerid, did_ainvite, DSL, "{"#DC_MAIN"}Организации", bigstring, "Далее", "Отмена");
	return 1;
}
CMD:agiverank(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 7 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /agiverank [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не находиться в организации.");
	if(PlayerInfo[params[0]][pLeader] > 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок лидер другой организации.");
	new total = 0;
	totalstring = "", bigstring = "";
	for(new i = 1; i <= MAX_RANK; i++)
	{
		if(i == 20) break;
		if(!strcmp(FracRank[PlayerInfo[params[0]][pMember]][i+1], "None", true)) break;
		if(PlayerInfo[params[0]][pRank] == i) format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} {"#DC_GREEN"}%s{"#DC_WHITE"}\n", i, FracRank[PlayerInfo[params[0]][pMember]][i]);
		else format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", i, FracRank[PlayerInfo[params[0]][pMember]][i]);
		strcat(bigstring, totalstring);
		total++;
	}
	if(total == 0) return SendAdminMessage(COLOR_LRED, "[A] Ошибка #112! Сообщите разработчикам!", 8);
	SetPVarInt(playerid, "PlayerRank", params[0]);
	SPD(playerid, did_agiverank, DSL, "{"#DC_MAIN"}Ранг", bigstring, "Далее", "Отмена");
	return 1;
}
CMD:agiveskin(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 7 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /agiveskin [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[params[0]][pMember] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Игрок не находиться в организации.");

	if(FarmDuty[params[0]] != 0 || ServiceDuty[params[0]] != 0 ||
		PizzaboyStatus[params[0]] != false || PostmanStatus[params[0]] != false || FlowersboyStatus[params[0]] != false ||
		RoadmanStatus[params[0]] != false || CollectorStatus[params[0]] != false || TaxStatus[params[0]] != false ||
		FireStatus[params[0]] != false || TruckerStatus[params[0]] != false || GoldMinerStatus[params[0]] != false ||
		DrugMakerStatus[params[0]] != false || ConstructionStatus[params[0]] != false || JanitorStatus[params[0]] != false ||
		GardenerStatus[params[0]] != false || TrainmanStatus[params[0]] != false || CleanerStatus[params[0]] != false ||
		ZooWorkerStatus[params[0]] != false || VolunteerStatus[params[0]] != false || GetPVarInt(params[0], "BusJob") ||
		GetPVarInt(params[0], "TaxiJob") || GetPVarInt(params[0], "MehJob") || GetPVarInt(params[0], "RentProduct") ||
		GetPVarInt(params[0], "PilotJob") || GetPVarInt(params[0], "CasinoDuty")) return SendMes(params[0], COLOR_DARKORANGE, "Игрок не закончил рабочий день на прошлой работе.");

	new total = 0;
	totalstring = "", bigstring = "";
	for(new i = 0; i <= MAX_SKINS; i++)
	{
		if(i == 23) break;
		if(FracInfo[PlayerInfo[params[0]][pMember]][fSkin][i] == 0) break;
		format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} Скин № %d\n", i + 1, FracInfo[PlayerInfo[params[0]][pMember]][fSkin][i]);
		strcat(bigstring, totalstring);
		total++;
	}
	if(total == 0) return SendAdminMessage(COLOR_LRED, "[A] Ошибка #113! Сообщите разработчикам!", 8);
	SetPVarInt(playerid, "PlayerSkin", params[0]);
	SPD(playerid, did_agiveskin, DSL, "{"#DC_MAIN"}Скин", bigstring, "Далее", "Отмена");
	return 1;
}
CMD:offadmins(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 7 || AdminLogged[playerid] == false) return 1;
	{
	    mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `admin` > '0' ORDER BY `admin` DESC");
		new Cache:result = mysql_query(mysql, request);
		if(cache_num_rows())
		{
			new name[32], lvl, timetoday, timeyesterday, afktoday, afkyesterday, adminanswer;
			totalstring = "", bigstring = "{"#DC_WHITE"}";
			for(new i = 0; i < 50; i++)
			{
				if(i >= cache_num_rows()) break;
				cache_get_value_name(i, "name", name, MAX_PLAYER_NAME);
				cache_get_value_name_int(i, "admin", lvl);
				cache_get_value_name_int(i, "adminanswer", adminanswer);
				cache_get_value_name_int(i, "timetoday", timetoday);
				cache_get_value_name_int(i, "timeyesterday", timeyesterday);
				cache_get_value_name_int(i, "afktoday", afktoday);
				cache_get_value_name_int(i, "afkyesterday", afkyesterday);
				format(totalstring, sizeof(totalstring), "[%s (LVL: %d | ANSWER: %d) ] [TIME: %s | %s] [AFK: %s | %s]\n", name, lvl, adminanswer, ConvertSeconds(timetoday), ConvertSeconds(timeyesterday), ConvertSeconds(afktoday), ConvertSeconds(afkyesterday));
				strcat(bigstring, totalstring);
			}
			SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Список администрации", bigstring, "Отмена", "");
		} else SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
		return cache_delete(result);
	}
}
/*
CMD:offsupports(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 7 || AdminLogged[playerid] == false) return 1;
	{
	    mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `support` > '0' ORDER BY `admin` DESC");
		new Cache:result = mysql_query(mysql, request);
		if(cache_num_rows())
		{
			new name[32], timetoday, timeyesterday, afktoday, afkyesterday, adminanswer;
			totalstring = "", bigstring = "{"#DC_WHITE"}";
			for(new i = 0; i < 50; i++)
			{
				if(i >= cache_num_rows()) break;
				cache_get_value_name(i, "name", name, MAX_PLAYER_NAME);
				cache_get_value_name_int(i, "adminanswer", adminanswer);
				cache_get_value_name_int(i, "timetoday", timetoday);
				cache_get_value_name_int(i, "timeyesterday", timeyesterday);
				cache_get_value_name_int(i, "afktoday", afktoday);
				cache_get_value_name_int(i, "afkyesterday", afkyesterday);
				format(totalstring, sizeof(totalstring), "[%s (ANSWER: %d) ] [TIME: %s | %s] [AFK: %s | %s]\n", name, adminanswer, ConvertSeconds(timetoday), ConvertSeconds(timeyesterday), ConvertSeconds(afktoday), ConvertSeconds(afkyesterday));
				strcat(bigstring, totalstring);
			}
			SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Список помощников", bigstring, "Отмена", "");
		} else SendMes(playerid, COLOR_DARKORANGE, "Ничего не найдено.");
		return cache_delete(result);
	}
}*/
/*CMD:setweather(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 7 || AdminLogged[playerid] == false) return 1;
	SPD(playerid, did_weather, DSL, "{"#DC_MAIN"}Погода", "{"#DC_MAIN"}1.{"#DC_WHITE"} Разные версии синих небес/облаков\n{"#DC_MAIN"}2.{"#DC_WHITE"} Разные версии синих небес/облаков\n{"#DC_MAIN"}3.{"#DC_WHITE"} Разные версии синих небес/облаков\n{"#DC_MAIN"}4.{"#DC_WHITE"} Разные версии синих небес/облаков\n{"#DC_MAIN"}5.{"#DC_WHITE"} Разные версии синих небес/облаков\n{"#DC_MAIN"}6.{"#DC_WHITE"} Разные версии синих небес/облаков\n{"#DC_MAIN"}7.{"#DC_WHITE"} Разные версии синих небес/облаков\n{"#DC_MAIN"}8.{"#DC_WHITE"} Гроза\n{"#DC_MAIN"}9.{"#DC_WHITE"} Пасмурно и туман\n{"#DC_MAIN"}10.{"#DC_WHITE"} Ясное синее небо ", "Далее", "Отмена");
	return 1;
}*/
CMD:readsms(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] < 7 || AdminLogged[playerid] == false) return 1;
	if(GetPVarInt(playerid, "ReadSms") == 0)
	{
		SetPVarInt(playerid, "ReadSms", 1);
		format(strings, sizeof(strings), "[А] Администратор %s начал видеть SMS.", PlayerInfo[playerid][pName]);
		SendAdminMessage(COLOR_GREY, strings, 8);
		return 1;
	}
	if(GetPVarInt(playerid, "ReadSms") == 1)
	{
		SetPVarInt(playerid, "ReadSms", 0);
		format(strings, sizeof(strings), "[А] Администратор %s перестал видеть SMS.", PlayerInfo[playerid][pName]);
		SendAdminMessage(COLOR_GREY, strings, 8);
		return 1;
	}
	return 1;
}
CMD:unban(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 7 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "s[22]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /unban [ник-нейм]");
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_BANS" WHERE `name` = '%e' LIMIT 1", params[0]);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "ddds", playerid, 5, 0, params[0]);
	return 1;
}
CMD:clearchat(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 7 || AdminLogged[playerid] == false) return 1;
	new a;
	while(a++ < 100)
	{
		SCMTA(COLOR_LRED, "");
	}
	format(strings, sizeof(strings),  "Администратор %s очистил чат.", PlayerInfo[playerid][pName]);
	SCMTA(COLOR_LRED, strings);
	return 1;
}
// 8-ой уровень администратора;
CMD:sban(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 8 || AdminLogged[playerid] == false) return 1;
	new data[32], unbandate;
	if(sscanf(params, "uds[32]", params[0], params[1], params[2])) return SendMes(playerid, COLOR_WHITE, "Введите: /sban [id игрока] [кол-во дней] [причина]");
	if(!IsPlayerConnected(params[0]) || params[0] == INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	if(params[1] > 365 || params[1] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Кол-во дней от 1 до 365.");
	// Проверка на атаку от администратора;
	if(IsAAdminAttack(playerid, 7)) return 1;
	// Если атаки нет, выполняем команду;
	format(strings, sizeof(strings), "[А] Администратор %s скрытно забанил %s на %d дней. Причина: %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName], params[1], params[2]);
	SendAdminMessage(COLOR_LRED, strings, 8);
	getdate(years, months, days);
	unbandate = gettime() + params[1]*86400;
	format(data, 32, "%02d.%02d.%04d", days, months, years);
	mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_BANS" (name, whobanned, ip, bandate, time, unbandate, reason) VALUES ('%e', '%e', '%e', '%e', %d, %d, '%e')", PlayerInfo[params[0]][pName], PlayerInfo[playerid][pName], PlayerInfo[params[0]][pIP], data, params[1], unbandate, params[2]);
	mysql_query(mysql, request, false);
	KickWithMessage(params[0], COLOR_LRED, "Для выхода из игры введите (/q)");
	return 1;
}
CMD:pick(playerid, params[])
{
	if(PlayerInfo[playerid][pAdmin] < 8 || AdminLogged[playerid] == false) return 1;
	SPD(playerid, did_pick_settings, DSL, "{"#DC_MAIN"}Выборы", "Начать выборы\nЗакончить выборы\nИзменить имена кандидатов", "Далее", "Отмена");
	return 1;
}
CMD:getpick(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 8 || AdminLogged[playerid] == false) return 1;
	if(Pick == false) return SendMes(playerid, COLOR_DARKORANGE, "В штате нет выборов.");
	GetPick(playerid);
	return 1;
}
CMD:iban(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 8 || AdminLogged[playerid] == false) return 1;
	new data[32], unbandate;
	if(sscanf(params, "us[32]", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /iban [id игрока] [причина]");
	if(!IsPlayerConnected(params[0]) || params[0] == INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	if(AdvertisingCheck(params[1])) return AdvertisingPunishment(playerid, params[1], 0);
	// Проверка на атаку от администратора
	if(IsAAdminAttack(playerid, 5)) return 1;
	// Если атаки нет, выполняем команду
	format(strings, sizeof(strings), "Администратор %s заблокировал %s. Причина: %s", PlayerInfo[playerid][pName], PlayerInfo[params[0]][pName], params[1]);
	SCMTAEx(COLOR_LRED, strings, 3), WriteLog("logs_ban", strings);
	format(strings, sizeof(strings), "[A] IP: %s. Reg IP: %s. Last IP: %s.", PlayerInfo[params[0]][pIP], PlayerInfo[params[0]][pRegIP], PlayerInfo[params[0]][pLastIP]);
	SendAdminMessage(COLOR_LRED, strings, 8);
	getdate(years, months, days);
	unbandate = gettime() + 365*86400;
	format(data, 32, "%02d.%02d.%04d", days, months, years);
	mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_BANS" (name, whobanned, ip, bandate, time, unbandate, reason) VALUES ('%e', '%e', '%e', '%e', '365', '%d', '%e')", PlayerInfo[params[0]][pName], PlayerInfo[playerid][pName], PlayerInfo[params[0]][pIP], data, unbandate, params[1]);
	mysql_query(mysql, request, false);
	PlayerInfo[params[0]][pBans]++;
	SetPlayerInt(PlayerInfo[params[0]][pID], "bans", PlayerInfo[params[0]][pBans]);
	KickWithMessage(params[0], COLOR_LRED, "Для выхода из игры введите (/q)");
	return 1;
}
CMD:offiban(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 8 || AdminLogged[playerid] == false) return 1;
	new name[20], reason[16];
	if(sscanf(params, "s[22]s[16]", name, reason)) return SendMes(playerid, COLOR_WHITE, "Введите: /offban [ник-нейм] [причина]");
	// Проверка на нахождение в игре;
	new scdplayerid = GetPlayerID(name);
	if(scdplayerid != INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок в сети, используйте /iban");
	if(AdvertisingCheck(reason)) return AdvertisingPunishment(playerid, reason, 0);
	// Проверка на атаку от администратора;
	if(IsAAdminAttack(playerid, 7)) return 1;
	// Если атаки нет, выполняем команду;
    mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", name);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "dddsds", playerid, 21, 0, name, 0, reason);
	return 1;
}
CMD:explode(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 8 || AdminLogged[playerid] == false) return 1;
	new Float:x, Float:y, Float:z;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /explode [id игрока]");
	if(!IsPlayerConnected(params[0]) || params[0] == INVALID_PLAYER_ID) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	GetPlayerPos(params[0], Float:x, Float:y, Float:z);
	CreateExplosion(Float:x, Float:y, Float:z, 0, 5);
	return 1;
}
CMD:disband(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] < 8 || AdminLogged[playerid] == false) return 1;
    if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /disband [Номер фракции]");
    new member;
    if(GetPVarInt(playerid, "DisbandAccept") != params[0])
    {
    	SendMes(playerid, COLOR_MAIN, "Вы действительно хотите расформировать {"#DC_WHITE"}\"%s\"?", FracInfo[params[0]][fName]);
		SendMes(playerid, COLOR_MAIN, "Для подтверждения введите команду еще раз.");
		SetPVarInt(playerid, "DisbandAccept", params[0]);
		return 1;
    }
    for(new i = 0; i < MAX_PLAYERS; i++)
	{
 		if(PlayerLogged[i] == 0 || PlayerInfo[i][pMember] != params[0]) continue;
 		member = PlayerInfo[i][pMember];
   		LeaveFractionPlayer(i, 0);
		format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} уволил Вас из организации {"#DC_WHITE"}%s.", PlayerInfo[playerid][pName], FracInfo[member][fName]);
		SendMes(i, COLOR_MAIN, strings);
   	}
    mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_ACCOUNT" SET `leader` = '0', `member` = '0', `rank` = '0', `duty` = '0', `fracskin` = '0' WHERE `member` = '%d'", params[0]);
    mysql_query(mysql, request, false);
    SetPVarInt(playerid, "DisbandAccept", 0);
   	format(strings, sizeof(strings), "[А] %s [%d] расформировал(-а) %s.", PlayerInfo[playerid][pName], playerid, FracInfo[params[0]][fName]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	return 1;
}
CMD:clearmafia(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] < 8 || AdminLogged[playerid] == false) return 1;
    if(GetPVarInt(playerid, "ClearMafiaAccept") == 0)
    {
    	SendMes(playerid, COLOR_MAIN, "Вы действительно хотите расформировать все бизнесы мафий?");
		SendMes(playerid, COLOR_MAIN, "Для подтверждения введите команду еще раз.");
		SetPVarInt(playerid, "ClearMafiaAccept", true);
		return 1;
    }
	for(new i = 1; i <= TOTALBIZ; i++)
	{
	    BizInfo[i][bMafia] = 0;
		UpdateBiz(i);
	}
	for(new i = 16; i <= 18; i++)
	{
		FracBiz[i] = 0;
		UpdateWarehouse(i);
	}
    SetPVarInt(playerid, "ClearMafiaAccept", 0);
   	format(strings, sizeof(strings), "[А] %s [%d] расформировал(-а) все бизнесы мафий.", PlayerInfo[playerid][pName], playerid);
	SendAdminMessage(COLOR_GREY, strings, 8);
	return 1;
}
CMD:clearbiker(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] < 8 || AdminLogged[playerid] == false) return 1;
    if(GetPVarInt(playerid, "ClearBikerAccept") == 0)
    {
    	SendMes(playerid, COLOR_MAIN, "Вы действительно хотите расформировать все отели, фермы и СТО байкеров?");
		SendMes(playerid, COLOR_MAIN, "Для подтверждения введите команду еще раз.");
		SetPVarInt(playerid, "ClearBikerAccept", true);
		return 1;
    }
	for(new i = 1; i <= TOTALHOTEL; i++)
	{
	    HotelInfo[i][hBiker] = 0;
		UpdateHotel(i);
	}
	for(new i = 1; i <= TOTALFARM; i++)
	{
	    FarmInfo[i][fBiker] = 0;
		UpdateFarm(i);
	}
	for(new i = 1; i <= TOTALSERVICE; i++)
	{
	    ServiceInfo[i][sBiker] = 0;
		UpdateService(i);
	}
	for(new i = 19; i <= 21; i++)
	{
		FracHotel[i] = 0;
		FracFarm[i] = 0;
		FracService[i] = 0;
		UpdateWarehouse(i);
	}
    SetPVarInt(playerid, "ClearBikerAccept", 0);
   	format(strings, sizeof(strings), "[А] %s [%d] расформировал(-а) все отели, фермы и СТО байкеров.", PlayerInfo[playerid][pName], playerid);
	SendAdminMessage(COLOR_GREY, strings, 8);
	return 1;
}
CMD:fake(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 8 || AdminLogged[playerid] == false) return 1;
    if(sscanf(params, "us[150]", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /fake [id игрока] [команда: chat / me / do / try / s ] [Параметры]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
    new cmd[2][150];
    format(cmd[0], sizeof(cmd[]), params[1]);
    if(strlen(cmd[0]) < 3) return 1;
    for(new i, l = strlen(cmd[0]); i < l; i++)
    {
        if (cmd[0][i] == ' ' && i < l - 1)
        {
            cmd[0][i] = '\0';
            format(cmd[1], sizeof cmd[], cmd[0][i + 1]);
            break;
        }
    }
    new cmdType = -1;
    if(!strlen(cmd[0]) || !strlen(cmd[1])) return 1;
    if(!strcmp(cmd[0], "chat", true)) cmdType = 0;
    else if(!strcmp(cmd[0], "me", true) || !strcmp(cmd[0], "do", true) || !strcmp(cmd[0], "try", true) || !strcmp(cmd[0], "s", true)) cmdType = 1;
    else if(!strcmp(cmd[0], "pay", true)) cmdType = 2;
    new sendcmd[50];
    switch (cmdType)
    {
        case 0: CallRemoteFunction("OnPlayerText", "is", params[0], cmd[1]);
        case 1:
        {
            format(sendcmd, sizeof sendcmd, "cmd_%s", cmd[0]);
            CallRemoteFunction(sendcmd, "is", params[0], cmd[1]);
        }
		case 2:
        {
            if(PlayerInfo[playerid][pAdmin] < 10) return 1;
            format(sendcmd, sizeof sendcmd, "cmd_%s", cmd[0]);
            CallRemoteFunction(sendcmd, "is", params[0], cmd[1]);
        }
    }
    return 1;
}
// 9-ый уровень администратора;
CMD:promocodestats(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	totalstring = "", bigstring = "";
	for(new i = 0; i < sizeof(PromocodeInfo); i++)
	{
	    format(totalstring, sizeof(totalstring), "{"#DC_MAIN"}%d.{"#DC_WHITE"} %s\n", i + 1, PromocodeInfo[i]);
	    strcat(bigstring, totalstring);
	}
	SPD(playerid, did_promocode_stats, DSL, "{"#DC_MAIN"}Статистика промокодов", bigstring, "Далее", "Отмена");
	return 1;
}
CMD:makeadmin(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	if(PlayerInfo[playerid][pAdmin] == 9)
	{
		new name[32];
		if(sscanf(params, "s[32]i", name, params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /makeadmin [name] [Уровень от 0 до 9]");
		if(params[1] < 0 || params[1] > 9) return SendMes(playerid, COLOR_WHITE, "Введите: /makeadmin [name] [Уровень от 0 до 9]");
		mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", name);
		mysql_tquery(mysql, request, "OnPlayerMakeAdmin", "dsd", playerid, name, params[1]);
	}
	else if(PlayerInfo[playerid][pAdmin] == 10)
	{
		new name[32];
		if(sscanf(params, "s[32]i", name, params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /makeadmin [name] [Уровень от 0 до 10]");
	    if(params[1] < 0 || params[1] > 10) return SendMes(playerid, COLOR_WHITE, "Введите: /makeadmin [name] [Уровень от 0 до 10]");
		mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", name);
		mysql_tquery(mysql, request, "OnPlayerMakeAdmin", "dsd", playerid, name, params[1]);
	}
	return 1;
}
/*CMD:makesupport(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	new name[32];
	if(sscanf(params, "s[32]i", name, params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /makesupport [name] [Уровень от 0 до 1]");
	if(params[1] < 0 || params[1] > 1) return SendMes(playerid, COLOR_WHITE, "Введите: /makesupport [name] [Уровень от 0 до 1]");
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", name);
	mysql_tquery(mysql, request, "OnPlayerMakeSupport", "dsd", playerid, name, params[1]);
	return 1;
}*/
/*CMD:settime(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /settime [время]");
	if(params[0] < 0 || params[0] > 23) return SendMes(playerid, COLOR_DARKORANGE, "Введите время от 0 до 23 часов.");
	SendMes(playerid, COLOR_MAIN, "Текущие время установлено на {"#DC_WHITE"}%d.", params[0]);
	SetWorldTime(params[0]);
	return 1;
}*/
CMD:changeskin(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ud", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /changeskin [id игрока] [id скина]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	if(params[1] > 311 || params[1] < 1) return SendMes(playerid, COLOR_DARKORANGE, "ID скина должен быть от 1 до 311.");
	if(PlayerInfo[params[0]][pFracSkin] > 0) { PlayerInfo[params[0]][pFracSkin] = params[1]; SetPlayerSkin(params[0], PlayerInfo[params[0]][pFracSkin]); }
	else { PlayerInfo[params[0]][pSkin] = params[1]; SetPlayerSkin(params[0], PlayerInfo[params[0]][pSkin]); }
	format(strings, sizeof(strings), "[А] %s [%d] поставил статический скин %d игроку %s [%d]." , PlayerInfo[playerid][pName], playerid, params[1], PlayerInfo[params[0]][pName], params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} поставил вам статический скин." , PlayerInfo[playerid][pName]);
	SendMes(params[0], COLOR_MAIN, strings);
	return 1;
}
CMD:setwarehouse(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	bigstring = "";
	format(bigstring, sizeof(bigstring), "{"#DC_MAIN"}1.{"#DC_WHITE"} Склад корабля: %d", Warehouse[W_GUN]);
	SPD(playerid, did_setwarehouse, DSL, "{"#DC_MAIN"}Управление складами", bigstring, "Далее", "Отмета");
	return 1;
}
CMD:setfwarehouse(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	totalstring = "", bigstring = "";
	for(new i = 1; i <= TOTALFRAC; i++)
	{
		format(totalstring, sizeof(totalstring), "№ %d - %s [%d]\n", i, FracInfo[i][fName], Warehouse[i]);
		strcat(bigstring, totalstring);
	}
	SPD(playerid, did_setfwarehouse, DSL, "{"#DC_MAIN"}Склады организаций", bigstring, "Далее", "Отмена");
	return 1;
}
CMD:setexp(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ud", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /setexp [id игрока] [кол-во EXP]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	if(params[1] > 100 || params[1] < 0) return SendMes(playerid, COLOR_DARKORANGE, "EXP не может быть меньше 1 и более 100.");
	PlayerInfo[params[0]][pExp] = params[1];
	format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} изменил Ваши очки опыта на {"#DC_WHITE"}%d.", PlayerInfo[playerid][pName], params[1]);
	SendMes(params[0], COLOR_MAIN, strings);
	format(strings, sizeof(strings), "Вы изменили очки опыта {"#DC_WHITE"}%s{"#DC_MAIN"} на {"#DC_WHITE"}%d.", PlayerInfo[params[0]][pName], params[1]);
	SendMes(playerid, COLOR_MAIN, strings);
	format(strings, sizeof(strings), "[A] %s [%d] изменил очки опыта %s [%d] на %d.", PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0], params[1]);
	SendAdminMessage(COLOR_GREY, strings, 8), WriteLog("logs_setexp", strings);
	return 1;
}
CMD:setlvl(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ud", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /setlvl [id игрока] [уровень]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	if(params[1] > 100 || params[1] < 0) return SendMes(playerid, COLOR_DARKORANGE, "Уровень не может быть меньше 1 и более 100.");
	PlayerInfo[params[0]][pLevel] = params[1];
	SetPlayerScore(params[0], PlayerInfo[params[0]][pLevel]);
	format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} изменил Ваш уровень на {"#DC_WHITE"}%d.", PlayerInfo[playerid][pName], params[1]);
	SendMes(params[0], COLOR_MAIN, strings);
	format(strings, sizeof(strings), "Вы изменили уровень {"#DC_WHITE"}%s{"#DC_MAIN"} на {"#DC_WHITE"}%d.", PlayerInfo[params[0]][pName], params[1]);
	SendMes(playerid, COLOR_MAIN, strings);
	format(strings, sizeof(strings), "[A] %s [%d] изменил уровень %s [%d] на %d.", PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0], params[1]);
	SendAdminMessage(COLOR_GREY, strings, 8), WriteLog("logs_setlvl", strings);
	return 1;
}
/*CMD:setskill(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "udd", params[0], params[1], params[2])) return SendMes(playerid, COLOR_WHITE, "Введите: /setskill [id игрока] [id оружия] [навык]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	if(!IsASkillGun(params[1])) return SendMes(playerid, COLOR_DARKORANGE, "Введите id оружия, для которого хотите установить навык.");
	if(params[2] > 100 || params[2] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Введите уровень навыка от 1 до 100.");
	new guntext[32];
	if(params[1] == 23) PlayerInfo[params[0]][pSkill][0] = params[2], format(guntext, sizeof(guntext), "Silenced Pistol");
	else if(params[1] == 24) PlayerInfo[params[0]][pSkill][1] = params[2], format(guntext, sizeof(guntext), "Deset Eagle");
	else if(params[1] == 25) PlayerInfo[params[0]][pSkill][2] = params[2], format(guntext, sizeof(guntext), "ShotGun");
	else if(params[1] == 29) PlayerInfo[params[0]][pSkill][3] = params[2], format(guntext, sizeof(guntext), "MP5");
	else if(params[1] == 30) PlayerInfo[params[0]][pSkill][4] = params[2], format(guntext, sizeof(guntext), "AK-47");
	else if(params[1] == 31) PlayerInfo[params[0]][pSkill][5] = params[2], format(guntext, sizeof(guntext), "M4A1");
	SetPlayerSkills(params[0]);
	format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} изменил Ваш навык {"#DC_WHITE"}%s{"#DC_MAIN"} на {"#DC_WHITE"}%d{"#DC_MAIN"} процентов.", PlayerInfo[playerid][pName], guntext, params[2]);
	SendMes(params[0], COLOR_MAIN, strings);
	format(strings, sizeof(strings), "Вы изменили навык {"#DC_WHITE"}%s{"#DC_MAIN"} для {"#DC_WHITE"}%s{"#DC_MAIN"} на {"#DC_WHITE"}%d{"#DC_MAIN"} процентов.", guntext, PlayerInfo[params[0]][pName], params[2]);
	SendMes(playerid, COLOR_MAIN, strings);
	format(strings, sizeof(strings), "[A] %s [%d] изменил навык %s для %s [%d] на %d процентов.", PlayerInfo[playerid][pName], playerid, guntext, PlayerInfo[params[0]][pName], params[0], params[1]);
	SendAdminMessage(COLOR_GREY, strings, 8), WriteLog("logs_setskill", strings);
	return 1;
}*/
CMD:setdonate(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ud", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /setdonate [id игрока] [кол-во]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	PlayerInfo[params[0]][pDonateMoney] += params[1];
	PlayerInfo[params[0]][pDonateTotal] += params[1];
	format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} пополнил Ваш донат счет на {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", PlayerInfo[playerid][pName], params[1]);
	SendMes(params[0], COLOR_MAIN, strings);
	format(strings, sizeof(strings), "Вы пополнили донат счет {"#DC_WHITE"}%s{"#DC_MAIN"} на {"#DC_WHITE"}%d{"#DC_MAIN"} DONATE COINS.", PlayerInfo[params[0]][pName], params[1]);
	SendMes(playerid, COLOR_MAIN, strings);
	format(strings, sizeof(strings), "[A] %s [%d] пополнил донат счет %s [%d] на %d DONATE COINS.", PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0], params[1]);
	SendAdminMessage(COLOR_GREY, strings, 8), WriteLog("logs_setdonate", strings);
	return 1;
}
CMD:givemoney(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ud", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /givemoney [id игрока] [кол-во денег]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(params[1] > 50000000 || params[1] < 1) return SendMes(playerid, COLOR_DARKORANGE, "Укажите кол-во денег от 1 до 50000000.");
	ServerMoney(params[0], "Получил от администратора", params[1], 0);
	format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} выдал Вам {"#DC_WHITE"}$%d.", PlayerInfo[playerid][pName], params[1]);
	SendMes(params[0], COLOR_MAIN, strings);
	format(strings, sizeof(strings), "Вы выдали {"#DC_WHITE"}%s $%d.", PlayerInfo[params[0]][pName], params[1]);
	SendMes(playerid, COLOR_MAIN, strings);
	format(strings, sizeof(strings), "[A] %s [%d] выдал %s [%d] $%d.", PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0], params[1]);
	SendAdminMessage(COLOR_GREY, strings, 8), WriteLog("logs_givemoney", strings);
	return 1;
}
CMD:checkmoney(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /checkmoney [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	new totalmoney = PlayerInfo[params[0]][pCash] + PlayerInfo[params[0]][pBank] + PlayerInfo[params[0]][pPhoneBalance];
	totalstring = "";
	format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
	Имя Фамилия: %s\n\
	На руках: $%d\n\
	В банке: $%d\n\
	На донат счете сейчас: %d рублей\n\
	На донат счете всего: %d рублей\n\
	Всего денег: $%d", PlayerInfo[params[0]][pName], PlayerInfo[params[0]][pCash], PlayerInfo[params[0]][pBank],
	PlayerInfo[params[0]][pDonateMoney], PlayerInfo[params[0]][pDonateTotal], totalmoney);
  	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Проверка денег", totalstring, "Отмена", "");
  	return 1;
}
CMD:payday(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	foreach(new i:Player)
	{
		if(PlayerLogged[i] == 0) continue;
		PlayerInfo[i][pTime] = 3500;
	}
	PayDayTime();
	return 1;
}
CMD:top(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	SPD(playerid, did_top, DSL, "{"#DC_MAIN"}TOP", "{"#DC_MAIN"}1.{"#DC_WHITE"} TOP Уровни\n{"#DC_MAIN"}2.{"#DC_WHITE"} TOP Деньги\n{"#DC_MAIN"}3.{"#DC_WHITE"} TOP Донат", "Далее", "Отмена");
	return 1;
}
CMD:banip(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "s[20]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /banip [IP адрес]");
	// Проверка на атаку от администратора
	if(IsAAdminAttack(playerid, 7)) return 1;
	// Если атаки нет, выполняем команду
	format(strings, sizeof(strings), "banip %s", params[0]);
	SendRconCommand(strings);
	SendRconCommand("reloadbans");
	format(strings, sizeof(strings), "[A] %s [%d] забанил IP: %s.", PlayerInfo[playerid][pName], playerid, params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	return 1;
}
CMD:unbanip(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "s[20]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /unbanip [IP адрес]");
	format(strings, sizeof(strings), "unbanip %s", params[0]);
	SendRconCommand(strings);
	SendRconCommand("reloadbans");
	format(strings, sizeof(strings), "[A] %s [%d] разбанил IP: %s.", PlayerInfo[playerid][pName], playerid, params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	return 1;
}
CMD:saveacc(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 9 || AdminLogged[playerid] == false) return 1;
	SaveAccAll();
	SendMes(playerid, COLOR_MAIN, "Все аккаунты были сохранены администратором.");
	return 1;
}
// 10-ый уровень администратора;
/*CMD:load_job_vehicle(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	mysql_tquery(mysql, "SELECT * FROM `"TABLE_VEHICLE"` WHERE `fraction` >= 101 AND `fraction` <= 113", "LoadVehicle", "");
	SendMes(playerid, COLOR_MAIN, "Вы загрузили рабочие транспортные средства.");
	return 1;
}
CMD:vehicle_park_status(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
    if(VehicleParkStatus == false) VehicleParkStatus = true;
    else VehicleParkStatus = false;
	SendMes(playerid, COLOR_MAIN, "Вы %s транспортные парковки.", (VehicleParkStatus == false) ? ("выключили") : ("включили"));
	return 1;
}*/
CMD:stocks(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /stocks [ID акции] [параметр]");
	if(params[0] < 1 || params[0] > 2) return SendMes(playerid, COLOR_DARKORANGE, "Введите ID акции от 1 до 2.");
	if(params[0] == 1 && (params[1] < 1 || params[1] > 3)) return SendMes(playerid, COLOR_DARKORANGE, "Введите параметр доната от 1 до 3.");
	if(params[0] == 2 && (params[1] < 1 || params[1] > 3)) return SendMes(playerid, COLOR_DARKORANGE, "Введите параметр PayDay (зарплаты на работах и в организациях) от 1 до 3.");
	Stocks[params[0] - 1] = params[1];
	new stocksname[2][64] = {"доната", "PayDay (зарплаты на работах и в организациях)"};
	SendMes(playerid, COLOR_MAIN, "Вы изменили параметр акции %s. Параметр: {"#DC_WHITE"}%d.", stocksname[params[0] - 1], Stocks[params[0] - 1]);
	if(params[0] == 1) SetOtherInt("stocksone", Stocks[0]);
	else if(params[0] == 2) SetOtherInt("stockstwo", Stocks[1]);
	format(strings, sizeof(strings), "Администратор %s [%d] изменил параметр акции %s на %d.", PlayerInfo[playerid][pName], playerid, stocksname[params[0] - 1], Stocks[params[0] - 1]);
	SCMTAEx(COLOR_MAIN, strings, 2), WriteLog("logs_stocks", strings);
	UpdateHostname();
	return 1;
}
CMD:registration_computer(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
    computer_registration = !computer_registration;
	SendMes(playerid, COLOR_MAIN, "Вы %s регистрацию с компьютера.", (computer_registration == false) ? ("выключили") : ("включили"));
	return 1;
}
CMD:newpassword(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "s[32]", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /newpassword [ник-нейм]");
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", params[0]);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "ddds", playerid, 15, 0, params[0]);
	return 1;
}
CMD:setfarms(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
    if(sscanf(params, "ddd", params[0], params[1], params[2])) return SendMes(playerid, COLOR_WHITE, "Введите: /setfarms [номер фермы] [1 - зерно на складе, 2 - зерно на поле, 3 - урожай] [состояние]");
    if(params[0] < 0 || params[0] > TOTALFARM) return SendMes(playerid, COLOR_DARKORANGE, "Неверный номер фермы.");
    if(params[1] < 1 || params[1] > 3) return SendMes(playerid, COLOR_DARKORANGE, "Неверный параметр.");
    if(params[1] == 1) FarmInfo[params[0]][fCornCount] = params[2];
    else if(params[1] == 2) FarmInfo[params[0]][fCornOnField] = params[2];
    else if(params[1] == 3) FarmInfo[params[0]][fHarvest] = params[2];
    SendMes(playerid, COLOR_MAIN, "Параметр обновлен.");
    return 1;
}
CMD:farmearns(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
    if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /farmearns [номер фермы] [0 - за сегодня, 1 - за текущий час]");
    if(params[0] < 0 || params[0] > TOTALFARM) return SendMes(playerid, COLOR_DARKORANGE, "Неверный номер фермы.");
    if(params[1] < 0 || params[1] > 1) return SendMes(playerid, COLOR_DARKORANGE, "Неверный параметр.");
	ShowFarmEarnings(playerid, params[0], params[1]);
	return 1;
}
CMD:fpark(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pLeader] == 0 && PlayerInfo[playerid][pAdmin] < 10) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в транспортном средстве.");
	new Float:X, Float:Y, Float:Z, Float:A, W, v;
	v = GetPlayerVehicleID(playerid);
	if(VehInfo[v][vFraction] != PlayerInfo[playerid][pLeader]) return SendMes(playerid, COLOR_DARKORANGE, "Этот транспорт не принадлежит вашей фракции.");
	//if(!strcmp("None", VehInfo[v][vOwner], true)) return SendMes(playerid, COLOR_DARKORANGE, "Этот транспорт нельзя парковать.");
	GetVehiclePos(v, X, Y, Z);
	GetVehicleZAngle(v, A);
	W = GetVehicleVirtualWorld(v);
	VehInfo[v][vX] = X; VehInfo[v][vY] = Y; VehInfo[v][vZ] = Z;
	VehInfo[v][vFA] = A; VehInfo[v][vWorld] = W;
	SendMes(playerid, COLOR_MAIN, "Вы установили место парковки этого автомобиля.");
	mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_VEHICLE" SET `x`= '%f', `y`= '%f', `z`= '%f', `fa`= '%f', `interior`= '%d', `world`= '%d' WHERE `id` = '%d' LIMIT 1", \
	VehInfo[v][vX], VehInfo[v][vY], VehInfo[v][vZ], VehInfo[v][vFA], VehInfo[v][vInterior], VehInfo[v][vWorld], VehInfo[v][id]);
	mysql_query(mysql, request, false);
	return 1;
}
CMD:delacc(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	new name[MAX_PLAYER_NAME];
	if(sscanf(params, "s[MAX_PLAYER_NAME]", name)) return SendMes(playerid, COLOR_WHITE, "Введите: /delacc [ник-нейм]");
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_ACCOUNT" WHERE `name` = '%e' LIMIT 1", name);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "ddds", playerid, 4, 0, name);
	return 1;
}
CMD:resetmoney(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /resetmoney [id игрока]");
	if(!IsPlayerConnected(params[0])) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок не в игре.");
	if(PlayerLogged[params[0]] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Данный игрок еще не авторизовался.");
	if(PlayerInfo[playerid][pAdmin] < PlayerInfo[params[0]][pAdmin]) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете применить данную команду к этому администратору.");
	ResetMoney(params[0]);
	format(strings, sizeof(strings), "[A] Администратор %s [%d] забрал деньги у игрока %s [%d].", PlayerInfo[playerid][pName], playerid, PlayerInfo[params[0]][pName], params[0]);
	SendAdminMessage(COLOR_GREY, strings, 8);
	format(strings, sizeof(strings), "Администратор {"#DC_WHITE"}%s{"#DC_MAIN"} забрал у вас деньги.", PlayerInfo[playerid][pName]);
	SendMes(params[0], COLOR_MAIN, strings);
	return 1;
}
CMD:restart(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
    for(new i = 0; i < 3; i++) SCMTA(COLOR_LRED, "");
	SCMTA(COLOR_LRED, "----------=============== [ Внимание! Технический рестарт сервера через 2 минуты! ] ===============----------");
	for(new i = 0; i < 3; i++) SCMTA(COLOR_LRED, "");
	SetTimer("RestartServer1", 120000 , 0);
	return 1;
}
CMD:asellhouse(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /asellhouse [id дома]");
	new scdplayerid = GetPlayerID(HouseInfo[params[0]][hOwner]);
	if(scdplayerid != INVALID_PLAYER_ID)
	{
		PlayerInfo[scdplayerid][pHouse] = 0;
		SendMes(scdplayerid, COLOR_MAIN, "Администратор продал Ваш дом государству.");
	}
	else
	{
        if(HouseInfo[params[0]][hFamily] != 0)
        {
			new idx = HouseInfo[params[0]][hFamily];
			mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_VEHICLE" SET `family` = '0' WHERE `family` = '%d'", idx);
			mysql_query(mysql, request, false);
		}
	}
	format(strings, sizeof(strings), "Вы продали дом {"#DC_WHITE"}%d{"#DC_MAIN"} государству за {"#DC_WHITE"}%d.", params[0], HouseInfo[params[0]][hBuyPrice]);
	SendMes(playerid, COLOR_MAIN, strings);
	strmid(HouseInfo[params[0]][hOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
	HouseInfo[params[0]][hLock] = 0;
	HouseInfo[params[0]][hBuyPrice] = 0;
	HouseInfo[params[0]][hPaymentDays] = 0;
	HouseInfo[params[0]][hBlocking] = 0;
	HouseInfo[params[0]][hTaxes] = 0;
	if(HouseInfo[params[0]][hFamily] != 0)
	{
		new idx = HouseInfo[params[0]][hFamily];
	    HouseInfo[params[0]][hFamily] = 0;
	    FamiliesInfo[idx][fHouse] = 0;
	    FamiliesInfo[idx][fHouseStatus] = 0;
	    SaveFamilies(idx);
	}
	SaveHouse(params[0]);
	UpdateHouse(params[0]);
	format(strings, sizeof(strings), "Администратор %s продал Дом %d (%d) за $%d.", PlayerInfo[playerid][pName], PlayerInfo[playerid][pHouse], params[0], HouseInfo[params[0]][hBuyPrice]);
	WriteLog("logs_sellhouse", strings);
	return 1;
}
CMD:asellbiz(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /asellbiz [id бизнес]");
	new scdplayerid = GetPlayerID(BizInfo[params[0]][bOwner]);
	if(scdplayerid != INVALID_PLAYER_ID)
	{
	    PlayerInfo[scdplayerid][pBiz] = 0;
	    SendMes(scdplayerid, COLOR_MAIN, "Администратор продал Ваш бизнес государству.");
	}
	strmid(BizInfo[params[0]][bOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
	format(strings, sizeof(strings), "Вы продали бизнес {"#DC_WHITE"}%s{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", BizInfo[params[0]][bName], BizInfo[params[0]][bPrice]+BizInfo[params[0]][bMoney]);
	SendMes(playerid, COLOR_MAIN, strings);
	BizInfo[params[0]][bMoney] = 0;
	BizInfo[params[0]][bEnter] = 0;
	BizInfo[params[0]][bTill] = 1;
	BizInfo[params[0]][bProduct] = 0;
	SaveBiz(params[0]);
	UpdateBiz(params[0]);
	format(strings, sizeof(strings), "Администратор %s продал бизнес %d за %d.", PlayerInfo[playerid][pName], params[0], BizInfo[params[0]][bPrice]+BizInfo[params[0]][bMoney]);
	WriteLog("logs_sellbiz", strings);
	return 1;
}
CMD:asellhotel(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /asellhotel [id отеля]");
	new scdplayerid = GetPlayerID(HotelInfo[params[0]][hOwner]);
	if(scdplayerid != INVALID_PLAYER_ID)
	{
	    PlayerInfo[scdplayerid][pHotel] = 0;
	    SendMes(scdplayerid, COLOR_MAIN, "Администратор продал Ваш отель государству.");
	}
	strmid(HotelInfo[params[0]][hOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
	format(strings, sizeof(strings), "Вы продали отель {"#DC_WHITE"}%s{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", HotelInfo[params[0]][hName], HotelInfo[params[0]][hPrice]+HotelInfo[params[0]][hMoney]);
	SendMes(playerid, COLOR_MAIN, strings);
	HotelInfo[params[0]][hMoney] = 0;
	HotelInfo[params[0]][hPaymentDays] = 0;
	SaveHotel(params[0]);
	format(strings, sizeof(strings), "Администратор %s продал отель %d за %d.", PlayerInfo[playerid][pName], params[0], HotelInfo[params[0]][hPrice]+HotelInfo[params[0]][hMoney]);
	WriteLog("logs_sellhotel", strings);
	UpdateHotel(params[0]);
	return 1;
}
CMD:asellfarm(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /asellfarm [id фермы]");
	new scdplayerid = GetPlayerID(FarmInfo[params[0]][fOwner]);
	if(scdplayerid != INVALID_PLAYER_ID)
	{
		PlayerInfo[playerid][pFarm] = 0;
	    SendMes(scdplayerid, COLOR_MAIN, "Администратор продал Вашу ферму государству.");
	}

	strmid(FarmInfo[params[0]][fOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
	format(strings, sizeof(strings), "Вы продали ферму {"#DC_WHITE"}%d{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", params[0], FarmInfo[params[0]][fPrice]+FarmInfo[params[0]][fMoney]);
	SendMes(playerid, COLOR_MAIN, strings);
	ClearFarm(params[0]);
	SaveFarm(params[0]);
	format(strings, sizeof(strings), "Администратор %s продал ферму %d за %d.", PlayerInfo[playerid][pName], params[0], FarmInfo[params[0]][fPrice]+FarmInfo[params[0]][fMoney]);
	WriteLog("logs_sellfarm", strings);
	UpdateFarm(params[0]);
	return 1;
}
CMD:asellservice(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /asellservice [id СТО]");
	new scdplayerid = GetPlayerID(ServiceInfo[params[0]][sOwner]);
	if(scdplayerid != INVALID_PLAYER_ID)
	{
		PlayerInfo[playerid][pService] = 0;
	    SendMes(scdplayerid, COLOR_MAIN, "Администратор продал Ваше СТО государству.");
	}
	strmid(ServiceInfo[params[0]][sOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
	strmid(FarmInfo[params[0]][fOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
	format(strings, sizeof(strings), "Вы продали СТО {"#DC_WHITE"}%d{"#DC_MAIN"} за {"#DC_WHITE"}$%d.", params[0], ServiceInfo[params[0]][sPrice]+ServiceInfo[params[0]][sMoney]);
	SendMes(playerid, COLOR_MAIN, strings);
	ClearService(params[0]);
	SaveService(params[0]);
	format(strings, sizeof(strings), "Администратор %s продал СТО %d за %d.", PlayerInfo[playerid][pName], params[0], ServiceInfo[params[0]][sPrice]+ServiceInfo[params[0]][sMoney]);
	WriteLog("logs_sellservice", strings);
	UpdateService(params[0]);
	return 1;
}
CMD:ackick(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /ackick [id] [value]");
	if(params[0] < 1 || params[0] > 100) return SendMes(playerid, COLOR_DARKORANGE, "Введите тип от 1 до 100.");
	if(params[1] < 0 || params[1] > 1) return SendMes(playerid, COLOR_DARKORANGE, "Введите значение от 0 до 1.");
	CheckACKick[params[0]] = params[1];
	SendMes(playerid, COLOR_MAIN, CheckACKick[params[0]] ? ("[ ACKick Input Code ] Выключен"):("[ ACKick Input Code ] Включен"));
	return 1;
}
CMD:psound(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /psound [id]");
	PlayerPlaySound(playerid, params[0], 0.0, 0.0, 0.0);
	return 1;
}
CMD:setfraction(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(PlayerInfo[playerid][pLeader] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	SPD(playerid, did_setfraction, DSL, "{"#DC_MAIN"}Управление фракцией", "{"#DC_MAIN"}1.{"#DC_WHITE"} Изменить название фракции\n{"#DC_MAIN"}2.{"#DC_WHITE"} Изменить названия рангов\n{"#DC_MAIN"}3.{"#DC_WHITE"} Изменить цвет фракции\n{"#DC_MAIN"}4.{"#DC_WHITE"} Изменить цвет транспорта\n{"#DC_MAIN"}5.{"#DC_WHITE"} Изменить зарплату\n{"#DC_MAIN"}6.{"#DC_WHITE"} Изменить скины\n{"#DC_MAIN"}7.{"#DC_WHITE"} Обнулить банк организации", "Далее", "Отмена");
	return 1;
}
CMD:setbizprice(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /setbizprice [стоимость]");
	for(new idx = 1; idx <= TOTALBIZ; idx++)
	{
		if(IsAPPos(playerid, 4.0, BizInfo[idx][bEnterX], BizInfo[idx][bEnterY], BizInfo[idx][bEnterZ]))
		{
			BizInfo[idx][bPrice] = params[0];
		    SaveBiz(idx);
			format(strings, sizeof(strings), "Вы изменили бизнесу {"#DC_WHITE"}%s{"#DC_MAIN"} стоимость на {"#DC_WHITE"}%d.", BizInfo[idx][bName], BizInfo[idx][bProduct]);
			SendMes(playerid, COLOR_MAIN, strings);
			UpdateBiz(idx);
			break;
		}
	}
	return 1;
}
CMD:setbiztax(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /setbiztax [стоимость]");
	for(new idx = 1; idx <= TOTALBIZ; idx++)
	{
		if(IsAPPos(playerid, 4.0, BizInfo[idx][bEnterX], BizInfo[idx][bEnterY], BizInfo[idx][bEnterZ]))
		{
			BizInfo[idx][bTax] = params[0];
		    SaveBiz(idx);
			format(strings, sizeof(strings), "Вы изменили бизнесу {"#DC_WHITE"}%s{"#DC_MAIN"} налог на {"#DC_WHITE"}%d.", BizInfo[idx][bName], BizInfo[idx][bProduct]);
			SendMes(playerid, COLOR_MAIN, strings);
			UpdateBiz(idx);
			break;
		}
	}
	return 1;
}
CMD:setbizprod(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /setbizprod [кол-во продуктов]");
	for(new idx = 1; idx <= TOTALBIZ; idx++)
	{
		if(IsAPPos(playerid, 4.0, BizInfo[idx][bEnterX], BizInfo[idx][bEnterY], BizInfo[idx][bEnterZ]))
		{
			BizInfo[idx][bProduct] = params[0];
		    SaveBiz(idx);
			format(strings, sizeof(strings), "Вы изменили бизнесу {"#DC_WHITE"}%s{"#DC_MAIN"} продукты на {"#DC_WHITE"}%d.", BizInfo[idx][bName], BizInfo[idx][bProduct]);
			SendMes(playerid, COLOR_MAIN, strings);
			break;
		}
	}
	return 1;
}
CMD:vinfo(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в своем транспортном средстве.");
	new idx = GetPlayerVehicleID(playerid);
	totalstring = "";
	format(totalstring, sizeof(totalstring), "\
	ID: %d\n\
	Owner: %s\n\
	2Owner: %s\n\
	Model: %d\n\
	X: %f\n\
	Y: %f\n\
	Z: %f\n\
	FA: %f\n\
	Interior: %d\n\
	World: %d\n\
	Color: %s\n\
	Fraction: %d\n\
	Status: %d\n\
	Price: %d\n\
	Price: %d\n\
	Vehcom: %s\n\
	PaintJob: %d\n\
	Upgrade: %s\n\
	Details: %s\n\
	Fuel: %d\n\
	Number: %s\n\
	Lock: %d\n\
	LockB: %d\n\
	LockBn %d\n\
	Mileage: %f", VehInfo[idx][id], VehInfo[idx][vOwner], VehInfo[idx][v2Owner], VehInfo[idx][vModel], VehInfo[idx][vX], VehInfo[idx][vY], VehInfo[idx][vZ], VehInfo[idx][vFA],
	VehInfo[idx][vInterior], VehInfo[idx][vWorld], VehInfo[idx][vColors], VehInfo[idx][vFraction], VehInfo[idx][vStatus], VehInfo[idx][vPrice], VehInfo[idx][vBuyPrice], VehInfo[idx][vVehcom],
	VehInfo[idx][vPaintjob], VehInfo[idx][vUpgrades], VehInfo[idx][vDetailss], VehInfo[idx][vFuel], VehInfo[idx][vNumber], VehInfo[idx][vLock], VehInfo[idx][vLockB], VehInfo[idx][vLockBn],
	VehInfo[idx][vMileage]);
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация о машине:", totalstring, "Отмена", "");
	return 1;
}
CMD:streamer(playerid)
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10) return 1;
	new info[6];
	for (new i; i < 30000; i++)
	{
		if(IsValidDynamicObject(i)) info[0]++;
		if(IsValidDynamicPickup(i)) info[1]++;
		if(IsValidDynamicCP(i)) info[2]++;
		if(IsValidDynamicRaceCP(i)) info[3]++;
		if(IsValidDynamicMapIcon(i)) info[4]++;
		if(IsValidDynamic3DTextLabel(Text3D:i)) info[5]++;
	}
	totalstring = "";
	format(totalstring, sizeof(totalstring), "{"#DC_WHITE"}\
	Объекты: %d\n\
	Пикапы: %d\n\
	Чекпоинты: %d\n\
	RaceCP: %d\n\
	Иконки: %d\n\
	3D-Text: %d", info[0], info[1], info[2], info[3], info[4], info[5]);
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Streamer", totalstring, "Отмена", "");
	return 1;
}
CMD:netstats(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	bigstring = "";
	strdel(bigstring, 0, sizeof(bigstring));
	GetNetworkStats(bigstring, sizeof(bigstring));
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Server NetStats", bigstring, "Отмена", "");
	strdel(bigstring, 0, sizeof(bigstring));
	return 1;
}
CMD:jetpack(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	SetPlayerSpecialAction(playerid, SPECIAL_ACTION_USEJETPACK);
	SendMes(playerid, COLOR_MAIN, "Вы создали JetPack.");
	format(strings, sizeof(strings), "[A] %s [%d] создал JetPack.", PlayerInfo[playerid][pName],playerid);
	SendAdminMessage(COLOR_GREY, strings, 8);
	return 1;
}
CMD:editstopprice(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /editstopprice [стоимость]");
	new total = -1;
	for(new i = 1; i <= TOTALSTOP; i++)
	{
		if(IsAPPos(playerid, 7.5, STOPInfo[i][sX], STOPInfo[i][sY], STOPInfo[i][sZ]))
		{
            STOPInfo[i][sPrice] = params[0];
			mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_STOP" SET `price` = '%d' WHERE `id` = '%d'", params[0], i);
			mysql_query(mysql, request, false);
            Delete3DTextLabel(LABELSTOP[i]);
            format(strings, sizeof(strings), "Остановка: {"#DC_MAIN"}%s\n{"#DC_WHITE"}Стоимость проезда: {"#DC_MAIN"}$%d - 100 метров{"#DC_WHITE"}\nНажмите {"#DC_MAIN"}ALT{"#DC_WHITE"} для проезда или введите {"#DC_MAIN"}/bus", STOPInfo[i][sName], STOPInfo[i][sPrice]);
           	LABELSTOP[i] = Create3DTextLabel(strings, COLOR_WHITE, STOPInfo[i][sX], STOPInfo[i][sY], STOPInfo[i][sZ], 10.0, 0, 0);
			SendMes(playerid, COLOR_MAIN, "Вы изменили стоимость проезда остановки {"#DC_WHITE"}%s{"#DC_MAIN"} на {"#DC_WHITE"}$%d.", STOPInfo[i][sName], params[0]);
			total++;
			break;
		}
	}
	if(total == -1) return SendMes(playerid, COLOR_DARKORANGE, "Рядом с Вами нет остановки.");
	return 1;
}
CMD:editstoppriceall(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /editstoppriceall [стоимость]");
	for(new i = 1; i <= TOTALSTOP; i++)
	{
		STOPInfo[i][sPrice] = params[0];
		mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_STOP" SET `price` = '%d' WHERE `id` = '%d'", params[0], i);
		mysql_query(mysql, request, false);
  		Delete3DTextLabel(LABELSTOP[i]);
    	format(strings, sizeof(strings), "Остановка: {"#DC_MAIN"}%s\n{"#DC_WHITE"}Стоимость проезда: {"#DC_MAIN"}$%d - 100 метров{"#DC_WHITE"}\nНажмите {"#DC_MAIN"}ALT{"#DC_WHITE"} для проезда или введите {"#DC_MAIN"}/bus", STOPInfo[i][sName], STOPInfo[i][sPrice]);
   		LABELSTOP[i] = Create3DTextLabel(strings, COLOR_WHITE, STOPInfo[i][sX], STOPInfo[i][sY], STOPInfo[i][sZ], 10.0, 0, 0);
	}
	SendMes(playerid, COLOR_DARKORANGE, "Вы изменили стоимость проезда всех остановок на $%d.", params[0]);
	return 1;
}
CMD:startrace(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(RaceStarted == true || DerbyStarted == true || PaintBallStarted == true) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент идет регистрация на одно из мероприятий.");
 	InfoEvent(0);
	return 1;
}
CMD:startderby(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(RaceStarted == true || DerbyStarted == true || PaintBallStarted == true) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент идет регистрация на одно из мероприятий.");
 	InfoEvent(1);
	return 1;
}
CMD:startpaint(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(RaceStarted == true || DerbyStarted == true || PaintBallStarted == true) return SendMes(playerid, COLOR_DARKORANGE, "В данный момент идет регистрация на одно из мероприятий.");
 	InfoEvent(2);
	return 1;
}
CMD:stopevent(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
    SCMTA(COLOR_NEWGREEN, "Мероприятие отменено по тех. причинам.");
	RaceStarted = false, DerbyStarted = false, PaintBallStarted = false;
	EventTime = 0;
	EventMap = -1;
	/*EventTimerSec = 0;*/
	for(new i = 0; i < 3; i++) ClearEventPlayers(i);
	SendMes(playerid, COLOR_MAIN, "Вы отменили мероприятие.");
	return 1;
}
CMD:eventtime(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
   	if(RaceStarted == true || DerbyStarted == true || PaintBallStarted == true)
 	{
  		EventTime = 30;
  		SendMes(playerid, COLOR_MAIN, "Вы сократили время до начала мероприятия на {"#DC_WHITE"}30{"#DC_MAIN"} сек.");
 	} else return SendMes(playerid, COLOR_DARKORANGE, "В данный момент нет регистраций на мероприятия.");
 	return 1;
}
CMD:add(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	return SPD(playerid, did_add, DSL, "{"#DC_MAIN"}Меню строительства", "{"#DC_MAIN"}1.{"#DC_WHITE"} Дом\n{"#DC_MAIN"}2.{"#DC_WHITE"} Бизнес\n{"#DC_MAIN"}3.{"#DC_WHITE"} Пикап\n{"#DC_MAIN"}4.{"#DC_WHITE"} Транспорт\n{"#DC_MAIN"}5.{"#DC_WHITE"} Банкомат\n{"#DC_MAIN"}6.{"#DC_WHITE"} GPS\n{"#DC_MAIN"}7.{"#DC_WHITE"} Телепорт\n\
	{"#DC_MAIN"}8.{"#DC_WHITE"} Вход\n{"#DC_MAIN"}9.{"#DC_WHITE"} Иконка на карте\n{"#DC_MAIN"}10.{"#DC_WHITE"} Арену\n{"#DC_MAIN"}11.{"#DC_WHITE"} Отель\n{"#DC_MAIN"}12.{"#DC_WHITE"} Граффити\n{"#DC_MAIN"}13.{"#DC_WHITE"} Ферма\n{"#DC_MAIN"}14.{"#DC_WHITE"} СТО\n{"#DC_MAIN"}15.{"#DC_WHITE"} Остановку", "Далее", "Отмена");
}
CMD:createhouse(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /createhouse [тип] [стоимость]");
	if(params[0] < 1 || params[0] > 4) return SendMes(playerid, COLOR_DARKORANGE, "Тип от 1 до 4.");
	if(params[1] < 250000 || params[1] > 20000000) return SendMes(playerid, COLOR_DARKORANGE, "Стоимость от $250000 до $20000000.");
	new Float:x, Float:y, Float:z;
	switch(params[0])
	{
		case 1:
		{
		    switch(random(3))
		    {
				case 0: format(strings, sizeof(strings), "2282.8831, -1140.0713, 1050.8984, 1, 11");
				case 1: format(strings, sizeof(strings), "244.0883, 305.0291, 999.1484, 1, 1");
				case 2: format(strings, sizeof(strings), "422.3438, 2536.4980, 10.0000, 1, 10");
				default: format(strings, sizeof(strings), "2282.8831, -1140.0713, 1050.8984, 1, 11");
		    }
		}
		case 2:
		{
		    switch(random(3))
		    {
				case 0: format(strings, sizeof(strings), "2468.2080, -1698.2988, 1013.5078, 2, 2");
				case 1: format(strings, sizeof(strings), "2495.9900, -1692.0834, 1014.7422, 2, 3");
				case 2: format(strings, sizeof(strings), "2807.6919, -1174.2933, 1025.5703, 2, 8");
				default: format(strings, sizeof(strings), "2468.2080, -1698.2988, 1013.5078, 2, 2");
		    }
		}
		case 3:
		{
		    switch(random(3))
		    {
				case 0: format(strings, sizeof(strings), "2196.8469, -1204.3524, 1049.0234, 3, 6");
				case 1: format(strings, sizeof(strings), "2237.5413, -1081.1516, 1049.04, 3, 2");
				case 2: format(strings, sizeof(strings), "2365.3345, -1135.5907, 1050.8826, 3, 8");
				default: format(strings, sizeof(strings), "2196.8469, -1204.3524, 1049.0234, 3, 6");
			}
		}
		case 4:
		{
		    switch(random(3))
		    {
			    case 0: format(strings, sizeof(strings), "1298.5791, -796.7697, 1084.0078, 4, 5");
			    case 1: format(strings, sizeof(strings), "2324.3977, -1149.0601, 1050.7101, 4, 12");
			    case 2: format(strings, sizeof(strings), "2317.7983, -1026.7651, 1050.2178, 4, 9");
				default: format(strings, sizeof(strings), "1298.5791, -796.7697, 1084.0078, 4, 5");
			}
		}
	}
	TOTALHOUSE++;
	GetPlayerPos(playerid, x, y, z);
	HouseInfo[TOTALHOUSE][hEnterX] = x;
	HouseInfo[TOTALHOUSE][hEnterY] = y;
	HouseInfo[TOTALHOUSE][hEnterZ] = z;
	sscanf(strings, "p<,>fffii",
	HouseInfo[TOTALHOUSE][hExitX], HouseInfo[TOTALHOUSE][hExitY], HouseInfo[TOTALHOUSE][hExitZ], HouseInfo[TOTALHOUSE][hDiscript], HouseInfo[TOTALHOUSE][hInterior]);
	HouseInfo[TOTALHOUSE][hWorld] = TOTALHOUSE;
	HouseInfo[TOTALHOUSE][hPrice] = params[1];
	HouseInfo[TOTALHOUSE][hPaymentDays] = 3;
	strmid(HouseInfo[TOTALHOUSE][hOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
	HouseInfo[TOTALHOUSE][hMapIcon] = CreateDynamicMapIcon(HouseInfo[TOTALHOUSE][hEnterX], HouseInfo[TOTALHOUSE][hEnterY], HouseInfo[TOTALHOUSE][hEnterZ], 31, 0, -1, -1, -1, 50.0);
	HouseInfo[TOTALHOUSE][hPickup] = CreatePickup(1273, 1, HouseInfo[TOTALHOUSE][hEnterX], HouseInfo[TOTALHOUSE][hEnterY], HouseInfo[TOTALHOUSE][hEnterZ]);
	HotelInfo[TOTALHOTEL][hPickupExit] = CreatePickup(19132, 1, HotelInfo[TOTALHOTEL][hExitX], HotelInfo[TOTALHOTEL][hExitY], HotelInfo[TOTALHOTEL][hExitZ], HotelInfo[TOTALHOTEL][hWorld]);
	mysql_format(mysql, request, sizeof(request), "INSERT INTO "TABLE_HOUSE" (id, x, y, z, ex, ey, ez, discript, price, interior, world) VALUES ('%d', '%f', '%f', '%f', '%f', '%f', '%f', %d, %d, %d, %d)",
	TOTALHOUSE, HouseInfo[TOTALHOUSE][hEnterX], HouseInfo[TOTALHOUSE][hEnterY], HouseInfo[TOTALHOUSE][hEnterZ], HouseInfo[TOTALHOUSE][hExitX], HouseInfo[TOTALHOUSE][hExitY], HouseInfo[TOTALHOUSE][hExitZ],
	HouseInfo[TOTALHOUSE][hDiscript], HouseInfo[TOTALHOUSE][hPrice], HouseInfo[TOTALHOUSE][hInterior], HouseInfo[TOTALHOUSE][hWorld]);
	mysql_query(mysql, request, false);
	format(strings, sizeof(strings), "Вы содали дом {"#DC_WHITE"}%d.{"#DC_MAIN"} Стоимость: {"#DC_WHITE"}$%d,{"#DC_MAIN"} класс: {"#DC_WHITE"}%d.", TOTALHOUSE, params[1], params[0]);
	SendMes(playerid, COLOR_MAIN, strings);
	return 1;
}
CMD:sethousegarage(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /sethousepark [номер дома] [0 - нет, 1 - есть]");
	HouseInfo[params[0]][hGarage] = params[1];
	SaveHouse(params[0]);
	format(strings, sizeof(strings), "Гараж для дома {"#DC_WHITE"}%d{"#DC_MAIN"} успешно изменен на {"#DC_WHITE"}%d.", params[0], params[1]);
	SendMes(playerid, COLOR_MAIN, strings);
	return 1;
}
CMD:sethousepark(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /sethousepark [номер дома]");
	if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в своем транспортном средстве.");
	new vehicleid = GetPlayerVehicleID(playerid);
	GetVehicleZAngle(vehicleid, HouseInfo[params[0]][hVehicleR]);
	GetVehiclePos(vehicleid, HouseInfo[params[0]][hVehicleX], HouseInfo[params[0]][hVehicleY], HouseInfo[params[0]][hVehicleZ]);
	SaveHouse(params[0]);
	format(strings, sizeof(strings), "Место парковки для дома {"#DC_WHITE"}%d{"#DC_MAIN"} успешно изменено.", params[0]);
	SendMes(playerid, COLOR_MAIN, strings);
	return 1;
}
CMD:setbizmenu(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ii", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /setbizmenu [номер бизнеса] [модель пикапа]");
	new Float:x, Float:y, Float:z;
	GetPlayerPos(playerid, x, y, z);
	BizInfo[params[0]][bMenuX] = x;
	BizInfo[params[0]][bMenuY] = y;
	BizInfo[params[0]][bMenuZ] = z;
	BizInfo[params[0]][bPickupMenu] = CreatePickup(1239, 1, BizInfo[params[0]][bMenuX], BizInfo[params[0]][bMenuY], BizInfo[params[0]][bMenuZ], BizInfo[params[0]][bWorld]);
	SaveBiz(params[0]);
	SendMes(playerid, COLOR_MAIN, "Вы изменили место покупки для бизнеса {"#DC_WHITE"}%d.", params[0]);
	return 1;
}
CMD:setbizint(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /setbizint [номер бизнеса]");
	new Float:x, Float:y, Float:z, world, interior;
	GetPlayerPos(playerid, x, y, z);
	world = GetPlayerVirtualWorld(playerid);
	interior = GetPlayerInterior(playerid);
	BizInfo[params[0]][bExitX] = x;
	BizInfo[params[0]][bExitY] = y;
	BizInfo[params[0]][bExitZ] = z;
	BizInfo[params[0]][bWorld] = world;
	BizInfo[params[0]][bInterior] = interior;
	SaveBiz(params[0]);
	SendMes(playerid, COLOR_MAIN, "Вы изменили интерьер для бизнеса {"#DC_WHITE"}%d.", params[0]);
	return 1;
}
CMD:asetpos(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /actoranim [id актера]");
	new Float:X, Float:Y, Float:Z, Float:FA, world;
	GetPlayerPos(playerid, X, Y, Z);
	world = GetPlayerVirtualWorld(playerid);
	GetPlayerFacingAngle(playerid, FA);
	ActorInfo[params[0]][aPosX] = X;
	ActorInfo[params[0]][aPosY] = Y;
	ActorInfo[params[0]][aPosZ] = Z;
	ActorInfo[params[0]][aWorld] = world;
	ActorInfo[params[0]][aRotation] = FA;
	SetActorPos(ActorInfo[params[0]][aActor], X, Y, Z);
	SetActorFacingAngle(ActorInfo[params[0]][aActor], FA);
	SetActorVirtualWorld(ActorInfo[params[0]][aActor], world);
	mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_ACTORS" SET `x` = '%f', `y` = '%f', `z` = '%f', `world` = '%d', `rotation` = '%f' WHERE `id` = '%d' LIMIT 1",
	ActorInfo[params[0]][aPosX], ActorInfo[params[0]][aPosY], ActorInfo[params[0]][aPosZ], ActorInfo[params[0]][aWorld], ActorInfo[params[0]][aRotation], ActorInfo[params[0]][id]);
	mysql_query(mysql, request, false);
	SendMes(playerid, COLOR_MAIN, "Актеру {"#DC_WHITE"}%d{"#DC_MAIN"} изменена позиция.", params[0]);
	return 1;
}
CMD:create3dtext(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
    if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
    SPD(playerid, did_add_3dtext, DSI, "{"#DC_MAIN"}Добавить 3D текст", "{"#DC_WHITE"}Введите цвет, расстояние, testLOS, название и текст через запятую:", "Далее", "Отмена");
	return 1;
}
CMD:giveexchequer(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /giveexchequer [кол-во денег]");
	Exchequer += params[0];
	format(strings, sizeof(strings), "Вы добавили $%d в казну мэрии. Текущие состояние: $%d.", params[0], Exchequer);
	SendMes(playerid, COLOR_MAIN, strings);
	SaveExchequer();
	return 1;
}
CMD:totalinfo(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	totalstring = "";
	format(totalstring, sizeof(totalstring), "\
	Домов: %d\n\
	Бизнесов: %d\n\
	Фракция: %d\n\
	Транспорта: %d\n\
	Объектов: %d\n\
	Пикапов: %d\n\
	Входов: %d\n\
	Иконок: %d\n\
	Актеров: %d\n\
	3D-Текстов: %d\n\
	Гангзон: %d\n\
	Арен: %d\n\
	Телепортов: %d\n\
	GPS: %d\n\
	Банкоматов: %d\n\
	Остановок: %d\n\
	Кустов: %d\n\
	Игровых автоматов: %d\n\
	Отелей: %d\n\
	Номеро в отеле: %d\n\
	Ферм: %d\n\
	СТО: %d\n\
	Семей: %d\n\
	Граффити: %d\n\
	Рыночных палаток: %d\n\
	Транспортных парковок: %d",
	TOTALHOUSE,  TOTALBIZ, TOTALFRAC, TOTALVEH, TOTALOBJECT, TOTALPICKUP, TOTALENTER, TOTALMAPICON, TOTALACTORS, TOTAL3DTEXTS, TOTALGZ, TOTALAREAS,
	TOTALTELEPORT, TOTALGPS, TOTALATM, TOTALSTOP, TOTALPLANTS, TOTALSMACHINES, TOTALHOTEL, TOTALHOTELROOMS, TOTALFARM, TOTALSERVICE, TOTALFAMILIES,
	TOTALGRAFFITI, TOTALMARKET, TOTALVEHICLEPARK);
	SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация:", totalstring, "Отмена", "");
	return 1;
}
CMD:asetanim(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	new animlib[32];
	new animname[32];
	new actorid;
	if(sscanf(params, "ds[32]s[32]", actorid, animlib, animname)) return SendMes(playerid, COLOR_WHITE, "Введите: /actoranim [id актера] [библиотека] [имя анимации]");
    ApplyActorAnimation(ActorInfo[actorid][aActor], animlib, animname, 4.1, 1, 1, 1, 1, 1);
   	format(ActorInfo[actorid][aAnimLib], 32, animlib);
	format(ActorInfo[actorid][aAnimName], 32, animname);
	mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_ACTORS" SET `animlib` = '%e', `animname` = '%e' WHERE `id` = '%d' LIMIT 1", \
	ActorInfo[actorid][aAnimLib], ActorInfo[actorid][aAnimName], ActorInfo[actorid][id]);
	mysql_query(mysql, request, false);
	SendMes(playerid, COLOR_MAIN, "Актеру № %d изменена анимация.", actorid);
	return 1;
}
CMD:actorcreate(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	//if(GetPVarInt(playerid, "AddActorPos") != 1) return 1;
	new Float:X, Float:Y, Float:Z, Float:FA, world;
	GetPlayerPos(playerid, X, Y, Z);
	world = GetPlayerVirtualWorld(playerid);
	GetPlayerFacingAngle(playerid, FA);
	format(addactor, sizeof(addactor), "%f, %f, %f, %f, %d", X, Y, Z, FA, world);
    SendMes(playerid, COLOR_MAIN, "Координаты появления установленны.");
    SPD(playerid, did_add_actor, DSI, "{"#DC_MAIN"}Добавить актера", "{"#DC_WHITE"}Введите модель, тип, здоровье, бессмертие и имя через запятую:", "Далее", "Отмена");
    return 1;
}
CMD:actorinfo(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	for(new i = 0; i < MAX_ACTORS; i++)
	{
		if(!IsAPPos(playerid, 2.0, ActorInfo[i][aPosX], ActorInfo[i][aPosY], ActorInfo[i][aPosZ])) continue;
		totalstring = "";
		format(totalstring, sizeof(totalstring), "\
		Actorid: %d\n\
		ID: %d\n\
		X: %f\n\
		Y: %f\n\
		Z: %f\n\
		Facing Angle: %f\n\
		Health: %d\n\
		World: %d\n\
		Type: %d\n\
		Immune: %d", ActorInfo[i][aActor], ActorInfo[i][id], ActorInfo[i][aPosX], ActorInfo[i][aPosY], ActorInfo[i][aPosZ], ActorInfo[i][aRotation],
		ActorInfo[i][aHealth], ActorInfo[i][aWorld], ActorInfo[i][aType], ActorInfo[i][aImmune]);
		SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация о актере", totalstring, "Отмена", "");
		break;
	}
	return 1;
}
CMD:actoranim(playerid, params[])
{
    if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	new animlib[32];
	new animname[32];
	new Float:fDelta, loop, lockx, locky, freeze, time, actorid;
	if(sscanf(params, "ds[32]s[32]fdddddd", actorid, animlib, animname, fDelta, loop, lockx, locky, freeze, time)) return SendMes(playerid, COLOR_WHITE, "Введите: /actoranim [id актера] [библиотека] [имя анимации] [скорость] [повтор] [X] [Y] [заморозка]");
    ApplyActorAnimation(ActorInfo[actorid][aActor], animlib, animname, fDelta, loop, lockx, locky, freeze, time);
	return 1;
}
CMD:setbizpos(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /setbizpos [номер бизнеса]");
	new Float:x, Float:y, Float:z;
	GetPlayerPos(playerid, x, y, z);
	BizInfo[params[0]][bEnterX] = x;
	BizInfo[params[0]][bEnterY] = y;
	BizInfo[params[0]][bEnterZ] = z;
	SaveBiz(params[0]);
	SendMes(playerid, COLOR_MAIN, "Для бизнеса {"#DC_WHITE"}%d{"#DC_MAIN"} измененно местоположение.", params[0]);
	UpdateBiz(params[0]);
	return 1;
}
CMD:fwarehouse(playerid, params[])
{
    if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(PlayerInfo[playerid][pLeader] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	new Float:X, Float:Y, Float:Z, W;
	GetPlayerPos(playerid, X, Y, Z);
	W = GetPlayerVirtualWorld(playerid);
	SendMes(playerid, COLOR_MAIN, "Вы установили месторасположение склада фракции.");
	FracInfo[PlayerInfo[playerid][pMember]][fWarehousePosX] = X;
	FracInfo[PlayerInfo[playerid][pMember]][fWarehousePosY] = Y;
	FracInfo[PlayerInfo[playerid][pMember]][fWarehousePosZ] = Z;
	FracInfo[PlayerInfo[playerid][pMember]][fWarehouseWorld] = W;
	mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_FRACTIONS" SET `warehouse_x`= '%f', `warehouse_y`= '%f', `warehouse_z`= '%f', `warehouse_world`= '%d' WHERE `id` = '%d' LIMIT 1", \
	X, Y, Z, W, PlayerInfo[playerid][pMember]);
	mysql_query(mysql, request, false);
	return 1;
}
CMD:entinfo(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	for(new i = 1; i < MAX_ENTERS; i++)
	{
	    if(!IsAPPos(playerid, 2.0, EnterInfo[i][ePosX], EnterInfo[i][ePosY], EnterInfo[i][ePosZ]) || GetPlayerVirtualWorld(playerid) != EnterInfo[i][eWorld]) continue;
	    totalstring = "";
	    format(totalstring, sizeof(totalstring), "\
	    Enterid: %d\n\
	    ID: %d\n\
	    X: %f\n\
	    Y: %f\n\
	    Z: %f\n\
	    Interior: %d\n\
	    World: %d\n\
	    TX: %f\n\
	    TY: %f\n\
	    TZ: %f\n\
	    TInterior: %d\n\
	    TWorld: %d\n\
	    Member: %d\n\
	    Type: %d\n\
	    Status: %d\n\
	    Freeze: %f\n\
	    Time: %f\n\
	    Weather: %f", i, EnterInfo[i][id], EnterInfo[i][ePosX], EnterInfo[i][ePosY], EnterInfo[i][ePosZ], EnterInfo[i][eInterior], EnterInfo[i][eWorld],
	    EnterInfo[i][ePosTX], EnterInfo[i][ePosTY], EnterInfo[i][ePosTZ], EnterInfo[i][eTInterior], EnterInfo[i][eTWorld], EnterInfo[i][eMember],
	    EnterInfo[i][eType], EnterInfo[i][eStatus], EnterInfo[i][eFreeze], EnterInfo[i][eTime], EnterInfo[i][eWeather]);
		SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация о входе", totalstring, "Отмена", "");
		break;
	}
	return 1;
}
CMD:picinfo(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	for(new i = 1; i < MAX_PICKUP; i++)
	{
	    if(!IsAPPos(playerid, 2.0, PickupInfo[i][picPosX], PickupInfo[i][picPosY], PickupInfo[i][picPosZ])) continue;
	    if(PickupInfo[i][picWorld] != -1 && GetPlayerVirtualWorld(playerid) != PickupInfo[i][picWorld]) continue;
	    totalstring = "";
	    format(totalstring, sizeof(totalstring), "\
	    Pickupid: %d\n\
	    ID: %d\n\
	    X: %f\n\
	    Y: %f\n\
	    Z: %f\n\
	    World: %d\n\
	    Type: %d\n\
	    Model: %d\n\
	    Status: %d\n\
	    Member: %d", i, PickupInfo[i][id], PickupInfo[i][picPosX], PickupInfo[i][picPosY], PickupInfo[i][picPosZ], PickupInfo[i][picWorld], PickupInfo[i][picType],
	    PickupInfo[i][picModel], PickupInfo[i][picStatus], PickupInfo[i][picMember]);
		SPD(playerid, did_null, DSM, "{"#DC_MAIN"}Информация о пикапе", totalstring, "Отмена", "");
		break;
	}
	return 1;
}
CMD:fset(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ii", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /fset [id фракции] [значение]");
	if(params[0] < 1 || params[0] > TOTALFRAC) return SendMes(playerid, COLOR_DARKORANGE, "Вы ввели неверный ID фракции.");
	FracInfo[params[0]][fSetting][1] = params[1];
	format(FracInfo[params[0]][fSettings], 64, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d", FracInfo[params[0]][fSetting][0], FracInfo[params[0]][fSetting][1], FracInfo[params[0]][fSetting][2],
	FracInfo[params[0]][fSetting][3], FracInfo[params[0]][fSetting][4], FracInfo[params[0]][fSetting][5], FracInfo[params[0]][fSetting][6], FracInfo[params[0]][fSetting][7], FracInfo[params[0]][fSetting][8],
	FracInfo[params[0]][fSetting][9], FracInfo[params[0]][fSetting][10], FracInfo[params[0]][fSetting][11], FracInfo[params[0]][fSetting][12], FracInfo[params[0]][fSetting][13], FracInfo[params[0]][fSetting][14],
	FracInfo[params[0]][fSetting][15]);
	SetFractionStr(params[0], "settings", FracInfo[params[0]][fSettings]);
	format(strings, sizeof(strings), "Вы установили фракции {"#DC_WHITE"}%s{"#DC_MAIN"} значение настроек: {"#DC_WHITE"}%d.", FracInfo[params[0]][fName], params[1]);
	SendMes(playerid, COLOR_MAIN, strings);
	return 1;
}
CMD:setepos(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "ii", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /setepos [id входа] [тип]");
	if(params[0] < 0 || params[0] > MAX_ENTERS) return SendMes(playerid, COLOR_DARKORANGE, "Укажите id входа от 1 до %d.", MAX_ENTERS);
	if(params[1] < 1 || params[1] > 2) return SendMes(playerid, COLOR_DARKORANGE, "Укажите тип от 1 до 2.");
	new Float:X, Float:Y, Float:Z, Float:FA, Interior, World;
	GetPlayerPos(playerid, X, Y, Z);
	Interior = GetPlayerInterior(playerid);
	World = GetPlayerVirtualWorld(playerid);
	if(params[1] == 1)
	{
		EnterInfo[params[0]][ePosX] = X;
		EnterInfo[params[0]][ePosY] = Y;
		EnterInfo[params[0]][ePosZ] = Z;
		EnterInfo[params[0]][eInterior] = Interior;
		EnterInfo[params[0]][eWorld] = World;
		mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_ENTERS" SET `x` = '%f', `y` = '%f', `z` = '%f', `interior` = '%d', `world` = '%d' WHERE `id` = '%d' LIMIT 1", \
		EnterInfo[params[0]][ePosX], EnterInfo[params[0]][ePosY], EnterInfo[params[0]][ePosZ], EnterInfo[params[0]][eInterior], EnterInfo[params[0]][eWorld], EnterInfo[params[0]][id]);
		mysql_query(mysql, request, false);
	}
	if(params[1] == 2)
	{
		GetPlayerFacingAngle(playerid, FA);
		EnterInfo[params[0]][ePosTX] = X;
		EnterInfo[params[0]][ePosTY] = Y;
		EnterInfo[params[0]][ePosTZ] = Z;
		EnterInfo[params[0]][ePosTFA] = FA;
		EnterInfo[params[0]][eTInterior] = Interior;
		EnterInfo[params[0]][eTWorld] = World;
		mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_ENTERS" SET `ex` = '%f', `ey` = '%f', `ez` = '%f', `efa` = '%f', `einterior` = '%d', `eworld` = '%d' WHERE `id` = %d LIMIT 1", \
		EnterInfo[params[0]][ePosTX], EnterInfo[params[0]][ePosTY], EnterInfo[params[0]][ePosTZ], EnterInfo[params[0]][ePosTFA], EnterInfo[params[0]][eTInterior], EnterInfo[params[0]][eTWorld], EnterInfo[params[0]][id]);
		mysql_query(mysql, request, false);
	}
	format(strings, sizeof(strings), "Позиция {"#DC_WHITE"}%d{"#DC_MAIN"} входа {"#DC_WHITE"}%d (%d){"#DC_MAIN"} изменена и сохранена.", params[1], params[0], EnterInfo[params[0]][id]);
	SendMes(playerid, COLOR_MAIN, strings);
	return 1;
}
CMD:setppos(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /setppos [id pickup]");
	if(params[0] < 0 || params[0] > MAX_PICKUP) return SendMes(playerid, COLOR_DARKORANGE, "Укажите id pickup от 1 до 1000.");
	new Float:X, Float:Y, Float:Z, world;
	GetPlayerPos(playerid, X, Y, Z);
	world = GetPlayerVirtualWorld(playerid);
	PickupInfo[params[0]][picPosX] = X;
	PickupInfo[params[0]][picPosY] = Y;
	PickupInfo[params[0]][picPosZ] = Z;
	PickupInfo[params[0]][picWorld] = world;
	if(IsValidDynamicPickup(params[0])) DestroyDynamicPickup(params[0]);
	CreatePickup(PickupInfo[params[0]][picModel], PickupInfo[params[0]][picType], PickupInfo[params[0]][picPosX], PickupInfo[params[0]][picPosY], PickupInfo[params[0]][picPosZ], PickupInfo[params[0]][picWorld]);
	mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_PICKUP" SET `x` = '%f', `y` = '%f', `z` = '%f', `world` = '%d' WHERE `id` = '%d' LIMIT 1", \
	PickupInfo[params[0]][picPosX], PickupInfo[params[0]][picPosY], PickupInfo[params[0]][picPosZ], PickupInfo[params[0]][picWorld], PickupInfo[params[0]][id]);
	mysql_query(mysql, request, false);
	format(strings, sizeof(strings), "Позиция Pickup {"#DC_WHITE"}%d (%d){"#DC_MAIN"} изменена и сохранена.", params[0], PickupInfo[params[0]][id]);
	SendMes(playerid, COLOR_MAIN, strings);
	return 1;
}
CMD:epos(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	new Float:X, Float:Y, Float:Z, Float:FA, Int, World;
	if(GetPVarInt(playerid, "EnterAdd") == 1)
	{
		GetPlayerPos(playerid, X, Y, Z);
		Int = GetPlayerInterior(playerid);
		World = GetPlayerVirtualWorld(playerid);
		format(addenter1, sizeof(addenter1), "%f, %f, %f, %d, %d", X, Y, Z, Int, World);
		SetPVarInt(playerid, "EnterAdd", 2);
		return SendMes(playerid, COLOR_MAIN, "Координаты входа созданы. Установите место появления: {"#DC_WHITE"}/epos.");
	}
	if(GetPVarInt(playerid, "EnterAdd") == 2)
	{
		GetPlayerPos(playerid, X, Y, Z);
		Int = GetPlayerInterior(playerid);
		World = GetPlayerVirtualWorld(playerid);
		GetPlayerFacingAngle(playerid, FA);
		format(addenter2, sizeof(addenter2), "%f, %f, %f, %f, %d, %d", X, Y, Z, FA, Int, World);
		SetPVarInt(playerid, "EnterAdd", 3);
		return SendMes(playerid, COLOR_MAIN, "Координаты появления установленны. Введите данные входа: {"#DC_WHITE"}/epos.");
	}
	if(GetPVarInt(playerid, "EnterAdd") == 3)
	{
		SPD(playerid, did_add_enter_end, DSI, "{"#DC_MAIN"}Добавить вход", "{"#DC_WHITE"}Введите организацию, тип, статус, заморозку, название, время и погоду через запятую:", "Далее", "Отмена");
	}
	return 1;
}
CMD:bpos(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	new Float:X, Float:Y, Float:Z, Int;
	if(BPC[playerid] == 0)
	{
		GetPlayerPos(playerid, X, Y, Z);
		Int = GetPlayerInterior(playerid);
		format(addbiz1, sizeof(addbiz1), "%f, %f, %f, %d", X, Y, Z, Int);
		BPC[playerid] = 1;
		return SendMes(playerid, COLOR_MAIN, "Координаты интерьера созданы. Установите место покупок: {"#DC_WHITE"}/bpos.");
	}
	if(BPC[playerid] == 1)
	{
		GetPlayerPos(playerid, X, Y, Z);
		format(addbiz2, sizeof(addbiz2), "%f, %f, %f", X, Y, Z);
		BPC[playerid] = 2;
		return SendMes(playerid, COLOR_MAIN, "Место покупок созданно. Установите вход: {"#DC_WHITE"}/bpos.");
	}
	if(BPC[playerid] == 2)
	{
		SPD(playerid, did_add_biz_end, DSI, "{"#DC_MAIN"}Добавить бизнес", "{"#DC_WHITE"}Введите стоимость, налог, название бизнеса и id mapicon через запятую:", "Далее", "Отмена");
	}
	return 1;
}
CMD:hotelpos(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	new Float:X, Float:Y, Float:Z, Int;
	if(HPC[playerid] == 0)
	{
		GetPlayerPos(playerid, X, Y, Z);
		Int = GetPlayerInterior(playerid);
		format(addhotel1, sizeof(addhotel1), "%f, %f, %f, %d", X, Y, Z, Int);
		HPC[playerid] = 1;
		return SendMes(playerid, COLOR_MAIN, "Координаты интерьера созданы. Установите место покупок: {"#DC_WHITE"}/hotelpos.");
	}
	if(HPC[playerid] == 1)
	{
		GetPlayerPos(playerid, X, Y, Z);
		format(addhotel2, sizeof(addhotel2), "%f, %f, %f", X, Y, Z);
		HPC[playerid] = 2;
		return SendMes(playerid, COLOR_MAIN, "Место покупок созданно. Установите вход: {"#DC_WHITE"}/hotelpos.");
	}
	if(HPC[playerid] == 2)
	{
		SPD(playerid, did_add_hotel, DSI, "{"#DC_MAIN"}Добавить отель", "{"#DC_WHITE"}Введите стоимость, налог и название отеля через запятую:", "Далее", "Отмена");
	}
	return 1;
}
CMD:farmpos(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	new Float:X, Float:Y, Float:Z;
	if(BPC[playerid] == 0)
	{
		GetPlayerPos(playerid, X, Y, Z);
		format(addfarm1, sizeof(addfarm1), "%f, %f, %f", X, Y, Z);
		BPC[playerid] = 1;
		return SendMes(playerid, COLOR_MAIN, "Координаты входа созданы. Установите место раздевалки: {"#DC_WHITE"}/farmpos.");
	}
	if(BPC[playerid] == 1)
	{
		GetPlayerPos(playerid, X, Y, Z);
		format(addfarm2, sizeof(addfarm2), "%f, %f, %f", X, Y, Z);
		BPC[playerid] = 2;
		return SendMes(playerid, COLOR_MAIN, "Место раздевалки созданно. Установите место склада: {"#DC_WHITE"}/farmpos.");
	}
	if(BPC[playerid] == 2)
	{
		GetPlayerPos(playerid, X, Y, Z);
		format(addfarm3, sizeof(addfarm3), "%f, %f, %f", X, Y, Z);
		BPC[playerid] = 3;
		return SendMes(playerid, COLOR_MAIN, "Место склада созданно. Установите параметры: {"#DC_WHITE"}/farmpos.");
	}
	if(BPC[playerid] == 3)
	{
		SPD(playerid, did_add_farm, DSI, "{"#DC_MAIN"}Добавить ферму", "{"#DC_WHITE"}Введите стоимость:", "Далее", "Отмена");
	}
	return 1;
}
CMD:servicepos(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	new Float:X, Float:Y, Float:Z;
	if(BPC[playerid] == 0)
	{
		GetPlayerPos(playerid, X, Y, Z);
		format(addservice1, sizeof(addservice1), "%f, %f, %f", X, Y, Z);
		BPC[playerid] = 1;
		return SendMes(playerid, COLOR_MAIN, "Координаты входа созданы. Установите место раздевалки: {"#DC_WHITE"}/servicepos.");
	}
	if(BPC[playerid] == 1)
	{
		GetPlayerPos(playerid, X, Y, Z);
		format(addservice2, sizeof(addservice2), "%f, %f, %f", X, Y, Z);
		BPC[playerid] = 2;
		return SendMes(playerid, COLOR_MAIN, "Место раздевалки созданно. Установите параметры: {"#DC_WHITE"}/servicepos.");
	}
	if(BPC[playerid] == 2)
	{
		SPD(playerid, did_add_service, DSI, "{"#DC_MAIN"}Добавить СТО", "{"#DC_WHITE"}Введите стоимость:", "Далее", "Отмена");
	}
	return 1;
}
CMD:vpos(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(GetPVarInt(playerid, "AddVehicleFrac") == 0) return 1;
	if(GetPlayerState(playerid) != 2) return 1;
	if(!IsPlayerInVehicle(playerid, GetPVarInt(playerid, "AddVehicleFrac"))) return 1;
	new Float:X, Float:Y, Float:Z, Float:FA, model, color[2], fraction, interior, world, status;
	GetVehicleZAngle(GetPlayerVehicleID(playerid), FA);
	GetVehiclePos(GetPlayerVehicleID(playerid), X, Y, Z);
	TOTALVEH++;
	sscanf(addveh, "p<,>iiiiiii", model, color[0],
	color[1], fraction, interior, world, status);
	new vehicleid = GetPVarInt(playerid, "AddVehicleFrac");
	VehInfo[vehicleid][vModel] = model;
	VehInfo[vehicleid][vFraction] = fraction;
	VehInfo[vehicleid][vInterior] = interior;
	VehInfo[vehicleid][vWorld] = world;
	VehInfo[vehicleid][vStatus] = status;
	VehInfo[vehicleid][vColor][0] = color[0];
	VehInfo[vehicleid][vColor][1] = color[1];
	format(VehInfo[vehicleid][vColors], 16, "%d, %d", VehInfo[vehicleid][vColor][0], VehInfo[vehicleid][vColor][1]);
	VehInfo[vehicleid][vX] = X;
	VehInfo[vehicleid][vY] = Y;
	VehInfo[vehicleid][vZ] = Z;
	VehInfo[vehicleid][vFA] = FA;
	VehInfo[vehicleid][vPaintjob] = 3;
	VehInfo[vehicleid][vFuel] = GetVehicleMaxGasTank(model);
	VehInfo[vehicleid][vVehicle] = vehicleid;
	VehInfo[vehicleid][vLock] = 0;
	VehInfo[vehicleid][vLockB] = 1;
	VehInfo[vehicleid][vLockBn] = 1;
	VehInfo[vehicleid][vMileage] = 0.0;
	//LinkVehicleToInterior(veh, VehInfo[vehicleid][vInterior]);
	//SetVehicleVirtualWorld(veh, VehInfo[vehicleid][vWorld]);
	//SetVehicleNumberPlate(veh, "NUMBER");
	strmid(VehInfo[vehicleid][vNumber], "NUMBER", 0, strlen("NUMBER"), 10);
	strmid(VehInfo[vehicleid][vOwner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
	strmid(VehInfo[vehicleid][v2Owner], "None", 0, strlen("None"), MAX_PLAYER_NAME);
	for(new j = 0; j < 14; j++)
	{
		VehInfo[vehicleid][vVehcoms][j] = 0;
	}
	for(new j = 0; j < 7; j++)
	{
		VehInfo[vehicleid][vUpgrade][j] = 0;
	}
	for(new j = 0; j < 5; j++)
	{
		VehInfo[vehicleid][vDetails][j] = 100.0;
	}
	for(new j = 0; j < 14; j++)
	{
		VehInfo[vehicleid][vTrunk][j] = 0;
	}
	format(VehInfo[vehicleid][vVehcom], 64, "0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0");
	format(VehInfo[vehicleid][vUpgrades], 32, "0, 0, 0, 0, 0, 0, 0");
	format(VehInfo[vehicleid][vDetailss], 64, "100.0, 100.0, 100.0, 100.0, 100.0");
	format(VehInfo[vehicleid][vTrunks], 64, "0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0");
	SetVehicleDoors(vehicleid , 0);
	IsLocked[vehicleid] = false;
	Fuel[vehicleid] = GetVehicleMaxGasTank(model);
	SetVehicleHealth(vehicleid, 1000);
	Engine[vehicleid] = false;
	Lights[vehicleid] = false;
	Limit[vehicleid] = false;
	CreateCar[vehicleid] = false;
	DeletePVar(playerid, "AddVehicleFrac");
	format(request, sizeof(request), "INSERT INTO "TABLE_VEHICLE" (model, x, y, z, fa, interior, world, colors, fraction, status) VALUES (%d, '%f', '%f', '%f', '%f', %d, %d, '%s', %d, %d)",
	VehInfo[vehicleid][vModel], VehInfo[vehicleid][vX], VehInfo[vehicleid][vY], VehInfo[vehicleid][vZ], VehInfo[vehicleid][vFA], VehInfo[vehicleid][vInterior],
	VehInfo[vehicleid][vWorld], VehInfo[vehicleid][vColors], VehInfo[vehicleid][vFraction], VehInfo[vehicleid][vStatus]);
	mysql_tquery(mysql, request, "OnPlayerInsertVehicle", "ddd", playerid, 1, vehicleid);
	return 1;
}
CMD:bddelveh(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в своем транспортном средстве.");
	new vehicleid = GetPlayerVehicleID(playerid);
	if(CreateCar[vehicleid] == true) return SendMes(playerid, COLOR_DARKORANGE, "Используйте /dveh для удаления данного транспорта.");
	mysql_format(mysql, request, sizeof(request), "SELECT * FROM "TABLE_VEHICLE" WHERE `id` = '%d'", VehInfo[vehicleid][id]);
	mysql_tquery(mysql, request, "OnPlayerSelectBase", "dd", playerid, 1);
	return 1;
}
CMD:setcreatefamily(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "d", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /setcreatefamily [стоимость]");
	CreateFamily = params[0];
	SendMes(playerid, COLOR_MAIN, "Вы изменили стоимость создания семьи. Стоимость создания: {"#DC_WHITE"}$%d.", CreateFamily);
	SetOtherInt("createfamily", CreateFamily);
	return 1;
}
CMD:delfspawn(playerid, params[])
{
    if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(PlayerInfo[playerid][pLeader] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	SendMes(playerid, COLOR_MAIN, "Вы удалили место респауна своей фракции.");
	FracInfo[PlayerInfo[playerid][pMember]][fSpawn] = 0;
	mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_FRACTIONS" SET `spawn`= '0' WHERE `id` = '%d' LIMIT 1", PlayerInfo[playerid][pMember]);
	mysql_query(mysql, request, false);
	return 1;
}
CMD:fspawn(playerid, params[])
{
    if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(PlayerInfo[playerid][pLeader] == 0) return SendMes(playerid, COLOR_DARKORANGE, "Вы не можете использовать эту команду.");
	new Float:X, Float:Y, Float:Z, Float:FA, W, I, S;
	GetPlayerPos(playerid, X, Y, Z);
	GetPlayerFacingAngle(playerid, FA);
	W = GetPlayerVirtualWorld(playerid);
	I = GetPlayerInterior(playerid);
	S = 1;
	SendMes(playerid, COLOR_MAIN, "Вы установили место респауна своей фракции.");
	FracInfo[PlayerInfo[playerid][pMember]][fRespaPosX] = X;
	FracInfo[PlayerInfo[playerid][pMember]][fRespaPosY] = Y;
	FracInfo[PlayerInfo[playerid][pMember]][fRespaPosZ] = Z;
	FracInfo[PlayerInfo[playerid][pMember]][fRespaWorld] = W;
	FracInfo[PlayerInfo[playerid][pMember]][fRespaInt] = I;
	FracInfo[PlayerInfo[playerid][pMember]][fRespaFA] = FA;
	FracInfo[PlayerInfo[playerid][pMember]][fSpawn] = S;
	mysql_format(mysql, request, sizeof(request), "UPDATE "TABLE_FRACTIONS" SET `spawn`= '%d', `respa_pos_x`= '%f', `respa_pos_y`= '%f', `respa_pos_z`= '%f', `respa_world`= '%d', `respa_int`= '%d', `respa_fa`= '%f' WHERE `id` = '%d' LIMIT 1", \
	S, X, Y, Z, W, I, FA, PlayerInfo[playerid][pMember]);
	mysql_query(mysql, request, false);
	return 1;
}
CMD:setveh(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "dd", params[0], params[1])) return SendMes(playerid, COLOR_WHITE, "Введите: /setveh [фракция] [статус]");
	if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в своем транспортном средстве.");
	new idx = GetPlayerVehicleID(playerid);
	VehInfo[idx][vFraction] = params[0];
	VehInfo[idx][vStatus] = params[1];
	SaveVehicle(idx);
	format(strings, sizeof(strings), "Вы изменили фракцию ТС {"#DC_WHITE"}%d (%d){"#DC_MAIN"} на {"#DC_WHITE"}%d{"#DC_MAIN"} и статус на {"#DC_WHITE"}%d.", idx, VehInfo[idx][id], VehInfo[idx][vFraction], VehInfo[idx][vStatus]);
	SendMes(playerid, COLOR_MAIN, strings);
	return 1;
}
CMD:hpos(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(TPC[playerid] == false)
	{
		if(!IsPlayerInAnyVehicle(playerid)) return SendMes(playerid, COLOR_DARKORANGE, "Вы должны находиться в своем транспортном средстве.");
		new Float:X, Float:Y, Float:Z, Float:FA, vehicleid = GetPlayerVehicleID(playerid);
		GetVehiclePos(vehicleid, X, Y, Z);
		GetVehicleZAngle(vehicleid, FA);
		format(addhouse, sizeof(addhouse), "%f, %f, %f, %f", X, Y, Z, FA);
		TPC[playerid] = true;
		return SendMes(playerid, COLOR_MAIN, "Координаты созданы. Установите интерьер: /hpos.");
	}
	if(TPC[playerid] == true)
	{
	    totalstring = "";
		format(totalstring, sizeof(totalstring), "Введите стоимость, интерьер и тип гаража через запятую:");
		SPD(playerid, did_add_house_end, DSI, "{"#DC_MAIN"}Добавить дом", totalstring, "Далее", "Отмена");
	}
	return 1;
}
CMD:sethouseprice(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /sethouseprice [стоимость]");
	for(new idx = 1; idx <= TOTALHOUSE; idx++)
	{
		if(IsAPPos(playerid, 4.0, HouseInfo[idx][hEnterX], HouseInfo[idx][hEnterY], HouseInfo[idx][hEnterZ]))
		{
			HouseInfo[idx][hPrice] = params[0];
			SaveHouse(idx);
			format(strings, sizeof(strings), "Вы изменили стоимость дома {"#DC_WHITE"}%d{"#DC_MAIN"} на {"#DC_WHITE"}%d.", idx, HouseInfo[idx][hPrice]);
			SendMes(playerid, COLOR_MAIN, strings);
			break;
		}
	}
	return 1;
}
CMD:sethousetype(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /sethousetype [тип]");
	if(params[0] < 1 || params[0] > 6) return  SendMes(playerid, COLOR_WHITE, "Введите: /sethousetype [тип от 1 до 6]");
	for(new idx = 1; idx <= TOTALHOUSE; idx++)
	{
		if(IsAPPos(playerid, 4.0, HouseInfo[idx][hEnterX], HouseInfo[idx][hEnterY], HouseInfo[idx][hEnterZ]))
		{
			HouseInfo[idx][hDiscript] = params[0];
			SaveHouse(idx);
			format(strings, sizeof(strings), "Вы изменили тип дома {"#DC_WHITE"}%d{"#DC_MAIN"} на {"#DC_WHITE"}%d.", idx, HouseInfo[idx][hDiscript]);
			SendMes(playerid, COLOR_MAIN, strings);
			break;
		}
	}
	return 1;
}
CMD:sethousepos(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /sethousepos [номер дома]");
	new Float:x, Float:y, Float:z;
	GetPlayerPos(playerid, x, y, z);
	HouseInfo[params[0]][hEnterX] = x;
	HouseInfo[params[0]][hEnterY] = y;
	HouseInfo[params[0]][hEnterZ] = z;
	SaveHouse(params[0]);
	SendMes(playerid, COLOR_MAIN, "Для дома {"#DC_WHITE"}%d{"#DC_MAIN"} измененно местоположение.", params[0]);
	UpdateHouse(params[0]);
	return 1;
}
CMD:newpricehouse(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	for(new idx = 1; idx <= TOTALHOUSE; idx++)
    {
        switch(HouseInfo[idx][hDiscript])
        {
            case 1: HouseInfo[idx][hPrice] = random(4)*10000+60000;
            case 2: HouseInfo[idx][hPrice] = random(41)*10000+300000;
            case 3: HouseInfo[idx][hPrice] = random(101)*10000+2000000;
            case 4: HouseInfo[idx][hPrice] = random(401)*10000+6000000;
        }
		SaveHouse(idx);
		UpdateHouse(idx);
    }
	SendMes(playerid, COLOR_MAIN, "Вы изменили стоимость домов на стандартные.");
    return 1;
}
CMD:setbizbank(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /setbizbank [сумма]");
	for(new idx = 1; idx <= TOTALBIZ; idx++)
	{
		if(IsAPPos(playerid, 4.0, BizInfo[idx][bEnterX], BizInfo[idx][bEnterY], BizInfo[idx][bEnterZ]))
		{
			BizInfo[idx][bMoney] = params[0];
		    SaveBiz(idx);
			format(strings, sizeof(strings), "Вы изменили баланс бизнесу {"#DC_WHITE"}%s{"#DC_MAIN"} на {"#DC_WHITE"}%d.", BizInfo[idx][bName], BizInfo[idx][bMoney]);
			SendMes(playerid, COLOR_MAIN, strings);
			break;
		}
	}
	return 1;
}
CMD:setbizname(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "s", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /setbizname [новое название]");
	for(new idx = 1; idx <= TOTALBIZ; idx++)
	{
		if(IsAPPos(playerid, 4.0, BizInfo[idx][bEnterX], BizInfo[idx][bEnterY], BizInfo[idx][bEnterZ]))
		{
			format(BizInfo[idx][bName], 32, params[0]);
		    SaveBiz(idx);
			format(strings, sizeof(strings), "Вы изменили имя бизнесу {"#DC_WHITE"}%d{"#DC_MAIN"} на {"#DC_WHITE"}%s.", idx, BizInfo[idx][bName]);
			SendMes(playerid, COLOR_MAIN, strings);
			break;
		}
	}
	return 1;
}
CMD:setbiztype(playerid, params[])
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pAdmin] < 10 || AdminLogged[playerid] == false) return 1;
	if(sscanf(params, "i", params[0])) return SendMes(playerid, COLOR_WHITE, "Введите: /setbiztype [тип]");
	for(new idx = 1; idx <= TOTALBIZ; idx++)
	{
		if(IsAPPos(playerid, 4.0, BizInfo[idx][bEnterX], BizInfo[idx][bEnterY], BizInfo[idx][bEnterZ]))
		{
			BizInfo[idx][bType] = params[0];
			BizInfo[idx][bTill] = 1;
		    SaveBiz(idx);
		    UpdateBiz(idx);
			format(strings, sizeof(strings), "Вы изменили тип бизнесу {"#DC_WHITE"}%s{"#DC_MAIN"} на {"#DC_WHITE"}%d.", BizInfo[idx][bName], BizInfo[idx][bType]);
			SendMes(playerid, COLOR_MAIN, strings);
			break;
		}
	}
	return 1;
}
//==============================================================================
CreateAccount(playerid, password[])
{
	if(IsTextInvalid(password)) return KickWithMessage(playerid, COLOR_DARKORANGE, "В пароле должны быть только буквы и цифры.");
	new ip[16], data[16];
	format(data, 16, "%s", date("%dd.%mm.%yyyy", gettime()-46800));
	GetPlayerIp(playerid, ip, 16);
	format(PlayerInfo[playerid][pPassword], 128, password);
	format(PlayerInfo[playerid][pIP], 16, ip);
	format(PlayerInfo[playerid][pRegData], 16, data);
	format(PlayerInfo[playerid][pLastCon], 16, data);
	PlayerInfo[playerid][pNews] = random(3) + 1;
	PlayerInfo[playerid][pLevel] = 1;
	format(PlayerInfo[playerid][pRegIP], 16, ip);
	ServerMoney(playerid, "Деньги с регистрации", 500, 0);
	SetHealth(playerid, 100);
	SetSatiety(playerid, 100);
	PlayerInfo[playerid][pHealth] = 100.0;
	format(PlayerInfo[playerid][pAdminPassword], 64, "qwerty");
	format(PlayerInfo[playerid][pQuestLines], 16, "0, 0, 0, 0, 0");
	format(PlayerInfo[playerid][pQuestInfos], 256, "0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0");
	format(PlayerInfo[playerid][pTasks], 256, "0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0");
	format(PlayerInfo[playerid][pAchievements], 256, "0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0");
	format(PlayerInfo[playerid][pJobSkills], 256, "1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1");
	format(PlayerInfo[playerid][pJobSkillProgresss], 256, "0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0");
	format(PlayerInfo[playerid][pJobSkillAccessoriess], 256, "1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1");
	/*format(PlayerInfo[playerid][pSkills], 32, "0, 0, 0, 0, 0, 0");*/
	format(PlayerInfo[playerid][pGuns], 64, "0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0");
	format(PlayerInfo[playerid][pWeapons], 128, "0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0");
	format(PlayerInfo[playerid][pLics], 16, "0, 0, 0, 0, 0");
	format(PlayerInfo[playerid][pAdminSettings], 64, "1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1");
	format(PlayerInfo[playerid][pAdminDatas], 32, "0, 0");
	format(PlayerInfo[playerid][pTexts], 20, "0, 0, 0, 0, 0, 0, 0");
	/*format(PlayerInfo[playerid][pStyles], 32, "0, 0, 0, 0");*/
	format(PlayerInfo[playerid][pChatSettings], 64, "1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1");
	format(PlayerInfo[playerid][pInterfaceSettings], 32, "1, 1, 1, 1, 1, 1");
	format(PlayerInfo[playerid][pBlackFractions], 128, "0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0");
	format(PlayerInfo[playerid][pRespawnPoss], 64, "0.000000, 0.000000, 0.000000, 0.000000");
	format(PlayerInfo[playerid][pEmail], 16, "");
	format(PlayerInfo[playerid][pGoogle], 32, "");
	format(PlayerInfo[playerid][pGoogleReservs], 64, "0, 0, 0, 0, 0, 0");
	/*new playername[32];
	GetPlayerName(playerid, playername, 32);
	format(PlayerInfo[playerid][pName], MAX_PLAYER_NAME, playername);*/
	/*CheckAccountsCount++;*/
	orm_insert(PlayerInfo[playerid][ORMID], "OnPlayerLoadAccount", "d", playerid);
	orm_setkey(PlayerInfo[playerid][ORMID], "id");
	return 1;
}
//==============================================================================
OnPlayerSaveAccount(playerid)
{
	if(PlayerLogged[playerid] == 0) return 1;
	if(PlayerInfo[playerid][pVehicle] != 0)
    {
        new vehicleid = PlayerInfo[playerid][pVehicle];
		SaveVehicle(vehicleid);
	    SaveVehicleDetails(vehicleid);
    }
	format(PlayerInfo[playerid][pDatas], 256, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d , %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d",
	PlayerInfo[playerid][pData][0], PlayerInfo[playerid][pData][1], PlayerInfo[playerid][pData][2], PlayerInfo[playerid][pData][3], PlayerInfo[playerid][pData][4], PlayerInfo[playerid][pData][5], PlayerInfo[playerid][pData][6], PlayerInfo[playerid][pData][7],
	PlayerInfo[playerid][pData][8], PlayerInfo[playerid][pData][9], PlayerInfo[playerid][pData][10], PlayerInfo[playerid][pData][11], PlayerInfo[playerid][pData][12], PlayerInfo[playerid][pData][13], PlayerInfo[playerid][pData][14], PlayerInfo[playerid][pData][15],
	PlayerInfo[playerid][pData][16], PlayerInfo[playerid][pData][17], PlayerInfo[playerid][pData][18], PlayerInfo[playerid][pData][19], PlayerInfo[playerid][pData][20], PlayerInfo[playerid][pData][21], PlayerInfo[playerid][pData][22], PlayerInfo[playerid][pData][23],
	PlayerInfo[playerid][pData][24], PlayerInfo[playerid][pData][25], PlayerInfo[playerid][pData][26], PlayerInfo[playerid][pData][27], PlayerInfo[playerid][pData][28], PlayerInfo[playerid][pData][29]);
	format(PlayerInfo[playerid][pQuestLines], 16, "%d, %d, %d, %d, %d", PlayerInfo[playerid][pQuestLine][0], PlayerInfo[playerid][pQuestLine][1], PlayerInfo[playerid][pQuestLine][2], PlayerInfo[playerid][pQuestLine][3], PlayerInfo[playerid][pQuestLine][4]);
	format(PlayerInfo[playerid][pQuestInfos], 256, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d",
	PlayerInfo[playerid][pQuestInfo][0], PlayerInfo[playerid][pQuestInfo][1], PlayerInfo[playerid][pQuestInfo][2], PlayerInfo[playerid][pQuestInfo][3], PlayerInfo[playerid][pQuestInfo][4],
	PlayerInfo[playerid][pQuestInfo][5], PlayerInfo[playerid][pQuestInfo][6], PlayerInfo[playerid][pQuestInfo][7], PlayerInfo[playerid][pQuestInfo][8], PlayerInfo[playerid][pQuestInfo][9],
	PlayerInfo[playerid][pQuestInfo][10], PlayerInfo[playerid][pQuestInfo][11], PlayerInfo[playerid][pQuestInfo][12], PlayerInfo[playerid][pQuestInfo][13], PlayerInfo[playerid][pQuestInfo][14],
	PlayerInfo[playerid][pQuestInfo][15], PlayerInfo[playerid][pQuestInfo][16], PlayerInfo[playerid][pQuestInfo][17], PlayerInfo[playerid][pQuestInfo][18], PlayerInfo[playerid][pQuestInfo][19],
	PlayerInfo[playerid][pQuestInfo][20], PlayerInfo[playerid][pQuestInfo][21], PlayerInfo[playerid][pQuestInfo][22], PlayerInfo[playerid][pQuestInfo][23], PlayerInfo[playerid][pQuestInfo][24],
	PlayerInfo[playerid][pQuestInfo][25], PlayerInfo[playerid][pQuestInfo][26], PlayerInfo[playerid][pQuestInfo][27], PlayerInfo[playerid][pQuestInfo][28], PlayerInfo[playerid][pQuestInfo][29],
	PlayerInfo[playerid][pQuestInfo][30], PlayerInfo[playerid][pQuestInfo][31], PlayerInfo[playerid][pQuestInfo][32], PlayerInfo[playerid][pQuestInfo][33], PlayerInfo[playerid][pQuestInfo][34],
   	PlayerInfo[playerid][pQuestInfo][35], PlayerInfo[playerid][pQuestInfo][36], PlayerInfo[playerid][pQuestInfo][37], PlayerInfo[playerid][pQuestInfo][38], PlayerInfo[playerid][pQuestInfo][39],
   	PlayerInfo[playerid][pQuestInfo][40], PlayerInfo[playerid][pQuestInfo][41], PlayerInfo[playerid][pQuestInfo][42], PlayerInfo[playerid][pQuestInfo][43], PlayerInfo[playerid][pQuestInfo][44],
   	PlayerInfo[playerid][pQuestInfo][45], PlayerInfo[playerid][pQuestInfo][46], PlayerInfo[playerid][pQuestInfo][47]);
	format(PlayerInfo[playerid][pTasks], 256, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d",
	PlayerInfo[playerid][pTask][0], PlayerInfo[playerid][pTask][1], PlayerInfo[playerid][pTask][2], PlayerInfo[playerid][pTask][3], PlayerInfo[playerid][pTask][4],
	PlayerInfo[playerid][pTask][5], PlayerInfo[playerid][pTask][6], PlayerInfo[playerid][pTask][7], PlayerInfo[playerid][pTask][8], PlayerInfo[playerid][pTask][9],
	PlayerInfo[playerid][pTask][10], PlayerInfo[playerid][pTask][11], PlayerInfo[playerid][pTask][12], PlayerInfo[playerid][pTask][13], PlayerInfo[playerid][pTask][14],
	PlayerInfo[playerid][pTask][15], PlayerInfo[playerid][pTask][16], PlayerInfo[playerid][pTask][17], PlayerInfo[playerid][pTask][18], PlayerInfo[playerid][pTask][19],
	PlayerInfo[playerid][pTask][20], PlayerInfo[playerid][pTask][21], PlayerInfo[playerid][pTask][22], PlayerInfo[playerid][pTask][23], PlayerInfo[playerid][pTask][24],
	PlayerInfo[playerid][pTask][25], PlayerInfo[playerid][pTask][26], PlayerInfo[playerid][pTask][27], PlayerInfo[playerid][pTask][28], PlayerInfo[playerid][pTask][29],
	PlayerInfo[playerid][pTask][30], PlayerInfo[playerid][pTask][31], PlayerInfo[playerid][pTask][32], PlayerInfo[playerid][pTask][33], PlayerInfo[playerid][pTask][34],
	PlayerInfo[playerid][pTask][35], PlayerInfo[playerid][pTask][36], PlayerInfo[playerid][pTask][37], PlayerInfo[playerid][pTask][38], PlayerInfo[playerid][pTask][39],
	PlayerInfo[playerid][pTask][40], PlayerInfo[playerid][pTask][41], PlayerInfo[playerid][pTask][42], PlayerInfo[playerid][pTask][43], PlayerInfo[playerid][pTask][44],
	PlayerInfo[playerid][pTask][45], PlayerInfo[playerid][pTask][46], PlayerInfo[playerid][pTask][47], PlayerInfo[playerid][pTask][48], PlayerInfo[playerid][pTask][49],
	PlayerInfo[playerid][pTask][50], PlayerInfo[playerid][pTask][51], PlayerInfo[playerid][pTask][52], PlayerInfo[playerid][pTask][53], PlayerInfo[playerid][pTask][54],
	PlayerInfo[playerid][pTask][55], PlayerInfo[playerid][pTask][56], PlayerInfo[playerid][pTask][57], PlayerInfo[playerid][pTask][58], PlayerInfo[playerid][pTask][59],
	PlayerInfo[playerid][pTask][60], PlayerInfo[playerid][pTask][61], PlayerInfo[playerid][pTask][62], PlayerInfo[playerid][pTask][63], PlayerInfo[playerid][pTask][64],
	PlayerInfo[playerid][pTask][65], PlayerInfo[playerid][pTask][66], PlayerInfo[playerid][pTask][67]);
	format(PlayerInfo[playerid][pTaskUses], 32, "%d, %d, %d, %d, %d",
	PlayerInfo[playerid][pTaskUse][0], PlayerInfo[playerid][pTaskUse][1], PlayerInfo[playerid][pTaskUse][2], PlayerInfo[playerid][pTaskUse][3], PlayerInfo[playerid][pTaskUse][4]);
	format(PlayerInfo[playerid][pAchievements], 256, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d",
	PlayerInfo[playerid][pAchievement][0], PlayerInfo[playerid][pAchievement][1], PlayerInfo[playerid][pAchievement][2], PlayerInfo[playerid][pAchievement][3], PlayerInfo[playerid][pAchievement][4],
	PlayerInfo[playerid][pAchievement][5], PlayerInfo[playerid][pAchievement][6], PlayerInfo[playerid][pAchievement][7], PlayerInfo[playerid][pAchievement][8], PlayerInfo[playerid][pAchievement][9],
	PlayerInfo[playerid][pAchievement][10], PlayerInfo[playerid][pAchievement][11], PlayerInfo[playerid][pAchievement][12], PlayerInfo[playerid][pAchievement][13], PlayerInfo[playerid][pAchievement][14],
	PlayerInfo[playerid][pAchievement][15], PlayerInfo[playerid][pAchievement][16], PlayerInfo[playerid][pAchievement][17], PlayerInfo[playerid][pAchievement][18], PlayerInfo[playerid][pAchievement][19],
	PlayerInfo[playerid][pAchievement][20], PlayerInfo[playerid][pAchievement][21], PlayerInfo[playerid][pAchievement][22], PlayerInfo[playerid][pAchievement][23], PlayerInfo[playerid][pAchievement][24],
	PlayerInfo[playerid][pAchievement][25], PlayerInfo[playerid][pAchievement][26], PlayerInfo[playerid][pAchievement][27], PlayerInfo[playerid][pAchievement][28], PlayerInfo[playerid][pAchievement][29],
	PlayerInfo[playerid][pAchievement][30], PlayerInfo[playerid][pAchievement][31], PlayerInfo[playerid][pAchievement][32], PlayerInfo[playerid][pAchievement][33], PlayerInfo[playerid][pAchievement][34],
	PlayerInfo[playerid][pAchievement][35], PlayerInfo[playerid][pAchievement][36], PlayerInfo[playerid][pAchievement][37], PlayerInfo[playerid][pAchievement][38], PlayerInfo[playerid][pAchievement][39],
	PlayerInfo[playerid][pAchievement][40], PlayerInfo[playerid][pAchievement][41], PlayerInfo[playerid][pAchievement][42], PlayerInfo[playerid][pAchievement][43], PlayerInfo[playerid][pAchievement][44],
	PlayerInfo[playerid][pAchievement][45], PlayerInfo[playerid][pAchievement][46], PlayerInfo[playerid][pAchievement][47]);
	format(PlayerInfo[playerid][pJobSkills], 256, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d",
	PlayerInfo[playerid][pJobSkill][0], PlayerInfo[playerid][pJobSkill][1], PlayerInfo[playerid][pJobSkill][2], PlayerInfo[playerid][pJobSkill][3], PlayerInfo[playerid][pJobSkill][4],
	PlayerInfo[playerid][pJobSkill][5], PlayerInfo[playerid][pJobSkill][6], PlayerInfo[playerid][pJobSkill][7], PlayerInfo[playerid][pJobSkill][8], PlayerInfo[playerid][pJobSkill][9],
	PlayerInfo[playerid][pJobSkill][10], PlayerInfo[playerid][pJobSkill][11], PlayerInfo[playerid][pJobSkill][12], PlayerInfo[playerid][pJobSkill][13], PlayerInfo[playerid][pJobSkill][14],
	PlayerInfo[playerid][pJobSkill][15], PlayerInfo[playerid][pJobSkill][16], PlayerInfo[playerid][pJobSkill][17], PlayerInfo[playerid][pJobSkill][18], PlayerInfo[playerid][pJobSkill][19],
	PlayerInfo[playerid][pJobSkill][20], PlayerInfo[playerid][pJobSkill][21], PlayerInfo[playerid][pJobSkill][22]);
	format(PlayerInfo[playerid][pJobSkillProgresss], 256, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d",
	PlayerInfo[playerid][pJobSkillProgress][0], PlayerInfo[playerid][pJobSkillProgress][1], PlayerInfo[playerid][pJobSkillProgress][2], PlayerInfo[playerid][pJobSkillProgress][3], PlayerInfo[playerid][pJobSkillProgress][4],
	PlayerInfo[playerid][pJobSkillProgress][5], PlayerInfo[playerid][pJobSkillProgress][6], PlayerInfo[playerid][pJobSkillProgress][7], PlayerInfo[playerid][pJobSkillProgress][8], PlayerInfo[playerid][pJobSkillProgress][9],
	PlayerInfo[playerid][pJobSkillProgress][10], PlayerInfo[playerid][pJobSkillProgress][11], PlayerInfo[playerid][pJobSkillProgress][12], PlayerInfo[playerid][pJobSkillProgress][13], PlayerInfo[playerid][pJobSkillProgress][14],
	PlayerInfo[playerid][pJobSkillProgress][15], PlayerInfo[playerid][pJobSkillProgress][16], PlayerInfo[playerid][pJobSkillProgress][17], PlayerInfo[playerid][pJobSkillProgress][18], PlayerInfo[playerid][pJobSkillProgress][19],
	PlayerInfo[playerid][pJobSkillProgress][20], PlayerInfo[playerid][pJobSkillProgress][21], PlayerInfo[playerid][pJobSkillProgress][22]);
	format(PlayerInfo[playerid][pJobSkillAccessoriess], 256, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d",
	PlayerInfo[playerid][pJobSkillAccessories][0], PlayerInfo[playerid][pJobSkillAccessories][1], PlayerInfo[playerid][pJobSkillAccessories][2], PlayerInfo[playerid][pJobSkillAccessories][3], PlayerInfo[playerid][pJobSkillAccessories][4],
	PlayerInfo[playerid][pJobSkillAccessories][5], PlayerInfo[playerid][pJobSkillAccessories][6], PlayerInfo[playerid][pJobSkillAccessories][7], PlayerInfo[playerid][pJobSkillAccessories][8], PlayerInfo[playerid][pJobSkillAccessories][9],
	PlayerInfo[playerid][pJobSkillAccessories][10], PlayerInfo[playerid][pJobSkillAccessories][11], PlayerInfo[playerid][pJobSkillAccessories][12], PlayerInfo[playerid][pJobSkillAccessories][13], PlayerInfo[playerid][pJobSkillAccessories][14],
	PlayerInfo[playerid][pJobSkillAccessories][15], PlayerInfo[playerid][pJobSkillAccessories][16], PlayerInfo[playerid][pJobSkillAccessories][17], PlayerInfo[playerid][pJobSkillAccessories][18], PlayerInfo[playerid][pJobSkillAccessories][19],
	PlayerInfo[playerid][pJobSkillAccessories][20], PlayerInfo[playerid][pJobSkillAccessories][21], PlayerInfo[playerid][pJobSkillAccessories][22]);
	/*format(PlayerInfo[playerid][pStyles], 16, "%d, %d, %d, %d", PlayerInfo[playerid][pStyle][0], PlayerInfo[playerid][pStyle][1], PlayerInfo[playerid][pStyle][2], PlayerInfo[playerid][pStyle][3]);*/
	format(PlayerInfo[playerid][pAccessoriess], 128, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d",
	PlayerInfo[playerid][pAccessories][0], PlayerInfo[playerid][pAccessories][1], PlayerInfo[playerid][pAccessories][2], PlayerInfo[playerid][pAccessories][3], PlayerInfo[playerid][pAccessories][4],
	PlayerInfo[playerid][pAccessories][5], PlayerInfo[playerid][pAccessories][6], PlayerInfo[playerid][pAccessories][7], PlayerInfo[playerid][pAccessories][8], PlayerInfo[playerid][pAccessories][9],
	PlayerInfo[playerid][pAccessories][10], PlayerInfo[playerid][pAccessories][11], PlayerInfo[playerid][pAccessories][12], PlayerInfo[playerid][pAccessories][13], PlayerInfo[playerid][pAccessories][14],
	PlayerInfo[playerid][pAccessories][15], PlayerInfo[playerid][pAccessories][16], PlayerInfo[playerid][pAccessories][17], PlayerInfo[playerid][pAccessories][18], PlayerInfo[playerid][pAccessories][19]);
	format(PlayerInfo[playerid][pAccessoriesUses], 128, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d",
	PlayerInfo[playerid][pAccessoriesUse][0], PlayerInfo[playerid][pAccessoriesUse][1], PlayerInfo[playerid][pAccessoriesUse][2], PlayerInfo[playerid][pAccessoriesUse][3], PlayerInfo[playerid][pAccessoriesUse][4],
	PlayerInfo[playerid][pAccessoriesUse][5], PlayerInfo[playerid][pAccessoriesUse][6], PlayerInfo[playerid][pAccessoriesUse][7], PlayerInfo[playerid][pAccessoriesUse][8], PlayerInfo[playerid][pAccessoriesUse][9],
	PlayerInfo[playerid][pAccessoriesUse][10], PlayerInfo[playerid][pAccessoriesUse][11], PlayerInfo[playerid][pAccessoriesUse][12], PlayerInfo[playerid][pAccessoriesUse][13], PlayerInfo[playerid][pAccessoriesUse][14],
	PlayerInfo[playerid][pAccessoriesUse][15], PlayerInfo[playerid][pAccessoriesUse][16], PlayerInfo[playerid][pAccessoriesUse][17], PlayerInfo[playerid][pAccessoriesUse][18], PlayerInfo[playerid][pAccessoriesUse][19]);
	format(PlayerInfo[playerid][pLics], 16, "%d, %d, %d, %d, %d", PlayerInfo[playerid][pLic][0], PlayerInfo[playerid][pLic][1], PlayerInfo[playerid][pLic][2], PlayerInfo[playerid][pLic][3], PlayerInfo[playerid][pLic][4]);
	/*format(PlayerInfo[playerid][pSkills], 32, "%d, %d, %d, %d, %d, %d", PlayerInfo[playerid][pSkill][0], PlayerInfo[playerid][pSkill][1], PlayerInfo[playerid][pSkill][2], PlayerInfo[playerid][pSkill][3], PlayerInfo[playerid][pSkill][4], PlayerInfo[playerid][pSkill][5]);*/
	if(PlayerInfo[playerid][pLic][3] == 1)
	{
		if(GetPVarInt(playerid, "GunCheat") == 0)
		{
			for(new i = 0; i < 13; i++)
			{
				GetPlayerWeaponData(playerid, i, PlayerInfo[playerid][pGun][i], PlayerInfo[playerid][pWeapon][i]);
				if(((22 <= PlayerInfo[playerid][pGun][i] <= 34) || PlayerInfo[playerid][pGun][i] == 38)) {
					PlayerInfo[playerid][pWeapon][i] = WeaponSlot[playerid][i];
				}
			}
			format(PlayerInfo[playerid][pGuns], 64, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d",
			PlayerInfo[playerid][pGun][0], PlayerInfo[playerid][pGun][1], PlayerInfo[playerid][pGun][2],
			PlayerInfo[playerid][pGun][3], PlayerInfo[playerid][pGun][4], PlayerInfo[playerid][pGun][5],
			PlayerInfo[playerid][pGun][6], PlayerInfo[playerid][pGun][7], PlayerInfo[playerid][pGun][8],
			PlayerInfo[playerid][pGun][9], PlayerInfo[playerid][pGun][10], PlayerInfo[playerid][pGun][11],
			PlayerInfo[playerid][pGun][12]);
			format(PlayerInfo[playerid][pWeapons], 128, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d",
			PlayerInfo[playerid][pWeapon][0], PlayerInfo[playerid][pWeapon][1], PlayerInfo[playerid][pWeapon][2],
			PlayerInfo[playerid][pWeapon][3], PlayerInfo[playerid][pWeapon][4], PlayerInfo[playerid][pWeapon][5],
			PlayerInfo[playerid][pWeapon][6], PlayerInfo[playerid][pWeapon][7], PlayerInfo[playerid][pWeapon][8],
			PlayerInfo[playerid][pWeapon][9], PlayerInfo[playerid][pWeapon][10], PlayerInfo[playerid][pWeapon][11],
			PlayerInfo[playerid][pWeapon][12]);
		}
		format(PlayerInfo[playerid][pGuns], 64, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d",
		PlayerInfo[playerid][pGun][0], PlayerInfo[playerid][pGun][1], PlayerInfo[playerid][pGun][2],
		PlayerInfo[playerid][pGun][3], PlayerInfo[playerid][pGun][4], PlayerInfo[playerid][pGun][5],
		PlayerInfo[playerid][pGun][6], PlayerInfo[playerid][pGun][7], PlayerInfo[playerid][pGun][8],
		PlayerInfo[playerid][pGun][9], PlayerInfo[playerid][pGun][10], PlayerInfo[playerid][pGun][11],
		PlayerInfo[playerid][pGun][12]);
		format(PlayerInfo[playerid][pWeapons], 128, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d",
		PlayerInfo[playerid][pWeapon][0], PlayerInfo[playerid][pWeapon][1], PlayerInfo[playerid][pWeapon][2],
		PlayerInfo[playerid][pWeapon][3], PlayerInfo[playerid][pWeapon][4], PlayerInfo[playerid][pWeapon][5],
		PlayerInfo[playerid][pWeapon][6], PlayerInfo[playerid][pWeapon][7], PlayerInfo[playerid][pWeapon][8],
		PlayerInfo[playerid][pWeapon][9], PlayerInfo[playerid][pWeapon][10], PlayerInfo[playerid][pWeapon][11],
		PlayerInfo[playerid][pWeapon][12]);
	}
	format(PlayerInfo[playerid][pDiseases], 32, "%d, %d, %d", PlayerInfo[playerid][pDisease][0], PlayerInfo[playerid][pDisease][1], PlayerInfo[playerid][pDisease][2]);
	format(PlayerInfo[playerid][pAdminSettings], 64, "1, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, 1, 1",
	PlayerInfo[playerid][pAdminSetting][1], PlayerInfo[playerid][pAdminSetting][2], PlayerInfo[playerid][pAdminSetting][3], PlayerInfo[playerid][pAdminSetting][4],
	PlayerInfo[playerid][pAdminSetting][5], PlayerInfo[playerid][pAdminSetting][6], PlayerInfo[playerid][pAdminSetting][7], PlayerInfo[playerid][pAdminSetting][8],
	PlayerInfo[playerid][pAdminSetting][9], PlayerInfo[playerid][pAdminSetting][10], PlayerInfo[playerid][pAdminSetting][11]);
	format(PlayerInfo[playerid][pAdminDatas], 32, "%d, %d", PlayerInfo[playerid][pAdminData][0], PlayerInfo[playerid][pAdminData][1]);
	format(PlayerInfo[playerid][pAddictionInfos], 32, "%d, %d, %d", PlayerInfo[playerid][pAddictionInfo][0], PlayerInfo[playerid][pAddictionInfo][1], PlayerInfo[playerid][pAddictionInfo][2]);
	format(PlayerInfo[playerid][pChatSettings], 64, "1, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, 1, 1, 1",
	PlayerInfo[playerid][pChatSetting][1], PlayerInfo[playerid][pChatSetting][2], PlayerInfo[playerid][pChatSetting][3], PlayerInfo[playerid][pChatSetting][4],
	PlayerInfo[playerid][pChatSetting][5], PlayerInfo[playerid][pChatSetting][6], PlayerInfo[playerid][pChatSetting][7], PlayerInfo[playerid][pChatSetting][8],
	PlayerInfo[playerid][pChatSetting][9], PlayerInfo[playerid][pChatSetting][10]);
	format(PlayerInfo[playerid][pInterfaceSettings], 32, "%d, %d, %d, %d, %d, %d",
	PlayerInfo[playerid][pInterfaceSetting][0], PlayerInfo[playerid][pInterfaceSetting][1], PlayerInfo[playerid][pInterfaceSetting][2], PlayerInfo[playerid][pInterfaceSetting][3], PlayerInfo[playerid][pInterfaceSetting][4], PlayerInfo[playerid][pInterfaceSetting][5]);
	format(PlayerInfo[playerid][pBlackFractions], 128, "%d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d",
	PlayerInfo[playerid][pBlackFraction][0], PlayerInfo[playerid][pBlackFraction][1], PlayerInfo[playerid][pBlackFraction][2], PlayerInfo[playerid][pBlackFraction][3], PlayerInfo[playerid][pBlackFraction][4],
	PlayerInfo[playerid][pBlackFraction][5], PlayerInfo[playerid][pBlackFraction][6], PlayerInfo[playerid][pBlackFraction][7], PlayerInfo[playerid][pBlackFraction][8], PlayerInfo[playerid][pBlackFraction][9],
	PlayerInfo[playerid][pBlackFraction][10], PlayerInfo[playerid][pBlackFraction][11], PlayerInfo[playerid][pBlackFraction][12], PlayerInfo[playerid][pBlackFraction][13], PlayerInfo[playerid][pBlackFraction][14],
	PlayerInfo[playerid][pBlackFraction][15], PlayerInfo[playerid][pBlackFraction][16], PlayerInfo[playerid][pBlackFraction][17], PlayerInfo[playerid][pBlackFraction][18], PlayerInfo[playerid][pBlackFraction][19],
	PlayerInfo[playerid][pBlackFraction][20], PlayerInfo[playerid][pBlackFraction][21], PlayerInfo[playerid][pBlackFraction][22], PlayerInfo[playerid][pBlackFraction][23], PlayerInfo[playerid][pBlackFraction][24],
	PlayerInfo[playerid][pBlackFraction][25], PlayerInfo[playerid][pBlackFraction][26], PlayerInfo[playerid][pBlackFraction][27], PlayerInfo[playerid][pBlackFraction][28], PlayerInfo[playerid][pBlackFraction][29]);
	format(PlayerInfo[playerid][pRespawnPoss], 64, "%f, %f, %f, %f", PlayerInfo[playerid][pRespawnPos][0], PlayerInfo[playerid][pRespawnPos][1], PlayerInfo[playerid][pRespawnPos][2], PlayerInfo[playerid][pRespawnPos][3]);
	orm_update(PlayerInfo[playerid][ORMID]);
	return 1;
}
//==============================================================================
OnPlayerResetStats(playerid)
{
    DisablePlayerRaceCheckpoint(playerid);
    DisablePlayerCheckpoint(playerid);
    NiteStickTazer[playerid] = 0;
    SetPVarInt(playerid, "EditAcc", 16);
    if(TimerWant[playerid] != 0) KillTimer(TimerWant[playerid]);
    FollowPlayer[playerid] = MAX_PLAYERS-1;
	for(new E_PLAYER:e; e < E_PLAYER; ++e) PlayerInfo[playerid][e] = 0;
	for(new i = 0; i < 19; i++) PlayerInfo[playerid][pTemp][i] = 0;
	PlayerInfo[playerid][pRespawnTime] = 100;
	PlayerInfo[playerid][pRespawnWeather] = 100;
	ReportFlood[playerid] = 0;
	QuestionFlood[playerid] = 0;
	ArendsCar[playerid] = 0;
	MessageInfractions[playerid] = 0;
	TimerWant[playerid] = 0;
	PlayerInfo[playerid][pVehicle] = 0;
	PlayerInfo[playerid][pVehicleIDx] = 0;
	PlayerRadio[playerid] = 0;
	PlayerTied[playerid] = false;
	Freeze[playerid] = 0;
	MACInfo[playerid][macCheckMapTP] = 0;
	SelectCharPlace[playerid] = 0;
	PlayerLogged[playerid] = 0;
	PlayerLogTries[playerid] = 0;
	ClothesRound[playerid] = 0;
	AdminLogged[playerid] = false;
	SupportLogged[playerid] = false;
	TimeLogged[playerid] = 0;
	ReMailCode[playerid] = -1;
	MedicCallTime[playerid] = 0;
	Mobile[playerid] = -1;
	CellTime[playerid] = -1;
	Phone[playerid] = true;
	GunCheckTime[playerid] = 0;
	SpawnVirtualWorld[playerid] = 0;
	TaxiCallTime[playerid] = 0;
	MechCallTime[playerid] = 0;
	RegisterRace[playerid] = 0;
	RegisterDerby[playerid] = 0;
	RegisterPaintBall[playerid] = 0;
    PaintBallKills[playerid] = 0;
	PaintBallWeaponID[playerid] = 0;
	PaintBallRank[playerid] = 0;
	PizzaboyStatus[playerid] = false;
	PizzaboyIDx[playerid] = -1;
	PizzaboySalary[playerid] = 0;
	PostmanStatus[playerid] = false;
	PostmanIDx[playerid] = -1;
	PostmanSalary[playerid] = 0;
	TaxStatus[playerid] = false;
	TaxIDx[playerid] = -1;
	TaxSalary[playerid] = 0;
	CollectorStatus[playerid] = false;
	CollectorIDx[playerid] = -1;
	CollectorSalary[playerid] = 0;
	FlowersboyStatus[playerid] = false;
	FlowersboyIDx[playerid] = -1;
	FlowersboySalary[playerid] = 0;
	FireStatus[playerid] = false;
	FireIDx[playerid] = 0;
	FireTimer[playerid] = 0;
	FireExting[playerid] = 0;
	FireExtingCount[playerid] = 0;
	FireSalary[playerid] = 0;
	FireAmmo[playerid] = 0;
    TruckerStatus[playerid] = false;
    TruckStatus[playerid] = 0;
    TruckTimer[playerid] = 0;
    TruckSalary[playerid] = 0;
    TruckCount[playerid] = 0;
    TruckCheck[playerid] = 0;
    GoldMinerStatus[playerid] = false;
    GoldMinerIDx[playerid] = -1;
    GoldMinerType[playerid] = 0;
    GoldMinerProgress[playerid] = 0;
    GoldMinerCount[playerid] = 0;
    GoldMinerSalary[playerid] = 0;
    DrugMakerStatus[playerid] = false;
    DrugMakerIDx[playerid] = -1;
    DrugMakerProgress[playerid] = 0;
    DrugMakerCount[playerid] = 0;
    DrugMakerSalary[playerid][0] = 0;
    DrugMakerSalary[playerid][1] = 0;
    ConstructionStatus[playerid] = false;
    ConstructionState[playerid] = 0;
    ConstructionCountState[playerid] = 0;
    ConstructionCount[playerid] = 0;
    ConstructionTimerState[playerid] = 0;
    ConstructionTimer[playerid] = 0;
    ConstructionObject[playerid] = -1;
    ConstructionSalary[playerid] = 0;
    JanitorStatus[playerid] = false;
    JanitorIDx[playerid] = -1;
    JanitorProgress[playerid] = 0;
    JanitorTimer[playerid] = 0;
    JanitorSalary[playerid] = 0;
    GardenerStatus[playerid] = false;
    GardenerProgress[playerid] = 0;
    GardenerIDx[playerid] = -1;
    GardenerTimer[playerid] = 0;
    GardenerSalary[playerid] = 0;
    CleanerStatus[playerid] = false;
    CleanerIDx[playerid] = -1;
    CleanerProgress[playerid] = 0;
    CleanerTimer[playerid] = 0;
    CleanerSalary[playerid] = 0;
    ZooWorkerStatus[playerid] = false;
    ZooWorkerIDx[playerid] = -1;
    ZooWorkerProgress[playerid] = 0;
    ZooWorkerTimer[playerid] = 0;
    ZooWorkerSalary[playerid] = 0;
    VolunteerStatus[playerid] = false;
    VolunteerIDx[playerid] = -1;
    VolunteerProgress[playerid] = 0;
    VolunteerTimer[playerid] = 0;
    VolunteerSalary[playerid] = 0;
	GraffitiIDx[playerid] = 0;
	GraffitiExtingCount[playerid] = 0;
	GraffitiAmmo[playerid] = 0;
	FarmDuty[playerid] = 0;
	FarmWorking[playerid] = -1;
	PlayerInfo[playerid][pFarmRank] = 0;
	PlayerInfo[playerid][pFarmIDx] = 0;
	PlayerInfo[playerid][pFarmSlot] = 0;
	FarmStart[playerid] = 0;
	FarmWorkState[playerid] = 0;
	FarmPayment[playerid] = 0;
	FarmWorkTimer[playerid] = 0;
	FarmSeedStatus[playerid] = 0;
	FarmSeedCheckpoint[playerid] = 0;
	ServiceDuty[playerid] = 0;
	ServiceWorking[playerid] = -1;
	ServicePayment[playerid] = 0;
	ServiceTune[playerid] = INVALID_PLAYER_ID;
	ServiceTuneIDx[playerid] = 0;
	RoadmanStatus[playerid] = false;
	RoadmanIDx[playerid] = 0;
	RoadmanTimer[playerid] = 0;
	RoadmanSalary[playerid] = 0;
	OfferDuel[playerid] = false;
	OffeeDuel[playerid] = INVALID_PLAYER_ID;
	OffeeCash[playerid] = 0;
	OffeeWeaponid[playerid] = 0;
	UseDuel[playerid] = false;
	EnemyDuelID[playerid] = INVALID_PLAYER_ID;
	RateDuel[playerid] = 0;
	RobberyFuelingIDx[playerid] = 0;
	RobberyFuelingTime[playerid] = 0;
	RobberyFuelingLiters[playerid] = 0;
	RobberyBankIDx[playerid] = 0;
	RobberyBankTime[playerid] = 0;
	RobberyBankMoney[playerid] = 0;
	ArmySecurityShip[playerid] = 0;
	GymInventory[playerid] = false;
	GymDumbbells[playerid] = false;
	GymDumbbellsUse[playerid] = false;
	GymBoxClick[playerid] = 0;
	GymBoxClickTime[playerid] = 0;
	gPlayerHealthStatus[playerid] = 0;
	gPlayerHealthTick[playerid] = 0;
	gPlayerHealthUpdateTick[playerid] = 0;
	gPlayerHealthWarning[playerid] = 0;
	gPlayerHealthDecrementWarning[playerid] = 0;
	InjectionShow[playerid] = false;
	InjectionInfo[playerid] = 0;
	PlayerInfo[playerid][pAdmin] = 0;
	PlayerInfo[playerid][pDiceTable] = -1;
	PlayerInfo[playerid][pDicePlace] = 0;
	PlayerInfo[playerid][pSlotMachine] = -1;
	BusTime[playerid] = 0;
	CheckSpeedWarning[playerid] = 0;
	TaxiTime[playerid] = 0;
	TaxiPassenger[playerid] = INVALID_PLAYER_ID;
	TaxiDriver[playerid] = INVALID_PLAYER_ID;
	DisguiseInfo[playerid] = 0;
	Pursued[playerid] = -1;
	Pursuer[playerid] = -1;
	PursiutTime[playerid] = 0;
	PursiutTime[playerid] = -1;
	Patrul[playerid] = -1;
	Patrolled[playerid] = -1;
	IsBiz[playerid] = -1;
	LastTaxiID[playerid] = -1;
	LastRefillID[playerid] = -1;
	LastProductID[playerid] = -1;
	LastSellgunID[playerid] = -1;
	LastSelldrugsID[playerid] = -1;
	LastHealingID[playerid] = -1;
	LastFineID[playerid] = -1;
	LastTakeID[playerid] = -1;
	LastPilotRace[playerid] = 0;
	LastLicID[playerid] = -1;
	LastBusRace[playerid] = 0;
	FishStart[playerid] = 0;
	FishTimer[playerid] = 0;
	FishPress[playerid] = 0;
    HuntingStart[playerid] = 0;
	UseChangeInterior[playerid] = false;
	UseChangeInteriorID[playerid] = -1;
	LastMPTime[playerid] = 0;
	ChoosenAdvert[playerid] = -1;
	EnterBroadcast[playerid] = 0;
	SpectatePlayer[playerid] = INVALID_PLAYER_ID;
	gHasArmour[playerid] = 0;
	UseRegister[playerid] = false;
	IsKicked[playerid] = 0;
	gFirstPlayerUpdate[playerid] = 0;
	for(new i = 0; i < 55; i++) gWarning[playerid][i] = 0, gWarningTimeout[playerid][i] = 0;
	gWarningUpdate[playerid] = 0;
    for(new i = 0; i < 3; i++) AntiCheatWarningTime[playerid][i] = 0;
	RobberyFuelingIDx[playerid] = 0;
	RobberyFuelingTime[playerid] = 0;
	RobberyFuelingLiters[playerid] = 0;
	RobberyBankIDx[playerid] = 0;
	RobberyBankTime[playerid] = 0;
	RobberyBankMoney[playerid] = 0;
	for(new i = 0; i < 4; i++) RobberyBankItems[playerid][i] = 0;
	InventoryUseItems[playerid] = -1;
	InventorySellItems[playerid] = -1;
	InventoryUseAccessories[playerid] = -1;
	CraftUseItems[playerid] = -1;
	MarketUse[playerid] = -1;
	MarketUseItems[playerid] = -1;
	MarketBuyIDx[playerid] = -1;
	MarketBuyItems[playerid] = -1;
	BinderUseNumber[playerid] = -1;
	PlayerInfo[playerid][pRespawnStatus] = false;
	PlayerInfo[playerid][pSkip] = 0;
	PlayerInfo[playerid][pSSIMSeller] = INVALID_PLAYER_ID;
	PlayerInfo[playerid][pSSIMSIDx] = 0;
	PlayerInfo[playerid][pSSIMPrice] = 0;
	PlayerInfo[playerid][pSSIMNumber] = 0;
	PlayerInfo[playerid][pSHOUSESeller] = INVALID_PLAYER_ID;
	PlayerInfo[playerid][pSHOUSESIDx] = 0;
	PlayerInfo[playerid][pSHOUSEPrice] = 0;
	PlayerInfo[playerid][pSHOUSENumber] = 0;
	PlayerInfo[playerid][pSBIZSeller] = INVALID_PLAYER_ID;
	PlayerInfo[playerid][pSBIZBuyer] = INVALID_PLAYER_ID;
	PlayerInfo[playerid][pSBIZPrice] = 0;
	PlayerInfo[playerid][pSBIZNumber] = 0;
	PlayerInfo[playerid][pSHOTELSeller] = INVALID_PLAYER_ID;
	PlayerInfo[playerid][pSHOTELBuyer] = INVALID_PLAYER_ID;
	PlayerInfo[playerid][pSHOTELPrice] = 0;
	PlayerInfo[playerid][pSHOTELNumber] = 0;
	PlayerInfo[playerid][pSCARSeller] = INVALID_PLAYER_ID;
	PlayerInfo[playerid][pSCARSIDx] = 0;
	PlayerInfo[playerid][pSCARPrice] = 0;
	PlayerInfo[playerid][pSCARNumber] = 0;
	PlayerInfo[playerid][pSGUNSeller] = INVALID_PLAYER_ID;
	PlayerInfo[playerid][pSGUNSIDx] = 0;
	PlayerInfo[playerid][pSGUNWeapon] = 0;
	PlayerInfo[playerid][pSGUNAmmo] = 0;
	PlayerInfo[playerid][pSGUNAmount] = 0;
	PlayerInfo[playerid][pSGUNPrice] = 0;
	PlayerInfo[playerid][pSDRUGSSeller] = INVALID_PLAYER_ID;
	PlayerInfo[playerid][pSDRUGSSIDx] = 0;
	PlayerInfo[playerid][pSDRUGSAmount] = 0;
	PlayerInfo[playerid][pSDRUGSPrice] = 0;
	PlayerInfo[playerid][pSACCSeller] = INVALID_PLAYER_ID;
	PlayerInfo[playerid][pSACCSIDx] = 0;
	PlayerInfo[playerid][pSACCPrice] = 0;
	PlayerInfo[playerid][pSACCNumber] = 0;
	PlayerInfo[playerid][pSACCNumberIDx] = 0;
	PlayerInfo[playerid][pSLICSeller] = INVALID_PLAYER_ID;
	PlayerInfo[playerid][pSLICSIDx] = 0;
	PlayerInfo[playerid][pSLICPrice] = 0;
	PlayerInfo[playerid][pSLICType] = 0;
	PlayerInfo[playerid][pSINVSeller] = INVALID_PLAYER_ID;
	PlayerInfo[playerid][pSINVSIDx] = 0;
	PlayerInfo[playerid][pSINVPrice] = 0;
	PlayerInfo[playerid][pSINVNumber] = 0;
	PlayerInfo[playerid][pSINVNumberIDx] = 0;
    PlayerInfo[playerid][pDurakTable] = 0;
	PlayerInfo[playerid][pDurakIndex] = 0;
	PlayerInfo[playerid][pDurakBet] = 0;
	PlayerInfo[playerid][pDurakDeckSize] = 0;
	PlayerInfo[playerid][pDurakSelectIndex] = 0;
    PlayerInfo[playerid][pDurakReady] = false;
	PlayerInfo[playerid][pDurakBeaten] = false;
    PlayerInfo[playerid][pDurakAllowTake] = false;
    PlayerInfo[playerid][pEngineStalled] = 0;
    PlayerInfo[playerid][pDurakDeck][0] = EOS;
	noclipdata[playerid][cameramode] 	= CAMERA_MODE_NONE;
	noclipdata[playerid][lrold]	   	 	= 0;
	noclipdata[playerid][udold]   		= 0;
	noclipdata[playerid][mode]   		= 0;
	noclipdata[playerid][lastmove]   	= 0;
	noclipdata[playerid][accelmul]   	= 0.0;
	strmid(PlayerName[playerid], "None", 0, strlen("None"), MAX_PLAYER_NAME);
	return 1;
}
//==============================================================================
OnPlayerSecondUpdate()
{
	foreach(new i:Player)
	{
		if(!IsPlayerConnected(i)) continue;
		ProcessPlayerHealth(i);
		CheckPlayerMoney(i);
		CheckPlayerHospital(i);
		CheckPlayerAFK(i);
		CheckPlayerWeapon(i);
		CheckPlayerInvLogged(i);
		OnPlayerPickupExit(i);
		OnPlayerUpdateVehicleSpeed(i);
		CheckPlayerVehicleSpeed(i);
		CheckPlayerVehicleDetails(i);
		if(gWarningUpdate[i] < 60) gWarningUpdate[i]++;
		if(gWarningUpdate[i] == 60)
		{
		    for(new w = 0; w < 55; w++) gWarning[i][w] = 0;
		}
        if(ConstructionTimer[i] > 0)
        {
            ConstructionTimer[i]--;
            if(ConstructionTimer[i] < 1) OnPlayerEnterRaceCheckpoint(i);
        }
		if(PlayerInfo[i][pMaskTime] > 0)
		{
		    PlayerInfo[i][pMaskTime]--;
		    if(PlayerInfo[i][pMaskTime] == 0)
		    {
 				if(IsPlayerAttachedObjectSlotUsed(i, 0)) RemovePlayerAttachedObject(i, 0);
				if(PlayerInfo[i][pDuty] || IsACriminal(i))
				{
		     		if(DisguiseInfo[i]) SetPlayerDisguiseColor(i);
					else SetPlayerTeamColor(i);
				}
				else SetPlayerColor(i, F_NONE_COLOR);
			}
		}
		if(GetPVarInt(i, "HealmeCheck") <= gettime())
		{
		    DeletePVar(i, "HealmeCheck");
		    if(IsPlayerAttachedObjectSlotUsed(i, 4)) RemovePlayerAttachedObject(i, 4);
		}
		if(IsPlayerInAnyVehicle(i))
		{
			new vehicleid = GetPlayerVehicleID(i);
			if(Limit[vehicleid] == true && GetVehicleSpeed(vehicleid) > 60)
			{
				new
				Float: fDet,
				Float: fMul,
				Float: fPosX,
				Float: fPosY,
				Float: fPosZ
				;
				GetVehicleVelocity(vehicleid, fPosX, fPosY, fPosZ);

				fDet = (fPosX * fPosX) + (fPosY * fPosY) + (fPosZ * fPosZ);
				fMul = floatpower((40 / 100.0), 2.0);

				if(fMul < fDet) {
					fMul /= fDet;

					SetVehicleVelocity(vehicleid, (fPosX * fMul), (fPosY * fMul), (fPosZ * fMul));
				}
			}
            if((GetVehicleSpeed(vehicleid) > 0 && Engine[vehicleid] == false && IsPlayerMobile(i)) && !IsABike(vehicleid) && GetPlayerState(i) == PLAYER_STATE_DRIVER)
			{
				SetVehicleSpeed(vehicleid, 0);
				SPD(i, did_null, DSM, "{"#DC_MAIN"}Транспортное средство", "{"#DC_WHITE"}\
				В транспортном средстве не заведен двигатель, передвижение невозможно.\n\n\
				Возвращайтесь в транспортное средство и заведите двигатель с помощью\n\
				клавиши {"#DC_MAIN"}\"ALT\"{"#DC_WHITE"} или команды {"#DC_MAIN"}\"/en\".", "ОК", "");
			}
            if(!IsAPlane(vehicleid) && !IsABoat(vehicleid) && !IsABike(vehicleid) && GetPlayerState(i) == PLAYER_STATE_DRIVER)
            {
				if(PlayerInfo[i][pInterfaceSetting][5] == 0)
				{
					format(strings, sizeof(strings), "~n~~n~~n~~n~~n~~n~~n~~b~%d KM/H~n~%sLights~w~ / %sLocked~w~ / %sEngine~w~ / %sLimit~n~~w~~b~%d L", GetVehicleSpeed(vehicleid),
		                Lights[vehicleid] == true ? ("~g~"):("~r~"),
		                IsLocked[vehicleid] == true ? ("~g~"):("~w~"),
		                Engine[vehicleid] == true ? ("~g~"):("~w~"),
		                Limit[vehicleid] == true ? ("~g~"):("~w~"), Fuel[vehicleid]);
		            if(GetVehicleSpeed(vehicleid) > 0) GameTextForPlayer(i, strings, 1000, 3);
				}
			}
		}
		if(GetPlayerState(i) == PLAYER_STATE_ONFOOT && !gFirstPlayerUpdate[i]) { gFirstPlayerUpdate[i] = 1; }
		if(RegisterDerby[i] == 2 && IsPlayerInAnyVehicle(i) && GetPlayerVirtualWorld(i) == 500)
		{
		    new Float:x, Float:y, Float:z;
			new vehicleid = GetPlayerVehicleID(i);
			GetVehiclePos(vehicleid, x, y, z);
			if(EventMap == 0 && z < 82 || EventMap == 1 && z < 55)
			{
				for(new s = 0; s < MAX_DERBY_PLAYERS; s++)
				{
					if(DerbyPlayers[s] == i)
					{
						SetPlayerVirtualWorld(DerbyPlayers[s], 0);
						SetPlayerInterior(DerbyPlayers[s], 0);
						SetPlayerPos(DerbyPlayers[s], -1545.9233,-442.2566,6.0000);
						SetPlayerFacingAngle(DerbyPlayers[s], 43.6337);
						RegisterDerby[DerbyPlayers[s]] = 0;
						DerbyPlayers[s] = INVALID_PLAYER_ID;
						DestroyVehicle(DerbyVehicles[s]);
						SetPlayerControl(DerbyVehicles[s], true);
						SendMes(i, COLOR_MAIN, "Вы были дисквалифицированны с дерби.");
					}
				}
			}
		}
		// Охота;
		if(HuntingStart[i] == 1)
		{
			if(IsAPPos(i, 250.0, -1640.0566,-2240.6355,31.4766) || IsAPPos(i, 250.0, 870.2867,-25.2779,63.9615))
			{
                for(new idx = 0; idx < sizeof(HuntingInfo); idx++)
				{
					if(!IsPlayerInRangeOfPoint(i, 15.0, HuntingInfo[idx][hPos][0], HuntingInfo[idx][hPos][1], HuntingInfo[idx][hPos][2])) continue;
					if(HuntingInfo[idx][hObject] == -1 || HuntingInfo[idx][hStatus] == 1) continue;
					SendMes(i, COLOR_MAIN, "Вы подошли слишком близко к оленю и спугнули его.");
					if(HuntingInfo[idx][hObject] != INVALID_OBJECT_ID) DestroyObject(HuntingInfo[idx][hObject]);
					HuntingInfo[idx][hObject] = -1;
					HuntingInfo[idx][hRespawn] = 5;
				}
			}
		}
		// Ферма;
		if(FarmWorkTimer[i] > 0)
		{
			FarmWorkTimer[i] --;
			if(FarmWorkTimer[i] < 1) StopWorkInFarm(i);
		}
		// Обновляем счетчик для проверки на флуд через гос. новости;
		if(GetPVarInt(i, "GovAntiAttack") > 0) SetPVarInt(i, "GovAntiAttack", GetPVarInt(i, "GovAntiAttack") - 1);
		// Обновляем счетчик для проверки на атаку администратора;
		if(GetPVarInt(i, "AntiAdminAttack") > 0) SetPVarInt(i, "AntiAdminAttack", GetPVarInt(i, "AntiAdminAttack") - 1);
		if(NiteStickTazer[i] != 0) NiteStickTazer[i]--;
		for(new ac = 11; ac < 16; ac++) if(PlayerInfo[i][pTemp][ac] > 0) PlayerInfo[i][pTemp][ac]--;
		if(Freeze[i] == 1)
		{
		    new animlib[32];
			new animname[32];
			GetAnimationName(GetPlayerAnimationIndex(i), animlib, sizeof(animlib), animname, sizeof(animname));
			if(!(strcmp(animlib, "CRACK", true) == 0 && strcmp(animname, "crckdeth2", true) == 0))
			{
				SetPlayerControl(i, false);
				ApplyAnimation(i, "CRACK", "crckdeth2", 4.1, 0, 0, 0, 1, 0, 1);
  			}
  		}
		if(PlayerInfo[i][pAddictionInfo][0] >= 4000 && PlayerInfo[i][pAddictionInfo][2] == 0) PlayerInfo[i][pAddictionInfo][1]++;
		if(PlayerInfo[i][pAddictionInfo][1] > 600 && PlayerInfo[i][pAddictionInfo][2] == 0)
		{
			if(PlayerInfo[i][pAddictionInfo][1] == 602) SendMes(i, COLOR_MAIN, "У Вас началась ломка. Употребите наркотик или вылечитесь у медика.");
			ApplyAnimation(i, "CRACK", "crckdeth1", 4.0, 0, 0, 1, 1, 1);
		}
		if(PlayerInfo[i][pUpdate] < 300) PlayerInfo[i][pUpdate]++;
		if(PlayerInfo[i][pUpdate] >= 300)
		{
		    // Обнуляем счетчик обновления;
			PlayerInfo[i][pUpdate] = 0;
			// Сохроняем аккаунт;
			OnPlayerSaveAccount(i);
		}
		if(PlayerInfo[i][pTemp][0] != 0) PlayerInfo[i][pTemp][0]--;
		if(PlayerInfo[i][pTemp][2] != 0) PlayerInfo[i][pTemp][2]--;
		if(PlayerLogged[i] == 0)
		{
		    if(TimeLogged[i] != 180) TimeLogged[i]++;
			if(TimeLogged[i] == 180) KickWithMessage(i, COLOR_DARKORANGE, "Время на авторизацию ограничено. Введите (/q)");
  		}
		if(IsPlayerInAnyVehicle(i))
		{
			new Float:hp;
			new vehicleid = GetPlayerVehicleID(i);
			GetVehicleHealth(vehicleid, hp);
			if(hp < 300) SetVehicleHealth(vehicleid, 300);
		}
		if(Kicked[i] != 0) Kicked[i]--;
		if(ReportFlood[i] != 0) ReportFlood[i]--;
		if(QuestionFlood[i] != 0) QuestionFlood[i]--;
		if(GetPlayerSurfingVehicleID(i) != INVALID_VEHICLE_ID)
		{
			new vehicleid = GetPlayerSurfingVehicleID(i);
			//new model = GetVehicleModel(vehicleid);
			if(IsASurfCar(vehicleid))
			{
				new Float:p[3]; GetPlayerPos(i, p[0], p[1], p[2]);
				GetXYInBackOfPlayer(i, p[0], p[1], 2.0);
				SetPlayerPos(i, p[0], p[1], p[2]);
			}
		}
		if(PlayerLogged[i] == 1)
		{
			if(IsPlayerInAnyVehicle(i))
			{
				new vehicleid = GetPlayerVehicleID(i);
				new Float:speed = GetVehicleSpeed(vehicleid);
				new Float:mileage;
				mileage = (speed/4.4)/1000;
				VehInfo[vehicleid][vMileage] += mileage;
				if(GetPlayerState(i) == 2 && speed > 5)
				{
				    if(GetPVarInt(i, "RentTaxi") != vehicleid && VehInfo[vehicleid][vFraction] == V_J_TAXI && !IsPlayerMobile(i)) OnCheatDetected(i, "", 0, 54);
				    else if(GetPVarInt(i, "RentBus") != vehicleid && VehInfo[vehicleid][vFraction] == V_J_BUS && !IsPlayerMobile(i)) OnCheatDetected(i, "", 0, 54);
				    else if(GetPVarInt(i, "RentMechanic") != vehicleid && VehInfo[vehicleid][vFraction] == V_J_MECHANIC && !IsPlayerMobile(i)) OnCheatDetected(i, "", 0, 54);
				    else if(GetPVarInt(i, "RentProduct") != vehicleid && VehInfo[vehicleid][vFraction] == V_J_PRODUCT && !IsPlayerMobile(i)) OnCheatDetected(i, "", 0, 54);
				    else if(GetPVarInt(i, "RentFire") != vehicleid && VehInfo[vehicleid][vFraction] == V_J_FIREMAN && !IsPlayerMobile(i)) OnCheatDetected(i, "", 0, 54);
				    else if(GetPVarInt(i, "RentRoadman") != vehicleid && VehInfo[vehicleid][vFraction] == V_J_ROADMAN && !IsPlayerMobile(i)) OnCheatDetected(i, "", 0, 54);
				    else if(GetPVarInt(i, "RentPilot") != vehicleid && VehInfo[vehicleid][vFraction] == V_J_PILOT && !IsPlayerMobile(i)) OnCheatDetected(i, "", 0, 54);
				    else if(GetPVarInt(i, "RentPizzaboy") != vehicleid && VehInfo[vehicleid][vFraction] == V_J_PIZZABOY && !IsPlayerMobile(i)) OnCheatDetected(i, "", 0, 54);
				    else if(GetPVarInt(i, "RentPostman") != vehicleid && VehInfo[vehicleid][vFraction] == V_J_POSTMAN && !IsPlayerMobile(i)) OnCheatDetected(i, "", 0, 54);
				    else if(GetPVarInt(i, "RentTax") != vehicleid && VehInfo[vehicleid][vFraction] == V_J_TAX && !IsPlayerMobile(i)) OnCheatDetected(i, "", 0, 54);
				    else if(GetPVarInt(i, "RentCollector") != vehicleid && VehInfo[vehicleid][vFraction] == V_J_COLLECTOR && !IsPlayerMobile(i)) OnCheatDetected(i, "", 0, 54);
				    else if(GetPVarInt(i, "RentFlowersboy") != vehicleid && VehInfo[vehicleid][vFraction] == V_J_FLOWERSBOY && !IsPlayerMobile(i)) OnCheatDetected(i, "", 0, 54);
				    else if(GetPVarInt(i, "RentTruck") != vehicleid && VehInfo[vehicleid][vFraction] == V_J_TRUCK && !IsPlayerMobile(i)) OnCheatDetected(i, "", 0, 54);
				    else if(GetPVarInt(i, "RentVehicle") != vehicleid && VehInfo[vehicleid][vFraction] == V_RENT_VEHICLE && !IsPlayerMobile(i)) OnCheatDetected(i, "", 0, 54);
				    else if(VehInfo[vehicleid][vStatus] == V_SELL_VEHICLE && !IsPlayerMobile(i)) OnCheatDetected(i, "", 0, 54);
				}
			}
		}
		if(FishStart[i] != 0)
		{
		    if(!IsPlayerInAnyVehicle(i))
		    {
		        if(IsAPPos(i, 10.0, 834.4042,-2067.6128,12.9786) || IsAPPos(i, 10.0, -2947.4973,497.1897,2.4273) || IsAPPos(i, 10.0, -2975.9434,497.2688,2.4274) || IsAPPos(i, 10.0, 2359.6494,521.7528,1.9426) || IsAPPos(i, 10.0, 2293.8774,521.9255,1.9425))
				{
				    if(FishPress[i] == 0)
				    {
					    if(FishTimer[i] > 0)
					    {
					        FishTimer[i]--;
							if(random(500) == 250) StopFish(i, 4);
					    }
					    else
					    {
							FishTimer[i] = 5;
							if(random(2) == 1)
							{
								SendMes(i, COLOR_MAIN, "Рыба на крючке, быстрее подсекай, жми что показано на экране.");
								if(!IsPlayerMobile(i)) GameTextForPlayer(i, "~w~INPUT: ~g~/yes", 2500, 3);
								else SendMes(i, COLOR_MAIN, "Чтобы поймать рыбу введите {"#DC_WHITE"}\"/yes\".");
								FishPress[i] = 1;
							}
							else
							{
								SendMes(i, COLOR_MAIN, "Рыба на крючке, быстрее подсекай, жми что показано на экране.");
								if(!IsPlayerMobile(i)) GameTextForPlayer(i, "~w~INPUT: ~g~/no", 2500, 3);
								else SendMes(i, COLOR_MAIN, "Чтобы поймать рыбу введите {"#DC_WHITE"}\"/no\".");
								FishPress[i] = 2;
							}
					    }
					}
					else
					{
						if(FishTimer[i] > 0) FishTimer[i]--;
						else StopFish(i, 2);
					}
				}
			}
		}
		if(AdminLogged[i] == true && SpectatePlayer[i] != INVALID_PLAYER_ID)
		{
			new strr1[512];
			new Float:hppp;
			new Float:aermor;
			GetPlayerArmour(SpectatePlayer[i], aermor);
			GetPlayerHealth(SpectatePlayer[i], hppp);
			if(IsPlayerInAnyVehicle(SpectatePlayer[i]))
			{
				new Float:health;
				GetVehicleHealth(GetPlayerVehicleID(SpectatePlayer[i]), health);
				if(Limit[GetPlayerVehicleID(SpectatePlayer[i])] == true && GetPlayerVehicleID(SpectatePlayer[i]) > 60) format(strr1, sizeof(strr1), "%s~n~ID: ~g~%d~w~~n~~n~LVL: ~y~%d~w~ EXP: ~y~%d~w~~n~HP: ~y~%.0f~w~~n~Armour: ~y~%.0f~w~~n~Health: ~y~%.0f~w~~n~Speed: ~y~40~w~~n~AMMO: ~y~%d~w~~n~PING: ~r~%d~w~", PlayerInfo[SpectatePlayer[i]][pName], SpectatePlayer[i], PlayerInfo[SpectatePlayer[i]][pLevel], PlayerInfo[SpectatePlayer[i]][pExp], hppp, aermor, health, GetPlayerAmmo(SpectatePlayer[i]), GetPlayerPing(SpectatePlayer[i]));
				else format(strr1, sizeof(strr1), "%s~n~ID: ~g~%d~w~~n~~n~LVL: ~y~%d~w~ EXP: ~y~%d~w~~n~HP: ~y~%.0f~w~~n~Armour: ~y~%.0f~w~~n~Health: ~y~%.0f~w~~n~Speed: ~y~%d~w~~n~AMMO: ~y~%d~w~~n~PING: ~r~%d~w~", PlayerInfo[SpectatePlayer[i]][pName], SpectatePlayer[i], PlayerInfo[SpectatePlayer[i]][pLevel], PlayerInfo[SpectatePlayer[i]][pExp], hppp, aermor, health, GetVehicleSpeed(GetPlayerVehicleID(SpectatePlayer[i])), GetPlayerAmmo(SpectatePlayer[i]), GetPlayerPing(SpectatePlayer[i]));
				PlayerTextDrawSetString(i, ReconInfo[i], strr1);
			}
			else
			{
				format(strr1, sizeof(strr1), "%s~n~ID: ~g~%d~w~~n~~n~LVL: ~y~%d~w~ EXP: ~y~%d~w~~n~HP: ~y~%.0f~w~~n~Armour: ~y~%.0f~w~~n~AMMO: ~y~%d~w~~n~PING: ~r~%d~w~",
				PlayerInfo[SpectatePlayer[i]][pName], SpectatePlayer[i], PlayerInfo[SpectatePlayer[i]][pLevel], PlayerInfo[SpectatePlayer[i]][pExp], hppp, aermor, GetPlayerAmmo(SpectatePlayer[i]), GetPlayerPing(SpectatePlayer[i]));
				PlayerTextDrawSetString(i, ReconInfo[i], strr1);
			}
		}
		new Float:shealth;
		GetPlayerPos(i, MACInfo[i][macLastOnFootPos][0], MACInfo[i][macLastOnFootPos][1], MACInfo[i][macLastOnFootPos][2]);
		if(GetPlayerState(i) == PLAYER_STATE_DRIVER)
		{
			new vehicleid = GetPlayerVehicleID(i);
			if(Fuel[vehicleid] < 1 && PlayerFuelMes[vehicleid] == true)
			{
				SendMes(i, COLOR_DARKORANGE, "В транспортном средстве нет топлива, необходима заправка.");
				Engine[vehicleid] = false;
				Lights[vehicleid] = false;
				Limit[vehicleid] = false;
				PlayerFuelMes[vehicleid] = false;
			}
		}
		if(GetPVarInt(i, "AFK_Time") <= 10 && PlayerLogged[i] == 1)
		{
			PlayerInfo[i][pTime]++;
			PlayerInfo[i][pTimeToday]++;
		    if(PlayerInfo[i][pAdmin] > 0 && AdminLogged[i] == true) PlayerInfo[i][pAdminData][0]++;
		    PlayerInfo[i][pData][0]++;
		    if(PlayerInfo[i][pLevel] >= 3) PlayerInfo[i][pUpdateMoneyTime]++;
		    if(PlayerInfo[i][pUpdateMoneyStatus] == 0 && PlayerInfo[i][pLevel] >= 3)
		    {
	            if(PlayerInfo[i][pUpdateMoneyTime] == 54000)
	            {
	                PlayerInfo[i][pUpdateMoneyStatus] = 1;
			        SendMes(i, COLOR_MAIN, "За {"#DC_WHITE"}15{"#DC_MAIN"} часов игры на сервере Вы получили $100000%s.", (PlayerInfo[i][pVIP] > 0) ? (" и 100 DONATE COINS") : (", 100 DONATE COINS и VIP BRONZE"));
	               	ServerMoney(i, "Промокод 15 часов игры", 100000, 0);
	               	PlayerInfo[i][pDonateMoney] += 100;
					PlayerInfo[i][pDonateTotal] += 100;
					SetPlayerInt(PlayerInfo[i][pID], "donate", PlayerInfo[i][pDonateMoney]);
					SetPlayerInt(PlayerInfo[i][pID], "donatetotal", PlayerInfo[i][pDonateTotal]);
					if(PlayerInfo[i][pVIP] == 0)
					{
						PlayerInfo[i][pVIP] = 1;
						SetPlayerInt(PlayerInfo[i][pID], "vip", PlayerInfo[i][pVIP]);
					}
	            }
			}
		    if(PlayerInfo[i][pLevel] >= 3) PlayerInfo[i][pBonusTime]++;
            if(PlayerInfo[i][pBonusTime] == 10800 && PlayerInfo[i][pLevel] >= 3)
            {
		        SendMes(i, COLOR_MAIN, "За {"#DC_WHITE"}3{"#DC_MAIN"} часа игры на сервере Вы получили ежедневную награду.");
                SendMes(i, COLOR_MAIN, "Подробности: {"#DC_WHITE"}/mn > Ежедневные награды");
            }
		}
		if(Mobile[i] != -1)
		{
		    new caller = Mobile[i];
			SetPVarInt(caller, "CallTime", GetPVarInt(caller, "CallTime") + 1);
			if(GetPVarInt(caller, "CallTime") >= 30)
			{
				if(PlayerInfo[caller][pPhoneBalance] > 100)
				{
					PlayerInfo[caller][pPhoneBalance] -= 100;
					SetPVarInt(caller, "CallTime", 0);
				}
				else
				{
					SendMes(caller, COLOR_MAIN, "Извините, связь прервалась.");
					SetPlayerSpecialAction(caller, SPECIAL_ACTION_STOPUSECELLPHONE);
					SetPlayerSpecialAction(i, SPECIAL_ACTION_STOPUSECELLPHONE);
					CellTime[i] = -1;
					Mobile[i] = -1;
					CellTime[caller] = -1;
					Mobile[caller] = -1;
					DeletePVar(i, "CallTime");
					DeletePVar(caller, "CallTime");
					SendMes(i, COLOR_DARKORANGE, "У Вас недостаточно средств на мобильном счете.");
				}
			}
		}
		if(PlayerInfo[i][pJail] > 0)
		{
			PlayerInfo[i][pJailTime]--;
			if(PlayerInfo[i][pJailTime] <= 0)
			{
				switch(PlayerInfo[i][pJail])
	   			{
	      			case 1: SetPlayerPos(i, 1542.8539,-1675.7096,13.5553), SetPlayerFacingAngle(i, 91.3516);
	      			case 2: SetPlayerPos(i, -1606.1125,721.0179,12.0703), SetPlayerFacingAngle(i, 3.9307);
	      			case 3: SetPlayerPos(i, 2337.2456,2455.0818,14.9688), SetPlayerFacingAngle(i, 181.5690);
	      			default: SetPlayerPos(i, 1542.8539,-1675.7096,13.5553), SetPlayerFacingAngle(i, 91.3516);
	   			}
				SetPlayerInterior(i, 0), SetPlayerVirtualWorld(i, 0);
				SendMes(i, COLOR_MAIN, "Вы заплатили свой долг обществу, теперь вы свободны.");
				format(strings, sizeof(strings), "[F] Диспетчер: %s выпущен из городской тюрьмы.", PlayerInfo[i][pName]);
				SendFMes(F_LSPD, COLOR_NEWLBLUE, strings), SendFMes(F_SFPD, COLOR_NEWLBLUE, strings), SendFMes(F_LVPD, COLOR_NEWLBLUE, strings), SendFMes(F_FBI, COLOR_NEWLBLUE, strings);
				format(strings, sizeof(strings), "~g~Freedom");
				GameTextForPlayer(i, strings, 5000, 1);
				PlayerInfo[i][pJail] = 0;
				PlayerInfo[i][pJailTime] = 0;
			}
		}
		if(PursiutTime[i] > 0 && Pursuer[i] != -1)
		{
			PursiutTime[i]--;
			if(PursiutTime[i] == 0)
			{
				SendMes(Pursuer[i], COLOR_MAIN, "Преследование окончено.");
				SendMes(i, COLOR_MAIN, "Преследование окончено.");
				ClearPursiut(i);
			}
		}
		if(Patrul[i] != -1)
		{
			if(!ProxDetectorS(1000.0, i, Patrul[i]))
			{
				SendMes(i, COLOR_MAIN, "Преступник скрылся в неизвестном направлении.");
				Patrolled[Patrul[i]] = -1;
				Patrul[i] = -1;
				DisablePlayerRaceCheckpoint(i);
			}
			else if(Patrolled[Patrul[i]] != i)
			{
				Patrul[i] = -1;
				DisablePlayerRaceCheckpoint(i);
			}
			else
			{
				new Float:Pos[3];
				GetPlayerPos(Patrul[i], Pos[0], Pos[1], Pos[2]);
				SetPlayerRaceCheckpoint(i, 0, Pos[0], Pos[1], Pos[2], 0.0, 0.0, 0.0, 1.5);
			}
		}
		if(PlayerInfo[i][pMute] != 0)
		{
			PlayerInfo[i][pMute]--;
			if(PlayerInfo[i][pMute] < 0) PlayerInfo[i][pMute] = 0;
			if(PlayerInfo[i][pMute] == 0)
			{
				SendMes(i, COLOR_MAIN, "Время бан чата закончилось, теперь Вы можете говорить.");
			}
		}
		SetPVarInt(i, "SatietyTime", GetPVarInt(i, "SatietyTime") + 1);
		if(GetPVarInt(i, "SatietyTime") == 60)
		{
			SetPVarInt(i, "SatietyTime", 0);
   			GetPlayerHealth(i, shealth);
			if(PlayerInfo[i][pSatiety] > 0)
			{
				SetSatiety(i, PlayerInfo[i][pSatiety]-1);
				if(PlayerInfo[i][pSatiety] < 20)
				{
				    if(PlayerInfo[i][pSatiety] == 15) SendMes(i, COLOR_MAIN, "Вы проголодались! Посетите пожалуйста закусочную. Посмотреть « {"#DC_WHITE"}Сытость{"#DC_MAIN"} » можно с помощью команды {"#DC_WHITE"}/satiety.");
					if(PlayerInfo[i][pVIP] == 3) SetHealth(i, shealth-0.500);
					else SetHealth(i, shealth-1.000);
				}
				else if(PlayerInfo[i][pSatiety] < 40)
				{
				    if(PlayerInfo[i][pSatiety] == 35) SendMes(i, COLOR_MAIN, "Вы проголодались! Посетите пожалуйста закусочную. Посмотреть « {"#DC_WHITE"}Сытость{"#DC_MAIN"} » можно с помощью команды {"#DC_WHITE"}/satiety.");
					if(PlayerInfo[i][pVIP] == 3) SetHealth(i, shealth-0.375);
					else SetHealth(i, shealth-0.750);
				}
				else if(PlayerInfo[i][pSatiety] < 60)
				{
				    if(PlayerInfo[i][pSatiety] == 55) SendMes(i, COLOR_MAIN, "Вы проголодались! Посетите пожалуйста закусочную. Посмотреть « {"#DC_WHITE"}Сытость{"#DC_MAIN"} » можно с помощью команды {"#DC_WHITE"}/satiety.");
					if(PlayerInfo[i][pVIP] == 3) SetHealth(i, shealth-0.250);
					else SetHealth(i, shealth-0.500);
				}
				else if(PlayerInfo[i][pSatiety] < 80)
				{
					if(PlayerInfo[i][pVIP] == 3) SetHealth(i, shealth-0.125);
					else SetHealth(i, shealth-0.250);
				}
			}
			else
			{
				if(PlayerInfo[i][pVIP] == 3) SetHealth(i, shealth-0.625);
				else SetHealth(i, shealth-1.250);
			}
		}
		if(GetPVarInt(i, "AFK_Time") < 3) SetPVarInt(i, "DiseaseTime", GetPVarInt(i, "DiseaseTime") + 1);
		if(GetPVarInt(i, "DiseaseTime") >= 600 && GetPVarInt(i, "AFK_Time") < 3)
		{
		    SetPVarInt(i, "DiseaseTime", 0);
		    if(PlayerInfo[i][pDisease][0] && PlayerInfo[i][pAdmin] == 0)
		    {
				format(strings, sizeof(strings), "%s покашлял(-а)", PlayerInfo[i][pName]);
				SRM(i, 10.0, COLOR_LPURPLE, strings);
				SPCB(i, "покашлял(-а)", COLOR_LPURPLE, 10.0, 1000);
				GetPlayerHealth(i, shealth);
				SetHealth(i, shealth-PlayerInfo[i][pDisease][0]*1.000);
		    }
		    if(PlayerInfo[i][pDisease][1] && PlayerInfo[i][pAdmin] == 0)
		    {
				format(strings, sizeof(strings), "%s стошнило. (( %s ))", PlayerInfo[i][pName], PlayerInfo[i][pName]);
				SRM(i, 10.0, COLOR_LPURPLE, strings);
			  	if(!IsPlayerInAnyVehicle(i))
		  		{
				  	ClearAnimations(i);
					ApplyAnimation(i, "FOOD", "EAT_Vomit_P", 4.1, 0, 1, 1, 1, 1, 1);
					SetTimerEx("OnPlayerClearAnimText", 7000, false, "d", i);
				}
				GetPlayerHealth(i, shealth);
				SetHealth(i, shealth-PlayerInfo[i][pDisease][1]*2.500);
		    }
		    if(PlayerInfo[i][pDisease][2] && PlayerInfo[i][pAdmin] == 0)
		    {
				GetPlayerHealth(i, shealth);
				SetHealth(i, shealth-PlayerInfo[i][pDisease][2]*5.000);
		    }
		}
		if(MedicCallTime[i] > 0)
		{
			format(strings, sizeof(strings), "%d", MedicCallTime[i]);
			GameTextForPlayer(i, strings, 1500, 6);
			MedicCallTime[i]--;
			if(MedicCallTime[i] == 0)
			{
				PlayerPlaySound(i, 1056, 0.0, 0.0, 0.0);
				/*GameTextForPlayer(i, "~r~–APKEP УCЏAмO‹‡Eм", 2500, 1);*/
				DisablePlayerRaceCheckpoint(i);
			}
		}
		if(MechCallTime[i] > 0)
		{
			format(strings, sizeof(strings), "%d", MechCallTime[i]);
			GameTextForPlayer(i, strings, 1500, 6);
			MechCallTime[i]--;
			if(MechCallTime[i] == 0)
			{
				PlayerPlaySound(i, 1056, 0.0, 0.0, 0.0);
				/*GameTextForPlayer(i, "~r~–APKEP УCЏAмO‹‡Eм", 2500, 1);*/
				DisablePlayerRaceCheckpoint(i);
			}
		}
		if(TaxiCallTime[i] > 0)
		{
			format(strings, sizeof(strings), "%d", TaxiCallTime[i]);
			GameTextForPlayer(i, strings, 1500, 6);
			TaxiCallTime[i]--;
			if(TaxiCallTime[i] == 0)
			{
				PlayerPlaySound(i, 1056, 0.0, 0.0, 0.0);
				/*GameTextForPlayer(i, "~r~–APKEP УCЏAмO‹‡Eм", 2500, 1);*/
				DisablePlayerRaceCheckpoint(i);
			}
		}
		if(RobberyFuelingTime[i] > 0)
		{
		    RobberyFuelingTime[i]--;
			if(RobberyFuelingTime[i] == 0)
			{
		        RobberyFuelingIDx[i] = 0;
		        RobberyFuelingTime[i] = 0;
		        SendMes(i, COLOR_MAIN, "Время на ограбление вышло, копы близко!");
			}
		}
		if(RobberyBankTime[i] > 0)
		{
		    RobberyBankTime[i]--;
			if(RobberyBankTime[i] == 0)
			{
		        RobberyBankIDx[i] = 0;
		        RobberyBankTime[i] = 0;
		        SendMes(i, COLOR_MAIN, "Время на ограбление вышло, копы близко!");
			}
		}
		if(GetPlayerDrunkLevel(i) > 0)
		{
			SetPVarInt(i, "DrunkTime", GetPVarInt(i, "DrunkTime") + 1);
			if(GetPVarInt(i, "DrunkTime") >= 100)
			{
				SetPlayerDrunkLevel(i, GetPlayerDrunkLevel(i) - 1000);
				SetPVarInt(i, "DrunkTime", 0);
			}
		}
		if(GetPVarInt(i, "LicTimer") > 0)
		{
		    new vehicleid = GetPlayerVehicleID(i);
			if(GetPlayerState(i) != 2 || VehInfo[vehicleid][vFraction] != V_LICENSE)
			{
				SetPVarInt(i, "LicTimer", GetPVarInt(i, "LicTimer") - 1);
				format(strings, sizeof(strings), "~w~VEHICLE SPAWN: ~r~%d", GetPVarInt(i, "LicTimer") - 1);
				GameTextForPlayer(i, strings, 2000, 6);
				if(GetPVarInt(i, "LicTimer") == 0)
				{
					SendMes(i, COLOR_MAIN, "Время истекло, вы провалили экзамен по вождению.");
					DeletePVar(i, "LicTest");
					DeletePVar(i, "LicTestHealth");
					DeletePVar(i, "LicTestError");
					DeletePVar(i, "LicTimer");
				}
			}
		}
		if(BusTime[i] <= 11 && BusTime[i] >= 1)
		{
			BusTime[i]--;
			format(strings, sizeof(strings), "~r~%d", BusTime[i]);
			GameTextForPlayer(i, strings, 2000, 6);
			if(BusTime[i] < 1)
			{
				DeletePVar(i, "BusStop");
				OnPlayerEnterRaceCheckpoint(i);
			}
		}
		if(GetPVarInt(i, "BusTimer") > 0)
		{
		    new vehicleid = GetPlayerVehicleID(i);
			if(GetPlayerState(i) != 2 || vehicleid != ArendsCar[i] || VehInfo[vehicleid][vFraction] != V_J_BUS || vehicleid != GetPVarInt(i, "RentBus"))
			{
				SetPVarInt(i, "BusTimer", GetPVarInt(i, "BusTimer") - 1);
				format(strings, sizeof(strings), "~w~VEHICLE SPAWN: ~r~%d", GetPVarInt(i, "BusTimer") - 1);
				GameTextForPlayer(i, strings, 2000, 6);
				if(GetPVarInt(i, "BusTimer") == 0) LeaveFromBus(i);
			}
		}
		if(GetPVarInt(i, "TaxiTimer") > 0)
		{
		    new vehicleid = GetPlayerVehicleID(i);
			if(GetPlayerState(i) != 2 || vehicleid != ArendsCar[i] || VehInfo[vehicleid][vFraction] != V_J_TAXI || vehicleid != GetPVarInt(i, "RentTaxi"))
			{
				SetPVarInt(i, "TaxiTimer", GetPVarInt(i, "TaxiTimer") - 1);
				format(strings, sizeof(strings), "~w~VEHICLE SPAWN: ~r~%d", GetPVarInt(i, "TaxiTimer") - 1);
				GameTextForPlayer(i, strings, 2000, 6);
				if(GetPVarInt(i, "TaxiTimer") == 0) LeaveFromTaxi(i);
			}
		}
		if(GetPVarInt(i, "MehTimer") > 0)
		{
		    new vehicleid = GetPlayerVehicleID(i);
			if(GetPlayerState(i) != 2 || vehicleid != ArendsCar[i] || VehInfo[vehicleid][vFraction] != V_J_MECHANIC || vehicleid != GetPVarInt(i, "RentMechanic"))
			{
				SetPVarInt(i, "MehTimer", GetPVarInt(i, "MehTimer") - 1);
				format(strings, sizeof(strings), "~w~VEHICLE SPAWN: ~r~%d", GetPVarInt(i, "MehTimer") - 1);
				GameTextForPlayer(i, strings, 2000, 6);
				if(GetPVarInt(i, "MehTimer") == 0) LeaveFromMechanic(i);
			}
		}
		if(GetPVarInt(i, "ProductTimer") > 0)
		{
		    new vehicleid = GetPlayerVehicleID(i);
			if(GetPlayerState(i) != 2 || vehicleid != ArendsCar[i] || VehInfo[vehicleid][vFraction] != V_J_PRODUCT || vehicleid != GetPVarInt(i, "RentProduct"))
			{
				SetPVarInt(i, "ProductTimer", GetPVarInt(i, "ProductTimer") - 1);
				format(strings, sizeof(strings), "~w~VEHICLE SPAWN: ~r~%d", GetPVarInt(i, "ProductTimer") - 1);
				GameTextForPlayer(i, strings, 2000, 6);
				if(GetPVarInt(i, "ProductTimer") == 0) LeaveFromProduct(i);
			}
		}
		if(GetPVarInt(i, "RoadmanTimer") > 0)
		{
		    new vehicleid = GetPlayerVehicleID(i);
			if(GetPlayerState(i) != 2 || vehicleid != ArendsCar[i] || VehInfo[vehicleid][vFraction] != V_J_ROADMAN || vehicleid != GetPVarInt(i, "RentRoadman"))
			{
				SetPVarInt(i, "RoadmanTimer", GetPVarInt(i, "RoadmanTimer") - 1);
				format(strings, sizeof(strings), "~r~%d", GetPVarInt(i, "RoadmanTimer") - 1);
				GameTextForPlayer(i, strings, 2000, 6);
				if(GetPVarInt(i, "RoadmanTimer") == 0) LeaveFromRoadman(i);
			}
		}
		if(GetPVarInt(i, "PilotTimer") > 0)
		{
		    new vehicleid = GetPlayerVehicleID(i);
			if(GetPlayerState(i) != 2 || vehicleid != ArendsCar[i] || VehInfo[vehicleid][vFraction] != V_J_PILOT || vehicleid != GetPVarInt(i, "RentPilot"))
			{
				SetPVarInt(i, "PilotTimer", GetPVarInt(i, "PilotTimer") - 1);
				format(strings, sizeof(strings), "~r~%d", GetPVarInt(i, "PilotTimer") - 1);
				GameTextForPlayer(i, strings, 2000, 6);
				if(GetPVarInt(i, "PilotTimer") == 0) LeaveFromPilot(i);
			}
		}
		if(GetPVarInt(i, "FireTimer") > 0)
		{
		    new vehicleid = GetPlayerVehicleID(i);
			if(GetPlayerState(i) != 2 || vehicleid != ArendsCar[i] || VehInfo[vehicleid][vFraction] != V_J_FIREMAN || vehicleid != GetPVarInt(i, "RentFire"))
			{
				SetPVarInt(i, "FireTimer", GetPVarInt(i, "FireTimer") - 1);
		        new firetime = FireTimer[i];
		        format(strings, sizeof(strings), "~w~TIME: ~y~%02d:%02d~n~~w~PROGRESS: ~y~%d/5~n~~w~VEHICLE SPAWN: ~r~%d", firetime / 60, firetime - ((firetime / 60) * 60), FireExtingCount[i], GetPVarInt(i, "FireTimer") - 1);
				GameTextForPlayer(i, strings, 2000, 6);
				if(GetPVarInt(i, "FireTimer") == 0) LeaveFromFire(i);
			}
		}
		if(GetPVarInt(i, "TruckTimer") > 0)
		{
		    new vehicleid = GetPlayerVehicleID(i);
			if(GetPlayerState(i) != 2 || vehicleid != ArendsCar[i] || VehInfo[vehicleid][vFraction] != V_J_TRUCK || vehicleid != GetPVarInt(i, "RentTruck"))
			{
				SetPVarInt(i, "TruckTimer", GetPVarInt(i, "TruckTimer") - 1);
				format(strings, sizeof(strings), "~r~%d", GetPVarInt(i, "TruckTimer") - 1);
				GameTextForPlayer(i, strings, 2000, 6);
				if(GetPVarInt(i, "TruckTimer") == 0) LeaveFromTruck(i);
			}
		}
		if(GetPVarInt(i, "PizzaboyTimer") > 0)
		{
		    new vehicleid = GetPlayerVehicleID(i);
			if(GetPlayerState(i) != 2 || vehicleid != ArendsCar[i] || VehInfo[vehicleid][vFraction] != V_J_PIZZABOY || vehicleid != GetPVarInt(i, "RentPizzaboy"))
			{
				SetPVarInt(i, "PizzaboyTimer", GetPVarInt(i, "PizzaboyTimer") - 1);
				format(strings, sizeof(strings), "~r~%d", GetPVarInt(i, "PizzaboyTimer") - 1);
				GameTextForPlayer(i, strings, 2000, 6);
				if(GetPVarInt(i, "PizzaboyTimer") == 0) LeaveFromPizzaboy(i);
			}
		}
		if(GetPVarInt(i, "PostmanTimer") > 0)
		{
		    new vehicleid = GetPlayerVehicleID(i);
			if(GetPlayerState(i) != 2 || vehicleid != ArendsCar[i] || VehInfo[vehicleid][vFraction] != V_J_POSTMAN || vehicleid != GetPVarInt(i, "RentPostman"))
			{
				SetPVarInt(i, "PostmanTimer", GetPVarInt(i, "PostmanTimer") - 1);
				format(strings, sizeof(strings), "~r~%d", GetPVarInt(i, "PostmanTimer") - 1);
				GameTextForPlayer(i, strings, 2000, 6);
				if(GetPVarInt(i, "PostmanTimer") == 0) LeaveFromPostman(i);
			}
		}
		if(GetPVarInt(i, "TaxTimer") > 0)
		{
		    new vehicleid = GetPlayerVehicleID(i);
			if(GetPlayerState(i) != 2 || vehicleid != ArendsCar[i] || VehInfo[vehicleid][vFraction] != V_J_TAX || vehicleid != GetPVarInt(i, "RentTax"))
			{
				SetPVarInt(i, "TaxTimer", GetPVarInt(i, "TaxTimer") - 1);
				format(strings, sizeof(strings), "~r~%d", GetPVarInt(i, "TaxTimer") - 1);
				GameTextForPlayer(i, strings, 2000, 6);
				if(GetPVarInt(i, "TaxTimer") == 0) LeaveFromTax(i);
			}
		}
		if(GetPVarInt(i, "CollectorTimer") > 0)
		{
		    new vehicleid = GetPlayerVehicleID(i);
			if(GetPlayerState(i) != 2 || vehicleid != ArendsCar[i] || VehInfo[vehicleid][vFraction] != V_J_COLLECTOR || vehicleid != GetPVarInt(i, "RentCollector"))
			{
				SetPVarInt(i, "CollectorTimer", GetPVarInt(i, "CollectorTimer") - 1);
				format(strings, sizeof(strings), "~r~%d", GetPVarInt(i, "CollectorTimer") - 1);
				GameTextForPlayer(i, strings, 2000, 6);
				if(GetPVarInt(i, "CollectorTimer") == 0) LeaveFromCollector(i);
			}
		}
		if(GetPVarInt(i, "FlowersboyTimer") > 0)
		{
		    new vehicleid = GetPlayerVehicleID(i);
			if(GetPlayerState(i) != 2 || vehicleid != ArendsCar[i] || VehInfo[vehicleid][vFraction] != V_J_FLOWERSBOY || vehicleid != GetPVarInt(i, "RentFlowersboy"))
			{
				SetPVarInt(i, "FlowersboyTimer", GetPVarInt(i, "FlowersboyTimer") - 1);
				format(strings, sizeof(strings), "~r~%d", GetPVarInt(i, "FlowersboyTimer") - 1);
				GameTextForPlayer(i, strings, 2000, 6);
				if(GetPVarInt(i, "FlowersboyTimer") == 0) LeaveFromFlowersboy(i);
			}
		}
		if(GetPVarInt(i, "ConstructionTimer") > 0)
		{
		    new vehicleid = GetPlayerVehicleID(i);
			if(GetPlayerState(i) != 2 || vehicleid != ArendsCar[i] || (VehInfo[vehicleid][vFraction] != V_J_CONSTRUCTION_FORKLIFT && VehInfo[vehicleid][vFraction] != V_J_CONSTRUCTION_CEMENT) || vehicleid != GetPVarInt(i, "RentConstruction"))
			{
				SetPVarInt(i, "ConstructionTimer", GetPVarInt(i, "ConstructionTimer") - 1);
				format(strings, sizeof(strings), "~r~%d", GetPVarInt(i, "ConstructionTimer") - 1);
				GameTextForPlayer(i, strings, 2000, 6);
				if(GetPVarInt(i, "ConstructionTimer") == 0)
				{
					if(GetPVarInt(i, "RentConstruction"))
					{
						new idx = GetPVarInt(i, "RentConstruction");
						DeletePVar(i, "RentConstruction");
						ArendsCar[i] = 0;
						SetVehicleToRespawn(idx);
					}
				}
			}
		}
		if(RoadmanStatus[i] == true)
		{
		    if(RoadmanIDx[i] == 0 && RoadmanTimer[i] > 0)
		    {
		        RoadmanTimer[i]--;
		        if(RoadmanTimer[i] == 0)
		        {
		            if(GetPlayerState(i) == PLAYER_STATE_DRIVER && GetVehicleModel(GetPlayerVehicleID(i)) == 552 && ArendsCar[i] == GetPVarInt(i, "RentRoadman")) CreateRoadcrash(i);
		            else RoadmanTimer[i] = 30;
		        }
		    }
		    else if(RoadmanIDx[i] > 0 && RoadmanTimer[i] > 0)
		    {
		        RoadmanTimer[i]--;
		        if(RoadmanTimer[i] == 0)
		        {
					new idx = RoadmanIDx[i] - 1;
					RoadcrashInfo[idx][rStatus] = 0;
					SendMes(i, COLOR_MAIN, "Вы не успели устранить поломку. Ожидайте нового вызова.");
					DestroyRoadcrash(i);
					RoadmanIDx[i] = 0;
					RoadmanTimer[i] = 60 + random(60);
					DisablePlayerRaceCheckpoint(i);
				}
			}
		}
		if(FireStatus[i] == true)
		{
		    if(FireIDx[i] == 0 && FireTimer[i] > 0)
		    {
		        FireTimer[i]--;
		        if(FireTimer[i] == 0)
		        {
		            if(GetPlayerState(i) == PLAYER_STATE_DRIVER && GetVehicleModel(GetPlayerVehicleID(i)) == 544 && ArendsCar[i] == GetPVarInt(i, "RentFire")) CreateFire(i);
		            else FireTimer[i] = 30;
		        }
		    }
		    else if(FireIDx[i] > 0 && FireTimer[i] > 0)
		    {
		        FireTimer[i]--;
				if(FireTimer[i] == 0)
		        {
					new idx = FireIDx[i] - 1;
					FireInfo[idx][fStatus] = 0;
					SendMes(i, COLOR_MAIN, "Вы не успели потушить пожар. Ожидайте нового вызова.");
					DestroyFire(i);
					DisablePlayerRaceCheckpoint(i);
					FireIDx[i] = 0;
					FireTimer[i] = 60 + random(60);
				}
			}
			if(FireIDx[i] > 0 && GetPlayerState(i) == PLAYER_STATE_ONFOOT && GetPlayerWeapon(i) == 42)
			{
				new idx = FireIDx[i] - 1;
				for(new x = 0; x < 5; x++)
				{
				    if(FireInfo[idx][fObject][x] == -1) continue;
					if(IsPlayerInRangeOfPoint(i, 2.5, FireInfo[idx][fPos][x * 3 + 0], FireInfo[idx][fPos][x * 3 + 1], FireInfo[idx][fPos][x * 3 + 2]))
					{
						if(FireExting[i] != x)
						{
							FireExting[i] = x;
							FireExtingCount[i] = 0;
							continue;
						}
						new fGun, fAmmo;
						GetPlayerWeaponData(i, 9, fGun, fAmmo);
						if(fAmmo < FireAmmo[i])
						{
							FireExtingCount[i]++;
					    	FireAmmo[i] = fAmmo;
						}
						if(FireAmmo[i] < 500)
						{
							GiveWeapon(i, 42, 9999 - FireAmmo[i]);
							FireAmmo[i] = 9999;
						}
						if(FireExtingCount[i] == 5)
						{
							FireExtingCount[i] = 0;
							if(IsValidDynamicObject(FireInfo[idx][fObject][x])) DestroyDynamicObject(FireInfo[idx][fObject][x]);
							FireInfo[idx][fObject][x] = -1;
							new salary = RandomEx(400, 600);
							new reason_money = salary + GetPlayerMoneyJobSkill(i, salary, 21);
							if(Stocks[1] != 1) reason_money = reason_money * Stocks[1];
							PlayerInfo[i][pPayCheck] += reason_money;
							PlayerInfo[i][pTOPSalary] += reason_money;
							SendMes(i, COLOR_MAIN, "Один из источников возгорания был потушен. К вашей зарплате добавлено: {"#DC_WHITE"}$%d.", reason_money);
							FireSalary[i] += reason_money;
							new checkfires;
							for(new c = 0; c < 5; c++) if (FireInfo[idx][fObject][c] != -1) checkfires++;
							if(checkfires == 0)
							{
								FireInfo[idx][fStatus] = 0;
								FireIDx[i] = 0;
								FireTimer[i] = RandomEx(60, 120);
								format(strings, sizeof(strings), "Пожар на предприятии {"#DC_WHITE"}%s{"#DC_MAIN"} в районе {"#DC_WHITE"}%s{"#DC_MAIN"} был потушен.", FireInfo[idx][fName], FireInfo[idx][fCity]);
								SendMes(i, COLOR_MAIN, strings);
								SendMes(i, COLOR_MAIN, "Ожидайте новый вызов.");
								DisablePlayerRaceCheckpoint(i);
								CheckQuest(i, 14);
								CheckTask(i, 35);
								CheckJobSkill(i, 21);
								CheckAchievement(i, 21);
							}
						}
						break;
					}
				}
			}
		}
		if(TruckerStatus[i] == true)
        {
            if(TruckStatus[i] == 0 && TruckTimer[i] > 0)
            {
                TruckTimer[i]--;
                if(TruckTimer[i] == 0)
                {
                	if(GetPlayerState(i) == PLAYER_STATE_DRIVER && (GetVehicleModel(GetPlayerVehicleID(i)) == 456 || GetVehicleModel(GetPlayerVehicleID(i)) == 498 || GetVehicleModel(GetPlayerVehicleID(i)) == 455) && ArendsCar[i] == GetPVarInt(i, "RentTruck")) CreateTruck(i);
                    else TruckTimer[i] = 30;
                }
            }
            else if(TruckStatus[i] > 0 && TruckTimer[i] > 0)
            {
                TruckTimer[i]--;
                if(TruckTimer[i] == 0)
                {
                    SendMes(i, COLOR_MAIN, "Вы не успели выполнить заказ. Ожидайте нового вызова.");
                    DestroyTruck(i);
                    TruckStatus[i] = 0;
                    TruckSalary[i] = 0;
                    TruckCount[i] = 0;
                    TruckCheck[i] = 0;
                    TruckTimer[i] = 60 + random(60);
                    DisablePlayerRaceCheckpoint(i);
                }
            }
        }
		if(JanitorStatus[i] == true)
		{
		    if(JanitorIDx[i] == -1 && JanitorTimer[i] > 0)
		    {
		        JanitorTimer[i]--;
		        if(JanitorTimer[i] == 0) CreateTrash(i);
		    }
		    else if(JanitorIDx[i] > 0 && JanitorTimer[i] > 0)
		    {
		        JanitorTimer[i]--;
		        if(JanitorTimer[i] == 0)
		        {
					new idx = JanitorIDx[i];
					JanitorInfo[idx][jStatus] = 0;
					SendMes(i, COLOR_MAIN, "Вы не успели устранить мусор. Ожидайте нового вызова.");
					DestroyTrash(i);
					JanitorIDx[i] = -1;
					JanitorTimer[i] = 15 + random(15);
					DisablePlayerCheckpoint(i);
				}
			}
		}
		if(GardenerStatus[i] == true)
		{
		    if(GardenerIDx[i] == -1 && GardenerTimer[i] > 0)
		    {
		        GardenerTimer[i]--;
		        if(GardenerTimer[i] == 0) CreateGardener(i);
		    }
		    else if(GardenerIDx[i] > 0 && JanitorTimer[i] > 0)
		    {
		        GardenerTimer[i]--;
		        if(GardenerTimer[i] == 0)
		        {
					new idx = GardenerIDx[i];
					GardenerInfo[idx][gStatus] = 0;
					SendMes(i, COLOR_MAIN, "Вы не успели полить дерево. Ожидайте нового вызова.");
					DestroyGardener(i);
					GardenerIDx[i] = -1;
					GardenerTimer[i] = 15 + random(15);
					DisablePlayerCheckpoint(i);
				}
			}
		}
		if(CleanerStatus[i] == true)
		{
		    if(CleanerIDx[i] == -1 && CleanerTimer[i] > 0)
		    {
		        CleanerTimer[i]--;
		        if(CleanerTimer[i] == 0) CreateFish(i);
		    }
		    else if(CleanerIDx[i] > 0 && CleanerTimer[i] > 0)
		    {
		        CleanerTimer[i]--;
		        if(CleanerTimer[i] == 0)
		        {
					new idx = CleanerIDx[i];
					CleanerInfo[idx][cStatus] = 0;
					SendMes(i, COLOR_MAIN, "Вы не успели устранить рыбу. Ожидайте нового вызова.");
					DestroyFish(i);
					CleanerIDx[i] = -1;
					CleanerTimer[i] = 15 + random(15);
					DisablePlayerCheckpoint(i);
				}
			}
		}
		if(ZooWorkerStatus[i] == true)
		{
		    if(ZooWorkerIDx[i] == -1 && ZooWorkerTimer[i] > 0)
		    {
		        ZooWorkerTimer[i]--;
		        if(ZooWorkerTimer[i] == 0) CreateParrot(i);
		    }
		    else if(ZooWorkerIDx[i] > 0 && ZooWorkerTimer[i] > 0)
		    {
		        ZooWorkerTimer[i]--;
		        if(ZooWorkerTimer[i] == 0)
		        {
					new idx = ZooWorkerIDx[i];
					ZooWorkerInfo[idx][zwStatus] = 0;
					SendMes(i, COLOR_MAIN, "Вы не успели прогнать попугая. Ожидайте нового вызова.");
					DestroyParrot(i);
					ZooWorkerIDx[i] = -1;
					ZooWorkerTimer[i] = 15 + random(15);
					DisablePlayerCheckpoint(i);
				}
			}
		}
		if(VolunteerStatus[i] == true)
		{
		    if(VolunteerIDx[i] == -1 && VolunteerTimer[i] > 0)
		    {
		        VolunteerTimer[i]--;
		        if(VolunteerTimer[i] == 0) CreateMan(i);
		    }
		    else if(VolunteerIDx[i] > 0 && VolunteerTimer[i] > 0)
		    {
		        VolunteerTimer[i]--;
		        if(VolunteerTimer[i] == 0)
		        {
					new idx = VolunteerIDx[i];
					VolunteerInfo[idx][volStatus] = 0;
					SendMes(i, COLOR_MAIN, "Вы не успели подсказать путь. Ожидайте нового вызова.");
					DestroyMan(i);
					VolunteerIDx[i] = -1;
					VolunteerTimer[i] = 15 + random(15);
					DisablePlayerCheckpoint(i);
				}
			}
		}
		if(IsAGang(i) && GetPlayerState(i) == PLAYER_STATE_ONFOOT && GetPlayerWeapon(i) == 41)
		{
			for(new x = 1; x < TOTALGRAFFITI + 1; x++)
			{
				if(IsPlayerInRangeOfPoint(i, 5.0, GRAFFITIInfo[x][gX], GRAFFITIInfo[x][gY], GRAFFITIInfo[x][gZ]))
				{
					new fGun, fAmmo;
					GetPlayerWeaponData(i, 9, fGun, fAmmo);
					if(GraffitiIDx[i] != x)
					{
						GraffitiIDx[i] = x;
						GraffitiExtingCount[i] = 0;
						GraffitiAmmo[i] = fAmmo;
					}
					if(fAmmo < GraffitiAmmo[i])
					{
						GraffitiExtingCount[i]++;
				    	GraffitiAmmo[i] = fAmmo;
					}
					if(GraffitiExtingCount[i] == 5)
					{
					    if(GRAFFITIInfo[x][gMember] == PlayerInfo[i][pMember]) return SendMes(i, COLOR_DARKORANGE, "Ты перепутал граффити, это уже принадлежит твоим братьям!");
					    if(GRAFFITIInfo[x][gTime] > gettime()) return SendMes(i, COLOR_DARKORANGE, "Краска совсем свежая, перекрасить пока не удастся.");
					   	new member = GRAFFITIInfo[x][gMember], member_idx = PlayerInfo[i][pMember];
						FracGraffiti[member]--;
						UpdateWarehouse(member);
					    GRAFFITIInfo[x][gMember] = member_idx;
					    SetGraffitiInt(GRAFFITIInfo[x][id], "member", GRAFFITIInfo[x][gMember]);
					    GRAFFITIInfo[x][gTime] = gettime() + 900;
						FracGraffiti[member_idx]++;
						UpdateWarehouse(member_idx);
						SendFMes(member, COLOR_NEWLBLUE, "[F] Люди сообщают, что одно из ваших граффити перекрасили конкуренты!");
						format(strings, sizeof(strings), "[F] %s закрасил(-а) граффити, люди вынуждены уважать Вас.", PlayerInfo[i][pName]);
						SendFMes(member_idx, COLOR_NEWLBLUE, strings);
					    SendMes(i, COLOR_MAIN, "Ты заработал(-а) уважение для себя и своей банды! Теперь Вы владеете {"#DC_WHITE"}%d{"#DC_MAIN"} граффити.", FracGraffiti[member_idx]);
					    new money = RandomEx(125, 250);
					    SendMes(i, COLOR_MAIN, "В награду ты получаешь {"#DC_WHITE"}$%d.", money);
					    ServerMoney(i, "Закрасил граффити", money, 0);
					    CheckQuest(i, 45);
						CheckTask(i, 62);
						CheckAchievement(i, 42);
						PlayerInfo[i][pData][22]++;
					    if(IsValidDynamicObject(GRAFFITI[x])) DestroyDynamicObject(GRAFFITI[x]);
					    GRAFFITI[x] = CreateDynamicObject(GraffitiObject[GRAFFITIInfo[x][gMember]-11], GRAFFITIInfo[x][gX], GRAFFITIInfo[x][gY], GRAFFITIInfo[x][gZ], GRAFFITIInfo[x][grX], GRAFFITIInfo[x][grY], GRAFFITIInfo[x][grZ], -1, -1, -1, 120.00, 120.00);
						GraffitiIDx[i] = x;
						GraffitiExtingCount[i] = 0;
						GraffitiAmmo[i] = 0;
						break;
					}
				}
			}
		}
		if(IsABiker(i) && GetPlayerState(i) == PLAYER_STATE_ONFOOT && RobberyFuelingIDx[i] != 0 && GetPVarInt(i, "AFK_Time") < 3)
		{
		    new idx = RobberyFuelingIDx[i];
			if(IsPlayerInRangeOfPoint(i, 10.0, BizInfo[idx][bEnterX], BizInfo[idx][bEnterY], BizInfo[idx][bEnterZ]))
			{
			    if(RobberyFuelingLiters[i] < 200)
			    {
			        RobberyFuelingLiters[i]++;
					format(strings, sizeof(strings), "~b~%d / 200~n~~y~LITERS", RobberyFuelingLiters[i]);
					GameTextForPlayer(i, strings, 2000, 6);
			    }
			    else
			    {
			        RobberyFuelingIDx[i] = 0;
			        RobberyFuelingTime[i] = 0;
			        SendMes(i, COLOR_MAIN, "Канистра наполнена, теперь отвези её на сбыт.");
			        SendMes(i, COLOR_MAIN, "Сбыть топливо вы можете на бензозаводе. ( {"#DC_WHITE"}/gps - Работы - Бензозавод{"#DC_MAIN"} )");
			    }
			}
		}
		if(IsAMafia(i) && GetPlayerState(i) == PLAYER_STATE_ONFOOT && RobberyBankIDx[i] != 0 && GetPVarInt(i, "AFK_Time") < 3)
		{
		    new idx = RobberyBankIDx[i];
			if(IsPlayerInRangeOfPoint(i, 10.0, -1315.6930,-2883.0164,1059.0117) && GetPlayerVirtualWorld(i) == idx)
			{
			    if(RobberyBankMoney[i] < 20000)
			    {
			        RobberyBankMoney[i] += RandomEx(50, 75);
					format(strings, sizeof(strings), "~b~%d / 25000~n~~y~MONEY", RobberyBankMoney[i]);
					GameTextForPlayer(i, strings, 2000, 6);
					if(RobberyBankMoney[i] > 20000) RobberyBankMoney[i] = 20000;
			    }
			    else
			    {
			        RobberyBankIDx[i] = 0;
			        RobberyBankTime[i] = 0;
			        SendMes(i, COLOR_MAIN, "Больше баксов унести не получится. Теперь нужно как можно быстрее отнести это всё в особняк.");
			    }
			}
		}
		if(IsAArmy(i) && ArmySecurityShip[i] && IsAPPos(i, 150.0, 2139.5618,-78.5485,2.9705))
		{
		    PlayerInfo[i][pPayCheck]++;
		}
		if(CellTime[i] > -1)
		{
			CellTime[i]++;
			if(Mobile[Mobile[i]] == -1 && CellTime[i] == 5)
			{
				CellTime[i] = 0;
				format(strings, sizeof(strings), "У %s звонит мобильный телефон.", PlayerInfo[Mobile[i]][pName]);
				SRM(Mobile[i], 10.0, COLOR_LPURPLE, strings);
			}
		}
	}
	return 1;
}
//==============================================================================
